/*! For license information please see feedTheMonster.js.LICENSE.txt */
(()=>{"use strict";var t={"./node_modules/@firebase/util/dist/index.esm2017.js":(t,e,i)=>{i.r(e),i.d(e,{CONSTANTS:()=>s,DecodeBase64StringError:()=>h,Deferred:()=>w,ErrorFactory:()=>O,FirebaseError:()=>M,MAX_VALUE_MILLIS:()=>vt,RANDOM_FACTOR:()=>bt,Sha1:()=>it,areCookiesEnabled:()=>z,assert:()=>n,assertionError:()=>a,async:()=>at,base64:()=>r,base64Decode:()=>d,base64Encode:()=>l,base64urlEncodeWithoutPadding:()=>c,calculateBackoffMillis:()=>St,contains:()=>X,createMockUserToken:()=>E,createSubscribe:()=>st,decode:()=>G,deepCopy:()=>u,deepEqual:()=>q,deepExtend:()=>m,errorPrefix:()=>ht,extractQuerystring:()=>et,getDefaultAppConfig:()=>b,getDefaultEmulatorHost:()=>f,getDefaultEmulatorHostnameAndPort:()=>v,getDefaults:()=>p,getExperimentalSetting:()=>S,getGlobal:()=>g,getModularInstance:()=>Et,getUA:()=>I,isAdmin:()=>Y,isBrowser:()=>T,isBrowserExtension:()=>A,isElectron:()=>L,isEmpty:()=>$,isIE:()=>P,isIndexedDBAvailable:()=>k,isMobileCordova:()=>_,isNode:()=>y,isNodeSdk:()=>D,isReactNative:()=>x,isSafari:()=>B,isUWP:()=>C,isValidFormat:()=>H,isValidTimestamp:()=>j,issuedAtTime:()=>V,jsonEval:()=>R,map:()=>K,ordinal:()=>wt,promiseWithTimeout:()=>Z,querystring:()=>Q,querystringDecode:()=>tt,safeGet:()=>W,stringLength:()=>mt,stringToByteArray:()=>ut,stringify:()=>F,uuidv4:()=>gt,validateArgCount:()=>rt,validateCallback:()=>ct,validateContextObject:()=>dt,validateIndexedDBOpenable:()=>N,validateNamespace:()=>lt});const s={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},n=function(t,e){if(!t)throw a(e)},a=function(t){return new Error("Firebase Database ("+s.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},o=function(t){const e=[];let i=0;for(let s=0;s<t.length;s++){let n=t.charCodeAt(s);n<128?e[i++]=n:n<2048?(e[i++]=n>>6|192,e[i++]=63&n|128):55296==(64512&n)&&s+1<t.length&&56320==(64512&t.charCodeAt(s+1))?(n=65536+((1023&n)<<10)+(1023&t.charCodeAt(++s)),e[i++]=n>>18|240,e[i++]=n>>12&63|128,e[i++]=n>>6&63|128,e[i++]=63&n|128):(e[i++]=n>>12|224,e[i++]=n>>6&63|128,e[i++]=63&n|128)}return e},r={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let e=0;e<t.length;e+=3){const n=t[e],a=e+1<t.length,o=a?t[e+1]:0,r=e+2<t.length,h=r?t[e+2]:0,l=n>>2,c=(3&n)<<4|o>>4;let d=(15&o)<<2|h>>6,u=63&h;r||(u=64,a||(d=64)),s.push(i[l],i[c],i[d],i[u])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(o(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let i=0,s=0;for(;i<t.length;){const n=t[i++];if(n<128)e[s++]=String.fromCharCode(n);else if(n>191&&n<224){const a=t[i++];e[s++]=String.fromCharCode((31&n)<<6|63&a)}else if(n>239&&n<365){const a=((7&n)<<18|(63&t[i++])<<12|(63&t[i++])<<6|63&t[i++])-65536;e[s++]=String.fromCharCode(55296+(a>>10)),e[s++]=String.fromCharCode(56320+(1023&a))}else{const a=t[i++],o=t[i++];e[s++]=String.fromCharCode((15&n)<<12|(63&a)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let e=0;e<t.length;){const n=i[t.charAt(e++)],a=e<t.length?i[t.charAt(e)]:0;++e;const o=e<t.length?i[t.charAt(e)]:64;++e;const r=e<t.length?i[t.charAt(e)]:64;if(++e,null==n||null==a||null==o||null==r)throw new h;const l=n<<2|a>>4;if(s.push(l),64!==o){const t=a<<4&240|o>>2;if(s.push(t),64!==r){const t=o<<6&192|r;s.push(t)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class h extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const l=function(t){const e=o(t);return r.encodeByteArray(e,!0)},c=function(t){return l(t).replace(/\./g,"")},d=function(t){try{return r.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function u(t){return m(void 0,t)}function m(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(const i in e)e.hasOwnProperty(i)&&"__proto__"!==i&&(t[i]=m(t[i],e[i]));return t}function g(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==i.g)return i.g;throw new Error("Unable to locate global object.")}const p=()=>{try{return g().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if("undefined"==typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(t){return}const e=t&&d(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},f=t=>{var e,i;return null===(i=null===(e=p())||void 0===e?void 0:e.emulatorHosts)||void 0===i?void 0:i[t]},v=t=>{const e=f(t);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return"["===e[0]?[e.substring(1,i-1),s]:[e.substring(0,i),s]},b=()=>{var t;return null===(t=p())||void 0===t?void 0:t.config},S=t=>{var e;return null===(e=p())||void 0===e?void 0:e[`_${t}`]};class w{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),"function"==typeof t&&(this.promise.catch((()=>{})),1===t.length?t(e):t(e,i))}}}function E(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i=e||"demo-project",s=t.iat||0,n=t.sub||t.user_id;if(!n)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:n,user_id:n,firebase:{sign_in_provider:"custom",identities:{}}},t);return[c(JSON.stringify({alg:"none",type:"JWT"})),c(JSON.stringify(a)),""].join(".")}function I(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function _(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(I())}function y(){var t;const e=null===(t=p())||void 0===t?void 0:t.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(i.g.process)}catch(t){return!1}}function T(){return"object"==typeof self&&self.self===self}function A(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function x(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function L(){return I().indexOf("Electron/")>=0}function P(){const t=I();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function C(){return I().indexOf("MSAppHost/")>=0}function D(){return!0===s.NODE_CLIENT||!0===s.NODE_ADMIN}function B(){return!y()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function k(){try{return"object"==typeof indexedDB}catch(t){return!1}}function N(){return new Promise(((t,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",n=self.indexedDB.open(s);n.onsuccess=()=>{n.result.close(),i||self.indexedDB.deleteDatabase(s),t(!0)},n.onupgradeneeded=()=>{i=!1},n.onerror=()=>{var t;e((null===(t=n.error)||void 0===t?void 0:t.message)||"")}}catch(t){e(t)}}))}function z(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class M extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,M.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,O.prototype.create)}}class O{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},s=`${this.service}/${t}`,n=this.errors[t],a=n?function(t,e){return t.replace(U,((t,i)=>{const s=e[i];return null!=s?String(s):`<${i}?>`}))}(n,i):"Error",o=`${this.serviceName}: ${a} (${s}).`;return new M(s,o,i)}}const U=/\{\$([^}]+)}/g;function R(t){return JSON.parse(t)}function F(t){return JSON.stringify(t)}const G=function(t){let e={},i={},s={},n="";try{const a=t.split(".");e=R(d(a[0])||""),i=R(d(a[1])||""),n=a[2],s=i.d||{},delete i.d}catch(t){}return{header:e,claims:i,data:s,signature:n}},j=function(t){const e=G(t).claims,i=Math.floor((new Date).getTime()/1e3);let s=0,n=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?s=e.nbf:e.hasOwnProperty("iat")&&(s=e.iat),n=e.hasOwnProperty("exp")?e.exp:s+86400),!!i&&!!s&&!!n&&i>=s&&i<=n},V=function(t){const e=G(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},H=function(t){const e=G(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},Y=function(t){const e=G(t).claims;return"object"==typeof e&&!0===e.admin};function X(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function W(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function $(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function K(t,e,i){const s={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=e.call(i,t[n],n,t));return s}function q(t,e){if(t===e)return!0;const i=Object.keys(t),s=Object.keys(e);for(const n of i){if(!s.includes(n))return!1;const i=t[n],a=e[n];if(J(i)&&J(a)){if(!q(i,a))return!1}else if(i!==a)return!1}for(const t of s)if(!i.includes(t))return!1;return!0}function J(t){return null!==t&&"object"==typeof t}function Z(t,e=2e3){const i=new w;return setTimeout((()=>i.reject("timeout!")),e),t.then(i.resolve,i.reject),i.promise}function Q(t){const e=[];for(const[i,s]of Object.entries(t))Array.isArray(s)?s.forEach((t=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(t))})):e.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function tt(t){const e={};return t.replace(/^\?/,"").split("&").forEach((t=>{if(t){const[i,s]=t.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}})),e}function et(t){const e=t.indexOf("?");if(!e)return"";const i=t.indexOf("#",e);return t.substring(e,i>0?i:void 0)}class it{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,e){e||(e=0);const i=this.W_;if("string"==typeof t)for(let s=0;s<16;s++)i[s]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(let s=0;s<16;s++)i[s]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(let t=16;t<80;t++){const e=i[t-3]^i[t-8]^i[t-14]^i[t-16];i[t]=4294967295&(e<<1|e>>>31)}let s,n,a=this.chain_[0],o=this.chain_[1],r=this.chain_[2],h=this.chain_[3],l=this.chain_[4];for(let t=0;t<80;t++){t<40?t<20?(s=h^o&(r^h),n=1518500249):(s=o^r^h,n=1859775393):t<60?(s=o&r|h&(o|r),n=2400959708):(s=o^r^h,n=3395469782);const e=(a<<5|a>>>27)+s+l+n+i[t]&4294967295;l=h,h=r,r=4294967295&(o<<30|o>>>2),o=a,a=e}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+r&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(t,e){if(null==t)return;void 0===e&&(e=t.length);const i=e-this.blockSize;let s=0;const n=this.buf_;let a=this.inbuf_;for(;s<e;){if(0===a)for(;s<=i;)this.compress_(t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(n[a]=t.charCodeAt(s),++a,++s,a===this.blockSize){this.compress_(n),a=0;break}}else for(;s<e;)if(n[a]=t[s],++a,++s,a===this.blockSize){this.compress_(n),a=0;break}}this.inbuf_=a,this.total_+=e}digest(){const t=[];let e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let t=this.blockSize-1;t>=56;t--)this.buf_[t]=255&e,e/=256;this.compress_(this.buf_);let i=0;for(let e=0;e<5;e++)for(let s=24;s>=0;s-=8)t[i]=this.chain_[e]>>s&255,++i;return t}}function st(t,e){const i=new nt(t,e);return i.subscribe.bind(i)}class nt{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((()=>{t(this)})).catch((t=>{this.error(t)}))}next(t){this.forEachObserver((e=>{e.next(t)}))}error(t){this.forEachObserver((e=>{e.error(t)})),this.close(t)}complete(){this.forEachObserver((t=>{t.complete()})),this.close()}subscribe(t,e,i){let s;if(void 0===t&&void 0===e&&void 0===i)throw new Error("Missing Observer.");s=function(t,e){if("object"!=typeof t||null===t)return!1;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:i},void 0===s.next&&(s.next=ot),void 0===s.error&&(s.error=ot),void 0===s.complete&&(s.complete=ot);const n=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch(t){}})),this.observers.push(s),n}unsubscribeOne(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function at(t,e){return(...i)=>{Promise.resolve(!0).then((()=>{t(...i)})).catch((t=>{e&&e(t)}))}}function ot(){}const rt=function(t,e,i,s){let n;if(s<e?n="at least "+e:s>i&&(n=0===i?"none":"no more than "+i),n){throw new Error(t+" failed: Was called with "+s+(1===s?" argument.":" arguments.")+" Expects "+n+".")}};function ht(t,e){return`${t} failed: ${e} argument `}function lt(t,e,i){if((!i||e)&&"string"!=typeof e)throw new Error(ht(t,"namespace")+"must be a valid firebase namespace.")}function ct(t,e,i,s){if((!s||i)&&"function"!=typeof i)throw new Error(ht(t,e)+"must be a valid function.")}function dt(t,e,i,s){if((!s||i)&&("object"!=typeof i||null===i))throw new Error(ht(t,e)+"must be a valid context object.")}const ut=function(t){const e=[];let i=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);if(a>=55296&&a<=56319){const e=a-55296;s++,n(s<t.length,"Surrogate pair missing trail surrogate.");a=65536+(e<<10)+(t.charCodeAt(s)-56320)}a<128?e[i++]=a:a<2048?(e[i++]=a>>6|192,e[i++]=63&a|128):a<65536?(e[i++]=a>>12|224,e[i++]=a>>6&63|128,e[i++]=63&a|128):(e[i++]=a>>18|240,e[i++]=a>>12&63|128,e[i++]=a>>6&63|128,e[i++]=63&a|128)}return e},mt=function(t){let e=0;for(let i=0;i<t.length;i++){const s=t.charCodeAt(i);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,i++):e+=3}return e},gt=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))},pt=1e3,ft=2,vt=144e5,bt=.5;function St(t,e=pt,i=ft){const s=e*Math.pow(i,t),n=Math.round(bt*s*(Math.random()-.5)*2);return Math.min(vt,s+n)}function wt(t){return Number.isFinite(t)?t+function(t){t=Math.abs(t);const e=t%100;if(e>=10&&e<=20)return"th";const i=t%10;if(1===i)return"st";if(2===i)return"nd";if(3===i)return"rd";return"th"}(t):`${t}`}function Et(t){return t&&t._delegate?t._delegate:t}},"./src/Firebase/base-firebase-integration.ts":(t,e,i)=>{i.r(e),i.d(e,{BaseFirebaseIntegration:()=>o});var s=i("./node_modules/firebase/app/dist/esm/index.esm.js"),n=i("./node_modules/firebase/analytics/dist/esm/index.esm.js"),a=i("./src/Firebase/firebase-config.ts");class o{firebaseApp;analytics;constructor(){this.initializeFirebase()}customEvents(t,e){try{(0,n.logEvent)(this.analytics,t,e)}catch(t){console.error("Error while logging custom event:",t)}}sessionEnd(){try{navigator.onLine&&void 0!==this.analytics&&(0,n.logEvent)(this.analytics,"session_end")}catch(t){console.error("Error while logging session_end event:",t)}}initializeFirebase(){try{this.firebaseApp=(0,s.initializeApp)(a.firebaseConfig),this.analytics=(0,n.getAnalytics)(this.firebaseApp)}catch(t){console.error("Error while initializing Firebase:",t)}}}},"./src/Firebase/firebase-config.ts":(t,e,i)=>{i.r(e),i.d(e,{firebaseConfig:()=>s});const s={apiKey:"AIzaSyB8c2lBVi26u7YRL9sxOP97Uaq3yN8hTl4",authDomain:"ftm-b9d99.firebaseapp.com",databaseURL:"https://ftm-b9d99.firebaseio.com",projectId:"ftm-b9d99",storageBucket:"ftm-b9d99.appspot.com",messagingSenderId:"602402387941",appId:"1:602402387941:web:a63f4eaddc949f539de10c",measurementId:"G-FVLSN7D7NM"}},"./src/Firebase/firebase-integration.ts":(t,e,i)=>{i.r(e),i.d(e,{FirebaseIntegration:()=>n});var s=i("./src/Firebase/base-firebase-integration.ts");class n extends s.BaseFirebaseIntegration{static instance;constructor(){super()}static getInstance(){return n.instance||(n.instance=new n),n.instance}sendSessionStartEvent(t){this.customEvents("session_start",t)}sendSessionEndEvent(t){this.customEvents("session_end",t)}sendSelectedLevelEvent(t){this.customEvents("selected_level",t)}sendTappedStartEvent(t){this.customEvents("tapped_start",t)}sendPuzzleCompletedEvent(t){this.customEvents("puzzle_completed",t)}sendLevelCompletedEvent(t){this.customEvents("level_completed",t)}sendUserClickedOnPlayEvent(){this.customEvents("user_clicked",{click:"Click"})}sendDownloadCompletedEvent(t){this.customEvents("download_completed",t)}}},"./src/common/event-names.ts":(t,e,i)=>{i.r(e),i.d(e,{CLICK:()=>d,LOADPUZZLE:()=>s,MOUSEDOWN:()=>o,MOUSEMOVE:()=>a,MOUSEUP:()=>r,STONEDROP:()=>n,TOUCHEND:()=>c,TOUCHMOVE:()=>l,TOUCHSTART:()=>h,VISIBILITY_CHANGE:()=>u});const s="loadpuzzle",n="stonesdropped",a="mousemove",o="mousedown",r="mouseup",h="touchstart",l="touchmove",c="touchend",d="click",u="visibilitychange"},"./src/common/global-variables.ts":(t,e,i)=>{i.r(e),i.d(e,{Debugger:()=>l,font:()=>h,lang:()=>r,pseudoId:()=>o});var s=i("./src/constants/index.ts"),n=i("./src/common/index.ts");const a=new URLSearchParams(window.location.search);var o=a.get("cr_user_id"),r=null==a.get("cr_lang")?"english":a.get("cr_lang");const h=n.Utils.getLanguageSpecificFont(r),l={DevelopmentLink:!!window.location.href.includes(s.DevelopmentServer),DebugMode:!1}},"./src/common/index.ts":(t,e,i)=>{i.r(e),i.d(e,{CLICK:()=>o.CLICK,Debugger:()=>a.Debugger,LOADPUZZLE:()=>o.LOADPUZZLE,MOUSEDOWN:()=>o.MOUSEDOWN,MOUSEMOVE:()=>o.MOUSEMOVE,MOUSEUP:()=>o.MOUSEUP,STONEDROP:()=>o.STONEDROP,StoneConfig:()=>s.StoneConfig,TOUCHEND:()=>o.TOUCHEND,TOUCHMOVE:()=>o.TOUCHMOVE,TOUCHSTART:()=>o.TOUCHSTART,Utils:()=>n.Utils,VISIBILITY_CHANGE:()=>o.VISIBILITY_CHANGE,createRippleEffect:()=>n.createRippleEffect,font:()=>a.font,hideElement:()=>n.hideElement,isClickInsideButton:()=>n.isClickInsideButton,isDocumentVisible:()=>n.isDocumentVisible,lang:()=>a.lang,loadImages:()=>n.loadImages,pseudoId:()=>a.pseudoId,syncLoadingImages:()=>n.syncLoadingImages,toggleDebugMode:()=>n.toggleDebugMode});var s=i("./src/common/stone-config.ts"),n=i("./src/common/utils.ts"),a=i("./src/common/global-variables.ts"),o=i("./src/common/event-names.ts")},"./src/common/stone-config.ts":(t,e,i)=>{i.r(e),i.d(e,{StoneConfig:()=>n});var s=i("./src/common/index.ts");class n{x;y;origx;origy;text;img;imageSize;textFontSize;canvasWidth;canvasHeight;imageCenterOffsetX;imageCenterOffsetY;context;tutorialInstance;timerTickingInstance;frame=0;constructor(t,e,i,s,n,a,o,r,h){this.x=n,this.y=a,this.origx=n,this.origy=a,this.canvasWidth=e,this.canvasHeight=i,this.tutorialInstance=h,this.text=s,this.img=o,this.context=t,this.calculateImageAndFontSize(),this.imageCenterOffsetX=this.imageSize/2.3,this.imageCenterOffsetY=this.imageSize/1.5,this.timerTickingInstance=r}calculateImageAndFontSize(){1.4*this.context.measureText(this.text).width>this.canvasHeight/9.5?(this.imageSize=1.1*this.context.measureText(this.text).width,this.textFontSize=this.canvasHeight/25,this.text.length>=3&&this.origx<50&&this.origx<this.canvasWidth/2&&(this.x=this.origx+21)):(this.imageSize=this.canvasHeight/9.5,this.textFontSize=this.canvasHeight/20)}getEase=(t,e,i,s)=>-i/2*(Math.cos(Math.PI*t/s)-1)+e;getX=()=>this.frame>=100?this.x:this.getEase(this.frame,0,this.x,100);getY=()=>this.frame>=100?this.y:this.getEase(this.frame,0,this.y,100);adjustSize(t,e){return t?1.25*e:e}draw(t,e=!1){const i=this.getX()-this.adjustSize(e,this.imageCenterOffsetX),n=this.getY()-this.adjustSize(e,this.imageCenterOffsetY);this.context.fillStyle="red",this.context.shadowColor="rgba(255, 255, 255, 1)",this.context.shadowBlur=12,this.context.shadowOffsetX=0,this.context.shadowOffsetY=0,this.context.drawImage(this.img,i,n,this.adjustSize(e,this.imageSize),this.adjustSize(e,this.imageSize)),this.context.fillStyle="white",this.context.font=this.textFontSize+`px ${s.font}, monospace`,this.context.textAlign="center",this.context.shadowOffsetX=0,this.context.shadowOffsetY=0,this.context.shadowBlur=0,this.context.shadowColor="transparent ",this.context.fillText(this.text,this.getX(),this.getY()),this.frame<100?this.frame=this.frame+1:null==this.tutorialInstance&&null==this.tutorialInstance||this.tutorialInstance.draw(t,this.img,this.imageSize)}}},"./src/common/utils.ts":(t,e,i)=>{i.r(e),i.d(e,{Utils:()=>a,createRippleEffect:()=>o,hideElement:()=>u,isClickInsideButton:()=>l,isDocumentVisible:()=>c,loadImages:()=>r,syncLoadingImages:()=>h,toggleDebugMode:()=>d});var s=i("./src/common/index.ts"),n=i("./src/data/i18-font-mapping.ts");class a{static UrlSubstring="/feedthemonster";static getConvertedDevProdURL(t){return s.Debugger.DevelopmentLink?t.slice(0,t.indexOf(this.UrlSubstring)+this.UrlSubstring.length)+"dev"+t.slice(t.indexOf(this.UrlSubstring)+this.UrlSubstring.length):t}static getLanguageSpecificFont(t){const e=t.toLowerCase();for(const t in n.languageFontMapping)if(t.toLowerCase()===e)return n.languageFontMapping[t];return console.log(`Font not found for language: ${t}`),"NotoSans-Regular"}static getRandomNumber(t,e){return Math.floor(Math.random()*(e-t+1))+t}static getExcludedCoordinates(t,e){return{excludeX:t.width*(e/100),excludeY:t.height*(e/100)}}}function o(t){const e=t;if(!e)throw new Error("Canvas context is null");let i=0,s=0;let n=10,a=10;return function(t,o,r){r&&(n=0,a=0),i=t,s=o,e.beginPath(),e.arc(i,s,n,0,2*Math.PI),e.strokeStyle="white",e.lineWidth=2,e.stroke(),e.closePath(),e.beginPath(),e.arc(i,s,a,0,2*Math.PI),e.strokeStyle="white",e.lineWidth=2,e.stroke(),e.closePath(),n+=.5,a+=.5,(n>=60||a>=60)&&(n=10,a=10)}}function r(t,e){const i={};let s=0;const n=Object.keys(t).length;for(let a in t)i[a]=new Image,i[a].onload=function(){++s>=n&&e(i)},i[a].src=t[a]}const h=async t=>{const e=Object.keys(t).map((async e=>{const i=await(async t=>{const e=new Image;return new Promise((i=>{e.onload=()=>i(e),e.src=t}))})(t[e]);return{[e]:i}}));return(await Promise.all(e)).reduce(((t,e)=>({...t,...e})),{})};function l(t,e,i,s,n,a,o=!1){if(o){return Math.sqrt((t-(i+n/2))**2+(e-(s+a/2))**2)<n/2}return t>=i&&t<=i+n&&e>=s&&e<=s+a}const c=()=>"visible"===document.visibilityState,d=t=>{t.classList.toggle("on");const e=t.classList.contains("on");s.Debugger.DebugMode=e,t.innerText="Dev"},u=(t=!1,e)=>{t?e.classList.remove("show"):e.classList.add("show")}},"./src/components/audio-player.ts":(t,e,i)=>{i.r(e),i.d(e,{AudioPlayer:()=>n});var s=i("./src/constants/index.ts");class n{audioContext;sourceNode;audioQueue;promptAudioBuffer;clickSoundBuffer;static audioBuffers=new Map;audioSourcs=[];isClickSoundLoaded;constructor(){this.audioContext=a.getAudioContext(),this.sourceNode=null,this.audioQueue=[],this.clickSoundBuffer=null,this.isClickSoundLoaded=!1}async playButtonClickSound(){const t=s.AUDIO_PATH_BTN_CLICK;if(!this.isClickSoundLoaded)try{this.clickSoundBuffer=await this.loadAndDecodeAudio(t),n.audioBuffers.set(t,this.clickSoundBuffer),this.isClickSoundLoaded=!0}catch(t){return void console.error("Error loading or decoding click sound:",t)}if(this.clickSoundBuffer){const t=this.audioContext.createBufferSource();t.buffer=this.clickSoundBuffer,t.connect(this.audioContext.destination),t.start()}else console.error("Click sound buffer is not available.")}async loadAndDecodeAudio(t){return new Promise((async(e,i)=>{try{const i=await fetch(t),s=await i.arrayBuffer();e(await this.audioContext.decodeAudioData(s))}catch(t){console.error("Error loading or decoding audio:",t),i(t)}}))}async preloadPromptAudio(t){const e=await this.loadAndDecodeAudio(t);e&&(this.promptAudioBuffer=e)}async preloadGameAudio(t){if(n.audioBuffers.has(t))return;const e=await this.loadAndDecodeAudio(t);e&&n.audioBuffers.set(t,e)}playAudio(t){const e=n.audioBuffers.get(t);if(e){const t=this.audioContext.createBufferSource();t.buffer=e,t.connect(this.audioContext.destination),this.audioSourcs.push(t),t.start()}}playFeedbackAudios=(t=!1,...e)=>{e.length>0&&(this.audioQueue=e,this.playFetch(0,t))};playPromptAudio=t=>{if(this.promptAudioBuffer){const t=this.audioContext.createBufferSource();t.buffer=this.promptAudioBuffer,t.connect(this.audioContext.destination),this.audioSourcs.push(t),t.start()}};stopFeedbackAudio=()=>{this.sourceNode&&(this.sourceNode.stop(),this.sourceNode=null),this.audioQueue=[]};stopAllAudios=()=>{this.sourceNode&&(this.sourceNode.stop(),this.sourceNode=null),this.audioQueue=[],this.audioSourcs.forEach((t=>{t.stop()})),this.audioSourcs=[]};playFetch=(t,e)=>{t>=this.audioQueue.length?this.stopFeedbackAudio():this.audioQueue[t]&&fetch(this.audioQueue[t]).then((t=>t.arrayBuffer())).then((i=>{this.audioContext?.decodeAudioData(i,(i=>{this.sourceNode=this.audioContext?.createBufferSource(),this.sourceNode.buffer=i,this.sourceNode.connect(this.audioContext?.destination),this.sourceNode.loop=e,this.sourceNode.onended=()=>this.handleAudioEnded(t,e),this.sourceNode.start()}))}))};handleAudioEnded=(t,e)=>{this.sourceNode&&(this.sourceNode.onended=null,this.sourceNode.stop(),this.sourceNode.disconnect(),this.sourceNode=null),this.playFetch(t+1,e)}}class a{static instance=null;static getAudioContext(){return a.instance||(a.instance=new(window.AudioContext||window.webkitAudioContext)),a.instance}}},"./src/components/background.ts":(t,e,i)=>{i.r(e),i.d(e,{Background:()=>o});var s=i("./src/common/index.ts"),n=i("./src/constants/index.ts"),a={bgImg:n.DEFAULT_BACKGROUND_1,hillImg:n.ASSETS_PATH_HILL,pillerImg:n.ASSETS_PATH_TOTEM,fenchImg:n.ASSETS_PATH_FENCE,autumnBgImg:n.AUTUMN_BACKGROUND_1,autumnHillImg:n.AUTUMN_HILL_1,autumnPillerImg:n.AUTUMN_PILLAR_1,autumnSignImg:n.AUTUMN_SIGN_1,autumnFenceImg:n.AUTUMN_FENCE_1,winterBgImg:n.WINTER_BACKGROUND_1,winterHillImg:n.WINTER_HILL_1,winterSignImg:n.WINTER_SIGN_1,winterFenceImg:n.WINTER_FENCE_1,winterPillerImg:n.WINTER_PILLAR_1};class o{width;height;context;imagesLoaded=!1;loadedImages;levelNumber;availableBackgroundTypes=["Summer","Autumn","Winter"];backgroundType;constructor(t,e,i,n){this.width=e,this.height=i,this.context=t,this.levelNumber=n,this.backgroundType=Math.floor(this.levelNumber/10)%this.availableBackgroundTypes.length,this.levelNumber>=30&&(this.backgroundType=this.backgroundType%3),(0,s.loadImages)(a,(t=>{this.loadedImages=Object.assign({},t),this.imagesLoaded=!0}))}draw(){if(this.imagesLoaded)switch(this.availableBackgroundTypes[this.backgroundType]){case"Winter":this.context.drawImage(this.loadedImages.winterBgImg,0,0,this.width,this.height),this.context.drawImage(this.loadedImages.winterPillerImg,.38*this.width,this.height/6,this.width/1.2,this.height/2),this.context.drawImage(this.loadedImages.winterFenceImg,.4*-this.width,this.height/4,this.width,this.height/2),this.context.drawImage(this.loadedImages.winterHillImg,.25*-this.width,this.height/2,1.5*this.width,this.height/2);break;case"Autumn":this.context.drawImage(this.loadedImages.autumnBgImg,0,0,this.width,this.height),this.context.drawImage(this.loadedImages.autumnPillerImg,.38*this.width,this.height/6,this.width/1.2,this.height/2),this.context.drawImage(this.loadedImages.autumnFenceImg,.4*-this.width,this.height/4,this.width,this.height/2),this.context.drawImage(this.loadedImages.autumnHillImg,.25*-this.width,this.height/2,1.5*this.width,this.height/2);break;default:this.context.drawImage(this.loadedImages.bgImg,0,0,this.width,this.height),this.context.drawImage(this.loadedImages.pillerImg,.6*this.width,this.height/6,this.width,this.height/2),this.context.drawImage(this.loadedImages.fenchImg,.4*-this.width,this.height/3,this.width,this.height/3),this.context.drawImage(this.loadedImages.hillImg,.25*-this.width,this.height/2,1.5*this.width,this.height/2)}}}},"./src/components/buttons/cancel-button.ts":(t,e,i)=>{i.r(e),i.d(e,{default:()=>a});var s=i("./src/common/index.ts"),n=i("./src/constants/index.ts");class a{posX;posY;context;canvas;imagesLoaded=!1;cancel_button_image;btnSizeAnimation;btnOriginalSize;orignalPos;constructor(t,e){this.posX=.1*e.width+.15*e.width/2,this.posY=.2*e.height,this.context=t,this.canvas=e,(0,s.loadImages)({cancel_button_image:n.CANCEL_BTN_IMG},(t=>{this.cancel_button_image=t.cancel_button_image,this.imagesLoaded=!0})),this.btnSizeAnimation=.15,this.btnOriginalSize=this.btnSizeAnimation,this.orignalPos={x:this.posX,y:this.posY}}draw(){this.imagesLoaded&&(this.context.drawImage(this.cancel_button_image,this.posX,this.posY,this.canvas.width*this.btnSizeAnimation,this.canvas.width*this.btnSizeAnimation),this.btnSizeAnimation<.15?this.btnSizeAnimation=this.btnSizeAnimation+5e-4:(this.posX=this.orignalPos.x,this.posY=this.orignalPos.y))}onClick(t,e){const i=(0,s.isClickInsideButton)(t,e,this.posX,this.posY,this.canvas.width*this.btnOriginalSize,this.canvas.width*this.btnOriginalSize,!0);return i&&(this.btnSizeAnimation=.14,this.posX=this.posX+1,this.posY=this.posY+1),i}}},"./src/components/buttons/close-button.ts":(t,e,i)=>{i.r(e),i.d(e,{default:()=>a});var s=i("./src/common/index.ts"),n=i("./src/constants/index.ts");class a{posX;posY;context;canvas;imagesLoaded=!1;close_button_image;btnSizeAnimation;btnOriginalSize;orignalPos;constructor(t,e,i,a){this.posX=i,this.posY=a,this.context=t,this.canvas=e,(0,s.loadImages)({close_button_image:n.MAP_BTN_IMG},(t=>{this.close_button_image=t.close_button_image,this.imagesLoaded=!0})),this.btnSizeAnimation=.19,this.btnOriginalSize=this.btnSizeAnimation,this.orignalPos={x:i,y:a}}draw(){this.imagesLoaded&&(this.context.drawImage(this.close_button_image,this.posX,this.posY,this.canvas.width*this.btnSizeAnimation,this.canvas.width*this.btnSizeAnimation),this.btnSizeAnimation<.19?this.btnSizeAnimation=this.btnSizeAnimation+5e-4:(this.posX=this.orignalPos.x,this.posY=this.orignalPos.y))}onClick(t,e){const i=(0,s.isClickInsideButton)(t,e,this.posX,this.posY,this.canvas.width*this.btnOriginalSize,this.canvas.width*this.btnOriginalSize,!0);return i&&(this.btnSizeAnimation=.18,this.posX=this.posX+1,this.posY=this.posY+1),i}}},"./src/components/buttons/index.ts":(t,e,i)=>{i.r(e),i.d(e,{CancelButton:()=>n.default,CloseButton:()=>s.default,LevelBloonButton:()=>d.default,NextButton:()=>a.default,NoButton:()=>o.default,PauseButton:()=>r.default,PlayButton:()=>c.default,RetryButton:()=>h.default,YesButton:()=>l.default});var s=i("./src/components/buttons/close-button.ts"),n=i("./src/components/buttons/cancel-button.ts"),a=i("./src/components/buttons/next-button.ts"),o=i("./src/components/buttons/no-button.ts"),r=i("./src/components/buttons/pause-button.ts"),h=i("./src/components/buttons/retry-button.ts"),l=i("./src/components/buttons/yes-button.ts"),c=i("./src/components/buttons/play-button.ts"),d=i("./src/components/buttons/level-button.ts")},"./src/components/buttons/level-button.ts":(t,e,i)=>{i.r(e),i.d(e,{default:()=>a});var s=i("./src/common/index.ts"),n=i("./src/constants/index.ts");class a{context;levelData;posX;posY;originalPosX;originalPosY;size;radiusOffSet;bloonSize;btnSize;lockSize;textFontSize;constructor(t,e,i){this.context=e,this.levelData=i,this.posX=this.levelData.x,this.posY=this.levelData.y,this.originalPosX=this.posX,this.originalPosY=this.posY,this.size=t.height/5,this.radiusOffSet=t.height/20,this.bloonSize=this.isLevelSpecial(this.size),this.btnSize=this.bloonSize,this.lockSize=t.height/13,this.textFontSize=this.size/6}isSpecialLevel(t){return n.SPECIAL_LEVELS.includes(t)}isLevelSpecial(t){return this.levelData?.isSpecial?.9*t:t}draw(t,e,i,n){this.context.drawImage(this.levelData?.balloonImg,this.posX,this.posY,this.btnSize,this.btnSize),this.context.fillStyle="white",this.context.font=this.textFontSize+`px ${s.font}, monospace`,this.context.textAlign="center",this.context.fillText(`${this.levelData.index+t}`,this.levelData.x+this.size/3.5,this.levelData.y+this.size/3),this.context.font=this.textFontSize-this.size/30+`px ${s.font}, monospace`,this.btnSize<this.bloonSize?this.btnSize=this.btnSize+.5:(this.btnSize=this.bloonSize,this.posX=this.levelData.x,this.posY=this.levelData.y),this.drawIcons(t,e,i,n)}applyPulseEffect(){const t=.7,e=Date.now()%1500/1500,i=e<=t,s=i?e/t:(e-t)/(i?t:.30000000000000004),n=i?15*s:15+45*s,a=i?.5*(1-s):0;if(a<=0)return;const{x:o,y:r,radius:h}=this.levelData?.isSpecial?{x:3,y:2.5,radius:2.2}:{x:3.4,y:3.8,radius:3.2},l=this.posX+this.btnSize/o,c=this.posY+this.btnSize/r,d=this.btnSize/h+n;this.context.save(),this.context.beginPath(),this.context.arc(l,c,d,0,2*Math.PI),this.context.fillStyle=`rgba(255, 255, 255, ${a})`,this.context.fill(),this.context.restore()}drawIcons(t,e,i,n){const a=this.levelData.index;if(s.Debugger.DebugMode||a+t-1>e+1&&this.drawLock(),i.length&&a+t<=n)for(let e=0;e<i.length;e++)if(a-1+t===parseInt(i[e].levelNumber)){this.checkStars(i[e].starCount);break}}drawLock(){this.context.drawImage(this.levelData?.lockImg,this.levelData.x,this.levelData.y,this.lockSize,this.lockSize)}checkStars(t){const e=this.levelData.x,i=this.levelData.y,s=this.size;t>=1&&this.drawStar(e,i-.01*s),t>1&&this.drawStar(e+s/2.5,i-.01*s),3===t&&this.drawStar(e+s/5,i-.1*s)}drawStar(t,e){this.context.drawImage(this.levelData?.starImg,t,e,this.size/5,this.size/5)}onClick(t,e,i,n,a){Math.sqrt((t-this.levelData.x-this.radiusOffSet)*(t-this.levelData.x-this.radiusOffSet)+(e-this.levelData.y-this.radiusOffSet)*(e-this.levelData.y-this.radiusOffSet))<45&&(s.Debugger.DebugMode||this.levelData.index+i<=n)&&(this.btnSize=this.bloonSize-4,this.posX=this.originalPosX+.5,this.posY=this.originalPosY+1,a(this.levelData.index))}}},"./src/components/buttons/next-button.ts":(t,e,i)=>{i.r(e),i.d(e,{default:()=>a});var s=i("./src/common/index.ts"),n=i("./src/constants/index.ts");class a{posX;posY;context;width;height;imagesLoaded=!1;next_button_image;btnSizeAnimation;btnOriginalSize;orignalPos;constructor(t,e,i,a,o){this.posX=a,this.posY=o,this.context=t,this.width=e,this.height=i,(0,s.loadImages)({next_button_image:n.NEXT_BTN_IMG},(t=>{this.next_button_image=t.next_button_image,this.imagesLoaded=!0})),this.btnSizeAnimation=.19,this.btnOriginalSize=this.btnSizeAnimation,this.orignalPos={x:this.posX,y:this.posY}}draw(){this.imagesLoaded&&(this.context.drawImage(this.next_button_image,this.posX,this.posY,this.width*this.btnSizeAnimation,this.width*this.btnSizeAnimation),this.btnSizeAnimation<.19?this.btnSizeAnimation=this.btnSizeAnimation+5e-4:(this.posX=this.orignalPos.x,this.posY=this.orignalPos.y))}onClick(t,e){const i=(0,s.isClickInsideButton)(t,e,this.posX,this.posY,this.width*this.btnOriginalSize,this.width*this.btnOriginalSize,!0);return i&&(this.btnSizeAnimation=.18,this.posX=this.posX+1,this.posY=this.posY+1),i}}},"./src/components/buttons/no-button.ts":(t,e,i)=>{i.r(e),i.d(e,{default:()=>a});var s=i("./src/common/index.ts"),n=i("./src/constants/index.ts");class a{posX;posY;context;canvas;imagesLoaded=!1;no_button_image;btnSizeAnimation;btnOriginalSize;orignalPos;constructor(t,e,i,a){this.posX=i+5,this.posY=a+10,this.context=t,this.canvas=e,(0,s.loadImages)({no_button_image:n.CANCEL_BTN_IMG},(t=>{this.no_button_image=t.no_button_image,this.imagesLoaded=!0})),this.btnSizeAnimation=.18,this.btnOriginalSize=this.btnSizeAnimation,this.orignalPos={x:this.posX,y:this.posY}}draw(){this.imagesLoaded&&(this.context.drawImage(this.no_button_image,this.posX,this.posY,this.canvas.width*this.btnSizeAnimation,this.canvas.width*this.btnSizeAnimation),this.btnSizeAnimation<.18?this.btnSizeAnimation=this.btnSizeAnimation+5e-4:(this.posX=this.orignalPos.x,this.posY=this.orignalPos.y))}onClick(t,e){const i=(0,s.isClickInsideButton)(t,e,this.posX,this.posY,this.canvas.width*this.btnOriginalSize,this.canvas.width*this.btnOriginalSize,!0);return i&&(this.btnSizeAnimation=.17,this.posX=this.posX+1,this.posY=this.posY+1),i}}},"./src/components/buttons/pause-button.ts":(t,e,i)=>{i.r(e),i.d(e,{default:()=>o});var s=i("./src/common/index.ts"),n=i("./src/constants/index.ts"),a=i("./src/gameStateService/index.ts");class o{posX;posY;context;canvas;imagesLoaded=!1;pause_button_image;btnSizeAnimation;btnOriginalSize;orignalPos;constructor(t,e){this.posX=e.width-.09*e.height,this.posY=0,this.context=t,this.canvas=e,(0,s.loadImages)({pause_button_image:n.PAUSE_BTN_IMG},(t=>{this.pause_button_image=t.pause_button_image,this.imagesLoaded=!0})),this.btnSizeAnimation=.09,this.btnOriginalSize=this.btnSizeAnimation,this.orignalPos={x:this.posX,y:this.posY}}draw(){this.imagesLoaded&&(this.context.drawImage(this.pause_button_image,this.posX,this.posY,this.canvas.height*this.btnSizeAnimation,this.canvas.height*this.btnSizeAnimation),this.btnSizeAnimation<.09?this.btnSizeAnimation=this.btnSizeAnimation+25e-5:(this.posX=this.orignalPos.x,this.posY=this.orignalPos.y))}onClick(t,e){const i=(0,s.isClickInsideButton)(t,e,this.posX,this.posY,this.canvas.height*this.btnOriginalSize,this.canvas.height*this.btnOriginalSize,!0);return i&&(this.btnSizeAnimation=.085,this.posX=this.posX+.9,this.posY=this.posY+.9,a.default.publish(a.default.EVENTS.GAME_PAUSE_STATUS_EVENT,!0)),i}}},"./src/components/buttons/play-button.ts":(t,e,i)=>{i.r(e),i.d(e,{default:()=>r});var s=i("./src/constants/index.ts"),n=i("./src/Firebase/firebase-integration.ts"),a=i("./src/common/index.ts"),o=i("./src/data/index.ts");class r{posX;posY;context;canvas;images;loadedImages;imagesLoaded=!1;majVersion;minVersion;firebaseIntegration;constructor(t,e,i,o){this.posX=i,this.posY=o,this.context=t,this.canvas=e,this.firebaseIntegration=new n.FirebaseIntegration,this.init(),this.images={pause_button_image:s.PLAY_BTN_IMG},(0,a.loadImages)(this.images,(t=>{this.loadedImages=Object.assign({},t),this.imagesLoaded=!0}))}async init(){const t=await(0,o.getData)();this.majVersion=t.majversion,this.minVersion=t.minversion}draw(){this.imagesLoaded&&this.context.drawImage(this.loadedImages.pause_button_image,this.posX,this.posY,this.canvas.width/3,this.canvas.width/3)}onClick(t,e){const i=Math.sqrt((t-this.posX-this.canvas.width/6)*(t-this.posX-this.canvas.width/6)+(e-this.posY-this.canvas.width/6)*(e-this.posY-this.canvas.width/6));if(this.logTappedStartFirebaseEvent(),i<this.canvas.width/8)return!0}logTappedStartFirebaseEvent(){Date.now();const t={cr_user_id:a.pseudoId,ftm_language:a.lang,profile_number:0,version_number:document.getElementById("version-info-id").innerHTML,json_version_number:this.majVersion&&this.minVersion?this.majVersion.toString()+"."+this.minVersion.toString():""};this.firebaseIntegration.sendTappedStartEvent(t)}}},"./src/components/buttons/retry-button.ts":(t,e,i)=>{i.r(e),i.d(e,{default:()=>a});var s=i("./src/common/index.ts"),n=i("./src/constants/index.ts");class a{posX;posY;context;canvas;imagesLoaded=!1;retry_button_image;btnSizeAnimation;btnOriginalSize;orignalPos;constructor(t,e,i,a){this.posX=i,this.posY=a,this.context=t,this.canvas=e,(0,s.loadImages)({retry_button_image:n.RETRY_BTN_IMG},(t=>{this.retry_button_image=t.retry_button_image,this.imagesLoaded=!0})),this.btnSizeAnimation=.19,this.btnOriginalSize=this.btnSizeAnimation,this.orignalPos={x:i,y:a}}draw(){this.imagesLoaded&&(this.context.drawImage(this.retry_button_image,this.posX,this.posY,this.canvas.width*this.btnSizeAnimation,this.canvas.width*this.btnSizeAnimation),this.btnSizeAnimation<.19?this.btnSizeAnimation=this.btnSizeAnimation+5e-4:(this.posX=this.orignalPos.x,this.posY=this.orignalPos.y))}onClick(t,e){const i=(0,s.isClickInsideButton)(t,e,this.posX,this.posY,this.canvas.width*this.btnOriginalSize,this.canvas.width*this.btnOriginalSize,!0);return i&&(this.btnSizeAnimation=.18,this.posX=this.posX+1,this.posY=this.posY+1),i}}},"./src/components/buttons/yes-button.ts":(t,e,i)=>{i.r(e),i.d(e,{default:()=>a});var s=i("./src/common/index.ts"),n=i("./src/constants/index.ts");class a{posX;posY;context;canvas;imagesLoaded=!1;yes_button_image;btnSizeAnimation;btnOriginalSize;orignalPos;constructor(t,e,i,a){this.posX=i-5,this.posY=a,this.context=t,this.canvas=e,(0,s.loadImages)({yes_button_image:n.YES_BTN_IMG},(t=>{this.yes_button_image=t.yes_button_image,this.imagesLoaded=!0})),this.btnSizeAnimation=.205,this.btnOriginalSize=this.btnSizeAnimation,this.orignalPos={x:this.posX,y:this.posY}}draw(){this.imagesLoaded&&(this.context.drawImage(this.yes_button_image,this.posX,this.posY,this.canvas.width*this.btnSizeAnimation,this.canvas.width*this.btnSizeAnimation),this.btnSizeAnimation<.205?this.btnSizeAnimation=this.btnSizeAnimation+5e-4:(this.posX=this.orignalPos.x,this.posY=this.orignalPos.y))}onClick(t,e){const i=(0,s.isClickInsideButton)(t,e,this.posX,this.posY,this.canvas.width*this.btnOriginalSize,this.canvas.width*this.btnOriginalSize,!0);return i&&(this.btnSizeAnimation=.19,this.posX=this.posX+1,this.posY=this.posY+1),i}}},"./src/components/feedback-text/index.ts":(t,e,i)=>{i.r(e),i.d(e,{FeedbackTextEffects:()=>n});var s=i("./src/common/index.ts");class n{feedbackTextElement;hideTimeoutId;constructor(){this.feedbackTextElement=document.getElementById("feedback-text"),this.hideTimeoutId=null,this.initialize()}initialize(){this.isFeedbackElementAvailable()}isFeedbackElementAvailable(){return!!this.feedbackTextElement}wrapText(t){this.isFeedbackElementAvailable()&&(this.feedbackTextElement.textContent=t,(0,s.hideElement)(!1,this.feedbackTextElement),this.setHideTimeout())}setHideTimeout(){this.hideTimeoutId&&clearTimeout(this.hideTimeoutId),this.hideTimeoutId=window.setTimeout((()=>{(0,s.hideElement)(!0,this.feedbackTextElement),this.hideTimeoutId=null}),4e3)}}},"./src/components/index.ts":(t,e,i)=>{i.r(e),i.d(e,{AudioPlayer:()=>u.AudioPlayer,Background:()=>c.Background,FeedbackTextEffects:()=>d.FeedbackTextEffects,LevelIndicators:()=>n.LevelIndicators,Monster:()=>h.Monster,PauseButton:()=>s.default,PromptText:()=>a.PromptText,StoneHandler:()=>o.default,TimerTicking:()=>l.TimerTicking,TrailEffect:()=>m.default,Tutorial:()=>r.Tutorial});var s=i("./src/components/buttons/pause-button.ts"),n=i("./src/components/level-indicator.ts"),a=i("./src/components/prompt-text.ts"),o=i("./src/components/stone-handler.ts"),r=i("./src/components/tutorial.ts"),h=i("./src/components/monster.ts"),l=i("./src/components/timer-ticking.ts"),c=i("./src/components/background.ts"),d=i("./src/components/feedback-text/index.ts"),u=i("./src/components/audio-player.ts"),m=i("./src/components/trail-particles.ts")},"./src/components/level-indicator.ts":(t,e,i)=>{i.r(e),i.d(e,{LevelIndicators:()=>o});var s=i("./src/common/index.ts"),n=i("./src/constants/index.ts"),a=i("./src/events/index.ts");class o extends a.EventManager{context;canvas;activeIndicators;images;loadedImages;imagesLoaded=!1;constructor(t,e,i){super({stoneDropCallbackHandler:t=>this.handleStoneDrop(t),loadPuzzleCallbackHandler:t=>this.handleLoadPuzzle(t)}),this.context=t,this.canvas=e,this.activeIndicators=i,this.images={level_indicator:n.LEVEL_INDICATOR,bar_empty:n.BAR_EMPTY,bar_full:n.BAR_FULL},(0,s.loadImages)(this.images,(t=>{this.loadedImages=Object.assign({},t),this.imagesLoaded=!0}))}setIndicators(t){this.activeIndicators=t}addDropStoneEvent(){document.addEventListener("dropstone",(t=>{this.setIndicators(2)}))}draw(){if(this.imagesLoaded){this.context.drawImage(this.loadedImages.level_indicator,.15*this.canvas.width,0,.35*this.canvas.width,.09*this.canvas.height);for(var t=0;t<5;t++)this.context.drawImage(this.loadedImages.bar_empty,.35*this.canvas.width/7*(t+1)+.15*this.canvas.width,.09*this.canvas.height/2-.09*this.canvas.height/6,.35*this.canvas.width/10,.09*this.canvas.height/3);for(t=0;t<this.activeIndicators;t++)this.context.drawImage(this.loadedImages.bar_full,.35*this.canvas.width/7*(t+1)+.15*this.canvas.width,.09*this.canvas.height/2-.09*this.canvas.height/6,.35*this.canvas.width/10,.09*this.canvas.height/3)}}dispose(){this.unregisterEventListener()}handleStoneDrop(t){}handleLoadPuzzle(t){this.setIndicators(t.detail.counter)}}},"./src/components/monster.ts":(t,e,i)=>{i.r(e),i.d(e,{Monster:()=>a});var s=i("./src/common/index.ts"),n=i("./src/events/index.ts");class a extends n.EventManager{zindex;width;height;image;frameX;frameY;maxFrame;x;y;fps;countFrame;frameInterval;frameTimer;canvasStack;canavsElement;context;game;images;loadedImages;imagesLoaded=!1;monsterPhase;constructor(t,e,i){super({stoneDropCallbackHandler:t=>this.handleStoneDrop(t),loadPuzzleCallbackHandler:t=>this.handleLoadPuzzle(t)}),this.game=t,this.monsterPhase=e,this.width=this.game.width,this.height=this.game.height,this.canavsElement=document.getElementById("canvas"),this.context=this.canavsElement.getContext("2d"),this.image=document.getElementById("monster"),this.frameX=0,this.frameY=0,this.maxFrame=6,this.x=this.game.width/2-.243*this.game.width,this.y=this.game.width/3,this.fps=10,this.countFrame=0,this.frameInterval=1e3/this.fps,this.frameTimer=0,this.images={eatImg:"./assets/images/eat1"+this.monsterPhase+".png",idleImg:"./assets/images/idle1"+this.monsterPhase+".png",spitImg:"./assets/images/spit1"+this.monsterPhase+".png",dragImg:"./assets/images/drag1"+this.monsterPhase+".png"},(0,s.loadImages)(this.images,(t=>{this.loadedImages=Object.assign({},t),this.changeToIdleAnimation(),this.imagesLoaded=!0,i&&i()}))}update(t){this.frameTimer>=this.frameInterval?(this.frameTimer=0,this.frameX<this.maxFrame?this.frameX++:this.frameX=0):this.frameTimer+=t,this.draw()}draw(){this.imagesLoaded&&this.context.drawImage(this.image,770*this.frameX,1386*this.frameY,768,1386,.5*this.x,.1*this.y,this.width/2*1.5,this.height/1.5*1.5)}changeImage(t){this.image.src=t}changeToDragAnimation(){this.maxFrame=6,this.image=this.loadedImages.dragImg}changeToEatAnimation(){this.maxFrame=12,this.image=this.loadedImages.eatImg}changeToIdleAnimation(){this.maxFrame=6,this.image=this.loadedImages.idleImg}changeToSpitAnimation(){this.maxFrame=12,this.image=this.loadedImages.spitImg}handleStoneDrop(t){t.detail.isCorrect?this.changeToEatAnimation():this.changeToSpitAnimation()}handleLoadPuzzle(t){this.changeToIdleAnimation()}dispose(){this.unregisterEventListener()}onClick(t,e){if(Math.sqrt((t-this.x-this.width/4)*(t-this.x-this.width/4)+(e-this.y-this.height/2.2)*(e-this.y-this.height/2.2))<=100)return!0}}},"./src/components/popups/pause-popup.ts":(t,e,i)=>{i.r(e),i.d(e,{default:()=>l});var s=i("./src/components/buttons/index.ts"),n=i("./src/common/index.ts"),a=i("./src/components/index.ts"),o=i("./src/components/popups/sure-popup.ts"),r=i("./src/constants/index.ts"),h=i("./src/gameStateService/index.ts");class l{canvas;context;cancelButton;retryButton;closeButton;imagesLoaded=!1;pop_up_image;callback;switchToLevelSelection;reloadScene;gameplayData;audioPlayer;retrySurePopup;CloseSurePopup;isRetryButtonClicked=!1;isCloseButtonClicked=!1;constructor(t,e,i,h,l){this.canvas=t,this.callback=e,this.gameplayData=l,this.switchToLevelSelection=i,this.reloadScene=h;const c=document.getElementById("canvas");this.context=c.getContext("2d"),this.audioPlayer=new a.AudioPlayer,this.cancelButton=new s.CancelButton(this.context,this.canvas),this.retryButton=new s.RetryButton(this.context,this.canvas,.55*this.canvas.width,.2*this.canvas.height+.4*this.canvas.width-.19*this.canvas.width/2),this.closeButton=new s.CloseButton(this.context,this.canvas,.25*this.canvas.width,.2*this.canvas.height+.4*this.canvas.width-.19*this.canvas.width/2),(0,n.loadImages)({pop_up_image:r.POPUP_BG_IMG},(t=>{this.pop_up_image=t.pop_up_image,this.imagesLoaded=!0})),this.retrySurePopup=new o.default(this.canvas,this.yesRetryCallback,this.noRetryCallback),this.CloseSurePopup=new o.default(this.canvas,this.switchToLevelSelection,this.noCloseCallback)}yesRetryCallback=()=>{this.playClickSound(),this.reloadScene(this.gameplayData,"GamePlay")};noRetryCallback=()=>{this.isRetryButtonClicked&&(this.isRetryButtonClicked=!1,this.callback())};noCloseCallback=()=>{this.isCloseButtonClicked&&(this.isCloseButtonClicked=!1,this.callback())};addListner=()=>{document.getElementById("canvas").addEventListener(n.CLICK,this.handleMouseClick,!1)};handleMouseClick=t=>{const e=document.getElementById("canvas");t.preventDefault();var i=e.getBoundingClientRect();const s=t.clientX-i.left,a=t.clientY-i.top;this.cancelButton.onClick(s,a)&&(h.default.publish(h.default.EVENTS.GAME_PAUSE_STATUS_EVENT,!1),this.playClickSound(),this.callback()),this.retryButton.onClick(s,a)&&("english"==n.lang?(this.playClickSound(),this.dispose(),this.isRetryButtonClicked=!0,this.retrySurePopup.addListner(),this.playAreYouSureSound()):(this.playClickSound(),this.dispose(),this.reloadScene(this.gameplayData,"GamePlay"))),this.closeButton.onClick(s,a)&&("english"==n.lang?(this.playClickSound(),this.dispose(),this.isCloseButtonClicked=!0,this.CloseSurePopup.addListner(),this.playAreYouSureSound()):(this.playClickSound(),this.dispose(),this.switchToLevelSelection("GamePlay")))};draw(){this.imagesLoaded&&(this.context.fillStyle="rgba(0,0,0,0.5)",this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this.context.drawImage(this.pop_up_image,.1*this.canvas.width,.2*this.canvas.height,.8*this.canvas.width,.8*this.canvas.width),this.cancelButton.draw(),this.retryButton.draw(),this.closeButton.draw(),1==this.isRetryButtonClicked&&"english"==n.lang&&this.retrySurePopup.draw(),1==this.isCloseButtonClicked&&"english"==n.lang&&this.CloseSurePopup.draw())}playClickSound=()=>{this.audioPlayer.playButtonClickSound()};playAreYouSureSound=()=>{this.audioPlayer.playAudio(r.AUDIO_ARE_YOU_SURE)};dispose=()=>{document.getElementById("canvas").removeEventListener(n.CLICK,this.handleMouseClick,!1)}}},"./src/components/popups/sure-popup.ts":(t,e,i)=>{i.r(e),i.d(e,{default:()=>r});var s=i("./src/common/index.ts"),n=i("./src/components/index.ts"),a=i("./src/components/buttons/index.ts"),o=i("./src/constants/index.ts");class r{canvas;context;yesButton;noButton;imagesLoaded=!1;pop_up_image;yesCallback;noCallback;audioPlayer;constructor(t,e,i){this.canvas=t,this.yesCallback=e,this.noCallback=i,this.context=this.canvas.getContext("2d"),this.audioPlayer=new n.AudioPlayer,this.yesButton=new a.YesButton(this.context,this.canvas,.55*this.canvas.width,.2*this.canvas.height+.4*this.canvas.width-.15*this.canvas.width/2),this.noButton=new a.NoButton(this.context,this.canvas,.25*this.canvas.width,.2*this.canvas.height+.4*this.canvas.width-.15*this.canvas.width/2),(0,s.loadImages)({pop_up_image:o.POPUP_BG_IMG},(t=>{this.pop_up_image=t.pop_up_image,this.imagesLoaded=!0}))}addListner=()=>{this.canvas.addEventListener(s.CLICK,this.handleMouseClick,!1)};handleMouseClick=t=>{const e=document.getElementById("canvas");t.preventDefault();var i=e.getBoundingClientRect();const s=t.clientX-i.left,n=t.clientY-i.top;this.yesButton.onClick(s,n)&&(this.playClickSound(),this.dispose(),this.yesCallback()),this.noButton.onClick(s,n)&&(this.playClickSound(),this.dispose(),this.noCallback())};draw(){if(this.imagesLoaded){this.context.fillStyle="rgba(0,0,0,0.5)",this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this.context.drawImage(this.pop_up_image,.1*this.canvas.width,.2*this.canvas.height,.8*this.canvas.width,.8*this.canvas.width);this.canvas.height;this.context.fillStyle="white",this.context.font="24px Arial",this.context.fillText("Are you sure?",this.canvas.width/2,this.canvas.height/2.8),this.yesButton.draw(),this.noButton.draw()}}playClickSound=()=>{this.audioPlayer.playButtonClickSound()};dispose=()=>{this.canvas.removeEventListener(s.CLICK,this.handleMouseClick,!1)}}},"./src/components/prompt-text.ts":(t,e,i)=>{i.r(e),i.d(e,{PromptText:()=>r});var s=i("./src/events/index.ts"),n=i("./src/common/index.ts"),a=i("./src/components/index.ts"),o=i("./src/constants/index.ts");class r extends s.EventManager{width;height;levelData;currentPromptText;currentPuzzleData;canavsElement;context;prompt_image;targetStones;rightToLeft;imagesLoaded=!1;audioPlayer;isStoneDropped=!1;droppedStones=0;time=0;promptImageWidth=0;isAppForeground=!0;scale=1;isScalingUp=!0;scaleFactor=5e-4;promptImageHeight=0;promptPlayButton;constructor(t,e,i,s,o){super({stoneDropCallbackHandler:t=>this.handleStoneDrop(t),loadPuzzleCallbackHandler:t=>this.handleLoadPuzzle(t)}),this.width=t,this.height=e,this.levelData=s,this.rightToLeft=o,this.currentPromptText=i.prompt.promptText,this.currentPuzzleData=i,this.targetStones=this.currentPuzzleData.targetStones,this.canavsElement=document.getElementById("canvas"),this.context=this.canavsElement.getContext("2d"),this.audioPlayer=new a.AudioPlayer,this.audioPlayer.preloadPromptAudio(this.getPromptAudioUrl()),this.prompt_image=new Image,this.promptPlayButton=new Image,this.loadImages(),this.time=0,this.promptImageWidth=.65*this.width,this.promptImageHeight=.3*this.height,document.addEventListener(n.VISIBILITY_CHANGE,this.handleVisibilityChange,!1)}handleMouseDown=t=>{const e=document.getElementById("canvas");t.preventDefault();var i=e.getBoundingClientRect();const s=t.clientX-i.left,n=t.clientY-i.top;this.onClick(s,n)&&this.playSound()};getPromptAudioUrl=()=>n.Utils.getConvertedDevProdURL(this.currentPuzzleData.prompt.promptAudio);playSound=()=>{this.isAppForeground&&this.audioPlayer.playPromptAudio(n.Utils.getConvertedDevProdURL(this.currentPuzzleData.prompt.promptAudio))};onClick(t,e){return Math.sqrt(t-this.width/3)<12&&Math.sqrt(e-this.height/5.5)<10}setCurrrentPuzzleData(t){this.currentPuzzleData=t,this.currentPromptText=t.prompt.promptText,this.targetStones=this.currentPuzzleData.targetStones}drawRTLLang(){var t=this.width/2;const e=.26*this.height;this.context.textAlign="center";var i=this.calculateFont();const s=this.promptImageWidth,a=this.promptImageHeight;if(this.context.font=`${i}px ${n.font}, monospace`,"LetterInWord"==this.levelData.levelMeta.levelType)if("Visible"==this.levelData.levelMeta.protoType){var o=this.currentPromptText.replace(new RegExp(this.currentPuzzleData.targetStones[0],"g"),"");this.context.fillStyle="red",this.context.fillText(this.targetStones[0],t+this.context.measureText(o).width/2,e),this.context.fillStyle="black",this.context.fillText(o,t-this.context.measureText(this.targetStones[0]).width/2,e)}else this.context.drawImage(this.promptPlayButton,this.width/2.4,e/1.15,s/4,a/4);else if("Word"==this.levelData.levelMeta.levelType)if("Visible"==this.levelData.levelMeta.protoType){t-=.5*this.context.measureText(this.currentPromptText).width;for(let i=this.targetStones.length-1;i>=0;i--)this.droppedStones>i||null==this.droppedStones?(this.context.fillStyle="black",this.context.fillText(this.targetStones[i],t,e)):(this.context.fillStyle="red",this.context.fillText(this.targetStones[i],t,e)),t=t+this.context.measureText(this.targetStones[i]).width+5}else this.context.drawImage(this.promptPlayButton,this.width/2.4,e/1.15,s/4,a/4);else if("audioPlayerWord"==this.levelData.levelMeta.levelType){const t=1.25*(this.width-s),e=.33*(this.height-a);this.context.drawImage(this.promptPlayButton,t,e,s/4,a/4)}else"Visible"==this.levelData.levelMeta.protoType?(this.context.fillStyle="black",this.context.fillText(this.currentPromptText,t,e)):this.context.drawImage(this.promptPlayButton,this.width/2.4,e/1.15,s/4,a/4)}drawOthers(){const t=this.currentPromptText.split(""),e=(this.width,.28*this.height),i=this.promptImageWidth,s=this.promptImageHeight;var a=this.calculateFont();this.context.font=`${a}px ${n.font}, monospace`;let o=this.width/2-this.context.measureText(this.currentPromptText).width/2,r=0;var h=this.currentPuzzleData.targetStones[0].split("");for(let n=0;n<t.length;n++){switch(this.levelData.levelMeta.levelType){case"LetterInWord":if("Visible"==this.levelData.levelMeta.protoType){h.includes(t[n])?(h=h.slice(1,h.length),this.context.fillStyle="red",this.context.fillText(t[n],o,e)):(this.context.fillStyle="black",this.context.fillText(t[n],o,e));break}this.context.drawImage(this.promptPlayButton,this.width/2.4,e/1.25,i/4,s/4);case"Word":if("Visible"==this.levelData.levelMeta.protoType){this.droppedStones>n||null==this.droppedStones?(this.context.fillStyle="black",this.context.fillText(t[n],o,e)):(this.context.fillStyle="red",this.context.fillText(t[n],o,e));break}this.context.drawImage(this.promptPlayButton,this.width/2.4,e/1.25,i/4,s/4);case"SoundWord":this.context.drawImage(this.promptPlayButton,this.width/2.4,e/1.25,i/4,s/4);break;default:if("Visible"==this.levelData.levelMeta.protoType){this.context.fillStyle="black",this.context.fillText(this.currentPromptText,this.width/2.1,e);break}this.context.drawImage(this.promptPlayButton,this.width/2.4,e/1.25,i/4,s/4)}r=(this.context.measureText(t[n]).width+this.context.measureText(t[n+1]).width)/2,o+=r}}draw(t){if(this.updateScaling(),this.time=t<17?this.time+Math.floor(t):this.time+16,Math.floor(this.time)>=1910&&Math.floor(this.time)<=1926&&this.playSound(),!this.isStoneDropped){const t=this.promptImageWidth*this.scale,e=this.promptImageHeight*this.scale,i=(this.width-t)/2,s=(this.height-e)/5;this.context.drawImage(this.prompt_image,i,s,t,e),this.context.fillStyle="black",this.rightToLeft?this.drawRTLLang():this.drawOthers()}}handleStoneDrop(t){this.isStoneDropped=!0}handleLoadPuzzle(t){this.droppedStones=0,this.currentPuzzleData=this.levelData.puzzles[t.detail.counter],this.currentPromptText=this.currentPuzzleData.prompt.promptText,this.targetStones=this.currentPuzzleData.targetStones,this.audioPlayer.preloadPromptAudio(this.getPromptAudioUrl()),this.isStoneDropped=!1,this.time=0}dispose(){document.removeEventListener(n.VISIBILITY_CHANGE,this.handleVisibilityChange,!1),this.unregisterEventListener()}droppedStoneIndex(t){this.droppedStones=t}calculateFont(){return this.promptImageWidth/this.currentPromptText.length>35?35:.65*this.width/this.currentPromptText.length}updateScaling(){this.isScalingUp?(this.scale+=this.scaleFactor,this.scale>=1.05&&(this.isScalingUp=!1)):(this.scale-=this.scaleFactor,this.scale<=1&&(this.scale=1,this.isScalingUp=!0))}handleVisibilityChange=()=>{"hidden"==document.visibilityState&&(this.audioPlayer.stopAllAudios(),this.isAppForeground=!1),"visible"==document.visibilityState&&(this.isAppForeground=!0)};async loadImages(){const t=this.loadImage(this.prompt_image,o.PROMPT_TEXT_BG),e=this.loadImage(this.promptPlayButton,o.PROMPT_PLAY_BUTTON);await Promise.all([t,e]),this.imagesLoaded=!0}loadImage(t,e){return new Promise(((i,s)=>{t.onload=()=>{i()},t.src=e,t.onerror=t=>{s(t)}}))}}},"./src/components/stone-handler.ts":(t,e,i)=>{i.r(e),i.d(e,{default:()=>l});var s=i("./src/common/index.ts"),n=i("./src/events/index.ts"),a=i("./src/components/index.ts"),o=i("./src/data/index.ts"),r=i("./src/constants/index.ts"),h=i("./src/gameStateService/index.ts");class l extends n.EventManager{context;canvas;currentPuzzleData;targetStones;stonePos;pickedStone;foilStones=new Array;answer="";puzzleNumber;levelData;correctAnswer;puzzleStartTime;showTutorial=null==o.GameScore.getDatafromStorage().length;correctStoneAudio;tutorial;correctTargetStone;stonebg;audioPlayer;feedbackAudios;timerTickingInstance;isGamePaused=!1;constructor(t,e,i,n,o,l){super({stoneDropCallbackHandler:t=>this.handleStoneDrop(t),loadPuzzleCallbackHandler:t=>this.handleLoadPuzzle(t)}),this.context=t,this.canvas=e,this.puzzleNumber=i,this.levelData=n,this.setTargetStone(this.puzzleNumber),this.initializeStonePos(),this.correctStoneAudio=new Audio(r.AUDIO_PATH_CORRECT_STONE),this.correctStoneAudio.loop=!1,this.feedbackAudios=this.convertFeedBackAudiosToList(o),this.puzzleStartTime=new Date,this.tutorial=new a.Tutorial(t,e.width,e.height,i),this.stonebg=new Image,this.stonebg.src=r.ASSETS_PATH_STONE_PINK_BG,this.audioPlayer=new a.AudioPlayer,this.stonebg.onload=t=>{this.createStones(this.stonebg)},this.audioPlayer=new a.AudioPlayer,this.timerTickingInstance=l,document.addEventListener(s.VISIBILITY_CHANGE,this.handleVisibilityChange,!1),this.setGamePause=this.setGamePause.bind(this),h.default.subscribe(h.default.EVENTS.GAME_PAUSE_STATUS_EVENT,this.setGamePause)}createStones(t){const e=this.getFoilStones();for(let i=0;i<e.length;i++)e[i]==this.correctTargetStone&&this.tutorial.updateTargetStonePositions(this.stonePos[i]),this.foilStones.push(new s.StoneConfig(this.context,this.canvas.width,this.canvas.height,e[i],this.stonePos[i][0],this.stonePos[i][1],t,this.timerTickingInstance,i==e.length-1?this.tutorial:null))}draw(t){for(let e=0;e<this.foilStones.length;e++)this.foilStones[e].draw(t);this.foilStones[this.foilStones.length-1].frame>=100&&!this.isGamePaused&&this.timerTickingInstance.update(t)}drawWordPuzzleLetters(t,e,i){for(let s=0;s<this.foilStones.length;s++)e(s)&&this.foilStones[s].draw(t,Object.keys(i).length>1&&void 0!==i[s]);this.foilStones[this.foilStones.length-1].frame>=100&&!this.isGamePaused&&this.timerTickingInstance.update(t)}initializeStonePos(){let t=32;this.stonePos=[[this.canvas.width/5-t,this.canvas.height/1.9-t],[this.canvas.width/2-t,this.canvas.height/1.15-t],[this.canvas.width/3.5+this.canvas.width/2-t,this.canvas.height/1.2-t],[this.canvas.width/4-t,this.canvas.height/1.28-t],[this.canvas.width/7-t,this.canvas.height/1.5-t],[this.canvas.width/2.3+this.canvas.width/2.1-t,this.canvas.height/1.9-t],[this.canvas.width/2.3+this.canvas.width/2.1-t,this.canvas.height/1.42-t],[this.canvas.width/6-t,this.canvas.height/1.1-t]],this.stonePos=this.stonePos.sort((()=>Math.random()-.5))}setTargetStone(t){this.currentPuzzleData=this.levelData.puzzles[t],this.targetStones=[...this.currentPuzzleData.targetStones],this.correctTargetStone=this.targetStones.join("")}handleStoneDrop(t){this.foilStones=[]}handleLoadPuzzle(t){this.foilStones=[],this.tutorial.setPuzzleNumber(t.detail.counter),this.puzzleNumber=t.detail.counter,this.setTargetStone(this.puzzleNumber),this.initializeStonePos(),this.createStones(this.stonebg)}dispose(){h.default.unsubscribe(h.default.EVENTS.GAME_PAUSE_STATUS_EVENT,this.setGamePause),document.removeEventListener(s.VISIBILITY_CHANGE,this.handleVisibilityChange,!1),this.unregisterEventListener()}isStoneLetterDropCorrect(t,e,i=!1){const s=i?t==this.correctTargetStone.substring(0,t.length):t==this.correctTargetStone;return this.processLetterDropFeedbackAudio(e,s,i,t),s}processLetterDropFeedbackAudio(t,e,i,s){if(e){(i?s===this.getCorrectTargetStone():e)?this.playCorrectAnswerFeedbackSound(t):this.audioPlayer.playFeedbackAudios(!1,r.AUDIO_PATH_EATS,(0,r.AUDIO_PATH_CHEERING_FUNC)(2))}else this.audioPlayer.playFeedbackAudios(!1,r.AUDIO_PATH_EATS,r.AUDIO_PATH_MONSTER_SPIT,Math.round(Math.random())>0?r.AUDIO_PATH_MONSTER_DISSAPOINTED:null)}getCorrectTargetStone(){return this.correctTargetStone}getFoilStones(){this.currentPuzzleData.targetStones.forEach((t=>{const e=this.currentPuzzleData.foilStones.indexOf(t);-1!==e&&this.currentPuzzleData.foilStones.splice(e,1)}));const t=this.currentPuzzleData.targetStones.length+this.currentPuzzleData.foilStones.length;if(t>8){const e=t-8;this.currentPuzzleData.foilStones.splice(0,e)}return this.currentPuzzleData.targetStones.forEach((t=>{this.currentPuzzleData.foilStones.push(t)})),this.currentPuzzleData.foilStones.sort((()=>Math.random()-.5))}handleVisibilityChange=()=>{this.audioPlayer.stopAllAudios(),this.correctStoneAudio.pause()};convertFeedBackAudiosToList(t){return[t.fantastic,t.great,t.amazing]}setGamePause(t){this.isGamePaused=t}playCorrectAnswerFeedbackSound(t){const e=s.Utils.getRandomNumber(1,3).toString();this.audioPlayer.playFeedbackAudios(!1,r.AUDIO_PATH_EATS,(0,r.AUDIO_PATH_CHEERING_FUNC)(e),r.AUDIO_PATH_POINTS_ADD,s.Utils.getConvertedDevProdURL(this.feedbackAudios[t])),this.correctStoneAudio.play()}resetStonePosition(t,e,i){const s=e,n=i;if(s&&n&&s.text&&"number"==typeof n.origx&&"number"==typeof n.origy){const e=50,i=t/2;s.x=s.text.length<=3&&n.origx<e&&n.origx<i?n.origx+25:n.origx,s.y=n.origy}return s}computeCursorDistance(t,e,i){return Math.sqrt((t-i.x)**2+(e-i.y)**2)}handlePickStoneUp(t,e){let i=null,s=0;for(let n of this.foilStones){if(this.computeCursorDistance(t,e,n)<=40){i=n,i.foilStoneIndex=s;break}s++}return i}handleHoveringToAnotherStone(t,e,i){let s=null,n=0;for(let a of this.foilStones){if(this.computeCursorDistance(t,e,a)<=40&&i(a.text,n)){s=a,s.foilStoneIndex=n;break}n++}return s}handleMovingStoneLetter(t,e,i){const s=t,n=this.canvas.getBoundingClientRect();return s.x=e-n.left,s.y=i-n.top,s}}},"./src/components/timer-ticking.ts":(t,e,i)=>{i.r(e),i.d(e,{TimerTicking:()=>r});var s=i("./src/common/index.ts"),n=i("./src/events/index.ts"),a=i("./src/components/index.ts"),o=i("./src/constants/index.ts");class r extends n.EventManager{width;height;timerWidth;timerHeight;widthToClear;timer;isTimerStarted;isTimerEnded;isTimerRunningOut;canavsElement;context;timer_full;pauseButtonClicked;images;loadedImages;callback;imagesLoaded=!1;startMyTimer=!0;isMyTimerOver=!1;isStoneDropped=!1;audioPlayer;playLevelEndAudioOnce=!0;constructor(t,e,i){super({stoneDropCallbackHandler:t=>this.handleStoneDrop(t),loadPuzzleCallbackHandler:t=>this.handleLoadPuzzle(t)}),this.width=t,this.height=e,this.widthToClear=this.width/3.4,this.timerHeight=112,this.timerWidth=888,this.callback=i,this.canavsElement=document.getElementById("canvas"),this.context=this.canavsElement.getContext("2d"),this.timer=0,this.isTimerStarted=!1,this.isTimerEnded=!1,this.isTimerRunningOut=!1,this.audioPlayer=new a.AudioPlayer,this.playLevelEndAudioOnce=!0,this.images={timer_empty:o.TIMER_EMPTY,rotating_clock:o.ROTATING_CLOCK,timer_full:o.TIMER_FULL},(0,s.loadImages)(this.images,(t=>{this.loadedImages=Object.assign({},t),this.imagesLoaded=!0}))}startTimer(){this.readyTimer(),this.startMyTimer=!0,this.isMyTimerOver=!1}readyTimer(){this.timer=0}update(t){this.startMyTimer&&!this.isStoneDropped&&(this.timer+=.008*t),40!=Math.floor(.87*this.width-.87*this.width*this.timer*.01)||this.isMyTimerOver||(this.playLevelEndAudioOnce&&this.audioPlayer.playAudio(o.AUDIO_TIMEOUT),this.playLevelEndAudioOnce=!1),.87*this.width-.87*this.width*this.timer*.01<0&&!this.isMyTimerOver&&(this.isMyTimerOver=!0,this.callback(!0))}draw(){this.imagesLoaded&&(this.context.drawImage(this.loadedImages.timer_empty,0,.1*this.height,this.width,.05*this.height),this.context.drawImage(this.loadedImages.rotating_clock,0,.09*this.height,.14*this.width,.065*this.height),this.context.drawImage(this.loadedImages.timer_full,0,0,this.timerWidth-this.timerWidth*this.timer*.01,this.timerHeight,.14*this.width,.099*this.height,.87*this.width-.87*this.width*this.timer*.01,.05*this.height))}handleStoneDrop(t){this.isStoneDropped=!0}handleLoadPuzzle(t){this.playLevelEndAudioOnce=!0,this.isStoneDropped=!1,this.startTimer()}dispose(){this.unregisterEventListener()}}},"./src/components/trail-particles.ts":(t,e,i)=>{i.r(e),i.d(e,{default:()=>n});var s=i("./src/gameStateService/index.ts");class n{ctx;particles;mouse;isDiamond;clickTrailToggle;constructor(t){this.ctx=t.getContext("2d"),this.particles=[],this.mouse={x:void 0,y:void 0},this.isDiamond=!1,this.clickTrailToggle=!1,this.trailToggleListener=this.trailToggleListener.bind(this),s.default.subscribe(s.default.EVENTS.GAME_TRAIL_EFFECT_TOGGLE_EVENT,this.trailToggleListener),this.init()}init(){this.draw()}trailToggleListener(t){this.clickTrailToggle=t}draw(){this.drawTrail();let t=[];for(let e=0;e<this.particles.length;e++)this.particles[e].time<=this.particles[e].ttl&&t.push(this.particles[e]);this.particles=t}drawTrail(){for(let t=0;t<this.particles.length;t++)this.particles[t].update(),this.isDiamond=!this.isDiamond,this.particles[t].draw(this.isDiamond)}addTrailParticlesOnMove(t,e){this.clickTrailToggle&&(this.mouse.x=t,this.mouse.y=e,this.particles.push(new a(this.ctx,this.mouse)))}resetParticles(){this.mouse.x=void 0,this.mouse.y=void 0}clearTrailSubscription(){s.default.unsubscribe(s.default.EVENTS.GAME_TRAIL_EFFECT_TOGGLE_EVENT,this.trailToggleListener)}}class a{ctx;start;end;size;style;time;ttl;x;y;rgb;hyp;starX;starY;starAngle;constructor(t,e){const i=this.determineValueByScreenWidth(30,15),s=this.determineValueByScreenWidth(30,15),n=this.determineValueByScreenWidth(3,.5),a=this.determineValueByScreenWidth(2,.5);this.ctx=t,this.rgb=["rgb(255,255,255)","rgb(249,217,170)","rgb(244,182,81)","rgb(244,159,34)"],this.start={x:e.x+this.getRandomInt(-i,i),y:e.y+this.getRandomInt(-s,s),size:this.determineValueByScreenWidth(3,2)},this.end={x:this.start.x+this.getRandomInt(-n,n),y:this.start.y+this.getRandomInt(-a,a)},this.x=this.start.x,this.y=this.start.y,this.size=this.start.size,this.style=this.rgb[this.getRandomInt(0,this.rgb.length-1)],this.time=0,this.ttl=75,this.hyp=0,this.starX=0,this.starY=0,this.starAngle=0}determineValueByScreenWidth(t,e){return window.screen.width>768?t:e}update(){if(this.time<=this.ttl){const t=1-(this.ttl-this.time)/this.ttl;this.size=this.start.size*(1-this.easeOutQuart(t)),this.x=this.x+.01*(this.end.x-this.x),this.y=this.y+.01*(this.end.y-this.y)}this.time++}draw(t){t?this.starParticle():this.circleParticle()}circleParticle(){this.ctx.fillStyle=this.style,this.ctx.beginPath(),this.ctx.arc(this.x,this.y,this.size,0,2*Math.PI),this.ctx.closePath(),this.ctx.fill()}starParticle(){this.ctx.fillStyle=this.style,this.ctx.beginPath(),this.ctx.moveTo(this.x,this.y-this.size),this.ctx.lineTo(this.x+this.size,this.y),this.ctx.lineTo(this.x,this.y+this.size),this.ctx.lineTo(this.x-this.size,this.y),this.ctx.closePath(),this.ctx.fill()}getRandomInt(t,e){return Math.round(Math.random()*(e-t))+t}easeOutQuart(t){return 1-Math.pow(1-t,4)}}},"./src/components/tutorial.ts":(t,e,i)=>{i.r(e),i.d(e,{Tutorial:()=>o});var s=i("./src/common/index.ts"),n=i("./src/constants/index.ts"),a=i("./src/data/index.ts");class o{width;height;context;tutorialImg;imagesLoaded=!1;targetStonePositions;startx;starty;endx;endy;endTutorial=!1;puzzleNumber;playMnstrClkTtrlAnim=!0;totalTime=0;monsterStoneDifference=0;x;y;dx;dy;absdx;absdy;startRipple=!1;drawRipple;constructor(t,e,i,a){this.width=e,this.height=i,this.context=t,this.startx=0,this.starty=0,this.endx=this.width/2,this.endy=this.height/2,this.puzzleNumber=a>=0?a:null,this.tutorialImg=new Image,this.tutorialImg.src=n.TUTORIAL_HAND,this.drawRipple=(0,s.createRippleEffect)(this.context),this.tutorialImg.onload=()=>{this.imagesLoaded=!0}}updateTargetStonePositions(t){this.startx=t[0]-22,this.starty=t[1]-50,this.monsterStoneDifference=Math.sqrt((this.startx-this.endx)*(this.startx-this.endx)+(this.starty-this.endy)*(this.starty-this.endy)),this.animateImage()}isMobile(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}setTutorialEnd(t){this.endTutorial=t}animateImage(){this.x=this.startx,this.y=this.starty,this.dx=(this.endx-this.startx)/5e3,this.dy=(this.endy-this.starty)/5e3,this.absdx=this.isMobile()?3*Math.abs(this.dx):Math.abs(this.dx),this.absdy=this.isMobile()?3*Math.abs(this.dy):Math.abs(this.dy),this.setTutorialEnd(!1)}draw(t,e,i){if(this.imagesLoaded&&!this.endTutorial&&this.shouldPlayTutorial()){this.x=this.dx>=0?this.x+this.absdx*t:this.x-this.absdx*t,this.y=this.dy>=0?this.y+this.absdy*t:this.y-this.absdy*t;const s=this.x-this.endx+this.absdx,n=this.y-this.endy+this.absdy;let a=100*Math.sqrt(s*s+n*n)/this.monsterStoneDifference;if(a<15)a>1?this.createHandScaleAnimation(t,this.endx,this.endy+30,!0):(this.x=this.startx,this.y=this.starty);else if(a>80)this.createHandScaleAnimation(t,this.startx+15,this.starty+10,!1);else{let t=this.context.globalAlpha;this.context.globalAlpha=.4,this.context.drawImage(e,this.x,this.y+20,i,i),this.context.globalAlpha=t,this.context.drawImage(this.tutorialImg,this.x+15,this.y+10)}}}createHandScaleAnimation(t,e,i,s){this.totalTime+=Math.floor(t);const n=this.sinusoidalInterpolation(this.totalTime,1,1.5,500),a=this.tutorialImg.width*n,o=this.tutorialImg.height*n;this.context.drawImage(this.tutorialImg,e,i,a,o),!s&&this.drawRipple(e+.02*this.width,i+this.tutorialImg.height/2,!1)}sinusoidalInterpolation(t,e,i,s){const n=(i-e)/2,a=Math.PI/s;return e+n*Math.sin(a*t)}clickOnMonsterTutorial(t){if(this.shouldPlayMonsterClickTutorialAnimation()){const e=2e3,i=this.height/1.9+this.tutorialImg.height/.8,s=this.height/1.9+this.tutorialImg.height/.8-this.tutorialImg.height;let n;const a=this.endx;this.totalTime<e/2?(n=s+this.totalTime/(e/2)*(i-s),this.drawRipple(a,this.height/1.9+this.tutorialImg.height/1.5,!0)):(n=i-(this.totalTime-e/2)/(e/2)*(i-s),this.drawRipple(a,this.height/1.9+this.tutorialImg.height/1.2+this.tutorialImg.height)),this.context.drawImage(this.tutorialImg,a,n,this.tutorialImg.width,this.tutorialImg.height),n<=s&&(this.totalTime=0),this.totalTime+=t}}shouldPlayTutorial(){return a.GameScore.getAllGameLevelInfo().length<=0&&0==this.puzzleNumber}shouldPlayMonsterClickTutorialAnimation(){return a.GameScore.getAllGameLevelInfo().length<=0&&this.playMnstrClkTtrlAnim}setPuzzleNumber(t){this.puzzleNumber=t}setPlayMonsterClickAnimation(t){this.playMnstrClkTtrlAnim=t}}},"./src/compositions/background.ts":(t,e,i)=>{i.r(e),i.d(e,{BACKGROUND_ASSET_LIST:()=>a,autumBgDrawing:()=>l,createBackground:()=>o,defaultBgDrawing:()=>h,levelSelectBgDrawing:()=>d,loadDynamicBgAssets:()=>r,winterBgDrawing:()=>c});var s=i("./src/common/index.ts"),n=i("./src/constants/index.ts");const a={summer:{BG_GROUP_IMGS:n.DEFAULT_BG_GROUP_IMGS,draw:h},autumn:{BG_GROUP_IMGS:n.AUTUMN_BG_GROUP_IMGS,draw:l},winter:{BG_GROUP_IMGS:n.WINTER_BG_GROUP_IMGS,draw:c}};async function o(t,e,i,n,a){return{...{...a(t,e,i,{...await(0,s.syncLoadingImages)(n)})}}}const r=(t,e)=>{const i=Object.keys(e);let s=Math.floor(t/10)%i.length;return t>=30&&(s%=3),{...e[i[s]]}};function h(t,e,i,s){return{draw:()=>{t.drawImage(s?.DEFAULT_BACKGROUND_1,0,0,e,i),t.drawImage(s?.ASSETS_PATH_TOTEM,.6*e,i/6,e,i/2),t.drawImage(s?.ASSETS_PATH_FENCE,.4*-e,i/3,e,i/3),t.drawImage(s?.ASSETS_PATH_HILL,.25*-e,i/2,1.5*e,i/2)}}}function l(t,e,i,s){return{draw:()=>{t.drawImage(s.AUTUMN_BACKGROUND_1,0,0,e,i),t.drawImage(s.AUTUMN_PILLAR_1,.38*e,i/6,e/1.2,i/2),t.drawImage(s.AUTUMN_FENCE_1,.4*-e,i/4,e,i/2),t.drawImage(s.AUTUMN_HILL_1,.25*-e,i/2,1.5*e,i/2)}}}function c(t,e,i,s){return{draw:()=>{t.drawImage(s.WINTER_BACKGROUND_1,0,0,e,i),t.drawImage(s.WINTER_PILLAR_1,.38*e,i/6,e/1.2,i/2),t.drawImage(s.WINTER_FENCE_1,.4*-e,i/4,e,i/2),t.drawImage(s.WINTER_HILL_1,.25*-e,i/2,1.5*e,i/2)}}}function d(t,e,i,s){return{draw:()=>{t.drawImage(s?.LEVEL_SELECTION_BACKGROUND,0,0,e,i)}}}},"./src/compositions/index.ts":(t,e,i)=>{i.r(e),i.d(e,{BACKGROUND_ASSET_LIST:()=>s.BACKGROUND_ASSET_LIST,autumBgDrawing:()=>s.autumBgDrawing,createBackground:()=>s.createBackground,createLevelObject:()=>n.createLevelObject,defaultBgDrawing:()=>s.defaultBgDrawing,getdefaultCloudBtnsPos:()=>n.getdefaultCloudBtnsPos,levelSelectBgDrawing:()=>s.levelSelectBgDrawing,loadDynamicBgAssets:()=>s.loadDynamicBgAssets,loadLevelImages:()=>n.loadLevelImages,winterBgDrawing:()=>s.winterBgDrawing});var s=i("./src/compositions/background.ts"),n=i("./src/compositions/level-config.ts")},"./src/compositions/level-config.ts":(t,e,i)=>{i.r(e),i.d(e,{createLevelObject:()=>h,getdefaultCloudBtnsPos:()=>o,loadLevelImages:()=>r});var s=i("./src/constants/index.ts"),n=i("./src/common/index.ts");const a=t=>s.SPECIAL_LEVELS.includes(t),o=t=>[[[t.width/10,t.height/10],[t.width/2.5,t.height/10],[t.width/3+t.width/2.8,t.height/10],[t.width/10,t.height/3],[t.width/2.5,t.height/3],[t.width/3+t.width/2.8,t.height/3],[t.width/10,t.height/1.8],[t.width/2.5,t.height/1.8],[t.width/3+t.width/2.8,t.height/1.8],[t.width/2.5,t.height/1.3]]],r=()=>(0,n.syncLoadingImages)({balloonImg:s.MAP_ICON_IMG,specialBloonImg:s.MAP_ICON_SPECIAL_IMG,lockImg:s.MAP_LOCK_IMG,starImg:s.STAR_IMG});async function h(t,e,i,s){const n=a(i);return{...{x:t,y:e,index:i,isSpecial:n,...s,balloonImg:n?s?.specialBloonImg:s?.balloonImg}}}},"./src/constants/index.ts":(t,e,i)=>{i.r(e),i.d(e,{ASSETS_PATH_BG_01:()=>R,ASSETS_PATH_FENCE:()=>G,ASSETS_PATH_HILL:()=>F,ASSETS_PATH_MONSTER_IDLE:()=>j,ASSETS_PATH_STONE_PINK_BG:()=>O,ASSETS_PATH_TOTEM:()=>U,AUDIO_ARE_YOU_SURE:()=>D,AUDIO_INTRO:()=>k,AUDIO_LEVEL_LOSE:()=>N,AUDIO_LEVEL_WIN:()=>z,AUDIO_PATH_BTN_CLICK:()=>P,AUDIO_PATH_CHEERING_FUNC:()=>L,AUDIO_PATH_CORRECT_STONE:()=>x,AUDIO_PATH_EATS:()=>_,AUDIO_PATH_MONSTER_DISSAPOINTED:()=>T,AUDIO_PATH_MONSTER_SPIT:()=>y,AUDIO_PATH_ON_DRAG:()=>C,AUDIO_PATH_POINTS_ADD:()=>A,AUDIO_TIMEOUT:()=>B,AUDIO_URL_PRELOAD:()=>M,AUTUMN_BACKGROUND_1:()=>H,AUTUMN_BG_GROUP_IMGS:()=>Bt,AUTUMN_FENCE_1:()=>$,AUTUMN_HILL_1:()=>Y,AUTUMN_PILLAR_1:()=>X,AUTUMN_SIGN_1:()=>W,BACK_BTN_IMG:()=>Tt,BAR_EMPTY:()=>nt,BAR_FULL:()=>at,ButtonClick:()=>p,CANCEL_BTN_IMG:()=>xt,CLOUD_6:()=>gt,CLOUD_7:()=>pt,CLOUD_8:()=>ft,DEFAULT_BACKGROUND_1:()=>V,DEFAULT_BG_GROUP_IMGS:()=>Dt,DevelopmentServer:()=>E,FONT_BASE_PATH:()=>I,FeedbackAudio:()=>u,FirebaseUserClicked:()=>s,FirebaseUserInstall:()=>n,GAMEPLAY_BG_GROUP_IMGS:()=>Ct,IntroMusic:()=>m,IsCached:()=>c,LEVEL_INDICATOR:()=>st,LEVEL_SELECTION_BACKGROUND:()=>tt,LevelEndAudio:()=>S,MAP_BTN_IMG:()=>St,MAP_ICON_IMG:()=>wt,MAP_ICON_SPECIAL_IMG:()=>Et,MAP_LOCK_IMG:()=>It,MonsterAudio:()=>d,NEXT_BTN_IMG:()=>yt,NativePlayButton:()=>r,PAUSE_BTN_IMG:()=>bt,PIN_STAR_1:()=>dt,PIN_STAR_2:()=>ut,PIN_STAR_3:()=>mt,PLAY_BTN_IMG:()=>vt,POPUP_BG_IMG:()=>Pt,PROMPT_PLAY_BUTTON:()=>it,PROMPT_TEXT_BG:()=>et,PWAInstallStatus:()=>a,PhraseAudio:()=>b,PreviousPlayedLevel:()=>h,PromptAudio:()=>g,RETRY_BTN_IMG:()=>At,ROTATING_CLOCK:()=>rt,SCENE_NAME_GAME_PLAY:()=>Mt,SCENE_NAME_LEVEL_END:()=>Ot,SCENE_NAME_LEVEL_SELECT:()=>zt,SCENE_NAME_START:()=>Nt,SPECIAL_LEVELS:()=>Ut,STAR_IMG:()=>_t,StoneMusic:()=>v,StoreMonsterPhaseNumber:()=>l,TIMER_EMPTY:()=>ot,TIMER_FULL:()=>ht,TUTORIAL_HAND:()=>lt,TimeOver:()=>f,UrlSubstring:()=>w,UserCancelled:()=>o,WINTER_BACKGROUND_1:()=>K,WINTER_BG_GROUP_IMGS:()=>kt,WINTER_FENCE_1:()=>Z,WINTER_HILL_1:()=>q,WINTER_PILLAR_1:()=>Q,WINTER_SIGN_1:()=>J,WIN_BG:()=>ct,YES_BTN_IMG:()=>Lt});const s="user_clicked",n="user_installed",a="pwa_installed_status",o="user_cancel_installation",r="native_playbutton_clicked",h="storePreviousPlayedLevel",l="storeMonsterPhaseNumber",c="is_cached",d="monster_audio",u="feedback_audio",m="intro_music",g="prompt_audio",p="button_click",f="time_over",v="stone_music",b="phrase_audio",S="level_end_audio",w="/feedthemonster",E="https://feedthemonsterdev.curiouscontent.org",I="./assets/fonts/",_="./assets/audios/Eat.mp3",y="./assets/audios/MonsterSpit.mp3",T="./assets/audios/Disapointed-05.mp3",A="assets/audios/PointsAdd.wav",x="assets/audios/CorrectStoneFinal.mp3",L=t=>`./assets/audios/Cheering-0${t}.mp3`,P="./assets/audios/ButtonClick.mp3",C="./assets/audios/onDrag.mp3",D="./assets/audios/are-you-sure.mp3",B="./assets/audios/timeout.mp3",k="./assets/audios/intro.mp3",N="./assets/audios/LevelLoseFanfare.mp3",z="./assets/audios/LevelWinFanfare.mp3",M=["./assets/audios/intro.mp3","./assets/audios/Cheering-02.mp3","./assets/audios/Cheering-03.mp3","./assets/audios/Cheering-01.mp3","./assets/audios/onDrag.mp3","./assets/audios/timeout.mp3","./assets/audios/LevelWinFanfare.mp3","./assets/audios/LevelLoseFanfare.mp3","./assets/audios/ButtonClick.mp3","./assets/audios/Monster Spits wrong stones-01.mp3","./assets/audios/Disapointed-05.mp3","./assets/audios/MonsterSpit.mp3","./assets/audios/Eat.mp3","./assets/audios/PointsAdd.wav","./assets/audios/are-you-sure.mp3"],O="./assets/images/stone_pink.webp",U="./assets/images/Totem_v02_v01.webp",R="./assets/images/bg_v01.webp",F="./assets/images/hill_v01.webp",G="./assets/images/fence_v01.webp",j="./assets/images/idle4.png",V="./assets/images/bg_v01.webp",H="./assets/images/Autumn_bg_v01.webp",Y="./assets/images/Autumn_hill_v01.webp",X="./assets/images/Autumn_sign_v01.webp",W="./assets/images/Autumn_sign_v01.webp",$="./assets/images/Autumn_fence_v01.webp",K="./assets/images/Winter_bg_01.webp",q="./assets/images/Winter_hill_v01.webp",J="./assets/images/Winter_sign_v01.webp",Z="./assets/images/Winter_fence_v01.webp",Q="./assets/images/Winter_sign_v01.webp",tt="./assets/images/map.webp",et="./assets/images/promptTextBg.webp",it="./assets/images/promptPlayButton.webp",st="./assets/images/levels_v01.webp",nt="./assets/images/bar_empty_v01.webp",at="./assets/images/bar_full_v01.webp",ot="./assets/images/timer_empty.webp",rt="./assets/images/timer.webp",ht="./assets/images/timer_full.png",lt="./assets/images/tutorial_hand.webp",ct="./assets/images/WIN_screen_bg.webp",dt="./assets/images/pinStar1.webp",ut="./assets/images/pinStar2.webp",mt="./assets/images/pinStar3.webp",gt="./assets/images/cloud_01.png",pt="./assets/images/cloud_02.png",ft="./assets/images/cloud_03.png",vt="./assets/images/Play_button.webp",bt="./assets/images/pause_v01.webp",St="./assets/images/map_btn.webp",wt="./assets/images/mapIcon.webp",Et="./assets/images/map_icon_monster_level_v01.webp",It="./assets/images/mapLock.webp",_t="./assets/images/star.webp",yt="./assets/images/next_btn.webp",Tt="./assets/images/back_btn.webp",At="./assets/images/retry_btn.webp",xt="./assets/images/close_btn.webp",Lt="./assets/images/confirm_btn.webp",Pt="./assets/images/popup_bg_v01.webp",Ct={ASSETS_PATH_TOTEM:U,DEFAULT_BACKGROUND_1:V,ASSETS_PATH_HILL:F,ASSETS_PATH_FENCE:G,ASSETS_PATH_MONSTER_IDLE:j},Dt={DEFAULT_BACKGROUND_1:V,ASSETS_PATH_HILL:F,ASSETS_PATH_TOTEM:U,ASSETS_PATH_FENCE:G},Bt={AUTUMN_BACKGROUND_1:H,AUTUMN_HILL_1:Y,AUTUMN_PILLAR_1:X,AUTUMN_SIGN_1:W,AUTUMN_FENCE_1:$},kt={WINTER_BACKGROUND_1:K,WINTER_HILL_1:q,WINTER_SIGN_1:J,WINTER_FENCE_1:Z,WINTER_PILLAR_1:Q},Nt="StartScene",zt="LevelSelection",Mt="GamePlay",Ot="LevelEnd",Ut=[5,13,20,30,42]},"./src/data/api-data.ts":(t,e,i)=>{i.r(e),i.d(e,{URL:()=>n,getData:()=>o,getFtmData:()=>a});var s=i("./src/common/index.ts");const n="./lang/"+s.lang+"/ftm_"+s.lang+".json";function a(){return fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}}).then((t=>t.json().then((t=>t))))}async function o(){return await a()}},"./src/data/custom-fonts.ts":(t,e,i)=>{i.r(e),i.d(e,{customFonts:()=>s});const s={default:"Atma-SemiBold",english:"Atma-SemiBold",swahili:"Atma-SemiBold",wolof:"Atma-SemiBold",tajik:"Atma-SemiBold",marathi:"Atma-SemiBold",amharic:"Atma-SemiBold",punjabi:"Atma-SemiBold",tamil:"Atma-SemiBold",sepedi:"Atma-SemiBold",gujarati:"Atma-SemiBold",telugu:"Atma-SemiBold",tsonga:"Atma-SemiBold",malay:"Atma-SemiBold",ndebele:"Atma-SemiBold",venda:"Atma-SemiBold",siswati:"Atma-SemiBold",tswana:"Atma-SemiBold",thai:"Atma-SemiBold",fula:"Atma-SemiBold",farsi:"Atma-SemiBold",burmese:"Atma-SemiBold",bengali:"Atma-SemiBold",Azerbaijani:"Atma-SemiBold",Sesotho:"Atma-SemiBold",Georgian:"Atma-SemiBold",BrazilianPortuguese:"Atma-SemiBold",Somali:"Atma-SemiBold",Hausa:"Atma-SemiBold",Igbo:"Atma-SemiBold",HatianCreole:"Atma-SemiBold",Oromo:"Atma-SemiBold",Luganda:"Atma-SemiBold",Yoruba:"Atma-SemiBold",Khmer:"Atma-SemiBold",Javanese:"Atma-SemiBold",Urdu:"Atma-SemiBold",Kinyarwanda:"Atma-SemiBold",Shona:"Atma-SemiBold",Kurdish:"Atma-SemiBold",French:"Atma-SemiBold",isiXhosa:"Atma-SemiBold",Afrikaans:"Atma-SemiBold",Nepali:"Atma-SemiBold",Ukrainian:"Atma-SemiBold",Hindi:"Atma-SemiBold",Tagalog:"Atma-SemiBold",Vietnamese:"Atma-SemiBold",Pashto:"Atma-SemiBold",Twi:"Atma-SemiBold",Arabic:"Atma-SemiBold"}},"./src/data/data-modal.ts":(t,e,i)=>{i.r(e),i.d(e,{DataModal:()=>s,FeedbackAudios:()=>o,FeedbackTexts:()=>a,FoilStone:()=>l,LevelMeta:()=>u,Levels:()=>r,OtherAudios:()=>n,Prompt:()=>d,Puzzles:()=>h,TargetStone:()=>c});class s{title;otherAudios;levels;FeedbackTexts;FeedbackAudios;rightToLeft;majVersion;minVersion;version;constructor(t,e,i,s,r,h,l,c,d){this.title=t,this.otherAudios=new n(e),this.levels=this.getLevels(i),this.FeedbackTexts=new a(s),this.FeedbackAudios=new o(h),this.rightToLeft=r,this.majVersion=l,this.minVersion=c,this.version=d}getLevels(t){let e=[];for(let i=0;i<t.length;i++)e.push(new r(t[i]));return e}}class n{selctYourPlayer;watchMeGrow;areYouSure;constructor(t){this.selctYourPlayer=t["Select your player"],this.watchMeGrow=t["Watch me grow"],this.areYouSure=t["Are you sure"]}}class a{fantastic;great;amazing;constructor(t){t.length>=1&&(this.fantastic=t[0]),t.length>=2&&(this.great=t[1]),t.length>=3&&(this.amazing=t[2])}}class o{fantastic;great;amazing;constructor(t){t.length>=1&&(this.fantastic=t[0]),t.length>=2&&(this.great=t[1]),t.length>=3&&(this.amazing=t[2])}}class r{puzzles;levelMeta;levelNumber;constructor(t){this.puzzles=this.getPuzzleData(t),this.levelMeta=new u(t.LevelMeta),this.levelNumber=t.LevelNumber}getPuzzleData(t){let e=[];return t.Puzzles.map(((t,i)=>{e.push(new h(t))})),e}}class h{segmentNumber;prompt;foilStones;targetStones;constructor(t){this.segmentNumber=t.SegmentNumber,this.prompt=new d(t.prompt),this.foilStones=this.getFoilStones(t),this.targetStones=this.getTargetStones(t)}getFoilStones(t){let e=[];return t.foilstones.map(((t,i)=>{e.push(t.StoneText)})),e}getTargetStones(t){let e=[];return t.targetstones.map(((t,i)=>{e.push(t.StoneText)})),e}}class l{stoneText;constructor(t){this.stoneText=t}}class c{stoneText;constructor(){this.stoneText}}class d{promptText;promptAudio;constructor(t){this.promptText=t.PromptText,this.promptAudio=t.PromptAudio}}class u{promptFadeOut;letterGroup;levelNumber;protoType;levelType;constructor(t){this.promptFadeOut=t.PromptFadeout,this.letterGroup=t.LetterGroup,this.levelNumber=t.LevelNumber,this.protoType=t.PromptType,this.levelType=t.LevelType}}},"./src/data/game-score.ts":(t,e,i)=>{i.r(e),i.d(e,{GameScore:()=>n});var s=i("./src/common/index.ts");class n{static currentlanguage=s.lang;static setGameLevelScore(t,e){let i=this.calculateStarCount(e),s={levelName:t.levelMeta.levelType,levelNumber:t.levelMeta.levelNumber,score:e,starCount:i};this.setTotalStarCount(i);let n=this.getAllGameLevelInfo(),a=-1;for(let t=0;t<n.length;t++)if(n[t].levelNumber===s.levelNumber){a=t;break}-1!==a&&s.score>n[a].score?n[a]=s:n.push(s),localStorage.setItem(this.currentlanguage+"gamePlayedInfo",JSON.stringify(n))}static getAllGameLevelInfo(){const t=localStorage.getItem(this.currentlanguage+"gamePlayedInfo");return null==t?[]:JSON.parse(t)}static setTotalStarCount(t){let e=this.getTotalStarCount()+t;localStorage.setItem(this.currentlanguage+"totalStarCount",e)}static getTotalStarCount(){const t=localStorage.getItem(this.currentlanguage+"totalStarCount");return null==t?0:parseInt(t)}static calculateStarCount(t){return 200==t?1:300==t||400==t?2:500==t?3:0}static getDatafromStorage(){return s.Debugger.DebugMode?JSON.parse(localStorage.getItem(s.lang+"ProfileDebug")||"{}"):JSON.parse(localStorage.getItem(s.lang+"Profile")||"{}")}}},"./src/data/i18-font-mapping.ts":(t,e,i)=>{i.r(e),i.d(e,{languageFontMapping:()=>s});const s={english:"Consolas",swahili:"Consolas",wolof:"Consolas",tajik:"Consolas",marathi:"Consolas",amharic:"Consolas",punjabi:"Consolas",tamil:"Consolas",sepedi:"Consolas",gujarati:"Consolas",telugu:"Consolas",tsonga:"Consolas",malay:"Consolas",ndebele:"Consolas",venda:"NotoSans-Regular",siswati:"Consolas",tswana:"Consolas",thai:"Consolas",fula:"Consolas",farsi:"Consolas",burmese:"Consolas",bengali:"Consolas",Azerbaijani:"NotoSans-Regular",Sesotho:"Consolas",Georgian:"Consolas",BrazilianPortuguese:"Consolas",Somali:"Consolas",Hausa:"NotoSans-Regular",Igbo:"Consolas",HatianCreole:"Consolas",Oromo:"Consolas",Luganda:"Consolas",Yoruba:"Consolas",Khmer:"Consolas",Javanese:"Consolas",Urdu:"Consolas",Kinyarwanda:"Consolas",Shona:"Consolas",Kurdish:"Consolas",French:"Consolas",isiXhosa:"Consolas",Afrikaans:"Consolas",Nepali:"Consolas",Ukrainian:"Consolas",Hindi:"Consolas",Tagalog:"Consolas",Vietnamese:"NotoSans-Regular",Pashto:"Consolas",Twi:"NotoSans-Regular",Arabic:"Adobe-Arabic-Bold"}},"./src/data/index.ts":(t,e,i)=>{i.r(e),i.d(e,{DataModal:()=>n.DataModal,FeedbackAudios:()=>n.FeedbackAudios,FeedbackTexts:()=>n.FeedbackTexts,FoilStone:()=>n.FoilStone,GameScore:()=>a.GameScore,LevelMeta:()=>n.LevelMeta,Levels:()=>n.Levels,OtherAudios:()=>n.OtherAudios,Prompt:()=>n.Prompt,Puzzles:()=>n.Puzzles,TargetStone:()=>n.TargetStone,URL:()=>s.URL,customFonts:()=>r.customFonts,getData:()=>s.getData,getFtmData:()=>s.getFtmData,languageFontMapping:()=>o.languageFontMapping});var s=i("./src/data/api-data.ts"),n=i("./src/data/data-modal.ts"),a=i("./src/data/game-score.ts"),o=i("./src/data/i18-font-mapping.ts"),r=i("./src/data/custom-fonts.ts")},"./src/events/index.ts":(t,e,i)=>{i.r(e),i.d(e,{EventManager:()=>n});var s=i("./src/common/index.ts");class n{handler;stoneDropCallbackHandler;loadPuzzleCallbackHandler;constructor(t){this.handler=t,this.stoneDropCallbackHandler=t.stoneDropCallbackHandler,this.loadPuzzleCallbackHandler=t.loadPuzzleCallbackHandler,document.addEventListener(s.STONEDROP,this.handleStoneDroppedEvent,!1),document.addEventListener(s.LOADPUZZLE,this.handleLoadPuzzleEvent,!1)}handleStoneDroppedEvent=t=>{this.stoneDropCallbackHandler(t)};handleLoadPuzzleEvent=t=>{this.loadPuzzleCallbackHandler(t)};unregisterEventListener=()=>{document.removeEventListener(s.STONEDROP,this.handleStoneDroppedEvent,!1),document.removeEventListener(s.LOADPUZZLE,this.handleLoadPuzzleEvent,!1)}}},"./src/events/pub-sub-events.ts":(t,e,i)=>{i.r(e),i.d(e,{PubSub:()=>s});class s{subscribers;EVENTS;constructor(){this.subscribers={},this.EVENTS={SCENE_NAME_EVENT:"SCENE_NAME_EVENT",GAMEPLAY_DATA_EVENT:"GAMEPLAY_DATA_EVENT",GAME_PAUSE_STATUS_EVENT:"GAME_PAUSE_STATUS_EVENT",GAME_TRAIL_EFFECT_TOGGLE_EVENT:"GAME_TRAIL_EFFECT_TOGGLE_EVENT"}}testCheckSubscribers(){console.log("this.subscribers ",this.subscribers)}subscribe(t,e){const i=Array.isArray(this.subscribers[t]);this.subscribers[t]=i?[...this.subscribers[t],e]:[e]}unsubscribe(t,e){this.subscribers[t]&&(this.subscribers[t]=this.subscribers[t].filter((t=>t!==e)))}publish(t,e){this.subscribers[t]&&this.subscribers[t].forEach((t=>{t(e)}))}}},"./src/gameStateService/data-access-objects.ts":(t,e,i)=>{i.r(e),i.d(e,{createGameplaySceneDAO:()=>s});const s=t=>{const e=t.majVersion&&t.minVersion?t.majVersion.toString()+"."+t.minVersion.toString():"";return{canvas:t.canvas,width:t.width,height:t.height,canavsElement:t.canavsElement,gameCanvasContext:t.gameCanvasContext,levelData:{...t.gamePlayData.currentLevelData},levelNumber:t.gamePlayData.selectedLevelNumber,feedBackTexts:{...t.feedbackTexts},rightToLeft:t?.rightToLeft,jsonVersionNumber:e,feedbackAudios:{...t.feedbackAudios},isGamePaused:t.isGamePaused}}},"./src/gameStateService/game-data.ts":(t,e,i)=>{i.r(e),i.d(e,{GameData:()=>n});var s=i("./src/constants/index.ts");class n{data;canvas;width;height;canavsElement;context;gameCanvasContext;isGamePaused;currentScene;previousScene;gamePlayData;feedbackTexts;rightToLeft;majVersion;minVersion;feedbackAudios;clickTrailToggle;constructor(){this.data=null,this.canvas=null,this.width=null,this.height=null,this.canavsElement=null,this.context=null,this.gameCanvasContext=null,this.currentScene=s.SCENE_NAME_START,this.previousScene="",this.isGamePaused=!1,this.gamePlayData=null,this.feedbackAudios=null,this.feedbackTexts=null,this.rightToLeft=!1,this.majVersion=null,this.minVersion=null,this.clickTrailToggle=!1}}},"./src/gameStateService/game-state-service.ts":(t,e,i)=>{i.r(e),i.d(e,{GameStateService:()=>o,default:()=>r});var s=i("./src/events/pub-sub-events.ts"),n=i("./src/gameStateService/game-data.ts"),a=i("./src/gameStateService/data-access-objects.ts");class o extends s.PubSub{gameData;constructor(){super(),this.gameData=new n.GameData,this.gameStateSetSceneListener=this.gameStateSetSceneListener.bind(this),this.gameStateGamePlayDataListener=this.gameStateGamePlayDataListener.bind(this),this.updateGamePauseActivity=this.updateGamePauseActivity.bind(this),this.updateGameTrailToggle=this.updateGameTrailToggle.bind(this),this.initListeners()}initListeners(){this.subscribe(this.EVENTS.SCENE_NAME_EVENT,this.gameStateSetSceneListener),this.subscribe(this.EVENTS.GAMEPLAY_DATA_EVENT,this.gameStateGamePlayDataListener),this.subscribe(this.EVENTS.GAME_PAUSE_STATUS_EVENT,this.updateGamePauseActivity),this.subscribe(this.EVENTS.GAME_TRAIL_EFFECT_TOGGLE_EVENT,this.updateGameTrailToggle)}gameStateSetSceneListener(t){}gameStateGamePlayDataListener(t){this.gameData.gamePlayData=t,this.gameData.isGamePaused=!1}updateGamePauseActivity(t){this.gameData.isGamePaused=t}updateGameTrailToggle(t){this.gameData.clickTrailToggle=t}setDefaultGameStateValues(t,e,i){this.gameData.data=t,this.gameData.canvas=e,this.gameData.width=e.width,this.gameData.height=e.height,this.gameData.canavsElement=i,this.gameData.context=i.getContext("2d"),this.gameData.gameCanvasContext=e.getContext("2d",{willReadFrequently:!0}),this.gameData.feedbackTexts=t.FeedbackTexts,this.gameData.feedbackAudios=t.FeedbackAudios,this.gameData.rightToLeft=t.rightToLeft,this.gameData.majVersion=t.majVersion,this.gameData.minVersion=t.minVersion}getGamePlaySceneDetails(){return(0,a.createGameplaySceneDAO)(this.gameData)}}const r=new o},"./src/gameStateService/index.ts":(t,e,i)=>{i.r(e),i.d(e,{default:()=>s});const s=i("./src/gameStateService/game-state-service.ts").default},"./src/gamepuzzles/index.ts":(t,e,i)=>{i.r(e),i.d(e,{WordPuzzleLogic:()=>s.default});var s=i("./src/gamepuzzles/wordPuzzleLogic.ts")},"./src/gamepuzzles/wordPuzzleLogic.ts":(t,e,i)=>{i.r(e),i.d(e,{default:()=>s});class s{levelData;puzzleNumber;groupedLetters;droppedLetters;groupedObj;droppedHistory;hideListObj;constructor(t,e){this.levelData=t,this.puzzleNumber=e,this.groupedLetters="",this.droppedLetters="",this.groupedObj={},this.droppedHistory={},this.hideListObj={}}getTargetWord(){return this.levelData.puzzles[this.puzzleNumber]?.prompt?.promptText}getValues(){return{groupedLetters:this.groupedLetters,droppedLetters:this.droppedLetters,groupedObj:{...this.groupedObj},droppedHistory:{...this.droppedHistory},hideListObj:{...this.hideListObj}}}checkIsWordPuzzle(){return"Word"===this.levelData?.levelMeta?.levelType}updatePuzzleLevel(t){this.clearAllValues(),this.puzzleNumber=t}clearPickedUp(){this.groupedLetters="",this.groupedObj={},this.hideListObj={...this.droppedHistory}}clearAllValues(){this.groupedLetters="",this.droppedLetters="",this.groupedObj={},this.droppedHistory={},this.hideListObj={},this.puzzleNumber=0}validateShouldHideLetter(t){return!this.hideListObj[t]}handleCheckHoveredStone(t,e){const i=this.groupedLetters,s=this.getTargetWord();if(!this.droppedLetters.length&&s[0]!==i[0])return!1;const n=!i.includes(t),a=!this.groupedObj[e];return s.includes(`${this.droppedLetters}${i}${t}`)&&(n||a)}validateFedLetters(){const t=this.getTargetWord();return this.droppedLetters===t.substring(0,this.droppedLetters.length)}validateWordPuzzle(){const t=this.getTargetWord();return this.droppedLetters===t}setGroupToDropped(){this.droppedLetters=`${this.droppedLetters}${this.groupedLetters}`,this.droppedHistory={...this.droppedHistory,...this.groupedObj}}setPickUpLetter(t,e){this.hideListObj={...this.hideListObj,...this.groupedObj},this.groupedLetters=`${this.groupedLetters}${t}`,this.groupedObj[e]=t}}},"./src/sceneHandler/index.ts":(t,e,i)=>{i.r(e),i.d(e,{SceneHandler:()=>h});var s=i("./src/scenes/index.ts"),n=i("./src/data/index.ts"),a=i("./src/common/index.ts"),o=i("./src/constants/index.ts"),r=i("./src/gameStateService/index.ts");class h{canvas;data;width;height;startScene;levelSelectionScene;gameplayScene;levelEndScene;canavsElement;context;static SceneName;loadingScreen;loading=!1;lastTime=0;toggleBtn;titleTextElement;constructor(t,e){r.default.setDefaultGameStateValues(e,t,document.getElementById("canvas")),this.canvas=t,this.data=e,this.width=t.width,this.height=t.height,this.canavsElement=document.getElementById("canvas"),this.toggleBtn=document.getElementById("toggle-btn"),this.titleTextElement=document.getElementById("title"),window.addEventListener("beforeinstallprompt",this.handleInstallPrompt),this.context=this.canavsElement.getContext("2d"),this.startScene=new s.StartScene(t,e,this.switchSceneToLevelSelection),h.SceneName=o.SCENE_NAME_START,this.loadingScreen=new s.LoadingScene(this.width,this.height,this.removeLoading),this.startAnimationLoop()}startAnimationLoop(){const t=e=>{this.animation(e),requestAnimationFrame(t)};requestAnimationFrame(t)}devToggle(){this.toggleBtn.addEventListener("click",(()=>{this.toggleBtn.classList.toggle("on"),this.toggleBtn.classList.contains("on")?(a.Debugger.DebugMode=!0,this.toggleBtn.innerText="Dev"):(a.Debugger.DebugMode=!1,this.toggleBtn.innerText="Dev")}))}checkMonsterPhaseUpdation(){let t=n.GameScore.getTotalStarCount(),e=Math.floor(t/12)+1||1;return e<=4?e:4}animation=t=>{let e=t-this.lastTime;this.lastTime=t,this.context.clearRect(0,0,this.width,this.height),this.loading&&this.loadingScreen.draw(e),h.SceneName===o.SCENE_NAME_START?this.startScene.animation(e):h.SceneName===o.SCENE_NAME_LEVEL_SELECT?this.levelSelectionScene.drawLevelSelection():h.SceneName===o.SCENE_NAME_GAME_PLAY?this.gameplayScene.draw(e):h.SceneName===o.SCENE_NAME_LEVEL_END&&this.levelEndScene.draw(e)};switchSceneToGameplay=t=>{this.showLoading(),this.dispose(t),setTimeout((()=>{this.gameplayScene=new s.GameplayScene({monsterPhaseNumber:this.checkMonsterPhaseUpdation(),switchSceneToEnd:this.switchSceneToEndLevel,switchToLevelSelection:()=>{this.switchSceneToLevelSelection(o.SCENE_NAME_GAME_PLAY)},reloadScene:this.switchSceneToGameplay}),h.SceneName=o.SCENE_NAME_GAME_PLAY}),800)};switchSceneToEndLevel=(t,e,i,n)=>{this.loadingScreen.initCloud(),setTimeout((()=>{this.dispose(o.SCENE_NAME_GAME_PLAY),this.levelEndScene=new s.LevelEndScene(this.canvas,this.height,this.width,this.context,t,i,this.switchSceneToGameplay,this.switchSceneToLevelSelection,this.data,e),h.SceneName=o.SCENE_NAME_LEVEL_END}),n?0:4e3)};switchSceneToLevelSelection=t=>{r.default.testCheckSubscribers(),this.showLoading(),this.dispose(t),setTimeout((()=>{this.levelSelectionScene=new s.LevelSelectionScreen(this.canvas,this.data,this.switchSceneToGameplay),h.SceneName=o.SCENE_NAME_LEVEL_SELECT,this.titleTextElement.style.display="none"}),800)};dispose=t=>{t==o.SCENE_NAME_LEVEL_SELECT?this.levelSelectionScene.dispose():t===o.SCENE_NAME_GAME_PLAY?this.gameplayScene.dispose():t===o.SCENE_NAME_START?this.startScene.dispose():t==o.SCENE_NAME_LEVEL_END&&this.levelEndScene.dispose()};showLoading=()=>{this.loadingScreen.initCloud(),this.loading=!0,document.getElementById("loading").style.zIndex="3"};removeLoading=()=>{document.getElementById("loading").style.zIndex="-1",this.loading=!1};handleInstallPrompt=t=>{t.preventDefault(),localStorage.setItem(o.PWAInstallStatus,"false")}}},"./src/scenes/gameplay-scene.ts":(t,e,i)=>{i.r(e),i.d(e,{GameplayScene:()=>u});var s=i("./src/components/index.ts"),n=i("./src/components/popups/pause-popup.ts"),a=i("./src/common/index.ts"),o=i("./src/data/index.ts"),r=i("./src/Firebase/firebase-integration.ts"),h=i("./src/constants/index.ts"),l=i("./src/compositions/index.ts"),c=i("./src/gamepuzzles/index.ts"),d=i("./src/gameStateService/index.ts");class u{width;height;monster;jsonVersionNumber;canvas;levelData;timerTicking;promptText;pauseButton;tutorial;id;context;levelIndicators;stonesCount=1;monsterPhaseNumber;pickedStone;puzzleStartTime;showTutorial;feedBackTexts;isPuzzleCompleted;rightToLeft;imagesLoaded=!1;switchSceneToEnd;levelNumber;loadedImages;stoneHandler;counter=0;images;handler;pickedStoneObject;pausePopup;isPauseButtonClicked;background;feedBackTextCanavsElement;feedbackTextEffects;isGameStarted=!1;time=0;score=0;switchToLevelSelection;reloadScene;audioPlayer;firebaseIntegration;startTime;puzzleTime;isDisposing;resetAnimationID;trailParticles;hasFed;wordPuzzleLogic;constructor({monsterPhaseNumber:t,switchSceneToEnd:e,switchToLevelSelection:i,reloadScene:o}){const l=d.default.getGamePlaySceneDetails();this.isPauseButtonClicked=l?.isGamePaused,this.width=l.width,this.height=l.height,this.rightToLeft=l.rightToLeft,this.canvas=l.canvas,this.context=l.gameCanvasContext,this.levelData=l.levelData,this.levelNumber=l.levelNumber,this.jsonVersionNumber=l.jsonVersionNumber,this.feedBackTexts=l.feedBackTexts,this.monsterPhaseNumber=t||1,this.switchSceneToEnd=e,this.switchToLevelSelection=i,this.reloadScene=o,this.handler=document.getElementById("canvas"),this.isDisposing=!1,this.trailParticles=new s.TrailEffect(this.canvas),this.pauseButton=new s.PauseButton(this.context,this.canvas),this.timerTicking=new s.TimerTicking(this.width,this.height,this.loadPuzzle),this.stoneHandler=new s.StoneHandler(this.context,this.canvas,this.counter,this.levelData,l.feedbackAudios,this.timerTicking),this.tutorial=new s.Tutorial(this.context,this.width,this.height),this.promptText=new s.PromptText(this.width,this.height,this.levelData.puzzles[this.counter],this.levelData,this.rightToLeft),this.levelIndicators=new s.LevelIndicators(this.context,this.canvas,0),this.levelIndicators.setIndicators(this.counter),this.monster=new s.Monster(this.canvas,this.monsterPhaseNumber),this.pausePopup=new n.default(this.canvas,this.resumeGame,this.switchToLevelSelection,this.reloadScene,{currentLevelData:this.levelData,selectedLevelNumber:this.levelNumber}),this.images={profileMonster:h.ASSETS_PATH_MONSTER_IDLE},this.resetAnimationID=0,(0,a.loadImages)(this.images,(t=>{this.loadedImages=Object.assign({},t),this.imagesLoaded=!0})),this.hasFed=!1;var u=this.levelData.levelMeta.levelNumber;a.Debugger.DebugMode?localStorage.setItem(h.PreviousPlayedLevel+a.lang+"Debug",u):localStorage.setItem(h.PreviousPlayedLevel+a.lang,u),this.addEventListeners(),this.setupBg(),this.startGameTime(),this.startPuzzleTime(),this.firebaseIntegration=new r.FirebaseIntegration,this.feedbackTextEffects=new s.FeedbackTextEffects,this.audioPlayer=new s.AudioPlayer,this.wordPuzzleLogic=new c.WordPuzzleLogic(this.levelData,this.counter),this.gameplayPauseListener=this.gameplayPauseListener.bind(this),d.default.subscribe(d.default.EVENTS.GAME_PAUSE_STATUS_EVENT,this.gameplayPauseListener),d.default.testCheckSubscribers()}gameplayPauseListener(t){this.isPauseButtonClicked=t}setupBg=async()=>{const{BG_GROUP_IMGS:t,draw:e}=(0,l.loadDynamicBgAssets)(this.levelData.levelNumber,l.BACKGROUND_ASSET_LIST);this.background=await(0,l.createBackground)(this.context,this.width,this.height,t,e)};resumeGame=()=>{this.addEventListeners(),this.pausePopup.dispose()};getRandomFeedBackText(t){const e=Object.keys(this.feedBackTexts)[t];return this.feedBackTexts[e]}getRandomInt(t,e){const i=Object.values(this.feedBackTexts).filter((t=>null!=t)).length-1;return Math.floor(Math.random()*(i-t+1))+t}handleMouseUp=t=>{let e=this.canvas.getBoundingClientRect();const i=t.clientX-e.left,s=t.clientY-e.top;if(Math.sqrt((i-this.monster.x-this.canvas.width/4)**2+(s-this.monster.y-this.canvas.height/2.2)**2)<=100&&this.pickedStone){const{text:t}=this.pickedStone;switch(this.levelData.levelMeta.levelType){case"LetterOnly":case"LetterInWord":this.letterPuzzle(t);break;case"Word":case"SoundWord":this.wordPuzzle(this.pickedStone)}}else if(this.pickedStone&&this.pickedStoneObject&&this.pickedStone.text&&"number"==typeof this.pickedStoneObject.origx&&"number"==typeof this.pickedStoneObject.origy){const t=50,e=this.width/2;this.pickedStone.x=this.pickedStone.text.length<=3&&this.pickedStoneObject.origx<t&&this.pickedStoneObject.origx<e?this.pickedStoneObject.origx+25:this.pickedStoneObject.origx,this.pickedStone.y=this.pickedStoneObject.origy}this.pickedStone=null,this.wordPuzzleLogic.clearPickedUp(),d.default.publish(d.default.EVENTS.GAME_TRAIL_EFFECT_TOGGLE_EVENT,!1)};handleMouseDown=t=>{let e=this.canvas.getBoundingClientRect();const i=t.clientX-e.left,s=t.clientY-e.top;if(this.wordPuzzleLogic.checkIsWordPuzzle())this.setPickedUp(i,s);else for(let t of this.stoneHandler.foilStones){if(Math.sqrt((i-t.x)**2+(s-t.y)**2)<=40){this.pickedStoneObject=t,this.pickedStone=t,this.audioPlayer.playAudio(h.AUDIO_PATH_ON_DRAG);break}}d.default.publish(d.default.EVENTS.GAME_TRAIL_EFFECT_TOGGLE_EVENT,!0)};setPickedUp(t,e){const i=this.stoneHandler.handlePickStoneUp(t,e);i&&(this.pickedStoneObject=i,this.pickedStone=i,this.audioPlayer.playAudio(h.AUDIO_PATH_ON_DRAG),"Word"===this.levelData?.levelMeta?.levelType&&this.wordPuzzleLogic.setPickUpLetter(i?.text,i?.foilStoneIndex))}handleMouseMove=t=>{let e=t.clientX,i=t.clientY;if(this.pickedStone){if(this.wordPuzzleLogic.checkIsWordPuzzle()){const s=this.stoneHandler.handleMovingStoneLetter(this.pickedStone,t.clientX,t.clientY);if(this.pickedStone=s,e=s.x,i=s.y,this.wordPuzzleLogic.checkIsWordPuzzle()){const t=this.stoneHandler.handleHoveringToAnotherStone(e,i,((t,e)=>this.wordPuzzleLogic.handleCheckHoveredStone(t,e)));t&&(this.wordPuzzleLogic.setPickUpLetter(t?.text,t?.foilStoneIndex),this.pickedStone=this.stoneHandler.resetStonePosition(this.width,this.pickedStone,this.pickedStoneObject),this.pickedStoneObject=t,this.pickedStone=t)}}else{let s=this.canvas.getBoundingClientRect();const n=t.clientX-s.left,a=t.clientY-s.top;this.monster.changeToDragAnimation(),this.pickedStone.x=n,this.pickedStone.y=a,e=n,i=a}this.monster.changeToDragAnimation()}this.trailParticles?.addTrailParticlesOnMove(e,i)};handleMouseClick=t=>{let e=this.canvas.getBoundingClientRect();const i=t.clientX-e.left,s=t.clientY-e.top;this.monster.onClick(i,s)&&(this.isGameStarted=!0,this.time=0,this.tutorial.setPlayMonsterClickAnimation(!1)),this.pauseButton.onClick(i,s)&&(this.audioPlayer.playButtonClickSound(),this.pauseGamePlay()),this.promptText.onClick(i,s)&&this.promptText.playSound()};handleTouchStart=t=>{const e=t.touches[0];this.handleMouseDown({clientX:e.clientX,clientY:e.clientY}),this.trailParticles?.resetParticles()};handleTouchMove=t=>{const e=t.touches[0];this.handleMouseMove({clientX:e.clientX,clientY:e.clientY}),this.trailParticles?.addTrailParticlesOnMove(e.clientX,e.clientY)};handleTouchEnd=t=>{const e=t.changedTouches[0];this.handleMouseUp({clientX:e.clientX,clientY:e.clientY}),this.hasFed||this.monster.changeToIdleAnimation(),this.trailParticles?.resetParticles()};draw(t){this.isGameStarted||this.isPauseButtonClicked||(this.time=this.time+t,this.time>=5e3&&(this.isGameStarted=!0,this.time=0,this.tutorial.setPlayMonsterClickAnimation(!1))),this.imagesLoaded&&this.background?.draw(),this.pauseButton.draw(),this.levelIndicators.draw(),this.promptText.draw(t),this.monster.update(t),this.timerTicking.draw(),this.trailParticles?.draw(),this.isPauseButtonClicked&&this.isGameStarted&&(this.handleStoneLetterDrawing(t),this.pausePopup.draw()),this.isPauseButtonClicked||this.isGameStarted||0==this.counter&&this.tutorial.clickOnMonsterTutorial(t),this.isPauseButtonClicked&&!this.isGameStarted&&this.pausePopup.draw(),!this.isPauseButtonClicked&&this.isGameStarted&&this.handleStoneLetterDrawing(t)}handleStoneLetterDrawing(t){if(this.wordPuzzleLogic.checkIsWordPuzzle()){const{groupedObj:e}=this.wordPuzzleLogic.getValues();this.stoneHandler.drawWordPuzzleLetters(t,(t=>this.wordPuzzleLogic.validateShouldHideLetter(t)),e)}else this.stoneHandler.draw(t)}addEventListeners(){this.handler.addEventListener(a.MOUSEUP,this.handleMouseUp,!1),this.handler.addEventListener(a.MOUSEMOVE,this.handleMouseMove,!1),this.handler.addEventListener(a.MOUSEDOWN,this.handleMouseDown,!1),this.handler.addEventListener(a.TOUCHSTART,this.handleTouchStart,!1),this.handler.addEventListener(a.TOUCHMOVE,this.handleTouchMove,!1),this.handler.addEventListener(a.TOUCHEND,this.handleTouchEnd,!1),this.handler.addEventListener(a.CLICK,this.handleMouseClick,!1),document.addEventListener(a.VISIBILITY_CHANGE,this.handleVisibilityChange,!1)}removeEventListeners(){this.handler.removeEventListener(a.CLICK,this.handleMouseClick,!1),this.handler.removeEventListener("mouseup",this.handleMouseUp,!1),this.handler.removeEventListener("mousemove",this.handleMouseMove,!1),this.handler.removeEventListener("mousedown",this.handleMouseDown,!1),this.handler.removeEventListener("touchstart",this.handleTouchStart,!1),this.handler.removeEventListener("touchmove",this.handleTouchMove,!1),this.handler.removeEventListener("touchend",this.handleTouchEnd,!1)}loadPuzzle=t=>{this.removeEventListeners(),this.stonesCount=1;const e=Boolean(t);if(e&&this.logPuzzleEndFirebaseEvent(!1),this.counter+=1,this.isGameStarted=!1,this.counter===this.levelData.puzzles.length)this.levelIndicators.setIndicators(this.counter),this.logLevelEndFirebaseEvent(),o.GameScore.setGameLevelScore(this.levelData,this.score),this.switchSceneToEnd(o.GameScore.calculateStarCount(this.score),this.monsterPhaseNumber,this.levelNumber,e);else{const t=new CustomEvent(a.LOADPUZZLE,{detail:{counter:this.counter}});setTimeout((()=>{this.isDisposing||this.initNewPuzzle(t)}),e?0:4500)}};dispose=()=>{this.trailParticles.clearTrailSubscription(),d.default.unsubscribe(d.default.EVENTS.GAME_PAUSE_STATUS_EVENT,this.gameplayPauseListener),this.isDisposing=!0,this.audioPlayer.stopAllAudios(),this.monster.dispose(),this.timerTicking.dispose(),this.levelIndicators.dispose(),this.stoneHandler.dispose(),this.promptText.dispose(),document.removeEventListener(a.VISIBILITY_CHANGE,this.handleVisibilityChange,!1),this.removeEventListeners()};checkStoneDropped(t,e,i=!1){return this.hasFed=!0,this.stoneHandler.isStoneLetterDropCorrect(t,e,i)}letterPuzzle(t){const e=this.getRandomInt(0,1),i=this.checkStoneDropped(t,e);i&&this.handleCorrectStoneDrop(e),this.handleStoneDropEnd(i)}wordPuzzle(t){this.audioPlayer.stopFeedbackAudio(),t.x=-999,t.y=-999;const e=this.getRandomInt(0,1);this.hasFed=!0,this.wordPuzzleLogic.setGroupToDropped();const{droppedLetters:i}=this.wordPuzzleLogic.getValues(),s=this.wordPuzzleLogic.validateFedLetters();if(this.stoneHandler.processLetterDropFeedbackAudio(e,s,!0,i),s){if(this.wordPuzzleLogic.validateWordPuzzle())return this.handleCorrectStoneDrop(e),this.handleStoneDropEnd(s,"Word"),void(this.stonesCount=1);this.timerTicking.startTimer(),this.monster.changeToEatAnimation(),this.promptText.droppedStoneIndex("arabic"==a.lang?this.stonesCount:i.length),this.stonesCount++,this.resetToIdleAnimation((()=>{this.monster.changeToIdleAnimation(),this.hasFed=!1}),2e3)}else this.handleStoneDropEnd(s,"Word"),this.stonesCount=1}resetToIdleAnimation(t,e){void 0!==this.resetAnimationID&&clearTimeout(this.resetAnimationID),this.resetAnimationID=setTimeout(t,e)}handleStoneDropEnd(t,e=null){this.logPuzzleEndFirebaseEvent(t,e),this.dispatchStoneDropEvent(t),this.loadPuzzle()}handleCorrectStoneDrop=t=>{this.score+=100,this.feedbackTextEffects.wrapText(this.getRandomFeedBackText(t))};dispatchStoneDropEvent(t){const e=new CustomEvent(a.STONEDROP,{detail:{isCorrect:t}});document.dispatchEvent(e)}initNewPuzzle(t){this.removeEventListeners(),this.isGameStarted=!1,this.time=0,this.wordPuzzleLogic.updatePuzzleLevel(t?.detail?.counter),this.pickedStone=null,document.dispatchEvent(t),this.addEventListeners(),this.audioPlayer.stopAllAudios(),this.startPuzzleTime(),this.hasFed=!1}logPuzzleEndFirebaseEvent(t,e){let i=Date.now();const{droppedLetters:s}=this.wordPuzzleLogic.getValues(),n={cr_user_id:a.pseudoId,ftm_language:a.lang,profile_number:0,version_number:document.getElementById("version-info-id").innerHTML,json_version_number:this.jsonVersionNumber,success_or_failure:t?"success":"failure",level_number:this.levelData.levelMeta.levelNumber,puzzle_number:this.counter,item_selected:"Word"==e?null==s||null==s?"TIMEOUT":s:null==this.pickedStone||null==this.pickedStone?"TIMEOUT":this.pickedStone?.text,target:this.stoneHandler.getCorrectTargetStone(),foils:this.stoneHandler.getFoilStones(),response_time:(i-this.puzzleTime)/1e3};this.firebaseIntegration.sendPuzzleCompletedEvent(n)}logLevelEndFirebaseEvent(){let t=Date.now();const e={cr_user_id:a.pseudoId,ftm_language:a.lang,profile_number:0,version_number:document.getElementById("version-info-id").innerHTML,json_version_number:this.jsonVersionNumber,success_or_failure:o.GameScore.calculateStarCount(this.score)>=3?"success":"failure",number_of_successful_puzzles:this.score/100,level_number:this.levelData.levelMeta.levelNumber,duration:(t-this.startTime)/1e3};this.firebaseIntegration.sendLevelCompletedEvent(e)}startGameTime(){this.startTime=Date.now()}startPuzzleTime(){this.puzzleTime=Date.now()}pauseGamePlay=()=>{this.removeEventListeners(),this.pausePopup.addListner(),this.audioPlayer.stopAllAudios()};handleVisibilityChange=()=>{this.audioPlayer.stopAllAudios(),d.default.publish(d.default.EVENTS.GAME_PAUSE_STATUS_EVENT,!0),this.pauseGamePlay()}}},"./src/scenes/index.ts":(t,e,i)=>{i.r(e),i.d(e,{GameplayScene:()=>s.GameplayScene,LevelEndScene:()=>a.LevelEndScene,LevelSelectionScreen:()=>n.LevelSelectionScreen,LoadingScene:()=>o.LoadingScene,StartScene:()=>r.StartScene,TestGameplayScene:()=>h.TestGameplayScene});var s=i("./src/scenes/gameplay-scene.ts"),n=i("./src/scenes/level-selection-scene.ts"),a=i("./src/scenes/levelend-scene.ts"),o=i("./src/scenes/loading-scene.ts"),r=i("./src/scenes/start-scene.ts"),h=i("./src/scenes/test-gameplay-scene.ts")},"./src/scenes/level-selection-scene.ts":(t,e,i)=>{i.r(e),i.d(e,{LevelSelectionScreen:()=>d});var s=i("./src/common/index.ts"),n=i("./src/components/index.ts"),a=i("./src/data/index.ts"),o=i("./src/Firebase/firebase-integration.ts"),r=i("./src/compositions/index.ts"),h=i("./src/constants/index.ts"),l=i("./src/components/buttons/index.ts"),c=i("./src/gameStateService/index.ts");class d{canvas;data;width;height;canvasElement;context;levels;gameLevelData;callBack;audioPlayer;images;loadedImages;imagesLoaded=!1;xDown;yDown;previousPlayedLevelNumber;levelSelectionPageIndex=0;levelNumber;levelsSectionCount;unlockLevelIndex;majVersion;minVersion;firebaseIntegration;background;rightBtnSize;rightBtnX;rightBtnY;leftBtnSize;leftBtnX;leftBtnY;levelButtons;constructor(t,e,i){this.canvas=t,this.data=e,this.width=t.width,this.height=t.height;let r=this;this.callBack=i,this.levelsSectionCount=r.data.levels.length/10>Math.floor(r.data.levels.length/10)?Math.floor(r.data.levels.length/10)+1:Math.floor(r.data.levels.length/10),this.levels=[],this.firebaseIntegration=new o.FirebaseIntegration,this.init(),this.canvasElement=document.getElementById("canvas"),this.context=this.canvasElement.getContext("2d"),this.createLevelButtons(),this.gameLevelData=a.GameScore.getAllGameLevelInfo(),this.audioPlayer=new n.AudioPlayer,this.unlockLevelIndex=-1,this.previousPlayedLevelNumber=0|parseInt(s.Debugger.DebugMode?localStorage.getItem(h.PreviousPlayedLevel+s.lang+"Debug"):localStorage.getItem(h.PreviousPlayedLevel+s.lang)),null!=this.previousPlayedLevelNumber&&(this.levelSelectionPageIndex=10*Math.floor(this.previousPlayedLevelNumber/10)),this.setupBg(),this.images={nextbtn:h.NEXT_BTN_IMG,backbtn:h.BACK_BTN_IMG},(0,s.loadImages)(this.images,(t=>{this.loadedImages=Object.assign({},t),this.imagesLoaded=!0,"visible"===document.visibilityState&&this.audioPlayer.playAudio(h.AUDIO_INTRO)})),this.addListeners(),this.rightBtnSize=10,this.rightBtnX=.73,this.rightBtnY=1.3,this.leftBtnSize=10,this.leftBtnX=10,this.leftBtnY=1.3}async init(){const t=await(0,a.getData)();this.majVersion=t.majversion,this.minVersion=t.minversion}setupBg=async()=>{this.background=await(0,r.createBackground)(this.context,this.width,this.height,{LEVEL_SELECTION_BACKGROUND:h.LEVEL_SELECTION_BACKGROUND},r.levelSelectBgDrawing)};async createLevelButtons(){const t=await(0,r.loadLevelImages)(),e=(0,r.getdefaultCloudBtnsPos)(this.canvas)[0].map(((e,i)=>(0,r.createLevelObject)(e[0],e[1],i+1,t)));this.levels=await Promise.all(e),this.levelButtons=this.levels.map((t=>new l.LevelBloonButton(this.canvas,this.context,{...t})))}addListeners(){document.getElementById("canvas").addEventListener("mousedown",this.handleMouseDown,!1),document.addEventListener("visibilitychange",this.pausePlayAudios,!1),document.getElementById("canvas").addEventListener("touchstart",this.handleTouchStart,!1),document.getElementById("canvas").addEventListener("touchmove",this.handleTouchMove,!1)}pausePlayAudios=()=>{"visible"===document.visibilityState?this.audioPlayer.playAudio(h.AUDIO_INTRO):this.audioPlayer.stopAllAudios()};getTouches(t){return t.touches||t.originalEvent.touches}handleTouchStart=t=>{const e=this.getTouches(t)[0];this.xDown=e.clientX,this.yDown=e.clientY};handleTouchMove=t=>{if(!this.xDown||!this.yDown)return;let e=t.touches[0].clientX,i=t.touches[0].clientY,s=this.xDown-e,n=this.yDown-i;Math.abs(s)>Math.abs(n)&&(s>0?this.levelSelectionPageIndex!=10*this.levelsSectionCount-10&&(this.levelSelectionPageIndex=this.levelSelectionPageIndex+10,this.downButton(this.levelSelectionPageIndex)):(0!=this.levelSelectionPageIndex&&(this.levelSelectionPageIndex=this.levelSelectionPageIndex-10),this.downButton(this.levelSelectionPageIndex))),this.xDown=null,this.yDown=null};handleMouseDown=t=>{t.preventDefault();let e=document.getElementById("canvas").getBoundingClientRect();const i=t.clientX-e.left,s=t.clientY-e.top,n=(t,e=1.3)=>i>=t&&i<t+this.canvas.height/10&&s>this.canvas.height/e&&s<this.canvas.height/e+this.canvas.height/10,a=n(.7*this.canvas.width),o=n(this.canvas.width/10);if(o||a){const t=this.levelSelectionPageIndex;a&&t!=10*this.levelsSectionCount-10?(this.audioPlayer.playButtonClickSound(),this.levelSelectionPageIndex=t+10,this.rightBtnSize=10.5,this.rightBtnY=1.299):o&&0!=t&&(this.audioPlayer.playButtonClickSound(),this.levelSelectionPageIndex=t-10,this.leftBtnSize=10.3,this.leftBtnY=1.299),this.downButton(this.levelSelectionPageIndex)}for(let t of this.levelButtons)t.onClick(i,s,this.levelSelectionPageIndex-1,this.unlockLevelIndex+1,(t=>{this.audioPlayer.playButtonClickSound(),this.levelNumber=t+this.levelSelectionPageIndex-1,this.startGame(this.levelNumber)}))};drawLevel(t,e){const i=t.levelData.index+this.levelSelectionPageIndex,n=i-1;this.unlockLevelIndex+1===n&&t.applyPulseEffect(),i<=this.data.levels.length&&(this.checkUnlockedLevel(e),t.draw(this.levelSelectionPageIndex,this.unlockLevelIndex,e,this.data.levels.length),s.Debugger.DebugMode&&this.context.fillText(this.data.levels[i-1].levelMeta.levelType,t.levelData.x+t.btnSize/3.5,t.levelData.y+t.btnSize/1.3))}draw(){for(let t of this.levelButtons)this.drawLevel(t,this.gameLevelData)}downButton(t){t!=10*this.levelsSectionCount-10?(this.context.drawImage(this.loadedImages.nextbtn,this.canvas.width*this.rightBtnX,this.canvas.height/this.rightBtnY,this.canvas.height/this.rightBtnSize,this.canvas.height/this.rightBtnSize),this.rightBtnSize>10&&(this.rightBtnSize=this.rightBtnSize-.025),this.rightBtnY=this.rightBtnSize>10?1.299:1.3):(this.rightBtnSize=10,this.rightBtnX=.7,this.rightBtnY=1.3),0!=t?(this.context.drawImage(this.loadedImages.backbtn,this.canvas.width/this.leftBtnX,this.canvas.height/this.leftBtnY,this.canvas.height/this.leftBtnSize,this.canvas.height/this.leftBtnSize),this.leftBtnSize>10&&(this.leftBtnSize=this.leftBtnSize-.025),this.leftBtnY=this.leftBtnSize>10?1.299:1.3):(this.leftBtnSize=10,this.leftBtnX=10,this.leftBtnY=1.3)}checkUnlockedLevel(t){if(null!=t.length)for(let e of t)this.unlockLevelIndex<parseInt(e.levelNumber)&&e.starCount>=2&&(this.unlockLevelIndex=parseInt(e.levelNumber))}startGame(t){this.dispose(),this.audioPlayer.stopAllAudios();const e={currentLevelData:{...this.data.levels[t],levelNumber:t},selectedLevelNumber:t};c.default.publish(c.default.EVENTS.GAMEPLAY_DATA_EVENT,e),this.logSelectedLevelEvent(),this.callBack(h.SCENE_NAME_LEVEL_SELECT)}logSelectedLevelEvent(){const t={cr_user_id:s.pseudoId,ftm_language:s.lang,profile_number:0,version_number:document.getElementById("version-info-id").innerHTML,json_version_number:this.majVersion&&this.minVersion?this.majVersion.toString()+"."+this.minVersion.toString():"",level_selected:this.levelNumber};this.firebaseIntegration.sendSelectedLevelEvent(t)}drawLevelSelection(){this.imagesLoaded&&(this.background?.draw(),this.draw(),this.downButton(this.levelSelectionPageIndex))}dispose(){this.audioPlayer.stopAllAudios(),document.getElementById("canvas").removeEventListener("mousedown",this.handleMouseDown,!1),document.removeEventListener("visibilitychange",this.pausePlayAudios,!1),document.getElementById("canvas").removeEventListener("touchstart",this.handleTouchStart,!1),document.getElementById("canvas").removeEventListener("touchmove",this.handleTouchMove,!1)}}},"./src/scenes/levelend-scene.ts":(t,e,i)=>{i.r(e),i.d(e,{LevelEndScene:()=>l});var s=i("./src/common/index.ts"),n=i("./src/components/index.ts"),a=i("./src/components/buttons/index.ts"),o=i("./src/compositions/index.ts"),r=i("./src/constants/index.ts"),h=i("./src/gameStateService/index.ts");class l{canvas;height;width;images;loadedImages;imagesLoaded;id;context;monster;closeButton;retryButton;nextButton;starCount;currentLevel;switchToGameplayCB;switchToLevelSelectionCB;data;background;audioPlayer;timeouts;starDrawnCount;isLastLevel;constructor(t,e,i,o,h,l,c,d,u,m){this.canvas=t,this.height=e,this.width=i,this.context=o,this.monster=new n.Monster(this.canvas,m,this.switchToReactionAnimation),this.switchToGameplayCB=c,this.switchToLevelSelectionCB=d,this.data=u,this.starDrawnCount=0,this.closeButton=new a.CloseButton(o,t,.2*this.width-.19*this.width/2,this.height/1.25),this.retryButton=new a.RetryButton(this.context,this.canvas,.5*this.width-.19*this.width/2,this.height/1.25),this.nextButton=new a.NextButton(this.context,this.width,this.height,.8*this.width-.19*this.width/2,this.height/1.25),this.audioPlayer=new n.AudioPlayer,this.starCount=h,this.currentLevel=l,this.images={backgroundImg:r.WIN_BG,star1Img:r.PIN_STAR_1,star2Img:r.PIN_STAR_2,star3Img:r.PIN_STAR_3,winBackgroundImg:r.DEFAULT_BACKGROUND_1},(0,s.loadImages)(this.images,(t=>{this.loadedImages=Object.assign({},t),this.imagesLoaded=!0,this.starAnimation()})),this.addEventListener(),this.audioPlayer=new n.AudioPlayer,this.setupBg(),this.isLastLevel=this.currentLevel!==this.data.levels[this.data.levels.length-1].levelMeta.levelNumber&&this.starCount>=2}setupBg=async()=>{const{BG_GROUP_IMGS:t,draw:e}=(0,o.loadDynamicBgAssets)(this.currentLevel,o.BACKGROUND_ASSET_LIST);this.background=await(0,o.createBackground)(this.context,this.width,this.height,t,e)};switchToReactionAnimation=()=>{this.starCount<=1?((0,s.isDocumentVisible)()&&this.audioPlayer.playAudio(r.AUDIO_LEVEL_LOSE),this.monster.changeToSpitAnimation()):((0,s.isDocumentVisible)()&&(this.audioPlayer.playAudio(r.AUDIO_LEVEL_WIN),this.audioPlayer.playAudio(r.AUDIO_INTRO)),this.monster.changeToEatAnimation())};draw(t){this.background?.draw(),this.imagesLoaded&&(this.context.drawImage(this.loadedImages.backgroundImg,0,0,this.width,this.height+.12*this.height),this.drawStars(),this.monster.update(t),this.closeButton.draw(),this.retryButton.draw(),this.isLastLevel&&this.nextButton.draw())}starAnimation(){this.timeouts=[{delay:500,count:1},{delay:1e3,count:2},{delay:1500,count:3}].map((t=>setTimeout((()=>{this.starDrawnCount=t.count}),t.delay)))}drawStars(){this.starCount>=1&&this.starDrawnCount>=1&&(this.context.drawImage(this.loadedImages.star1Img,.2*this.width-.19*this.width/2,.2*this.height,.19*this.width,.19*this.width),this.starCount<=3&&this.starCount>1&&this.starDrawnCount<=3&&this.starDrawnCount>1&&(this.context.drawImage(this.loadedImages.star2Img,.5*this.width-.19*this.width/2,.15*this.height,.19*this.width,.19*this.width),this.starCount>=3&&this.starDrawnCount>=3&&this.context.drawImage(this.loadedImages.star3Img,.82*this.width-.19*this.width/2,.2*this.height,.19*this.width,.19*this.width)))}addEventListener(){document.getElementById("canvas").addEventListener(s.CLICK,this.handleMouseClick,!1),document.addEventListener("visibilitychange",this.pauseAudios,!1)}handleMouseClick=t=>{var e=document.getElementById("canvas").getBoundingClientRect();const i=t.clientX-e.left,s=t.clientY-e.top;if(this.closeButton.onClick(i,s)&&(this.audioPlayer.playButtonClickSound(),this.switchToLevelSelectionCB(r.SCENE_NAME_LEVEL_END)),this.retryButton.onClick(i,s)){this.audioPlayer.playButtonClickSound();const t={currentLevelData:{...this.data.levels[this.currentLevel],levelNumber:this.currentLevel},selectedLevelNumber:this.currentLevel};h.default.publish(h.default.EVENTS.GAMEPLAY_DATA_EVENT,t),this.switchToGameplayCB(r.SCENE_NAME_LEVEL_END)}if(this.isLastLevel&&this.nextButton.onClick(i,s)){this.audioPlayer.playButtonClickSound();const t=Number(this.currentLevel)+1,e={currentLevelData:{...this.data.levels[t],levelNumber:t},selectedLevelNumber:t};h.default.publish(h.default.EVENTS.GAMEPLAY_DATA_EVENT,e),this.switchToGameplayCB(r.SCENE_NAME_LEVEL_END)}};pauseAudios=()=>{(0,s.isDocumentVisible)()?this.starCount>=2&&this.audioPlayer.playAudio(r.AUDIO_INTRO):this.audioPlayer.stopAllAudios()};dispose=()=>{this.monster.dispose(),this.audioPlayer.stopAllAudios(),this.timeouts.forEach((t=>clearTimeout(t))),document.getElementById("canvas").removeEventListener(s.CLICK,this.handleMouseClick,!1),document.removeEventListener("visibilitychange",this.pauseAudios,!1)}}},"./src/scenes/loading-scene.ts":(t,e,i)=>{i.r(e),i.d(e,{LoadingScene:()=>a});var s=i("./src/common/index.ts"),n=i("./src/constants/index.ts");class a{canvas;height;width;context;images;loadedImages;imagesLoaded;cloudXPosition=-500;stopCloudMoving=!1;cloudMovingTimeOut=0;removeLoading;constructor(t,e,i){this.canvas=document.getElementById("loading"),this.canvas.height=e,this.canvas.width=t,this.height=e,this.width=t,this.removeLoading=i,this.context=this.canvas.getContext("2d"),this.images={cloud6:n.CLOUD_6,cloud7:n.CLOUD_7,cloud8:n.CLOUD_8},(0,s.loadImages)(this.images,(t=>{this.loadedImages=Object.assign({},t),this.imagesLoaded=!0}))}draw(t){this.context.clearRect(0,0,this.width,this.height),this.cloudXPosition+=.75*t,this.cloudMovingTimeOut+=t,this.cloudMovingTimeOut>2983&&this.removeLoading(),this.cloudXPosition>=.5*this.width&&!this.stopCloudMoving&&(this.cloudMovingTimeOut+=t,this.cloudMovingTimeOut>2e3&&(this.stopCloudMoving=!0,this.cloudXPosition=0)),this.imagesLoaded&&(this.stopCloudMoving?(this.context.drawImage(this.loadedImages.cloud6,0+this.cloudXPosition,.6*this.height,this.width,.5*this.height),this.context.drawImage(this.loadedImages.cloud6,.4*this.width+this.cloudXPosition,.15*this.height,this.width,.5*this.height),this.context.drawImage(this.loadedImages.cloud7,0+this.cloudXPosition,.15*this.height,this.width,.5*this.height),this.context.drawImage(this.loadedImages.cloud8,.4*-this.width+this.cloudXPosition,.15*-this.height,this.width,.5*this.height),this.context.drawImage(this.loadedImages.cloud8,.4*this.width+this.cloudXPosition,.15*-this.height,this.width,.5*this.height),this.context.drawImage(this.loadedImages.cloud8,.05*this.width+this.cloudXPosition,.2*-this.height,this.width,.5*this.height),this.context.drawImage(this.loadedImages.cloud8,.6*-this.width+this.cloudXPosition,.3*this.height,this.width,.5*this.height),this.context.drawImage(this.loadedImages.cloud7,.5*this.width+this.cloudXPosition,.4*this.height,this.width,.4*this.height),this.context.drawImage(this.loadedImages.cloud7,.4*-this.width+this.cloudXPosition,.7*this.height,this.width,.5*this.height),this.context.drawImage(this.loadedImages.cloud8,.4*this.width+this.cloudXPosition,.7*this.height,this.width,.5*this.height),this.context.drawImage(this.loadedImages.cloud6,.2*-this.width+this.cloudXPosition,.2*this.height,this.width,.5*this.height)):(this.context.drawImage(this.loadedImages.cloud6,this.cloudXPosition>=0?0:this.cloudXPosition,.6*this.height,this.width,.5*this.height),this.context.drawImage(this.loadedImages.cloud6,this.cloudXPosition>=.4*this.width?.4*this.width:this.cloudXPosition,.15*this.height,this.width,.5*this.height),this.context.drawImage(this.loadedImages.cloud7,this.cloudXPosition>=0?0:this.cloudXPosition,.15*this.height,this.width,.5*this.height),this.context.drawImage(this.loadedImages.cloud8,this.cloudXPosition>=.4*-this.width?.4*-this.width:this.cloudXPosition,.15*-this.height,this.width,.5*this.height),this.context.drawImage(this.loadedImages.cloud8,this.cloudXPosition>=.4*this.width?.4*this.width:this.cloudXPosition,.15*-this.height,this.width,.5*this.height),this.context.drawImage(this.loadedImages.cloud8,this.cloudXPosition>=.05*this.width?.05*this.width:this.cloudXPosition,.2*-this.height,this.width,.5*this.height),this.context.drawImage(this.loadedImages.cloud8,this.cloudXPosition>=.6*-this.width?.6*-this.width:this.cloudXPosition,.3*this.height,this.width,.5*this.height),this.context.drawImage(this.loadedImages.cloud7,this.cloudXPosition>=.5*this.width?.5*this.width:this.cloudXPosition,.4*this.height,this.width,.4*this.height),this.context.drawImage(this.loadedImages.cloud7,this.cloudXPosition>=.4*-this.width?.4*-this.width:this.cloudXPosition,.7*this.height,this.width,.5*this.height),this.context.drawImage(this.loadedImages.cloud8,this.cloudXPosition>=.4*this.width?.4*this.width:this.cloudXPosition,.7*this.height,this.width,.5*this.height),this.context.drawImage(this.loadedImages.cloud6,this.cloudXPosition>=.2*-this.width?.2*-this.width:this.cloudXPosition,.2*this.height,this.width,.5*this.height)))}initCloud=()=>{this.cloudXPosition=-500,this.stopCloudMoving=!1,this.cloudMovingTimeOut=0}}},"./src/scenes/start-scene.ts":(t,e,i)=>{i.r(e),i.d(e,{StartScene:()=>l});var s=i("./src/components/index.ts"),n=i("./src/components/buttons/index.ts"),a=i("./src/common/index.ts"),o=i("./src/Firebase/firebase-integration.ts"),r=i("./src/compositions/index.ts"),h=i("./src/constants/index.ts");class l{canvas;data;width;height;monster;pickedStone;pwa_status;firebase_analytics;id;canavsElement;context;buttonContext;playButton;images;loadedImages;imagesLoaded=!1;handler;static SceneName;switchSceneToLevelSelection;background;audioPlayer;toggleBtn;pwa_install_status;titleTextElement;constructor(t,e,i){this.canvas=t,this.data=e,this.width=t.width,this.height=t.height,this.canavsElement=document.getElementById("canvas"),this.context=this.canavsElement.getContext("2d"),this.toggleBtn=document.getElementById("toggle-btn"),this.monster=new s.Monster(this.canvas,4),this.switchSceneToLevelSelection=i,this.audioPlayer=new s.AudioPlayer,this.pwa_status=localStorage.getItem(h.PWAInstallStatus),this.handler=document.getElementById("canvas"),this.devToggle(),this.createPlayButton(),window.addEventListener("beforeinstallprompt",this.handlerInstallPrompt),this.setupBg(),this.titleTextElement=document.getElementById("title"),this.generateGameTitle()}setupBg=async()=>{this.background=await(0,r.createBackground)(this.context,this.width,this.height,h.DEFAULT_BG_GROUP_IMGS,r.defaultBgDrawing)};devToggle=()=>{this.toggleBtn.addEventListener("click",(()=>(0,a.toggleDebugMode)(this.toggleBtn)))};generateGameTitle=()=>{this.titleTextElement.textContent=this.data.title};animation=t=>{this.context.clearRect(0,0,this.width,this.height),this.background?.draw(),this.monster.update(t),this.playButton.draw()};createPlayButton(){this.playButton=new n.PlayButton(this.context,this.canvas,.35*this.canvas.width,this.canvas.height/7),document.addEventListener("selectstart",(function(t){t.preventDefault()})),this.handler.addEventListener("click",this.handleMouseClick,!1)}handleMouseClick=t=>{let e=this;const i=document.getElementById("canvas");t.preventDefault();var s=i.getBoundingClientRect();const n=t.clientX-s.left,r=t.clientY-s.top,{excludeX:l,excludeY:c}=a.Utils.getExcludedCoordinates(i,15);n<l&&r<c||(o.FirebaseIntegration.getInstance().sendUserClickedOnPlayEvent(),fbq("trackCustom",h.FirebaseUserClicked,{event:"click"}),this.toggleBtn.style.display="none",this.audioPlayer.playButtonClickSound(),e.switchSceneToLevelSelection("StartScene"))};dispose(){this.monster.dispose(),this.audioPlayer.stopAllAudios(),this.handler.removeEventListener("click",this.handleMouseClick,!1),window.removeEventListener("beforeinstallprompt",this.handlerInstallPrompt,!1)}handlerInstallPrompt=t=>{t.preventDefault(),this.pwa_install_status=t,localStorage.setItem(h.PWAInstallStatus,"false")}}},"./src/scenes/test-gameplay-scene.ts":(t,e,i)=>{i.r(e),i.d(e,{TestGameplayScene:()=>h});var s=i("./src/constants/index.ts"),n=i("./src/components/index.ts"),a=i("./src/components/buttons/index.ts"),o=i("./src/common/index.ts");const r=document.getElementById("toggle-btn");window.addEventListener("beforeinstallprompt",(t=>{t.preventDefault(),localStorage.setItem(s.PWAInstallStatus,"false")}));class h{canvas;data;width;height;monster;levelIndicator;promptText;timerTicking;stoneHandler;pickedStone;pwa_status;firebase_analytics;id;canavsElement;context;buttonContext;outcome;playButton;levelSelectionScene;images;loadedImages;imagesLoaded=!1;handler;static SceneName;switchSceneToLevelSelection;counter=0;tutorial;constructor(t,e,i,a){this.canvas=t,this.data=e,this.width=t.width,this.height=t.height,this.canavsElement=document.getElementById("canvas"),this.context=this.canavsElement.getContext("2d"),this.monster=new n.Monster(this.canvas,0),console.log(Date.now," ::: ",performance.now),this.switchSceneToLevelSelection=a,this.stoneHandler=new n.StoneHandler(this.context,this.canvas,2,this.data.levels[92],this.data.feedbackAudios,this.timerTicking),this.promptText=new n.PromptText(this.width,this.height,this.data.levels[92].puzzles[2],this.data.levels[92],!1),this.timerTicking=new n.TimerTicking(this.width,this.height,this.timeOverCallback),this.levelIndicator=new n.LevelIndicators(this.context,this.canvas,0),this.levelIndicator.setIndicators(3),this.tutorial.updateTargetStonePositions([100,100]),this.pwa_status=localStorage.getItem(s.PWAInstallStatus),this.handler=document.getElementById("canvas"),this.devToggle(),this.createPlayButton(),this.firebase_analytics=i,this.animation(0),this.images={pillerImg:s.ASSETS_PATH_TOTEM,bgImg:s.DEFAULT_BACKGROUND_1,hillImg:s.ASSETS_PATH_HILL,fenchImg:s.ASSETS_PATH_FENCE,profileMonster:s.ASSETS_PATH_MONSTER_IDLE},(0,o.loadImages)(this.images,(t=>{this.loadedImages=Object.assign({},t),this.imagesLoaded=!0}))}timeOverCallback=()=>{this.timerTicking.readyTimer(),this.timerTicking.startTimer(),this.timerTicking.isMyTimerOver=!1,5==this.counter&&(this.counter=0),this.levelIndicator.setIndicators(this.counter++)};devToggle=()=>{r.addEventListener("click",(()=>(0,o.toggleDebugMode)(r)))};handleMouseUp=t=>{let e=this;var i=document.getElementById("canvas").getBoundingClientRect();const s=t.clientX-i.left,n=t.clientY-i.top;Math.sqrt((s-e.monster.x-e.canvas.width/4)*(s-e.monster.x-e.canvas.width/4)+(n-e.monster.y-e.canvas.height/2.7)*(n-e.monster.y-e.canvas.height/2.7))<=60||e.monster.changeToIdleAnimation(),e.pickedStone=null};handleMouseDown=t=>{let e=this;var i=document.getElementById("canvas").getBoundingClientRect();const s=t.clientX-i.left,n=t.clientY-i.top;for(let t of e.stoneHandler.foilStones)Math.sqrt((s-t.x)*(s-t.x)+(n-t.y)*(n-t.y))<=40&&(this.pickedStone=t)};handleMouseMove=t=>{let e=this;var i=document.getElementById("canvas").getBoundingClientRect();const s=t.clientX-i.left,n=t.clientY-i.top;e.pickedStone&&(e.monster.changeToDragAnimation(),e.pickedStone.x=s,e.pickedStone.y=n)};animation=t=>{this.imagesLoaded&&(this.context.drawImage(this.loadedImages.bgImg,0,0,this.width,this.height),this.context.drawImage(this.loadedImages.pillerImg,.6*this.width,this.height/6,this.width,this.height/2),this.context.drawImage(this.loadedImages.fenchImg,.4*-this.width,this.height/3,this.width,this.height/3),this.context.drawImage(this.loadedImages.hillImg,.25*-this.width,this.height/2,1.5*this.width,this.height/2),this.context.font="bold 40px Arial",this.context.fillStyle="white",this.context.textAlign="center",this.context.fillText("Testing Gameplay",.5*this.width,this.height/10),this.monster.update(t),this.promptText.draw(t),this.stoneHandler.draw(t),this.levelIndicator.draw(),this.timerTicking.update(t))};draw(){}createPlayButton=()=>{this.playButton=new a.PlayButton(this.context,this.canvas,.35*this.canvas.width,this.canvas.height/7),this.handler.addEventListener("mouseup",this.handleMouseUp,!1),this.handler.addEventListener("mousemove",this.handleMouseMove,!1),this.handler.addEventListener("mousedown",this.handleMouseDown,!1),this.handler.addEventListener("touchstart",(function(t){var e=t.touches[0],i=new MouseEvent("mousedown",{clientX:e.clientX,clientY:e.clientY});document.getElementById("canvas").dispatchEvent(i)}),!1),this.handler.addEventListener("touchmove",(function(t){var e=t.touches[0],i=new MouseEvent("mousemove",{clientX:e.clientX,clientY:e.clientY});document.getElementById("canvas").dispatchEvent(i)}),!1),this.handler.addEventListener("touchend",(function(t){var e=t.changedTouches[0],i=new MouseEvent("mouseup",{clientX:e.clientX,clientY:e.clientY});document.getElementById("canvas").dispatchEvent(i)}),!1)};handleMouseClick=t=>{let e=this;const i=document.getElementById("canvas");t.preventDefault();var n=i.getBoundingClientRect();const a=t.clientX-n.left,o=t.clientY-n.top;e.playButton.onClick(a,o)&&(e.firebase_analytics&&e.firebase_analytics.logEvent(s.FirebaseUserClicked,"click"),fbq("trackCustom",s.FirebaseUserClicked,{event:"click"}),r.style.display="none",e.switchSceneToLevelSelection())};dispose(){this.handler.removeEventListener("click",this.handleMouseClick,!1)}}},"./node_modules/@firebase/analytics/dist/esm/index.esm2017.js":(t,e,i)=>{i.r(e),i.d(e,{getAnalytics:()=>j,getGoogleAnalyticsClientId:()=>X,initializeAnalytics:()=>V,isSupported:()=>H,logEvent:()=>J,setAnalyticsCollectionEnabled:()=>K,setConsent:()=>Z,setCurrentScreen:()=>Y,setDefaultEventParameters:()=>q,setUserId:()=>W,setUserProperties:()=>$,settings:()=>F});var s=i("./node_modules/@firebase/app/dist/esm/index.esm2017.js"),n=i("./node_modules/@firebase/logger/dist/esm/index.esm2017.js"),a=i("./node_modules/@firebase/util/dist/index.esm2017.js"),o=i("./node_modules/@firebase/component/dist/esm/index.esm2017.js");i("./node_modules/@firebase/installations/dist/esm/index.esm2017.js");const r="analytics",h="firebase_id",l="origin",c=6e4,d="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",u="https://www.googletagmanager.com/gtag/js",m=new n.Logger("@firebase/analytics"),g={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},p=new a.ErrorFactory("analytics","Analytics",g);function f(t){if(!t.startsWith(u)){const e=p.create("invalid-gtag-resource",{gtagURL:t});return m.warn(e.message),""}return t}function v(t){return Promise.all(t.map((t=>t.catch((t=>t)))))}function b(t,e){const i=function(t,e){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(t,e)),i}("firebase-js-sdk-policy",{createScriptURL:f}),s=document.createElement("script"),n=`${u}?l=${t}&id=${e}`;s.src=i?null==i?void 0:i.createScriptURL(n):n,s.async=!0,document.head.appendChild(s)}function S(t,e,i,s){return async function(n,...a){try{if("event"===n){const[s,n]=a;await async function(t,e,i,s,n){try{let a=[];if(n&&n.send_to){let t=n.send_to;Array.isArray(t)||(t=[t]);const s=await v(i);for(const i of t){const t=s.find((t=>t.measurementId===i)),n=t&&e[t.appId];if(!n){a=[];break}a.push(n)}}0===a.length&&(a=Object.values(e)),await Promise.all(a),t("event",s,n||{})}catch(t){m.error(t)}}(t,e,i,s,n)}else if("config"===n){const[n,o]=a;await async function(t,e,i,s,n,a){const o=s[n];try{if(o)await e[o];else{const t=(await v(i)).find((t=>t.measurementId===n));t&&await e[t.appId]}}catch(t){m.error(t)}t("config",n,a)}(t,e,i,s,n,o)}else if("consent"===n){const[e]=a;t("consent","update",e)}else if("get"===n){const[e,i,s]=a;t("get",e,i,s)}else if("set"===n){const[e]=a;t("set",e)}else t(n,...a)}catch(t){m.error(t)}}}const w=30;const E=new class{constructor(t={},e=1e3){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}};function I(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function _(t,e=E,i){const{appId:s,apiKey:n,measurementId:a}=t.options;if(!s)throw p.create("no-app-id");if(!n){if(a)return{measurementId:a,appId:s};throw p.create("no-api-key")}const o=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},r=new T;return setTimeout((async()=>{r.abort()}),void 0!==i?i:c),y({appId:s,apiKey:n,measurementId:a},o,r,e)}async function y(t,{throttleEndTimeMillis:e,backoffCount:i},s,n=E){var o;const{appId:r,measurementId:h}=t;try{await function(t,e){return new Promise(((i,s)=>{const n=Math.max(e-Date.now(),0),a=setTimeout(i,n);t.addEventListener((()=>{clearTimeout(a),s(p.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}(s,e)}catch(t){if(h)return m.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${null==t?void 0:t.message}]`),{appId:r,measurementId:h};throw t}try{const e=await async function(t){var e;const{appId:i,apiKey:s}=t,n={method:"GET",headers:I(s)},a=d.replace("{app-id}",i),o=await fetch(a,n);if(200!==o.status&&304!==o.status){let t="";try{const i=await o.json();(null===(e=i.error)||void 0===e?void 0:e.message)&&(t=i.error.message)}catch(t){}throw p.create("config-fetch-failed",{httpStatus:o.status,responseMessage:t})}return o.json()}(t);return n.deleteThrottleMetadata(r),e}catch(e){const l=e;if(!function(t){if(!(t instanceof a.FirebaseError&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(l)){if(n.deleteThrottleMetadata(r),h)return m.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${null==l?void 0:l.message}]`),{appId:r,measurementId:h};throw e}const c=503===Number(null===(o=null==l?void 0:l.customData)||void 0===o?void 0:o.httpStatus)?(0,a.calculateBackoffMillis)(i,n.intervalMillis,w):(0,a.calculateBackoffMillis)(i,n.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:i+1};return n.setThrottleMetadata(r,d),m.debug(`Calling attemptFetch again in ${c} millis`),y(t,d,s,n)}}class T{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach((t=>t()))}}let A,x;function L(t){x=t}function P(t){A=t}async function C(t,e,i,s,n,o,r){var c;const d=_(t);d.then((e=>{i[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&m.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${e.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)})).catch((t=>m.error(t))),e.push(d);const g=async function(){if(!(0,a.isIndexedDBAvailable)())return m.warn(p.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await(0,a.validateIndexedDBOpenable)()}catch(t){return m.warn(p.create("indexeddb-unavailable",{errorInfo:null==t?void 0:t.toString()}).message),!1}return!0}().then((t=>t?s.getId():void 0)),[f,v]=await Promise.all([d,g]);(function(t){const e=window.document.getElementsByTagName("script");for(const i of Object.values(e))if(i.src&&i.src.includes(u)&&i.src.includes(t))return i;return null})(o)||b(o,f.measurementId),x&&(n("consent","default",x),L(void 0)),n("js",new Date);const S=null!==(c=null==r?void 0:r.config)&&void 0!==c?c:{};return S[l]="firebase",S.update=!0,null!=v&&(S[h]=v),n("config",f.measurementId,S),A&&(n("set",A),P(void 0)),f.measurementId}class D{constructor(t){this.app=t}_delete(){return delete B[this.app.options.appId],Promise.resolve()}}let B={},k=[];const N={};let z,M,O="dataLayer",U="gtag",R=!1;function F(t){if(R)throw p.create("already-initialized");t.dataLayerName&&(O=t.dataLayerName),t.gtagName&&(U=t.gtagName)}function G(t,e,i){!function(){const t=[];if((0,a.isBrowserExtension)()&&t.push("This is a browser extension environment."),(0,a.areCookiesEnabled)()||t.push("Cookies are not available."),t.length>0){const e=t.map(((t,e)=>`(${e+1}) ${t}`)).join(" "),i=p.create("invalid-analytics-context",{errorInfo:e});m.warn(i.message)}}();const s=t.options.appId;if(!s)throw p.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw p.create("no-api-key");m.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=B[s])throw p.create("already-exists",{id:s});if(!R){!function(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(O);const{wrappedGtag:t,gtagCore:e}=function(t,e,i,s,n){let a=function(...t){window[s].push(arguments)};return window[n]&&"function"==typeof window[n]&&(a=window[n]),window[n]=S(a,t,e,i),{gtagCore:a,wrappedGtag:window[n]}}(B,k,N,O,U);M=t,z=e,R=!0}B[s]=C(t,k,N,e,z,O,i);return new D(t)}function j(t=(0,s.getApp)()){t=(0,a.getModularInstance)(t);const e=(0,s._getProvider)(t,r);return e.isInitialized()?e.getImmediate():V(t)}function V(t,e={}){const i=(0,s._getProvider)(t,r);if(i.isInitialized()){const t=i.getImmediate();if((0,a.deepEqual)(e,i.getOptions()))return t;throw p.create("already-initialized")}return i.initialize({options:e})}async function H(){if((0,a.isBrowserExtension)())return!1;if(!(0,a.areCookiesEnabled)())return!1;if(!(0,a.isIndexedDBAvailable)())return!1;try{return await(0,a.validateIndexedDBOpenable)()}catch(t){return!1}}function Y(t,e,i){t=(0,a.getModularInstance)(t),async function(t,e,i,s){if(s&&s.global)return t("set",{screen_name:i}),Promise.resolve();t("config",await e,{update:!0,screen_name:i})}(M,B[t.app.options.appId],e,i).catch((t=>m.error(t)))}async function X(t){return t=(0,a.getModularInstance)(t),async function(t,e){const i=await e;return new Promise(((e,s)=>{t("get",i,"client_id",(t=>{t||s(p.create("no-client-id")),e(t)}))}))}(M,B[t.app.options.appId])}function W(t,e,i){t=(0,a.getModularInstance)(t),async function(t,e,i,s){if(s&&s.global)return t("set",{user_id:i}),Promise.resolve();t("config",await e,{update:!0,user_id:i})}(M,B[t.app.options.appId],e,i).catch((t=>m.error(t)))}function $(t,e,i){t=(0,a.getModularInstance)(t),async function(t,e,i,s){if(s&&s.global){const e={};for(const t of Object.keys(i))e[`user_properties.${t}`]=i[t];return t("set",e),Promise.resolve()}t("config",await e,{update:!0,user_properties:i})}(M,B[t.app.options.appId],e,i).catch((t=>m.error(t)))}function K(t,e){t=(0,a.getModularInstance)(t),async function(t,e){const i=await t;window[`ga-disable-${i}`]=!e}(B[t.app.options.appId],e).catch((t=>m.error(t)))}function q(t){M?M("set",t):P(t)}function J(t,e,i,s){t=(0,a.getModularInstance)(t),async function(t,e,i,s,n){if(n&&n.global)t("event",i,s);else{const n=await e;t("event",i,Object.assign(Object.assign({},s),{send_to:n}))}}(M,B[t.app.options.appId],e,i,s).catch((t=>m.error(t)))}function Z(t){M?M("consent","update",t):L(t)}const Q="@firebase/analytics",tt="0.10.0";(0,s._registerComponent)(new o.Component(r,((t,{options:e})=>G(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),e)),"PUBLIC")),(0,s._registerComponent)(new o.Component("analytics-internal",(function(t){try{const e=t.getProvider(r).getImmediate();return{logEvent:(t,i,s)=>J(e,t,i,s)}}catch(t){throw p.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),(0,s.registerVersion)(Q,tt),(0,s.registerVersion)(Q,tt,"esm2017")},"./node_modules/@firebase/app/dist/esm/index.esm2017.js":(t,e,i)=>{i.r(e),i.d(e,{FirebaseError:()=>a.FirebaseError,SDK_VERSION:()=>$,_DEFAULT_ENTRY_NAME:()=>z,_addComponent:()=>R,_addOrOverwriteComponent:()=>F,_apps:()=>O,_clearComponents:()=>H,_components:()=>U,_getProvider:()=>j,_registerComponent:()=>G,_removeServiceInstance:()=>V,deleteApp:()=>Z,getApp:()=>q,getApps:()=>J,initializeApp:()=>K,onLog:()=>tt,registerVersion:()=>Q,setLogLevel:()=>et});var s=i("./node_modules/@firebase/component/dist/esm/index.esm2017.js"),n=i("./node_modules/@firebase/logger/dist/esm/index.esm2017.js"),a=i("./node_modules/@firebase/util/dist/index.esm2017.js"),o=i("./node_modules/idb/build/index.js");class r{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map((t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const e=t.getImmediate();return`${e.library}/${e.version}`}return null})).filter((t=>t)).join(" ")}}const h="@firebase/app",l="0.9.15",c=new n.Logger("@firebase/app"),d="@firebase/app-compat",u="@firebase/analytics-compat",m="@firebase/analytics",g="@firebase/app-check-compat",p="@firebase/app-check",f="@firebase/auth",v="@firebase/auth-compat",b="@firebase/database",S="@firebase/database-compat",w="@firebase/functions",E="@firebase/functions-compat",I="@firebase/installations",_="@firebase/installations-compat",y="@firebase/messaging",T="@firebase/messaging-compat",A="@firebase/performance",x="@firebase/performance-compat",L="@firebase/remote-config",P="@firebase/remote-config-compat",C="@firebase/storage",D="@firebase/storage-compat",B="@firebase/firestore",k="@firebase/firestore-compat",N="firebase",z="[DEFAULT]",M={[h]:"fire-core",[d]:"fire-core-compat",[m]:"fire-analytics",[u]:"fire-analytics-compat",[p]:"fire-app-check",[g]:"fire-app-check-compat",[f]:"fire-auth",[v]:"fire-auth-compat",[b]:"fire-rtdb",[S]:"fire-rtdb-compat",[w]:"fire-fn",[E]:"fire-fn-compat",[I]:"fire-iid",[_]:"fire-iid-compat",[y]:"fire-fcm",[T]:"fire-fcm-compat",[A]:"fire-perf",[x]:"fire-perf-compat",[L]:"fire-rc",[P]:"fire-rc-compat",[C]:"fire-gcs",[D]:"fire-gcs-compat",[B]:"fire-fst",[k]:"fire-fst-compat","fire-js":"fire-js",[N]:"fire-js-all"},O=new Map,U=new Map;function R(t,e){try{t.container.addComponent(e)}catch(i){c.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,i)}}function F(t,e){t.container.addOrOverwriteComponent(e)}function G(t){const e=t.name;if(U.has(e))return c.debug(`There were multiple attempts to register component ${e}.`),!1;U.set(e,t);for(const e of O.values())R(e,t);return!0}function j(t,e){const i=t.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),t.container.getProvider(e)}function V(t,e,i=z){j(t,e).clearInstance(i)}function H(){U.clear()}const Y={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},X=new a.ErrorFactory("app","Firebase",Y);class W{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new s.Component("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw X.create("app-deleted",{appName:this._name})}}const $="10.1.0";function K(t,e={}){let i=t;if("object"!=typeof e){e={name:e}}const n=Object.assign({name:z,automaticDataCollectionEnabled:!1},e),o=n.name;if("string"!=typeof o||!o)throw X.create("bad-app-name",{appName:String(o)});if(i||(i=(0,a.getDefaultAppConfig)()),!i)throw X.create("no-options");const r=O.get(o);if(r){if((0,a.deepEqual)(i,r.options)&&(0,a.deepEqual)(n,r.config))return r;throw X.create("duplicate-app",{appName:o})}const h=new s.ComponentContainer(o);for(const t of U.values())h.addComponent(t);const l=new W(i,n,h);return O.set(o,l),l}function q(t=z){const e=O.get(t);if(!e&&t===z&&(0,a.getDefaultAppConfig)())return K();if(!e)throw X.create("no-app",{appName:t});return e}function J(){return Array.from(O.values())}async function Z(t){const e=t.name;O.has(e)&&(O.delete(e),await Promise.all(t.container.getProviders().map((t=>t.delete()))),t.isDeleted=!0)}function Q(t,e,i){var n;let a=null!==(n=M[t])&&void 0!==n?n:t;i&&(a+=`-${i}`);const o=a.match(/\s|\//),r=e.match(/\s|\//);if(o||r){const t=[`Unable to register library "${a}" with version "${e}":`];return o&&t.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&r&&t.push("and"),r&&t.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void c.warn(t.join(" "))}G(new s.Component(`${a}-version`,(()=>({library:a,version:e})),"VERSION"))}function tt(t,e){if(null!==t&&"function"!=typeof t)throw X.create("invalid-log-argument");(0,n.setUserLogHandler)(t,e)}function et(t){(0,n.setLogLevel)(t)}const it="firebase-heartbeat-database",st=1,nt="firebase-heartbeat-store";let at=null;function ot(){return at||(at=(0,o.openDB)(it,st,{upgrade:(t,e)=>{if(0===e)t.createObjectStore(nt)}}).catch((t=>{throw X.create("idb-open",{originalErrorMessage:t.message})}))),at}async function rt(t,e){try{const i=(await ot()).transaction(nt,"readwrite"),s=i.objectStore(nt);await s.put(e,ht(t)),await i.done}catch(t){if(t instanceof a.FirebaseError)c.warn(t.message);else{const e=X.create("idb-set",{originalErrorMessage:null==t?void 0:t.message});c.warn(e.message)}}}function ht(t){return`${t.name}!${t.options.appId}`}class lt{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new dt(e),this._heartbeatsCachePromise=this._storage.read().then((t=>(this._heartbeatsCache=t,t)))}async triggerHeartbeat(){const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),e=ct();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==e&&!this._heartbeatsCache.heartbeats.some((t=>t.date===e)))return this._heartbeatsCache.heartbeats.push({date:e,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((t=>{const e=new Date(t.date).valueOf();return Date.now()-e<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const t=ct(),{heartbeatsToSend:e,unsentEntries:i}=function(t,e=1024){const i=[];let s=t.slice();for(const n of t){const t=i.find((t=>t.agent===n.agent));if(t){if(t.dates.push(n.date),ut(i)>e){t.dates.pop();break}}else if(i.push({agent:n.agent,dates:[n.date]}),ut(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}(this._heartbeatsCache.heartbeats),s=(0,a.base64urlEncodeWithoutPadding)(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function ct(){return(new Date).toISOString().substring(0,10)}class dt{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,a.isIndexedDBAvailable)()&&(0,a.validateIndexedDBOpenable)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(t){try{const e=await ot();return await e.transaction(nt).objectStore(nt).get(ht(t))}catch(t){if(t instanceof a.FirebaseError)c.warn(t.message);else{const e=X.create("idb-get",{originalErrorMessage:null==t?void 0:t.message});c.warn(e.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const i=await this.read();return rt(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){var e;if(await this._canUseIndexedDBPromise){const i=await this.read();return rt(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}}}function ut(t){return(0,a.base64urlEncodeWithoutPadding)(JSON.stringify({version:2,heartbeats:t})).length}var mt;mt="",G(new s.Component("platform-logger",(t=>new r(t)),"PRIVATE")),G(new s.Component("heartbeat",(t=>new lt(t)),"PRIVATE")),Q(h,l,mt),Q(h,l,"esm2017"),Q("fire-js","")},"./node_modules/@firebase/component/dist/esm/index.esm2017.js":(t,e,i)=>{i.r(e),i.d(e,{Component:()=>n,ComponentContainer:()=>r,Provider:()=>o});var s=i("./node_modules/@firebase/util/dist/index.esm2017.js");class n{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const a="[DEFAULT]";class o{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new s.Deferred;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:e});i&&t.resolve(i)}catch(t){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),s=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(s)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(t){if(s)return null;throw t}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:a})}catch(t){}for(const[t,e]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:i});e.resolve(t)}catch(t){}}}}clearInstance(t=a){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter((t=>"INTERNAL"in t)).map((t=>t.INTERNAL.delete())),...t.filter((t=>"_delete"in t)).map((t=>t._delete()))])}isComponentSet(){return null!=this.component}isInitialized(t=a){return this.instances.has(t)}getOptions(t=a){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[t,e]of this.instancesDeferred.entries()){i===this.normalizeInstanceIdentifier(t)&&e.resolve(s)}return s}onInit(t,e){var i;const s=this.normalizeInstanceIdentifier(e),n=null!==(i=this.onInitCallbacks.get(s))&&void 0!==i?i:new Set;n.add(t),this.onInitCallbacks.set(s,n);const a=this.instances.get(s);return a&&t(a,s),()=>{n.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const s of i)try{s(t,e)}catch(t){}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(s=t,s===a?void 0:s),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(t){}var s;return i||null}normalizeInstanceIdentifier(t=a){return this.component?this.component.multipleInstances?t:a:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class r{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new o(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}},"./node_modules/@firebase/installations/dist/esm/index.esm2017.js":(t,e,i)=>{i.r(e),i.d(e,{deleteInstallations:()=>Q,getId:()=>q,getInstallations:()=>et,getToken:()=>J,onIdChange:()=>tt});var s=i("./node_modules/@firebase/app/dist/esm/index.esm2017.js"),n=i("./node_modules/@firebase/component/dist/esm/index.esm2017.js"),a=i("./node_modules/@firebase/util/dist/index.esm2017.js"),o=i("./node_modules/@firebase/installations/node_modules/idb/build/index.js");const r="@firebase/installations",h="0.6.4",l=1e4,c=`w:${h}`,d="FIS_v2",u="https://firebaseinstallations.googleapis.com/v1",m=36e5,g={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},p=new a.ErrorFactory("installations","Installations",g);function f(t){return t instanceof a.FirebaseError&&t.code.includes("request-failed")}function v({projectId:t}){return`${u}/projects/${t}/installations`}function b(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}async function S(t,e){const i=(await e.json()).error;return p.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function w({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function E(t,{refreshToken:e}){const i=w(t);return i.append("Authorization",function(t){return`${d} ${t}`}(e)),i}async function I(t){const e=await t();return e.status>=500&&e.status<600?t():e}function _(t){return new Promise((e=>{setTimeout(e,t)}))}const y=/^[cdef][\w-]{21}$/,T="";function A(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const e=function(t){const e=(i=t,btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_"));var i;return e.substr(0,22)}(t);return y.test(e)?e:T}catch(t){return T}}function x(t){return`${t.appName}!${t.appId}`}const L=new Map;function P(t,e){const i=x(t);C(i,e),function(t,e){const i=B();i&&i.postMessage({key:t,fid:e});k()}(i,e)}function C(t,e){const i=L.get(t);if(i)for(const t of i)t(e)}let D=null;function B(){return!D&&"BroadcastChannel"in self&&(D=new BroadcastChannel("[Firebase] FID Change"),D.onmessage=t=>{C(t.data.key,t.data.fid)}),D}function k(){0===L.size&&D&&(D.close(),D=null)}const N="firebase-installations-database",z=1,M="firebase-installations-store";let O=null;function U(){return O||(O=(0,o.openDB)(N,z,{upgrade:(t,e)=>{if(0===e)t.createObjectStore(M)}})),O}async function R(t,e){const i=x(t),s=(await U()).transaction(M,"readwrite"),n=s.objectStore(M),a=await n.get(i);return await n.put(e,i),await s.done,a&&a.fid===e.fid||P(t,e.fid),e}async function F(t){const e=x(t),i=(await U()).transaction(M,"readwrite");await i.objectStore(M).delete(e),await i.done}async function G(t,e){const i=x(t),s=(await U()).transaction(M,"readwrite"),n=s.objectStore(M),a=await n.get(i),o=e(a);return void 0===o?await n.delete(i):await n.put(o,i),await s.done,!o||a&&a.fid===o.fid||P(t,o.fid),o}async function j(t){let e;const i=await G(t.appConfig,(i=>{const s=function(t){const e=t||{fid:A(),registrationStatus:0};return Y(e)}(i),n=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine){return{installationEntry:e,registrationPromise:Promise.reject(p.create("app-offline"))}}const i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=async function(t,e){try{const i=await async function({appConfig:t,heartbeatServiceProvider:e},{fid:i}){const s=v(t),n=w(t),a=e.getImmediate({optional:!0});if(a){const t=await a.getHeartbeatsHeader();t&&n.append("x-firebase-client",t)}const o={fid:i,authVersion:d,appId:t.appId,sdkVersion:c},r={method:"POST",headers:n,body:JSON.stringify(o)},h=await I((()=>fetch(s,r)));if(h.ok){const t=await h.json();return{fid:t.fid||i,registrationStatus:2,refreshToken:t.refreshToken,authToken:b(t.authToken)}}throw await S("Create Installation",h)}(t,e);return R(t.appConfig,i)}catch(i){throw f(i)&&409===i.customData.serverCode?await F(t.appConfig):await R(t.appConfig,{fid:e.fid,registrationStatus:0}),i}}(t,i);return{installationEntry:i,registrationPromise:s}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:V(t)}:{installationEntry:e}}(t,s);return e=n.registrationPromise,n.installationEntry}));return i.fid===T?{installationEntry:await e}:{installationEntry:i,registrationPromise:e}}async function V(t){let e=await H(t.appConfig);for(;1===e.registrationStatus;)await _(100),e=await H(t.appConfig);if(0===e.registrationStatus){const{installationEntry:e,registrationPromise:i}=await j(t);return i||e}return e}function H(t){return G(t,(t=>{if(!t)throw p.create("installation-not-found");return Y(t)}))}function Y(t){return 1===(e=t).registrationStatus&&e.registrationTime+l<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}async function X({appConfig:t,heartbeatServiceProvider:e},i){const s=function(t,{fid:e}){return`${v(t)}/${e}/authTokens:generate`}(t,i),n=E(t,i),a=e.getImmediate({optional:!0});if(a){const t=await a.getHeartbeatsHeader();t&&n.append("x-firebase-client",t)}const o={installation:{sdkVersion:c,appId:t.appId}},r={method:"POST",headers:n,body:JSON.stringify(o)},h=await I((()=>fetch(s,r)));if(h.ok){return b(await h.json())}throw await S("Generate Auth Token",h)}async function W(t,e=!1){let i;const s=await G(t.appConfig,(s=>{if(!K(s))throw p.create("not-registered");const n=s.authToken;if(!e&&function(t){return 2===t.requestStatus&&!function(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+m}(t)}(n))return s;if(1===n.requestStatus)return i=async function(t,e){let i=await $(t.appConfig);for(;1===i.authToken.requestStatus;)await _(100),i=await $(t.appConfig);const s=i.authToken;return 0===s.requestStatus?W(t,e):s}(t,e),s;{if(!navigator.onLine)throw p.create("app-offline");const e=function(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return i=async function(t,e){try{const i=await X(t,e),s=Object.assign(Object.assign({},e),{authToken:i});return await R(t.appConfig,s),i}catch(i){if(!f(i)||401!==i.customData.serverCode&&404!==i.customData.serverCode){const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await R(t.appConfig,i)}else await F(t.appConfig);throw i}}(t,e),e}}));return i?await i:s.authToken}function $(t){return G(t,(t=>{if(!K(t))throw p.create("not-registered");const e=t.authToken;return 1===(i=e).requestStatus&&i.requestTime+l<Date.now()?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t;var i}))}function K(t){return void 0!==t&&2===t.registrationStatus}async function q(t){const e=t,{installationEntry:i,registrationPromise:s}=await j(e);return s?s.catch(console.error):W(e).catch(console.error),i.fid}async function J(t,e=!1){const i=t;await async function(t){const{registrationPromise:e}=await j(t);e&&await e}(i);return(await W(i,e)).token}async function Z(t,e){const i=function(t,{fid:e}){return`${v(t)}/${e}`}(t,e),s={method:"DELETE",headers:E(t,e)},n=await I((()=>fetch(i,s)));if(!n.ok)throw await S("Delete Installation",n)}async function Q(t){const{appConfig:e}=t,i=await G(e,(t=>{if(!t||0!==t.registrationStatus)return t}));if(i){if(1===i.registrationStatus)throw p.create("delete-pending-registration");if(2===i.registrationStatus){if(!navigator.onLine)throw p.create("app-offline");await Z(e,i),await F(e)}}}function tt(t,e){const{appConfig:i}=t;return function(t,e){B();const i=x(t);let s=L.get(i);s||(s=new Set,L.set(i,s)),s.add(e)}(i,e),()=>{!function(t,e){const i=x(t),s=L.get(i);s&&(s.delete(e),0===s.size&&L.delete(i),k())}(i,e)}}function et(t=(0,s.getApp)()){return(0,s._getProvider)(t,"installations").getImmediate()}function it(t){return p.create("missing-app-config-values",{valueName:t})}const st="installations",nt=t=>{const e=t.getProvider("app").getImmediate(),i=function(t){if(!t||!t.options)throw it("App Configuration");if(!t.name)throw it("App Name");const e=["projectId","apiKey","appId"];for(const i of e)if(!t.options[i])throw it(i);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:i,heartbeatServiceProvider:(0,s._getProvider)(e,"heartbeat"),_delete:()=>Promise.resolve()}},at=t=>{const e=t.getProvider("app").getImmediate(),i=(0,s._getProvider)(e,st).getImmediate();return{getId:()=>q(i),getToken:t=>J(i,t)}};(0,s._registerComponent)(new n.Component(st,nt,"PUBLIC")),(0,s._registerComponent)(new n.Component("installations-internal",at,"PRIVATE")),(0,s.registerVersion)(r,h),(0,s.registerVersion)(r,h,"esm2017")},"./node_modules/@firebase/installations/node_modules/idb/build/index.js":(t,e,i)=>{i.r(e),i.d(e,{deleteDB:()=>a,openDB:()=>n,unwrap:()=>s.u,wrap:()=>s.w});var s=i("./node_modules/@firebase/installations/node_modules/idb/build/wrap-idb-value.js");function n(t,e,{blocked:i,upgrade:n,blocking:a,terminated:o}={}){const r=indexedDB.open(t,e),h=(0,s.w)(r);return n&&r.addEventListener("upgradeneeded",(t=>{n((0,s.w)(r.result),t.oldVersion,t.newVersion,(0,s.w)(r.transaction))})),i&&r.addEventListener("blocked",(()=>i())),h.then((t=>{o&&t.addEventListener("close",(()=>o())),a&&t.addEventListener("versionchange",(()=>a()))})).catch((()=>{})),h}function a(t,{blocked:e}={}){const i=indexedDB.deleteDatabase(t);return e&&i.addEventListener("blocked",(()=>e())),(0,s.w)(i).then((()=>{}))}const o=["get","getKey","getAll","getAllKeys","count"],r=["put","add","delete","clear"],h=new Map;function l(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(h.get(e))return h.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,n=r.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!n&&!o.includes(i))return;const a=async function(t,...e){const a=this.transaction(t,n?"readwrite":"readonly");let o=a.store;return s&&(o=o.index(e.shift())),(await Promise.all([o[i](...e),n&&a.done]))[0]};return h.set(e,a),a}(0,s.r)((t=>({...t,get:(e,i,s)=>l(e,i)||t.get(e,i,s),has:(e,i)=>!!l(e,i)||t.has(e,i)})))},"./node_modules/@firebase/installations/node_modules/idb/build/wrap-idb-value.js":(t,e,i)=>{i.r(e),i.d(e,{a:()=>c,i:()=>s,r:()=>u,u:()=>f,w:()=>p});const s=(t,e)=>e.some((e=>t instanceof e));let n,a;const o=new WeakMap,r=new WeakMap,h=new WeakMap,l=new WeakMap,c=new WeakMap;let d={get(t,e,i){if(t instanceof IDBTransaction){if("done"===e)return r.get(t);if("objectStoreNames"===e)return t.objectStoreNames||h.get(t);if("store"===e)return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return p(t[e])},set:(t,e,i)=>(t[e]=i,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function u(t){d=t(d)}function m(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(a||(a=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(f(this),e),p(o.get(this))}:function(...e){return p(t.apply(f(this),e))}:function(e,...i){const s=t.call(f(this),e,...i);return h.set(s,e.sort?e.sort():[e]),p(s)}}function g(t){return"function"==typeof t?m(t):(t instanceof IDBTransaction&&function(t){if(r.has(t))return;const e=new Promise(((e,i)=>{const s=()=>{t.removeEventListener("complete",n),t.removeEventListener("error",a),t.removeEventListener("abort",a)},n=()=>{e(),s()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",n),t.addEventListener("error",a),t.addEventListener("abort",a)}));r.set(t,e)}(t),s(t,n||(n=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(t,d):t)}function p(t){if(t instanceof IDBRequest)return function(t){const e=new Promise(((e,i)=>{const s=()=>{t.removeEventListener("success",n),t.removeEventListener("error",a)},n=()=>{e(p(t.result)),s()},a=()=>{i(t.error),s()};t.addEventListener("success",n),t.addEventListener("error",a)}));return e.then((e=>{e instanceof IDBCursor&&o.set(e,t)})).catch((()=>{})),c.set(e,t),e}(t);if(l.has(t))return l.get(t);const e=g(t);return e!==t&&(l.set(t,e),c.set(e,t)),e}const f=t=>c.get(t)},"./node_modules/@firebase/logger/dist/esm/index.esm2017.js":(t,e,i)=>{i.r(e),i.d(e,{LogLevel:()=>n,Logger:()=>l,setLogLevel:()=>c,setUserLogHandler:()=>d});const s=[];var n;!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(n||(n={}));const a={debug:n.DEBUG,verbose:n.VERBOSE,info:n.INFO,warn:n.WARN,error:n.ERROR,silent:n.SILENT},o=n.INFO,r={[n.DEBUG]:"log",[n.VERBOSE]:"log",[n.INFO]:"info",[n.WARN]:"warn",[n.ERROR]:"error"},h=(t,e,...i)=>{if(e<t.logLevel)return;const s=(new Date).toISOString(),n=r[e];if(!n)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[n](`[${s}]  ${t.name}:`,...i)};class l{constructor(t){this.name=t,this._logLevel=o,this._logHandler=h,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in n))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?a[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,n.DEBUG,...t),this._logHandler(this,n.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,n.VERBOSE,...t),this._logHandler(this,n.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,n.INFO,...t),this._logHandler(this,n.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,n.WARN,...t),this._logHandler(this,n.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,n.ERROR,...t),this._logHandler(this,n.ERROR,...t)}}function c(t){s.forEach((e=>{e.setLogLevel(t)}))}function d(t,e){for(const i of s){let s=null;e&&e.level&&(s=a[e.level]),i.userLogHandler=null===t?null:(e,i,...a)=>{const o=a.map((t=>{if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((t=>t)).join(" ");i>=(null!=s?s:e.logLevel)&&t({level:n[i].toLowerCase(),message:o,args:a,type:e.name})}}}},"./node_modules/firebase/analytics/dist/esm/index.esm.js":(t,e,i)=>{i.r(e),i.d(e,{getAnalytics:()=>s.getAnalytics,getGoogleAnalyticsClientId:()=>s.getGoogleAnalyticsClientId,initializeAnalytics:()=>s.initializeAnalytics,isSupported:()=>s.isSupported,logEvent:()=>s.logEvent,setAnalyticsCollectionEnabled:()=>s.setAnalyticsCollectionEnabled,setConsent:()=>s.setConsent,setCurrentScreen:()=>s.setCurrentScreen,setDefaultEventParameters:()=>s.setDefaultEventParameters,setUserId:()=>s.setUserId,setUserProperties:()=>s.setUserProperties,settings:()=>s.settings});var s=i("./node_modules/@firebase/analytics/dist/esm/index.esm2017.js")},"./node_modules/firebase/app/dist/esm/index.esm.js":(t,e,i)=>{i.r(e),i.d(e,{FirebaseError:()=>s.FirebaseError,SDK_VERSION:()=>s.SDK_VERSION,_DEFAULT_ENTRY_NAME:()=>s._DEFAULT_ENTRY_NAME,_addComponent:()=>s._addComponent,_addOrOverwriteComponent:()=>s._addOrOverwriteComponent,_apps:()=>s._apps,_clearComponents:()=>s._clearComponents,_components:()=>s._components,_getProvider:()=>s._getProvider,_registerComponent:()=>s._registerComponent,_removeServiceInstance:()=>s._removeServiceInstance,deleteApp:()=>s.deleteApp,getApp:()=>s.getApp,getApps:()=>s.getApps,initializeApp:()=>s.initializeApp,onLog:()=>s.onLog,registerVersion:()=>s.registerVersion,setLogLevel:()=>s.setLogLevel});var s=i("./node_modules/@firebase/app/dist/esm/index.esm2017.js");(0,s.registerVersion)("firebase","10.1.0","app")},"./node_modules/idb/build/index.js":(t,e,i)=>{i.r(e),i.d(e,{deleteDB:()=>a,openDB:()=>n,unwrap:()=>s.u,wrap:()=>s.w});var s=i("./node_modules/idb/build/wrap-idb-value.js");function n(t,e,{blocked:i,upgrade:n,blocking:a,terminated:o}={}){const r=indexedDB.open(t,e),h=(0,s.w)(r);return n&&r.addEventListener("upgradeneeded",(t=>{n((0,s.w)(r.result),t.oldVersion,t.newVersion,(0,s.w)(r.transaction),t)})),i&&r.addEventListener("blocked",(t=>i(t.oldVersion,t.newVersion,t))),h.then((t=>{o&&t.addEventListener("close",(()=>o())),a&&t.addEventListener("versionchange",(t=>a(t.oldVersion,t.newVersion,t)))})).catch((()=>{})),h}function a(t,{blocked:e}={}){const i=indexedDB.deleteDatabase(t);return e&&i.addEventListener("blocked",(t=>e(t.oldVersion,t))),(0,s.w)(i).then((()=>{}))}const o=["get","getKey","getAll","getAllKeys","count"],r=["put","add","delete","clear"],h=new Map;function l(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(h.get(e))return h.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,n=r.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!n&&!o.includes(i))return;const a=async function(t,...e){const a=this.transaction(t,n?"readwrite":"readonly");let o=a.store;return s&&(o=o.index(e.shift())),(await Promise.all([o[i](...e),n&&a.done]))[0]};return h.set(e,a),a}(0,s.r)((t=>({...t,get:(e,i,s)=>l(e,i)||t.get(e,i,s),has:(e,i)=>!!l(e,i)||t.has(e,i)})))},"./node_modules/idb/build/wrap-idb-value.js":(t,e,i)=>{i.r(e),i.d(e,{a:()=>c,i:()=>s,r:()=>u,u:()=>f,w:()=>p});const s=(t,e)=>e.some((e=>t instanceof e));let n,a;const o=new WeakMap,r=new WeakMap,h=new WeakMap,l=new WeakMap,c=new WeakMap;let d={get(t,e,i){if(t instanceof IDBTransaction){if("done"===e)return r.get(t);if("objectStoreNames"===e)return t.objectStoreNames||h.get(t);if("store"===e)return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return p(t[e])},set:(t,e,i)=>(t[e]=i,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function u(t){d=t(d)}function m(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(a||(a=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(f(this),e),p(o.get(this))}:function(...e){return p(t.apply(f(this),e))}:function(e,...i){const s=t.call(f(this),e,...i);return h.set(s,e.sort?e.sort():[e]),p(s)}}function g(t){return"function"==typeof t?m(t):(t instanceof IDBTransaction&&function(t){if(r.has(t))return;const e=new Promise(((e,i)=>{const s=()=>{t.removeEventListener("complete",n),t.removeEventListener("error",a),t.removeEventListener("abort",a)},n=()=>{e(),s()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",n),t.addEventListener("error",a),t.addEventListener("abort",a)}));r.set(t,e)}(t),s(t,n||(n=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(t,d):t)}function p(t){if(t instanceof IDBRequest)return function(t){const e=new Promise(((e,i)=>{const s=()=>{t.removeEventListener("success",n),t.removeEventListener("error",a)},n=()=>{e(p(t.result)),s()},a=()=>{i(t.error),s()};t.addEventListener("success",n),t.addEventListener("error",a)}));return e.then((e=>{e instanceof IDBCursor&&o.set(e,t)})).catch((()=>{})),c.set(e,t),e}(t);if(l.has(t))return l.get(t);const e=g(t);return e!==t&&(l.set(t,e),c.set(e,t)),e}const f=t=>c.get(t)},"./node_modules/workbox-window/build/workbox-window.prod.es5.mjs":(t,e,i)=>{i.r(e),i.d(e,{Workbox:()=>u,messageSW:()=>s});try{self["workbox:window:4.3.1"]&&_()}catch(s){}var s=function(t,e){return new Promise((function(i){var s=new MessageChannel;s.port1.onmessage=function(t){return i(t.data)},t.postMessage(e,[s.port2])}))};function n(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}try{self["workbox:core:4.3.1"]&&_()}catch(s){}var o=function(){var t=this;this.promise=new Promise((function(e,i){t.resolve=e,t.reject=i}))},r=function(t,e){return new URL(t,location).href===new URL(e,location).href},h=function(t,e){Object.assign(this,e,{type:t})};function l(t){return function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];try{return Promise.resolve(t.apply(this,e))}catch(t){return Promise.reject(t)}}}function c(t,e,i){return i?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}function d(){}var u=function(t){var e,i;function u(e,i){var s;return void 0===i&&(i={}),(s=t.call(this)||this).t=e,s.i=i,s.o=0,s.u=new o,s.s=new o,s.h=new o,s.v=s.v.bind(a(a(s))),s.l=s.l.bind(a(a(s))),s.g=s.g.bind(a(a(s))),s.m=s.m.bind(a(a(s))),s}i=t,(e=u).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i;var m,g,p=u.prototype;return p.register=l((function(t){var e,i,s=this,n=(void 0===t?{}:t).immediate,a=void 0!==n&&n;return e=function(){return s.p=Boolean(navigator.serviceWorker.controller),s.P=s.R(),c(s.k(),(function(t){s.B=t,s.P&&(s.O=s.P,s.s.resolve(s.P),s.h.resolve(s.P),s.j(s.P),s.P.addEventListener("statechange",s.l,{once:!0}));var e=s.B.waiting;return e&&r(e.scriptURL,s.t)&&(s.O=e,Promise.resolve().then((function(){s.dispatchEvent(new h("waiting",{sw:e,wasWaitingBeforeRegister:!0}))}))),s.O&&s.u.resolve(s.O),s.B.addEventListener("updatefound",s.g),navigator.serviceWorker.addEventListener("controllerchange",s.m,{once:!0}),"BroadcastChannel"in self&&(s.C=new BroadcastChannel("workbox"),s.C.addEventListener("message",s.v)),navigator.serviceWorker.addEventListener("message",s.v),s.B}))},(i=function(){if(!a&&"complete"!==document.readyState)return function(t,e){return t&&t.then?t.then(d):Promise.resolve()}(new Promise((function(t){return addEventListener("load",t)})))}())&&i.then?i.then(e):e()})),p.getSW=l((function(){return this.O||this.u.promise})),p.messageSW=l((function(t){return c(this.getSW(),(function(e){return s(e,t)}))})),p.R=function(){var t=navigator.serviceWorker.controller;if(t&&r(t.scriptURL,this.t))return t},p.k=l((function(){var t=this;return function(t,e){try{var i=t()}catch(t){return e(t)}return i&&i.then?i.then(void 0,e):i}((function(){return c(navigator.serviceWorker.register(t.t,t.i),(function(e){return t.L=performance.now(),e}))}),(function(t){throw t}))})),p.j=function(t){s(t,{type:"WINDOW_READY",meta:"workbox-window"})},p.g=function(){var t=this.B.installing;this.o>0||!r(t.scriptURL,this.t)||performance.now()>this.L+6e4?(this.W=t,this.B.removeEventListener("updatefound",this.g)):(this.O=t,this.u.resolve(t)),++this.o,t.addEventListener("statechange",this.l)},p.l=function(t){var e=this,i=t.target,s=i.state,n=i===this.W,a=n?"external":"",o={sw:i,originalEvent:t};!n&&this.p&&(o.isUpdate=!0),this.dispatchEvent(new h(a+s,o)),"installed"===s?this._=setTimeout((function(){"installed"===s&&e.B.waiting===i&&e.dispatchEvent(new h(a+"waiting",o))}),200):"activating"===s&&(clearTimeout(this._),n||this.s.resolve(i))},p.m=function(t){var e=this.O;e===navigator.serviceWorker.controller&&(this.dispatchEvent(new h("controlling",{sw:e,originalEvent:t})),this.h.resolve(e))},p.v=function(t){var e=t.data;this.dispatchEvent(new h("message",{data:e,originalEvent:t}))},m=u,(g=[{key:"active",get:function(){return this.s.promise}},{key:"controlling",get:function(){return this.h.promise}}])&&n(m.prototype,g),u}(function(){function t(){this.D={}}var e=t.prototype;return e.addEventListener=function(t,e){this.T(t).add(e)},e.removeEventListener=function(t,e){this.T(t).delete(e)},e.dispatchEvent=function(t){t.target=this,this.T(t.type).forEach((function(e){return e(t)}))},e.T=function(t){return this.D[t]=this.D[t]||new Set},t}())}},e={};function i(s){var n=e[s];if(void 0!==n)return n.exports;var a=e[s]={exports:{}};return t[s](a,a.exports,i),a.exports}i.d=(t,e)=>{for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var s={};(()=>{i.r(s);var t=i("./src/data/index.ts"),e=i("./src/sceneHandler/index.ts"),n=i("./src/constants/index.ts"),a=i("./node_modules/workbox-window/build/workbox-window.prod.es5.mjs"),o=i("./src/Firebase/firebase-integration.ts"),r=i("./src/common/index.ts"),h=i("./src/components/index.ts");new class{canvas;versionInfoElement;lang;is_cached;progressBar;progressBarContainer;channel;sceneHandler;loadingElement;majVersion;minVersion;dataModal;startSessionTime;titleTextElement;feedBackTextElement;currentProgress;firebaseIntegration;constructor(t){this.lang=t,this.currentProgress=10,this.canvas=document.getElementById("canvas"),this.channel=new BroadcastChannel("my-channel"),this.progressBar=document.getElementById("progress-bar"),this.titleTextElement=document.getElementById("title"),this.feedBackTextElement=document.getElementById("feedback-text"),this.progressBarContainer=document.getElementById("progress-bar-container"),this.versionInfoElement=document.getElementById("version-info-id"),this.loadingElement=document.getElementById("loading-screen"),this.is_cached=this.initializeCachedData(),this.firebaseIntegration=new o.FirebaseIntegration,this.startSessionTime=0,this.init(),this.channel.addEventListener("message",this.handleServiceWorkerMessage),window.addEventListener("beforeunload",this.handleBeforeUnload),document.addEventListener(r.VISIBILITY_CHANGE,this.handleVisibilityChange),window.addEventListener("resize",this.handleResize.bind(this))}async init(){const e=await r.Utils.getLanguageSpecificFont(this.lang);await this.loadAndCacheFont(e,`./assets/fonts/${e}.ttf`),await this.loadTitleFeedbackCustomFont(),await this.preloadGameAudios(),this.handleLoadingScreen(),this.setupCanvas();const i=await(0,t.getData)();this.majVersion=i.majversion,this.minVersion=i.minversion,this.dataModal=this.createDataModal(i),this.globalInitialization(i),this.logSessionStartFirebaseEvent(),window.addEventListener("resize",(async()=>{this.handleResize(this.dataModal)}));const s=localStorage.getItem(this.lang+"gamePlayedInfo"),a=s?JSON.parse(s).length-1:0,o=r.Debugger.DebugMode?n.PreviousPlayedLevel+this.lang+"Debug":n.PreviousPlayedLevel+this.lang;localStorage.setItem(o,a.toString()),this.is_cached.has(this.lang)&&this.handleCachedScenario(this.dataModal),this.registerWorkbox()}async loadTitleFeedbackCustomFont(){const e=t.customFonts[this.lang]||t.customFonts.default,i=`'${e}', sans-serif`;await this.loadAndCacheFont(e,`./assets/fonts/${e}.ttf`),[this.titleTextElement,this.feedBackTextElement].forEach((t=>{t&&(t.style.fontFamily=i)}))}logSessionStartFirebaseEvent(){let t=localStorage.getItem("lastSessionEndTime"),e=0;if(this.startSessionTime=(new Date).getTime(),t){let i=parseInt(t);isNaN(i)||(e=Math.abs((new Date).getTime()-i))}const i=parseFloat((e?e/864e5:0).toFixed(3)),s={cr_user_id:r.pseudoId,ftm_language:r.lang,profile_number:0,version_number:this.versionInfoElement.innerHTML,json_version_number:this.majVersion&&this.minVersion?this.majVersion.toString()+"."+this.minVersion.toString():"",days_since_last:i};this.firebaseIntegration.sendSessionStartEvent(s)}logSessionEndFirebaseEvent(){const t={cr_user_id:r.pseudoId,ftm_language:r.lang,profile_number:0,version_number:this.versionInfoElement.innerHTML,json_version_number:this.majVersion&&this.minVersion?this.majVersion.toString()+"."+this.minVersion.toString():"",duration:((new Date).getTime()-this.startSessionTime)/1e3};localStorage.setItem("lastSessionEndTime",(new Date).getTime().toString()),this.firebaseIntegration.sendSessionEndEvent(t)}initializeCachedData(){const t=localStorage.getItem(n.IsCached);return t?new Map(JSON.parse(t)):new Map}async loadAndCacheFont(t,e){try{const i=await caches.open("fontCache");if(!await i.match(e)){const t=await fetch(e),s=await t.blob();await i.put(e,new Response(s))}const s=new FontFace(t,`url(${e}) format('truetype')`);await s.load(),document.fonts.add(s)}catch(t){console.error(`Failed to load and cache font: ${t}`)}}handleLoadingScreen=()=>{this.is_cached.get(r.lang)?(this.loadingElement.style.zIndex="-1",this.loadingElement.style.display="none",this.progressBarContainer.style.display="none",this.progressBar.style.display="none"):(this.progressBarContainer.style.display="flex",this.progressBar.style.display="flex",this.progressBar.style.width="10%")};async registerWorkbox(){if("serviceWorker"in navigator)try{const e=new a.Workbox("./sw.js",{});await e.register(),await navigator.serviceWorker.ready,this.is_cached.has(this.lang)?fetch(t.URL+"?cache-bust="+(new Date).getTime(),{method:"GET",headers:{"Content-Type":"application/json","Cache-Control":"no-store"},cache:"no-store"}).then((async t=>{if(!t.ok)return void console.error("Failed to fetch the content file from the server!");const e=await t.json(),i=e.majversion+"."+e.minversion,s=localStorage.getItem("version"+r.lang.toLowerCase());if(i&&s!=i){console.log("Content version mismatch! Reloading...");var a=JSON.parse(localStorage.getItem("is_cached"));console.log("current lang  "+r.lang);var o=a.filter((t=>!t.toString().includes(r.lang)));localStorage.setItem(n.IsCached,JSON.stringify(o)),localStorage.removeItem("version"+r.lang.toLowerCase()),caches.delete(r.lang),this.handleUpdateFoundMessage()}})).catch((t=>{console.error("Error fetching the content file: "+t)})):this.channel.postMessage({command:"Cache",data:this.lang}),navigator.serviceWorker.addEventListener("message",this.handleServiceWorkerMessage)}catch(t){console.error(`Failed to register service worker: ${t}`)}}setupCanvas(){this.canvas.height=window.innerHeight,this.canvas.width=window.screen.width>1080?768:window.innerWidth}createDataModal(e){return new t.DataModal(e.title,e.OtherAudios,e.Levels,e.FeedbackTexts,e.RightToLeft,e.FeedbackAudios,e.majversion,e.minversion,e.version)}globalInitialization(t){globalThis.aboutCompany=t.aboutCompany,globalThis.descriptionText=t.descriptionText}handleResize(t){this.is_cached.has(this.lang)&&(this.updateVersionInfoElement(t),this.setupCanvas(),this.reinitializeSceneHandler(t))}updateVersionInfoElement(t){this.is_cached.has(this.lang)&&r.Debugger.DevelopmentLink&&(t.majVersion&&t.minVersion?this.versionInfoElement.innerHTML+=`/j.v${t.majVersion}.${t.minVersion}`:t.version&&(this.versionInfoElement.innerHTML+=`/j.v${t.version}`),document.getElementById("toggle-btn").style.display="block")}reinitializeSceneHandler(t){delete this.sceneHandler,this.sceneHandler=new e.SceneHandler(this.canvas,t),this.passingDataToContainer()}handleCachedScenario(t){this.updateVersionInfoElement(t),this.sceneHandler=new e.SceneHandler(this.canvas,t),this.passingDataToContainer()}passingDataToContainer=()=>{window.Android&&window.Android.cachedStatus(1==this.is_cached.get(this.lang))};setContainerAppOrientation(){window.Android&&window.Android.setContainerAppOrientation("portrait")}handleUpdateFoundMessage(){confirm("Update Found\nPress ok to update")&&window.location.reload()}handleLoadingMessage=t=>{if(this.progressBarContainer&&this.progressBar){this.showProgressBar();const e=Math.min(100,Math.max(0,t.data));e>this.currentProgress&&(this.currentProgress=e,this.progressBar.style.width=`${this.currentProgress}%`),this.isDownloadCompleted(this.currentProgress)&&(this.cacheLanguage(),this.sendCompletionEvent(),this.hideLoadingScreen())}};showProgressBar(){this.progressBarContainer.classList.add("visible"),this.progressBar.classList.add("visible")}isDownloadCompleted(t){return 100===t&&!this.is_cached.get(this.lang)}cacheLanguage(){try{this.is_cached.set(this.lang,!0),localStorage.setItem(n.IsCached,JSON.stringify(Array.from(this.is_cached.entries())))}catch(t){console.error("Error caching language:",t)}}sendCompletionEvent(){const t={cr_user_id:r.pseudoId,ftm_language:r.lang,profile_number:0,version_number:this.versionInfoElement.innerHTML,json_version_number:this.getJsonVersionNumber()};this.firebaseIntegration.sendDownloadCompletedEvent(t)}getJsonVersionNumber(){return this.majVersion&&this.minVersion?this.majVersion+"."+this.minVersion:""}hideLoadingScreen(){try{localStorage.setItem("version"+this.lang,this.getJsonVersionNumber()),this.loadingElement.style.display="none",this.handleResize(this.dataModal)}catch(t){console.error("Error hiding loading screen:",t)}}handleServiceWorkerMessage=t=>{"Loading"===t.data.msg?this.handleLoadingMessage(t.data):"Update Found"===t.data.msg&&this.handleUpdateFoundMessage()};handleVisibilityChange=()=>{(0,r.isDocumentVisible)()?this.logSessionStartFirebaseEvent():this.logSessionEndFirebaseEvent()};handleBeforeUnload=async t=>{this.logSessionEndFirebaseEvent(),this.dispose()};preloadGameAudios=async()=>{let t=n.AUDIO_URL_PRELOAD;return new Promise(((e,i)=>{const s=t.map((t=>(new h.AudioPlayer).preloadGameAudio(t)));Promise.all(s).then((()=>e())).catch((t=>{console.error("Error preloading audio:",t),i(t)}))}))};dispose(){this.channel.removeEventListener("message",this.handleServiceWorkerMessage),window.removeEventListener("beforeunload",this.handleBeforeUnload),document.removeEventListener(r.VISIBILITY_CHANGE,this.handleVisibilityChange),window.removeEventListener("resize",this.handleResize),navigator.serviceWorker&&navigator.serviceWorker.removeEventListener("message",this.handleServiceWorkerMessage)}}(r.lang)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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L0QsS0FBS3FyQixTQUFTLEVBRWxCMHlDLGtCQUFvQm5zRCxVQUNoQixJQUFJdXdELEVBQVksRUFBQTVoQyxrQkFDaEIsT0FBTyxJQUFJbjZCLFNBQVEsQ0FBQ0YsRUFBU0QsS0FDekIsTUFBTW04RCxFQUFrQkQsRUFBVXoxRCxLQUFLdVQsSUFBYSxJQUFJLEVBQUFaLGFBQWMyQixpQkFBaUJmLEtBQ3ZGN1osUUFBUXVYLElBQUl5a0QsR0FDUHYwRCxNQUFLLElBQU0zSCxNQUNYSyxPQUFPcEQsSUFDUkQsUUFBUUMsTUFBTSwwQkFBMkJBLEdBQ3pDOEMsRUFBTzlDLEVBQU0sR0FDZixHQUNKLEVBR04sT0FBQWtvQixHQUNJcnJCLEtBQUttd0QsUUFBUWpoQyxvQkFBb0IsVUFBV2x2QixLQUFLMDlELDRCQUNqRHo1RCxPQUFPaXJCLG9CQUFvQixlQUFnQmx2QixLQUFLMjlELG9CQUNoRGg1RCxTQUFTdXFCLG9CQUFvQixFQUFBOVgsa0JBQW1CcFgsS0FBSzJ3Qix3QkFDckQxc0IsT0FBT2lyQixvQkFBb0IsU0FBVWx2QixLQUFLNDlELGNBQ3RDLzFELFVBQVVpekQsZUFDVmp6RCxVQUFVaXpELGNBQWM1ckMsb0JBQW9CLFVBQVdsdkIsS0FBSzA5RCwyQkFHcEUsR0FFZ0IsRUFBQS9sRCIsInNvdXJjZXMiOlsid2VicGFjazovL2ZlZWR0aGVtb25zdGVyanMvLi9ub2RlX21vZHVsZXMvQGZpcmViYXNlL3V0aWwvZGlzdC9pbmRleC5lc20yMDE3LmpzIiwid2VicGFjazovL2ZlZWR0aGVtb25zdGVyanMvLi9zcmMvRmlyZWJhc2UvYmFzZS1maXJlYmFzZS1pbnRlZ3JhdGlvbi50cyIsIndlYnBhY2s6Ly9mZWVkdGhlbW9uc3RlcmpzLy4vc3JjL0ZpcmViYXNlL2ZpcmViYXNlLWNvbmZpZy50cyIsIndlYnBhY2s6Ly9mZWVkdGhlbW9uc3RlcmpzLy4vc3JjL0ZpcmViYXNlL2ZpcmViYXNlLWludGVncmF0aW9uLnRzIiwid2VicGFjazovL2ZlZWR0aGVtb25zdGVyanMvLi9zcmMvY29tbW9uL2V2ZW50LW5hbWVzLnRzIiwid2VicGFjazovL2ZlZWR0aGVtb25zdGVyanMvLi9zcmMvY29tbW9uL2dsb2JhbC12YXJpYWJsZXMudHMiLCJ3ZWJwYWNrOi8vZmVlZHRoZW1vbnN0ZXJqcy8uL3NyYy9jb21tb24vc3RvbmUtY29uZmlnLnRzIiwid2VicGFjazovL2ZlZWR0aGVtb25zdGVyanMvLi9zcmMvY29tbW9uL3V0aWxzLnRzIiwid2VicGFjazovL2ZlZWR0aGVtb25zdGVyanMvLi9zcmMvY29tcG9uZW50cy9hdWRpby1wbGF5ZXIudHMiLCJ3ZWJwYWNrOi8vZmVlZHRoZW1vbnN0ZXJqcy8uL3NyYy9jb21wb25lbnRzL2JhY2tncm91bmQudHMiLCJ3ZWJwYWNrOi8vZmVlZHRoZW1vbnN0ZXJqcy8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvY2FuY2VsLWJ1dHRvbi50cyIsIndlYnBhY2s6Ly9mZWVkdGhlbW9uc3RlcmpzLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9jbG9zZS1idXR0b24udHMiLCJ3ZWJwYWNrOi8vZmVlZHRoZW1vbnN0ZXJqcy8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvbGV2ZWwtYnV0dG9uLnRzIiwid2VicGFjazovL2ZlZWR0aGVtb25zdGVyanMvLi9zcmMvY29tcG9uZW50cy9idXR0b25zL25leHQtYnV0dG9uLnRzIiwid2VicGFjazovL2ZlZWR0aGVtb25zdGVyanMvLi9zcmMvY29tcG9uZW50cy9idXR0b25zL25vLWJ1dHRvbi50cyIsIndlYnBhY2s6Ly9mZWVkdGhlbW9uc3RlcmpzLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9wYXVzZS1idXR0b24udHMiLCJ3ZWJwYWNrOi8vZmVlZHRoZW1vbnN0ZXJqcy8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvcGxheS1idXR0b24udHMiLCJ3ZWJwYWNrOi8vZmVlZHRoZW1vbnN0ZXJqcy8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvcmV0cnktYnV0dG9uLnRzIiwid2VicGFjazovL2ZlZWR0aGVtb25zdGVyanMvLi9zcmMvY29tcG9uZW50cy9idXR0b25zL3llcy1idXR0b24udHMiLCJ3ZWJwYWNrOi8vZmVlZHRoZW1vbnN0ZXJqcy8uL3NyYy9jb21wb25lbnRzL2ZlZWRiYWNrLXRleHQvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vZmVlZHRoZW1vbnN0ZXJqcy8uL3NyYy9jb21wb25lbnRzL2xldmVsLWluZGljYXRvci50cyIsIndlYnBhY2s6Ly9mZWVkdGhlbW9uc3RlcmpzLy4vc3JjL2NvbXBvbmVudHMvbW9uc3Rlci50cyIsIndlYnBhY2s6Ly9mZWVkdGhlbW9uc3RlcmpzLy4vc3JjL2NvbXBvbmVudHMvcG9wdXBzL3BhdXNlLXBvcHVwLnRzIiwid2VicGFjazovL2ZlZWR0aGVtb25zdGVyanMvLi9zcmMvY29tcG9uZW50cy9wb3B1cHMvc3VyZS1wb3B1cC50cyIsIndlYnBhY2s6Ly9mZWVkdGhlbW9uc3RlcmpzLy4vc3JjL2NvbXBvbmVudHMvcHJvbXB0LXRleHQudHMiLCJ3ZWJwYWNrOi8vZmVlZHRoZW1vbnN0ZXJqcy8uL3NyYy9jb21wb25lbnRzL3N0b25lLWhhbmRsZXIudHMiLCJ3ZWJwYWNrOi8vZmVlZHRoZW1vbnN0ZXJqcy8uL3NyYy9jb21wb25lbnRzL3RpbWVyLXRpY2tpbmcudHMiLCJ3ZWJwYWNrOi8vZmVlZHRoZW1vbnN0ZXJqcy8uL3NyYy9jb21wb25lbnRzL3RyYWlsLXBhcnRpY2xlcy50cyIsIndlYnBhY2s6Ly9mZWVkdGhlbW9uc3RlcmpzLy4vc3JjL2NvbXBvbmVudHMvdHV0b3JpYWwudHMiLCJ3ZWJwYWNrOi8vZmVlZHRoZW1vbnN0ZXJqcy8uL3NyYy9jb21wb3NpdGlvbnMvYmFja2dyb3VuZC50cyIsIndlYnBhY2s6Ly9mZWVkdGhlbW9uc3RlcmpzLy4vc3JjL2NvbXBvc2l0aW9ucy9sZXZlbC1jb25maWcudHMiLCJ3ZWJwYWNrOi8vZmVlZHRoZW1vbnN0ZXJqcy8uL3NyYy9jb25zdGFudHMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vZmVlZHRoZW1vbnN0ZXJqcy8uL3NyYy9kYXRhL2FwaS1kYXRhLnRzIiwid2VicGFjazovL2ZlZWR0aGVtb25zdGVyanMvLi9zcmMvZGF0YS9jdXN0b20tZm9udHMudHMiLCJ3ZWJwYWNrOi8vZmVlZHRoZW1vbnN0ZXJqcy8uL3NyYy9kYXRhL2RhdGEtbW9kYWwudHMiLCJ3ZWJwYWNrOi8vZmVlZHRoZW1vbnN0ZXJqcy8uL3NyYy9kYXRhL2dhbWUtc2NvcmUudHMiLCJ3ZWJwYWNrOi8vZmVlZHRoZW1vbnN0ZXJqcy8uL3NyYy9kYXRhL2kxOC1mb250LW1hcHBpbmcudHMiLCJ3ZWJwYWNrOi8vZmVlZHRoZW1vbnN0ZXJqcy8uL3NyYy9ldmVudHMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vZmVlZHRoZW1vbnN0ZXJqcy8uL3NyYy9ldmVudHMvcHViLXN1Yi1ldmVudHMudHMiLCJ3ZWJwYWNrOi8vZmVlZHRoZW1vbnN0ZXJqcy8uL3NyYy9nYW1lU3RhdGVTZXJ2aWNlL2RhdGEtYWNjZXNzLW9iamVjdHMudHMiLCJ3ZWJwYWNrOi8vZmVlZHRoZW1vbnN0ZXJqcy8uL3NyYy9nYW1lU3RhdGVTZXJ2aWNlL2dhbWUtZGF0YS50cyIsIndlYnBhY2s6Ly9mZWVkdGhlbW9uc3RlcmpzLy4vc3JjL2dhbWVTdGF0ZVNlcnZpY2UvZ2FtZS1zdGF0ZS1zZXJ2aWNlLnRzIiwid2VicGFjazovL2ZlZWR0aGVtb25zdGVyanMvLi9zcmMvZ2FtZVN0YXRlU2VydmljZS9pbmRleC50cyIsIndlYnBhY2s6Ly9mZWVkdGhlbW9uc3RlcmpzLy4vc3JjL2dhbWVwdXp6bGVzL3dvcmRQdXp6bGVMb2dpYy50cyIsIndlYnBhY2s6Ly9mZWVkdGhlbW9uc3RlcmpzLy4vc3JjL3NjZW5lSGFuZGxlci9pbmRleC50cyIsIndlYnBhY2s6Ly9mZWVkdGhlbW9uc3RlcmpzLy4vc3JjL3NjZW5lcy9nYW1lcGxheS1zY2VuZS50cyIsIndlYnBhY2s6Ly9mZWVkdGhlbW9uc3RlcmpzLy4vc3JjL3NjZW5lcy9sZXZlbC1zZWxlY3Rpb24tc2NlbmUudHMiLCJ3ZWJwYWNrOi8vZmVlZHRoZW1vbnN0ZXJqcy8uL3NyYy9zY2VuZXMvbGV2ZWxlbmQtc2NlbmUudHMiLCJ3ZWJwYWNrOi8vZmVlZHRoZW1vbnN0ZXJqcy8uL3NyYy9zY2VuZXMvbG9hZGluZy1zY2VuZS50cyIsIndlYnBhY2s6Ly9mZWVkdGhlbW9uc3RlcmpzLy4vc3JjL3NjZW5lcy9zdGFydC1zY2VuZS50cyIsIndlYnBhY2s6Ly9mZWVkdGhlbW9uc3RlcmpzLy4vc3JjL3NjZW5lcy90ZXN0LWdhbWVwbGF5LXNjZW5lLnRzIiwid2VicGFjazovL2ZlZWR0aGVtb25zdGVyanMvLi9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2FuYWx5dGljcy9kaXN0L2VzbS9pbmRleC5lc20yMDE3LmpzIiwid2VicGFjazovL2ZlZWR0aGVtb25zdGVyanMvLi9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2FwcC9kaXN0L2VzbS9pbmRleC5lc20yMDE3LmpzIiwid2VicGFjazovL2ZlZWR0aGVtb25zdGVyanMvLi9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2NvbXBvbmVudC9kaXN0L2VzbS9pbmRleC5lc20yMDE3LmpzIiwid2VicGFjazovL2ZlZWR0aGVtb25zdGVyanMvLi9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2luc3RhbGxhdGlvbnMvZGlzdC9lc20vaW5kZXguZXNtMjAxNy5qcyIsIndlYnBhY2s6Ly9mZWVkdGhlbW9uc3RlcmpzLy4vbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9pbnN0YWxsYXRpb25zL25vZGVfbW9kdWxlcy9pZGIvYnVpbGQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vZmVlZHRoZW1vbnN0ZXJqcy8uL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvaW5zdGFsbGF0aW9ucy9ub2RlX21vZHVsZXMvaWRiL2J1aWxkL3dyYXAtaWRiLXZhbHVlLmpzIiwid2VicGFjazovL2ZlZWR0aGVtb25zdGVyanMvLi9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2xvZ2dlci9kaXN0L2VzbS9pbmRleC5lc20yMDE3LmpzIiwid2VicGFjazovL2ZlZWR0aGVtb25zdGVyanMvLi9ub2RlX21vZHVsZXMvZmlyZWJhc2UvYXBwL2Rpc3QvZXNtL2luZGV4LmVzbS5qcyIsIndlYnBhY2s6Ly9mZWVkdGhlbW9uc3RlcmpzLy4vbm9kZV9tb2R1bGVzL2lkYi9idWlsZC9pbmRleC5qcyIsIndlYnBhY2s6Ly9mZWVkdGhlbW9uc3RlcmpzLy4vbm9kZV9tb2R1bGVzL2lkYi9idWlsZC93cmFwLWlkYi12YWx1ZS5qcyIsIndlYnBhY2s6Ly9mZWVkdGhlbW9uc3RlcmpzLy4vbm9kZV9tb2R1bGVzL3dvcmtib3gtd2luZG93L2J1aWxkL3dvcmtib3gtd2luZG93LnByb2QuZXM1Lm1qcyIsIndlYnBhY2s6Ly9mZWVkdGhlbW9uc3RlcmpzL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2ZlZWR0aGVtb25zdGVyanMvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2ZlZWR0aGVtb25zdGVyanMvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly9mZWVkdGhlbW9uc3RlcmpzL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vZmVlZHRoZW1vbnN0ZXJqcy93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL2ZlZWR0aGVtb25zdGVyanMvLi9mZWVkVGhlTW9uc3Rlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogQGZpbGVvdmVydmlldyBGaXJlYmFzZSBjb25zdGFudHMuICBTb21lIG9mIHRoZXNlIChAZGVmaW5lcykgY2FuIGJlIG92ZXJyaWRkZW4gYXQgY29tcGlsZS10aW1lLlxyXG4gKi9cclxuY29uc3QgQ09OU1RBTlRTID0ge1xyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVmaW5lIHtib29sZWFufSBXaGV0aGVyIHRoaXMgaXMgdGhlIGNsaWVudCBOb2RlLmpzIFNESy5cclxuICAgICAqL1xyXG4gICAgTk9ERV9DTElFTlQ6IGZhbHNlLFxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVmaW5lIHtib29sZWFufSBXaGV0aGVyIHRoaXMgaXMgdGhlIEFkbWluIE5vZGUuanMgU0RLLlxyXG4gICAgICovXHJcbiAgICBOT0RFX0FETUlOOiBmYWxzZSxcclxuICAgIC8qKlxyXG4gICAgICogRmlyZWJhc2UgU0RLIFZlcnNpb25cclxuICAgICAqL1xyXG4gICAgU0RLX1ZFUlNJT046ICcke0pTQ09SRV9WRVJTSU9OfSdcclxufTtcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIFRocm93cyBhbiBlcnJvciBpZiB0aGUgcHJvdmlkZWQgYXNzZXJ0aW9uIGlzIGZhbHN5XHJcbiAqL1xyXG5jb25zdCBhc3NlcnQgPSBmdW5jdGlvbiAoYXNzZXJ0aW9uLCBtZXNzYWdlKSB7XHJcbiAgICBpZiAoIWFzc2VydGlvbikge1xyXG4gICAgICAgIHRocm93IGFzc2VydGlvbkVycm9yKG1lc3NhZ2UpO1xyXG4gICAgfVxyXG59O1xyXG4vKipcclxuICogUmV0dXJucyBhbiBFcnJvciBvYmplY3Qgc3VpdGFibGUgZm9yIHRocm93aW5nLlxyXG4gKi9cclxuY29uc3QgYXNzZXJ0aW9uRXJyb3IgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xyXG4gICAgcmV0dXJuIG5ldyBFcnJvcignRmlyZWJhc2UgRGF0YWJhc2UgKCcgK1xyXG4gICAgICAgIENPTlNUQU5UUy5TREtfVkVSU0lPTiArXHJcbiAgICAgICAgJykgSU5URVJOQUwgQVNTRVJUIEZBSUxFRDogJyArXHJcbiAgICAgICAgbWVzc2FnZSk7XHJcbn07XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbmNvbnN0IHN0cmluZ1RvQnl0ZUFycmF5JDEgPSBmdW5jdGlvbiAoc3RyKSB7XHJcbiAgICAvLyBUT0RPKHVzZXIpOiBVc2UgbmF0aXZlIGltcGxlbWVudGF0aW9ucyBpZi93aGVuIGF2YWlsYWJsZVxyXG4gICAgY29uc3Qgb3V0ID0gW107XHJcbiAgICBsZXQgcCA9IDA7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGxldCBjID0gc3RyLmNoYXJDb2RlQXQoaSk7XHJcbiAgICAgICAgaWYgKGMgPCAxMjgpIHtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSBjO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjIDwgMjA0OCkge1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9IChjID4+IDYpIHwgMTkyO1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9IChjICYgNjMpIHwgMTI4O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICgoYyAmIDB4ZmMwMCkgPT09IDB4ZDgwMCAmJlxyXG4gICAgICAgICAgICBpICsgMSA8IHN0ci5sZW5ndGggJiZcclxuICAgICAgICAgICAgKHN0ci5jaGFyQ29kZUF0KGkgKyAxKSAmIDB4ZmMwMCkgPT09IDB4ZGMwMCkge1xyXG4gICAgICAgICAgICAvLyBTdXJyb2dhdGUgUGFpclxyXG4gICAgICAgICAgICBjID0gMHgxMDAwMCArICgoYyAmIDB4MDNmZikgPDwgMTApICsgKHN0ci5jaGFyQ29kZUF0KCsraSkgJiAweDAzZmYpO1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9IChjID4+IDE4KSB8IDI0MDtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoKGMgPj4gMTIpICYgNjMpIHwgMTI4O1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9ICgoYyA+PiA2KSAmIDYzKSB8IDEyODtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoYyAmIDYzKSB8IDEyODtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKGMgPj4gMTIpIHwgMjI0O1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9ICgoYyA+PiA2KSAmIDYzKSB8IDEyODtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoYyAmIDYzKSB8IDEyODtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gb3V0O1xyXG59O1xyXG4vKipcclxuICogVHVybnMgYW4gYXJyYXkgb2YgbnVtYmVycyBpbnRvIHRoZSBzdHJpbmcgZ2l2ZW4gYnkgdGhlIGNvbmNhdGVuYXRpb24gb2YgdGhlXHJcbiAqIGNoYXJhY3RlcnMgdG8gd2hpY2ggdGhlIG51bWJlcnMgY29ycmVzcG9uZC5cclxuICogQHBhcmFtIGJ5dGVzIEFycmF5IG9mIG51bWJlcnMgcmVwcmVzZW50aW5nIGNoYXJhY3RlcnMuXHJcbiAqIEByZXR1cm4gU3RyaW5naWZpY2F0aW9uIG9mIHRoZSBhcnJheS5cclxuICovXHJcbmNvbnN0IGJ5dGVBcnJheVRvU3RyaW5nID0gZnVuY3Rpb24gKGJ5dGVzKSB7XHJcbiAgICAvLyBUT0RPKHVzZXIpOiBVc2UgbmF0aXZlIGltcGxlbWVudGF0aW9ucyBpZi93aGVuIGF2YWlsYWJsZVxyXG4gICAgY29uc3Qgb3V0ID0gW107XHJcbiAgICBsZXQgcG9zID0gMCwgYyA9IDA7XHJcbiAgICB3aGlsZSAocG9zIDwgYnl0ZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgY29uc3QgYzEgPSBieXRlc1twb3MrK107XHJcbiAgICAgICAgaWYgKGMxIDwgMTI4KSB7XHJcbiAgICAgICAgICAgIG91dFtjKytdID0gU3RyaW5nLmZyb21DaGFyQ29kZShjMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGMxID4gMTkxICYmIGMxIDwgMjI0KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGMyID0gYnl0ZXNbcG9zKytdO1xyXG4gICAgICAgICAgICBvdXRbYysrXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoKChjMSAmIDMxKSA8PCA2KSB8IChjMiAmIDYzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGMxID4gMjM5ICYmIGMxIDwgMzY1KSB7XHJcbiAgICAgICAgICAgIC8vIFN1cnJvZ2F0ZSBQYWlyXHJcbiAgICAgICAgICAgIGNvbnN0IGMyID0gYnl0ZXNbcG9zKytdO1xyXG4gICAgICAgICAgICBjb25zdCBjMyA9IGJ5dGVzW3BvcysrXTtcclxuICAgICAgICAgICAgY29uc3QgYzQgPSBieXRlc1twb3MrK107XHJcbiAgICAgICAgICAgIGNvbnN0IHUgPSAoKChjMSAmIDcpIDw8IDE4KSB8ICgoYzIgJiA2MykgPDwgMTIpIHwgKChjMyAmIDYzKSA8PCA2KSB8IChjNCAmIDYzKSkgLVxyXG4gICAgICAgICAgICAgICAgMHgxMDAwMDtcclxuICAgICAgICAgICAgb3V0W2MrK10gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4ZDgwMCArICh1ID4+IDEwKSk7XHJcbiAgICAgICAgICAgIG91dFtjKytdID0gU3RyaW5nLmZyb21DaGFyQ29kZSgweGRjMDAgKyAodSAmIDEwMjMpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGMyID0gYnl0ZXNbcG9zKytdO1xyXG4gICAgICAgICAgICBjb25zdCBjMyA9IGJ5dGVzW3BvcysrXTtcclxuICAgICAgICAgICAgb3V0W2MrK10gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKCgoYzEgJiAxNSkgPDwgMTIpIHwgKChjMiAmIDYzKSA8PCA2KSB8IChjMyAmIDYzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG91dC5qb2luKCcnKTtcclxufTtcclxuLy8gV2UgZGVmaW5lIGl0IGFzIGFuIG9iamVjdCBsaXRlcmFsIGluc3RlYWQgb2YgYSBjbGFzcyBiZWNhdXNlIGEgY2xhc3MgY29tcGlsZWQgZG93biB0byBlczUgY2FuJ3RcclxuLy8gYmUgdHJlZXNoYWtlZC4gaHR0cHM6Ly9naXRodWIuY29tL3JvbGx1cC9yb2xsdXAvaXNzdWVzLzE2OTFcclxuLy8gU3RhdGljIGxvb2t1cCBtYXBzLCBsYXppbHkgcG9wdWxhdGVkIGJ5IGluaXRfKClcclxuY29uc3QgYmFzZTY0ID0ge1xyXG4gICAgLyoqXHJcbiAgICAgKiBNYXBzIGJ5dGVzIHRvIGNoYXJhY3RlcnMuXHJcbiAgICAgKi9cclxuICAgIGJ5dGVUb0NoYXJNYXBfOiBudWxsLFxyXG4gICAgLyoqXHJcbiAgICAgKiBNYXBzIGNoYXJhY3RlcnMgdG8gYnl0ZXMuXHJcbiAgICAgKi9cclxuICAgIGNoYXJUb0J5dGVNYXBfOiBudWxsLFxyXG4gICAgLyoqXHJcbiAgICAgKiBNYXBzIGJ5dGVzIHRvIHdlYnNhZmUgY2hhcmFjdGVycy5cclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIGJ5dGVUb0NoYXJNYXBXZWJTYWZlXzogbnVsbCxcclxuICAgIC8qKlxyXG4gICAgICogTWFwcyB3ZWJzYWZlIGNoYXJhY3RlcnMgdG8gYnl0ZXMuXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICBjaGFyVG9CeXRlTWFwV2ViU2FmZV86IG51bGwsXHJcbiAgICAvKipcclxuICAgICAqIE91ciBkZWZhdWx0IGFscGhhYmV0LCBzaGFyZWQgYmV0d2VlblxyXG4gICAgICogRU5DT0RFRF9WQUxTIGFuZCBFTkNPREVEX1ZBTFNfV0VCU0FGRVxyXG4gICAgICovXHJcbiAgICBFTkNPREVEX1ZBTFNfQkFTRTogJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaJyArICdhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eicgKyAnMDEyMzQ1Njc4OScsXHJcbiAgICAvKipcclxuICAgICAqIE91ciBkZWZhdWx0IGFscGhhYmV0LiBWYWx1ZSA2NCAoPSkgaXMgc3BlY2lhbDsgaXQgbWVhbnMgXCJub3RoaW5nLlwiXHJcbiAgICAgKi9cclxuICAgIGdldCBFTkNPREVEX1ZBTFMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuRU5DT0RFRF9WQUxTX0JBU0UgKyAnKy89JztcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIE91ciB3ZWJzYWZlIGFscGhhYmV0LlxyXG4gICAgICovXHJcbiAgICBnZXQgRU5DT0RFRF9WQUxTX1dFQlNBRkUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuRU5DT0RFRF9WQUxTX0JBU0UgKyAnLV8uJztcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIFdoZXRoZXIgdGhpcyBicm93c2VyIHN1cHBvcnRzIHRoZSBhdG9iIGFuZCBidG9hIGZ1bmN0aW9ucy4gVGhpcyBleHRlbnNpb25cclxuICAgICAqIHN0YXJ0ZWQgYXQgTW96aWxsYSBidXQgaXMgbm93IGltcGxlbWVudGVkIGJ5IG1hbnkgYnJvd3NlcnMuIFdlIHVzZSB0aGVcclxuICAgICAqIEFTU1VNRV8qIHZhcmlhYmxlcyB0byBhdm9pZCBwdWxsaW5nIGluIHRoZSBmdWxsIHVzZXJhZ2VudCBkZXRlY3Rpb24gbGlicmFyeVxyXG4gICAgICogYnV0IHN0aWxsIGFsbG93aW5nIHRoZSBzdGFuZGFyZCBwZXItYnJvd3NlciBjb21waWxhdGlvbnMuXHJcbiAgICAgKlxyXG4gICAgICovXHJcbiAgICBIQVNfTkFUSVZFX1NVUFBPUlQ6IHR5cGVvZiBhdG9iID09PSAnZnVuY3Rpb24nLFxyXG4gICAgLyoqXHJcbiAgICAgKiBCYXNlNjQtZW5jb2RlIGFuIGFycmF5IG9mIGJ5dGVzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBpbnB1dCBBbiBhcnJheSBvZiBieXRlcyAobnVtYmVycyB3aXRoXHJcbiAgICAgKiAgICAgdmFsdWUgaW4gWzAsIDI1NV0pIHRvIGVuY29kZS5cclxuICAgICAqIEBwYXJhbSB3ZWJTYWZlIEJvb2xlYW4gaW5kaWNhdGluZyB3ZSBzaG91bGQgdXNlIHRoZVxyXG4gICAgICogICAgIGFsdGVybmF0aXZlIGFscGhhYmV0LlxyXG4gICAgICogQHJldHVybiBUaGUgYmFzZTY0IGVuY29kZWQgc3RyaW5nLlxyXG4gICAgICovXHJcbiAgICBlbmNvZGVCeXRlQXJyYXkoaW5wdXQsIHdlYlNhZmUpIHtcclxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoaW5wdXQpKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdlbmNvZGVCeXRlQXJyYXkgdGFrZXMgYW4gYXJyYXkgYXMgYSBwYXJhbWV0ZXInKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5pbml0XygpO1xyXG4gICAgICAgIGNvbnN0IGJ5dGVUb0NoYXJNYXAgPSB3ZWJTYWZlXHJcbiAgICAgICAgICAgID8gdGhpcy5ieXRlVG9DaGFyTWFwV2ViU2FmZV9cclxuICAgICAgICAgICAgOiB0aGlzLmJ5dGVUb0NoYXJNYXBfO1xyXG4gICAgICAgIGNvbnN0IG91dHB1dCA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXQubGVuZ3RoOyBpICs9IDMpIHtcclxuICAgICAgICAgICAgY29uc3QgYnl0ZTEgPSBpbnB1dFtpXTtcclxuICAgICAgICAgICAgY29uc3QgaGF2ZUJ5dGUyID0gaSArIDEgPCBpbnB1dC5sZW5ndGg7XHJcbiAgICAgICAgICAgIGNvbnN0IGJ5dGUyID0gaGF2ZUJ5dGUyID8gaW5wdXRbaSArIDFdIDogMDtcclxuICAgICAgICAgICAgY29uc3QgaGF2ZUJ5dGUzID0gaSArIDIgPCBpbnB1dC5sZW5ndGg7XHJcbiAgICAgICAgICAgIGNvbnN0IGJ5dGUzID0gaGF2ZUJ5dGUzID8gaW5wdXRbaSArIDJdIDogMDtcclxuICAgICAgICAgICAgY29uc3Qgb3V0Qnl0ZTEgPSBieXRlMSA+PiAyO1xyXG4gICAgICAgICAgICBjb25zdCBvdXRCeXRlMiA9ICgoYnl0ZTEgJiAweDAzKSA8PCA0KSB8IChieXRlMiA+PiA0KTtcclxuICAgICAgICAgICAgbGV0IG91dEJ5dGUzID0gKChieXRlMiAmIDB4MGYpIDw8IDIpIHwgKGJ5dGUzID4+IDYpO1xyXG4gICAgICAgICAgICBsZXQgb3V0Qnl0ZTQgPSBieXRlMyAmIDB4M2Y7XHJcbiAgICAgICAgICAgIGlmICghaGF2ZUJ5dGUzKSB7XHJcbiAgICAgICAgICAgICAgICBvdXRCeXRlNCA9IDY0O1xyXG4gICAgICAgICAgICAgICAgaWYgKCFoYXZlQnl0ZTIpIHtcclxuICAgICAgICAgICAgICAgICAgICBvdXRCeXRlMyA9IDY0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG91dHB1dC5wdXNoKGJ5dGVUb0NoYXJNYXBbb3V0Qnl0ZTFdLCBieXRlVG9DaGFyTWFwW291dEJ5dGUyXSwgYnl0ZVRvQ2hhck1hcFtvdXRCeXRlM10sIGJ5dGVUb0NoYXJNYXBbb3V0Qnl0ZTRdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG91dHB1dC5qb2luKCcnKTtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIEJhc2U2NC1lbmNvZGUgYSBzdHJpbmcuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGlucHV0IEEgc3RyaW5nIHRvIGVuY29kZS5cclxuICAgICAqIEBwYXJhbSB3ZWJTYWZlIElmIHRydWUsIHdlIHNob3VsZCB1c2UgdGhlXHJcbiAgICAgKiAgICAgYWx0ZXJuYXRpdmUgYWxwaGFiZXQuXHJcbiAgICAgKiBAcmV0dXJuIFRoZSBiYXNlNjQgZW5jb2RlZCBzdHJpbmcuXHJcbiAgICAgKi9cclxuICAgIGVuY29kZVN0cmluZyhpbnB1dCwgd2ViU2FmZSkge1xyXG4gICAgICAgIC8vIFNob3J0Y3V0IGZvciBNb3ppbGxhIGJyb3dzZXJzIHRoYXQgaW1wbGVtZW50XHJcbiAgICAgICAgLy8gYSBuYXRpdmUgYmFzZTY0IGVuY29kZXIgaW4gdGhlIGZvcm0gb2YgXCJidG9hL2F0b2JcIlxyXG4gICAgICAgIGlmICh0aGlzLkhBU19OQVRJVkVfU1VQUE9SVCAmJiAhd2ViU2FmZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gYnRvYShpbnB1dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLmVuY29kZUJ5dGVBcnJheShzdHJpbmdUb0J5dGVBcnJheSQxKGlucHV0KSwgd2ViU2FmZSk7XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAgKiBCYXNlNjQtZGVjb2RlIGEgc3RyaW5nLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBpbnB1dCB0byBkZWNvZGUuXHJcbiAgICAgKiBAcGFyYW0gd2ViU2FmZSBUcnVlIGlmIHdlIHNob3VsZCB1c2UgdGhlXHJcbiAgICAgKiAgICAgYWx0ZXJuYXRpdmUgYWxwaGFiZXQuXHJcbiAgICAgKiBAcmV0dXJuIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIGRlY29kZWQgdmFsdWUuXHJcbiAgICAgKi9cclxuICAgIGRlY29kZVN0cmluZyhpbnB1dCwgd2ViU2FmZSkge1xyXG4gICAgICAgIC8vIFNob3J0Y3V0IGZvciBNb3ppbGxhIGJyb3dzZXJzIHRoYXQgaW1wbGVtZW50XHJcbiAgICAgICAgLy8gYSBuYXRpdmUgYmFzZTY0IGVuY29kZXIgaW4gdGhlIGZvcm0gb2YgXCJidG9hL2F0b2JcIlxyXG4gICAgICAgIGlmICh0aGlzLkhBU19OQVRJVkVfU1VQUE9SVCAmJiAhd2ViU2FmZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gYXRvYihpbnB1dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBieXRlQXJyYXlUb1N0cmluZyh0aGlzLmRlY29kZVN0cmluZ1RvQnl0ZUFycmF5KGlucHV0LCB3ZWJTYWZlKSk7XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAgKiBCYXNlNjQtZGVjb2RlIGEgc3RyaW5nLlxyXG4gICAgICpcclxuICAgICAqIEluIGJhc2UtNjQgZGVjb2RpbmcsIGdyb3VwcyBvZiBmb3VyIGNoYXJhY3RlcnMgYXJlIGNvbnZlcnRlZCBpbnRvIHRocmVlXHJcbiAgICAgKiBieXRlcy4gIElmIHRoZSBlbmNvZGVyIGRpZCBub3QgYXBwbHkgcGFkZGluZywgdGhlIGlucHV0IGxlbmd0aCBtYXkgbm90XHJcbiAgICAgKiBiZSBhIG11bHRpcGxlIG9mIDQuXHJcbiAgICAgKlxyXG4gICAgICogSW4gdGhpcyBjYXNlLCB0aGUgbGFzdCBncm91cCB3aWxsIGhhdmUgZmV3ZXIgdGhhbiA0IGNoYXJhY3RlcnMsIGFuZFxyXG4gICAgICogcGFkZGluZyB3aWxsIGJlIGluZmVycmVkLiAgSWYgdGhlIGdyb3VwIGhhcyBvbmUgb3IgdHdvIGNoYXJhY3RlcnMsIGl0IGRlY29kZXNcclxuICAgICAqIHRvIG9uZSBieXRlLiAgSWYgdGhlIGdyb3VwIGhhcyB0aHJlZSBjaGFyYWN0ZXJzLCBpdCBkZWNvZGVzIHRvIHR3byBieXRlcy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gaW5wdXQgSW5wdXQgdG8gZGVjb2RlLlxyXG4gICAgICogQHBhcmFtIHdlYlNhZmUgVHJ1ZSBpZiB3ZSBzaG91bGQgdXNlIHRoZSB3ZWItc2FmZSBhbHBoYWJldC5cclxuICAgICAqIEByZXR1cm4gYnl0ZXMgcmVwcmVzZW50aW5nIHRoZSBkZWNvZGVkIHZhbHVlLlxyXG4gICAgICovXHJcbiAgICBkZWNvZGVTdHJpbmdUb0J5dGVBcnJheShpbnB1dCwgd2ViU2FmZSkge1xyXG4gICAgICAgIHRoaXMuaW5pdF8oKTtcclxuICAgICAgICBjb25zdCBjaGFyVG9CeXRlTWFwID0gd2ViU2FmZVxyXG4gICAgICAgICAgICA/IHRoaXMuY2hhclRvQnl0ZU1hcFdlYlNhZmVfXHJcbiAgICAgICAgICAgIDogdGhpcy5jaGFyVG9CeXRlTWFwXztcclxuICAgICAgICBjb25zdCBvdXRwdXQgPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0Lmxlbmd0aDspIHtcclxuICAgICAgICAgICAgY29uc3QgYnl0ZTEgPSBjaGFyVG9CeXRlTWFwW2lucHV0LmNoYXJBdChpKyspXTtcclxuICAgICAgICAgICAgY29uc3QgaGF2ZUJ5dGUyID0gaSA8IGlucHV0Lmxlbmd0aDtcclxuICAgICAgICAgICAgY29uc3QgYnl0ZTIgPSBoYXZlQnl0ZTIgPyBjaGFyVG9CeXRlTWFwW2lucHV0LmNoYXJBdChpKV0gOiAwO1xyXG4gICAgICAgICAgICArK2k7XHJcbiAgICAgICAgICAgIGNvbnN0IGhhdmVCeXRlMyA9IGkgPCBpbnB1dC5sZW5ndGg7XHJcbiAgICAgICAgICAgIGNvbnN0IGJ5dGUzID0gaGF2ZUJ5dGUzID8gY2hhclRvQnl0ZU1hcFtpbnB1dC5jaGFyQXQoaSldIDogNjQ7XHJcbiAgICAgICAgICAgICsraTtcclxuICAgICAgICAgICAgY29uc3QgaGF2ZUJ5dGU0ID0gaSA8IGlucHV0Lmxlbmd0aDtcclxuICAgICAgICAgICAgY29uc3QgYnl0ZTQgPSBoYXZlQnl0ZTQgPyBjaGFyVG9CeXRlTWFwW2lucHV0LmNoYXJBdChpKV0gOiA2NDtcclxuICAgICAgICAgICAgKytpO1xyXG4gICAgICAgICAgICBpZiAoYnl0ZTEgPT0gbnVsbCB8fCBieXRlMiA9PSBudWxsIHx8IGJ5dGUzID09IG51bGwgfHwgYnl0ZTQgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IERlY29kZUJhc2U2NFN0cmluZ0Vycm9yKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3Qgb3V0Qnl0ZTEgPSAoYnl0ZTEgPDwgMikgfCAoYnl0ZTIgPj4gNCk7XHJcbiAgICAgICAgICAgIG91dHB1dC5wdXNoKG91dEJ5dGUxKTtcclxuICAgICAgICAgICAgaWYgKGJ5dGUzICE9PSA2NCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgb3V0Qnl0ZTIgPSAoKGJ5dGUyIDw8IDQpICYgMHhmMCkgfCAoYnl0ZTMgPj4gMik7XHJcbiAgICAgICAgICAgICAgICBvdXRwdXQucHVzaChvdXRCeXRlMik7XHJcbiAgICAgICAgICAgICAgICBpZiAoYnl0ZTQgIT09IDY0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3V0Qnl0ZTMgPSAoKGJ5dGUzIDw8IDYpICYgMHhjMCkgfCBieXRlNDtcclxuICAgICAgICAgICAgICAgICAgICBvdXRwdXQucHVzaChvdXRCeXRlMyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG91dHB1dDtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIExhenkgc3RhdGljIGluaXRpYWxpemF0aW9uIGZ1bmN0aW9uLiBDYWxsZWQgYmVmb3JlXHJcbiAgICAgKiBhY2Nlc3NpbmcgYW55IG9mIHRoZSBzdGF0aWMgbWFwIHZhcmlhYmxlcy5cclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIGluaXRfKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5ieXRlVG9DaGFyTWFwXykge1xyXG4gICAgICAgICAgICB0aGlzLmJ5dGVUb0NoYXJNYXBfID0ge307XHJcbiAgICAgICAgICAgIHRoaXMuY2hhclRvQnl0ZU1hcF8gPSB7fTtcclxuICAgICAgICAgICAgdGhpcy5ieXRlVG9DaGFyTWFwV2ViU2FmZV8gPSB7fTtcclxuICAgICAgICAgICAgdGhpcy5jaGFyVG9CeXRlTWFwV2ViU2FmZV8gPSB7fTtcclxuICAgICAgICAgICAgLy8gV2Ugd2FudCBxdWljayBtYXBwaW5ncyBiYWNrIGFuZCBmb3J0aCwgc28gd2UgcHJlY29tcHV0ZSB0d28gbWFwcy5cclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLkVOQ09ERURfVkFMUy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ieXRlVG9DaGFyTWFwX1tpXSA9IHRoaXMuRU5DT0RFRF9WQUxTLmNoYXJBdChpKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hhclRvQnl0ZU1hcF9bdGhpcy5ieXRlVG9DaGFyTWFwX1tpXV0gPSBpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ieXRlVG9DaGFyTWFwV2ViU2FmZV9baV0gPSB0aGlzLkVOQ09ERURfVkFMU19XRUJTQUZFLmNoYXJBdChpKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hhclRvQnl0ZU1hcFdlYlNhZmVfW3RoaXMuYnl0ZVRvQ2hhck1hcFdlYlNhZmVfW2ldXSA9IGk7XHJcbiAgICAgICAgICAgICAgICAvLyBCZSBmb3JnaXZpbmcgd2hlbiBkZWNvZGluZyBhbmQgY29ycmVjdGx5IGRlY29kZSBib3RoIGVuY29kaW5ncy5cclxuICAgICAgICAgICAgICAgIGlmIChpID49IHRoaXMuRU5DT0RFRF9WQUxTX0JBU0UubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFyVG9CeXRlTWFwX1t0aGlzLkVOQ09ERURfVkFMU19XRUJTQUZFLmNoYXJBdChpKV0gPSBpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhclRvQnl0ZU1hcFdlYlNhZmVfW3RoaXMuRU5DT0RFRF9WQUxTLmNoYXJBdChpKV0gPSBpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG4vKipcclxuICogQW4gZXJyb3IgZW5jb3VudGVyZWQgd2hpbGUgZGVjb2RpbmcgYmFzZTY0IHN0cmluZy5cclxuICovXHJcbmNsYXNzIERlY29kZUJhc2U2NFN0cmluZ0Vycm9yIGV4dGVuZHMgRXJyb3Ige1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcclxuICAgICAgICB0aGlzLm5hbWUgPSAnRGVjb2RlQmFzZTY0U3RyaW5nRXJyb3InO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBVUkwtc2FmZSBiYXNlNjQgZW5jb2RpbmdcclxuICovXHJcbmNvbnN0IGJhc2U2NEVuY29kZSA9IGZ1bmN0aW9uIChzdHIpIHtcclxuICAgIGNvbnN0IHV0ZjhCeXRlcyA9IHN0cmluZ1RvQnl0ZUFycmF5JDEoc3RyKTtcclxuICAgIHJldHVybiBiYXNlNjQuZW5jb2RlQnl0ZUFycmF5KHV0ZjhCeXRlcywgdHJ1ZSk7XHJcbn07XHJcbi8qKlxyXG4gKiBVUkwtc2FmZSBiYXNlNjQgZW5jb2RpbmcgKHdpdGhvdXQgXCIuXCIgcGFkZGluZyBpbiB0aGUgZW5kKS5cclxuICogZS5nLiBVc2VkIGluIEpTT04gV2ViIFRva2VuIChKV1QpIHBhcnRzLlxyXG4gKi9cclxuY29uc3QgYmFzZTY0dXJsRW5jb2RlV2l0aG91dFBhZGRpbmcgPSBmdW5jdGlvbiAoc3RyKSB7XHJcbiAgICAvLyBVc2UgYmFzZTY0dXJsIGVuY29kaW5nIGFuZCByZW1vdmUgcGFkZGluZyBpbiB0aGUgZW5kIChkb3QgY2hhcmFjdGVycykuXHJcbiAgICByZXR1cm4gYmFzZTY0RW5jb2RlKHN0cikucmVwbGFjZSgvXFwuL2csICcnKTtcclxufTtcclxuLyoqXHJcbiAqIFVSTC1zYWZlIGJhc2U2NCBkZWNvZGluZ1xyXG4gKlxyXG4gKiBOT1RFOiBETyBOT1QgdXNlIHRoZSBnbG9iYWwgYXRvYigpIGZ1bmN0aW9uIC0gaXQgZG9lcyBOT1Qgc3VwcG9ydCB0aGVcclxuICogYmFzZTY0VXJsIHZhcmlhbnQgZW5jb2RpbmcuXHJcbiAqXHJcbiAqIEBwYXJhbSBzdHIgVG8gYmUgZGVjb2RlZFxyXG4gKiBAcmV0dXJuIERlY29kZWQgcmVzdWx0LCBpZiBwb3NzaWJsZVxyXG4gKi9cclxuY29uc3QgYmFzZTY0RGVjb2RlID0gZnVuY3Rpb24gKHN0cikge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICByZXR1cm4gYmFzZTY0LmRlY29kZVN0cmluZyhzdHIsIHRydWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdiYXNlNjREZWNvZGUgZmFpbGVkOiAnLCBlKTtcclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59O1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogRG8gYSBkZWVwLWNvcHkgb2YgYmFzaWMgSmF2YVNjcmlwdCBPYmplY3RzIG9yIEFycmF5cy5cclxuICovXHJcbmZ1bmN0aW9uIGRlZXBDb3B5KHZhbHVlKSB7XHJcbiAgICByZXR1cm4gZGVlcEV4dGVuZCh1bmRlZmluZWQsIHZhbHVlKTtcclxufVxyXG4vKipcclxuICogQ29weSBwcm9wZXJ0aWVzIGZyb20gc291cmNlIHRvIHRhcmdldCAocmVjdXJzaXZlbHkgYWxsb3dzIGV4dGVuc2lvblxyXG4gKiBvZiBPYmplY3RzIGFuZCBBcnJheXMpLiAgU2NhbGFyIHZhbHVlcyBpbiB0aGUgdGFyZ2V0IGFyZSBvdmVyLXdyaXR0ZW4uXHJcbiAqIElmIHRhcmdldCBpcyB1bmRlZmluZWQsIGFuIG9iamVjdCBvZiB0aGUgYXBwcm9wcmlhdGUgdHlwZSB3aWxsIGJlIGNyZWF0ZWRcclxuICogKGFuZCByZXR1cm5lZCkuXHJcbiAqXHJcbiAqIFdlIHJlY3Vyc2l2ZWx5IGNvcHkgYWxsIGNoaWxkIHByb3BlcnRpZXMgb2YgcGxhaW4gT2JqZWN0cyBpbiB0aGUgc291cmNlLSBzb1xyXG4gKiB0aGF0IG5hbWVzcGFjZS0gbGlrZSBkaWN0aW9uYXJpZXMgYXJlIG1lcmdlZC5cclxuICpcclxuICogTm90ZSB0aGF0IHRoZSB0YXJnZXQgY2FuIGJlIGEgZnVuY3Rpb24sIGluIHdoaWNoIGNhc2UgdGhlIHByb3BlcnRpZXMgaW5cclxuICogdGhlIHNvdXJjZSBPYmplY3QgYXJlIGNvcGllZCBvbnRvIGl0IGFzIHN0YXRpYyBwcm9wZXJ0aWVzIG9mIHRoZSBGdW5jdGlvbi5cclxuICpcclxuICogTm90ZTogd2UgZG9uJ3QgbWVyZ2UgX19wcm90b19fIHRvIHByZXZlbnQgcHJvdG90eXBlIHBvbGx1dGlvblxyXG4gKi9cclxuZnVuY3Rpb24gZGVlcEV4dGVuZCh0YXJnZXQsIHNvdXJjZSkge1xyXG4gICAgaWYgKCEoc291cmNlIGluc3RhbmNlb2YgT2JqZWN0KSkge1xyXG4gICAgICAgIHJldHVybiBzb3VyY2U7XHJcbiAgICB9XHJcbiAgICBzd2l0Y2ggKHNvdXJjZS5jb25zdHJ1Y3Rvcikge1xyXG4gICAgICAgIGNhc2UgRGF0ZTpcclxuICAgICAgICAgICAgLy8gVHJlYXQgRGF0ZXMgbGlrZSBzY2FsYXJzOyBpZiB0aGUgdGFyZ2V0IGRhdGUgb2JqZWN0IGhhZCBhbnkgY2hpbGRcclxuICAgICAgICAgICAgLy8gcHJvcGVydGllcyAtIHRoZXkgd2lsbCBiZSBsb3N0IVxyXG4gICAgICAgICAgICBjb25zdCBkYXRlVmFsdWUgPSBzb3VyY2U7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZShkYXRlVmFsdWUuZ2V0VGltZSgpKTtcclxuICAgICAgICBjYXNlIE9iamVjdDpcclxuICAgICAgICAgICAgaWYgKHRhcmdldCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQgPSB7fTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIEFycmF5OlxyXG4gICAgICAgICAgICAvLyBBbHdheXMgY29weSB0aGUgYXJyYXkgc291cmNlIGFuZCBvdmVyd3JpdGUgdGhlIHRhcmdldC5cclxuICAgICAgICAgICAgdGFyZ2V0ID0gW107XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIC8vIE5vdCBhIHBsYWluIE9iamVjdCAtIHRyZWF0IGl0IGFzIGEgc2NhbGFyLlxyXG4gICAgICAgICAgICByZXR1cm4gc291cmNlO1xyXG4gICAgfVxyXG4gICAgZm9yIChjb25zdCBwcm9wIGluIHNvdXJjZSkge1xyXG4gICAgICAgIC8vIHVzZSBpc1ZhbGlkS2V5IHRvIGd1YXJkIGFnYWluc3QgcHJvdG90eXBlIHBvbGx1dGlvbi4gU2VlIGh0dHBzOi8vc255ay5pby92dWxuL1NOWUstSlMtTE9EQVNILTQ1MDIwMlxyXG4gICAgICAgIGlmICghc291cmNlLmhhc093blByb3BlcnR5KHByb3ApIHx8ICFpc1ZhbGlkS2V5KHByb3ApKSB7XHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0YXJnZXRbcHJvcF0gPSBkZWVwRXh0ZW5kKHRhcmdldFtwcm9wXSwgc291cmNlW3Byb3BdKTtcclxuICAgIH1cclxuICAgIHJldHVybiB0YXJnZXQ7XHJcbn1cclxuZnVuY3Rpb24gaXNWYWxpZEtleShrZXkpIHtcclxuICAgIHJldHVybiBrZXkgIT09ICdfX3Byb3RvX18nO1xyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAyMiBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBQb2x5ZmlsbCBmb3IgYGdsb2JhbFRoaXNgIG9iamVjdC5cclxuICogQHJldHVybnMgdGhlIGBnbG9iYWxUaGlzYCBvYmplY3QgZm9yIHRoZSBnaXZlbiBlbnZpcm9ubWVudC5cclxuICogQHB1YmxpY1xyXG4gKi9cclxuZnVuY3Rpb24gZ2V0R2xvYmFsKCkge1xyXG4gICAgaWYgKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgcmV0dXJuIHdpbmRvdztcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIHJldHVybiBnbG9iYWw7XHJcbiAgICB9XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBsb2NhdGUgZ2xvYmFsIG9iamVjdC4nKTtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMjIgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5jb25zdCBnZXREZWZhdWx0c0Zyb21HbG9iYWwgPSAoKSA9PiBnZXRHbG9iYWwoKS5fX0ZJUkVCQVNFX0RFRkFVTFRTX187XHJcbi8qKlxyXG4gKiBBdHRlbXB0IHRvIHJlYWQgZGVmYXVsdHMgZnJvbSBhIEpTT04gc3RyaW5nIHByb3ZpZGVkIHRvXHJcbiAqIHByb2Nlc3MoLillbnYoLilfX0ZJUkVCQVNFX0RFRkFVTFRTX18gb3IgYSBKU09OIGZpbGUgd2hvc2UgcGF0aCBpcyBpblxyXG4gKiBwcm9jZXNzKC4pZW52KC4pX19GSVJFQkFTRV9ERUZBVUxUU19QQVRIX19cclxuICogVGhlIGRvdHMgYXJlIGluIHBhcmVucyBiZWNhdXNlIGNlcnRhaW4gY29tcGlsZXJzIChWaXRlPykgY2Fubm90XHJcbiAqIGhhbmRsZSBzZWVpbmcgdGhhdCB2YXJpYWJsZSBpbiBjb21tZW50cy5cclxuICogU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9maXJlYmFzZS9maXJlYmFzZS1qcy1zZGsvaXNzdWVzLzY4MzhcclxuICovXHJcbmNvbnN0IGdldERlZmF1bHRzRnJvbUVudlZhcmlhYmxlID0gKCkgPT4ge1xyXG4gICAgaWYgKHR5cGVvZiBwcm9jZXNzID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2YgcHJvY2Vzcy5lbnYgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZGVmYXVsdHNKc29uU3RyaW5nID0gcHJvY2Vzcy5lbnYuX19GSVJFQkFTRV9ERUZBVUxUU19fO1xyXG4gICAgaWYgKGRlZmF1bHRzSnNvblN0cmluZykge1xyXG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKGRlZmF1bHRzSnNvblN0cmluZyk7XHJcbiAgICB9XHJcbn07XHJcbmNvbnN0IGdldERlZmF1bHRzRnJvbUNvb2tpZSA9ICgpID0+IHtcclxuICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgbGV0IG1hdGNoO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBtYXRjaCA9IGRvY3VtZW50LmNvb2tpZS5tYXRjaCgvX19GSVJFQkFTRV9ERUZBVUxUU19fPShbXjtdKykvKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgLy8gU29tZSBlbnZpcm9ubWVudHMgc3VjaCBhcyBBbmd1bGFyIFVuaXZlcnNhbCBTU1IgaGF2ZSBhXHJcbiAgICAgICAgLy8gYGRvY3VtZW50YCBvYmplY3QgYnV0IGVycm9yIG9uIGFjY2Vzc2luZyBgZG9jdW1lbnQuY29va2llYC5cclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zdCBkZWNvZGVkID0gbWF0Y2ggJiYgYmFzZTY0RGVjb2RlKG1hdGNoWzFdKTtcclxuICAgIHJldHVybiBkZWNvZGVkICYmIEpTT04ucGFyc2UoZGVjb2RlZCk7XHJcbn07XHJcbi8qKlxyXG4gKiBHZXQgdGhlIF9fRklSRUJBU0VfREVGQVVMVFNfXyBvYmplY3QuIEl0IGNoZWNrcyBpbiBvcmRlcjpcclxuICogKDEpIGlmIHN1Y2ggYW4gb2JqZWN0IGV4aXN0cyBhcyBhIHByb3BlcnR5IG9mIGBnbG9iYWxUaGlzYFxyXG4gKiAoMikgaWYgc3VjaCBhbiBvYmplY3Qgd2FzIHByb3ZpZGVkIG9uIGEgc2hlbGwgZW52aXJvbm1lbnQgdmFyaWFibGVcclxuICogKDMpIGlmIHN1Y2ggYW4gb2JqZWN0IGV4aXN0cyBpbiBhIGNvb2tpZVxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5jb25zdCBnZXREZWZhdWx0cyA9ICgpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgcmV0dXJuIChnZXREZWZhdWx0c0Zyb21HbG9iYWwoKSB8fFxyXG4gICAgICAgICAgICBnZXREZWZhdWx0c0Zyb21FbnZWYXJpYWJsZSgpIHx8XHJcbiAgICAgICAgICAgIGdldERlZmF1bHRzRnJvbUNvb2tpZSgpKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ2F0Y2gtYWxsIGZvciBiZWluZyB1bmFibGUgdG8gZ2V0IF9fRklSRUJBU0VfREVGQVVMVFNfXyBkdWVcclxuICAgICAgICAgKiB0byBhbnkgZW52aXJvbm1lbnQgY2FzZSB3ZSBoYXZlIG5vdCBhY2NvdW50ZWQgZm9yLiBMb2cgdG9cclxuICAgICAgICAgKiBpbmZvIGluc3RlYWQgb2Ygc3dhbGxvd2luZyBzbyB3ZSBjYW4gZmluZCB0aGVzZSB1bmtub3duIGNhc2VzXHJcbiAgICAgICAgICogYW5kIGFkZCBwYXRocyBmb3IgdGhlbSBpZiBuZWVkZWQuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgY29uc29sZS5pbmZvKGBVbmFibGUgdG8gZ2V0IF9fRklSRUJBU0VfREVGQVVMVFNfXyBkdWUgdG86ICR7ZX1gKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbn07XHJcbi8qKlxyXG4gKiBSZXR1cm5zIGVtdWxhdG9yIGhvc3Qgc3RvcmVkIGluIHRoZSBfX0ZJUkVCQVNFX0RFRkFVTFRTX18gb2JqZWN0XHJcbiAqIGZvciB0aGUgZ2l2ZW4gcHJvZHVjdC5cclxuICogQHJldHVybnMgYSBVUkwgaG9zdCBmb3JtYXR0ZWQgbGlrZSBgMTI3LjAuMC4xOjk5OTlgIG9yIGBbOjoxXTo0MDAwYCBpZiBhdmFpbGFibGVcclxuICogQHB1YmxpY1xyXG4gKi9cclxuY29uc3QgZ2V0RGVmYXVsdEVtdWxhdG9ySG9zdCA9IChwcm9kdWN0TmFtZSkgPT4geyB2YXIgX2EsIF9iOyByZXR1cm4gKF9iID0gKF9hID0gZ2V0RGVmYXVsdHMoKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmVtdWxhdG9ySG9zdHMpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYltwcm9kdWN0TmFtZV07IH07XHJcbi8qKlxyXG4gKiBSZXR1cm5zIGVtdWxhdG9yIGhvc3RuYW1lIGFuZCBwb3J0IHN0b3JlZCBpbiB0aGUgX19GSVJFQkFTRV9ERUZBVUxUU19fIG9iamVjdFxyXG4gKiBmb3IgdGhlIGdpdmVuIHByb2R1Y3QuXHJcbiAqIEByZXR1cm5zIGEgcGFpciBvZiBob3N0bmFtZSBhbmQgcG9ydCBsaWtlIGBbXCI6OjFcIiwgNDAwMF1gIGlmIGF2YWlsYWJsZVxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5jb25zdCBnZXREZWZhdWx0RW11bGF0b3JIb3N0bmFtZUFuZFBvcnQgPSAocHJvZHVjdE5hbWUpID0+IHtcclxuICAgIGNvbnN0IGhvc3QgPSBnZXREZWZhdWx0RW11bGF0b3JIb3N0KHByb2R1Y3ROYW1lKTtcclxuICAgIGlmICghaG9zdCkge1xyXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbiAgICBjb25zdCBzZXBhcmF0b3JJbmRleCA9IGhvc3QubGFzdEluZGV4T2YoJzonKTsgLy8gRmluZGluZyB0aGUgbGFzdCBzaW5jZSBJUHY2IGFkZHIgYWxzbyBoYXMgY29sb25zLlxyXG4gICAgaWYgKHNlcGFyYXRvckluZGV4IDw9IDAgfHwgc2VwYXJhdG9ySW5kZXggKyAxID09PSBob3N0Lmxlbmd0aCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBob3N0ICR7aG9zdH0gd2l0aCBubyBzZXBhcmF0ZSBob3N0bmFtZSBhbmQgcG9ydCFgKTtcclxuICAgIH1cclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLWdsb2JhbHNcclxuICAgIGNvbnN0IHBvcnQgPSBwYXJzZUludChob3N0LnN1YnN0cmluZyhzZXBhcmF0b3JJbmRleCArIDEpLCAxMCk7XHJcbiAgICBpZiAoaG9zdFswXSA9PT0gJ1snKSB7XHJcbiAgICAgICAgLy8gQnJhY2tldC1xdW90ZWQgYFtpcHY2YWRkcl06cG9ydGAgPT4gcmV0dXJuIFwiaXB2NmFkZHJcIiAod2l0aG91dCBicmFja2V0cykuXHJcbiAgICAgICAgcmV0dXJuIFtob3N0LnN1YnN0cmluZygxLCBzZXBhcmF0b3JJbmRleCAtIDEpLCBwb3J0XTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBbaG9zdC5zdWJzdHJpbmcoMCwgc2VwYXJhdG9ySW5kZXgpLCBwb3J0XTtcclxuICAgIH1cclxufTtcclxuLyoqXHJcbiAqIFJldHVybnMgRmlyZWJhc2UgYXBwIGNvbmZpZyBzdG9yZWQgaW4gdGhlIF9fRklSRUJBU0VfREVGQVVMVFNfXyBvYmplY3QuXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmNvbnN0IGdldERlZmF1bHRBcHBDb25maWcgPSAoKSA9PiB7IHZhciBfYTsgcmV0dXJuIChfYSA9IGdldERlZmF1bHRzKCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jb25maWc7IH07XHJcbi8qKlxyXG4gKiBSZXR1cm5zIGFuIGV4cGVyaW1lbnRhbCBzZXR0aW5nIG9uIHRoZSBfX0ZJUkVCQVNFX0RFRkFVTFRTX18gb2JqZWN0IChwcm9wZXJ0aWVzXHJcbiAqIHByZWZpeGVkIGJ5IFwiX1wiKVxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5jb25zdCBnZXRFeHBlcmltZW50YWxTZXR0aW5nID0gKG5hbWUpID0+IHsgdmFyIF9hOyByZXR1cm4gKF9hID0gZ2V0RGVmYXVsdHMoKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hW2BfJHtuYW1lfWBdOyB9O1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5jbGFzcyBEZWZlcnJlZCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnJlamVjdCA9ICgpID0+IHsgfTtcclxuICAgICAgICB0aGlzLnJlc29sdmUgPSAoKSA9PiB7IH07XHJcbiAgICAgICAgdGhpcy5wcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnJlc29sdmUgPSByZXNvbHZlO1xyXG4gICAgICAgICAgICB0aGlzLnJlamVjdCA9IHJlamVjdDtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogT3VyIEFQSSBpbnRlcm5hbHMgYXJlIG5vdCBwcm9taXNlaWZpZWQgYW5kIGNhbm5vdCBiZWNhdXNlIG91ciBjYWxsYmFjayBBUElzIGhhdmUgc3VidGxlIGV4cGVjdGF0aW9ucyBhcm91bmRcclxuICAgICAqIGludm9raW5nIHByb21pc2VzIGlubGluZSwgd2hpY2ggUHJvbWlzZXMgYXJlIGZvcmJpZGRlbiB0byBkby4gVGhpcyBtZXRob2QgYWNjZXB0cyBhbiBvcHRpb25hbCBub2RlLXN0eWxlIGNhbGxiYWNrXHJcbiAgICAgKiBhbmQgcmV0dXJucyBhIG5vZGUtc3R5bGUgY2FsbGJhY2sgd2hpY2ggd2lsbCByZXNvbHZlIG9yIHJlamVjdCB0aGUgRGVmZXJyZWQncyBwcm9taXNlLlxyXG4gICAgICovXHJcbiAgICB3cmFwQ2FsbGJhY2soY2FsbGJhY2spIHtcclxuICAgICAgICByZXR1cm4gKGVycm9yLCB2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVqZWN0KGVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVzb2x2ZSh2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgLy8gQXR0YWNoaW5nIG5vb3AgaGFuZGxlciBqdXN0IGluIGNhc2UgZGV2ZWxvcGVyIHdhc24ndCBleHBlY3RpbmdcclxuICAgICAgICAgICAgICAgIC8vIHByb21pc2VzXHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb21pc2UuY2F0Y2goKCkgPT4geyB9KTtcclxuICAgICAgICAgICAgICAgIC8vIFNvbWUgb2Ygb3VyIGNhbGxiYWNrcyBkb24ndCBleHBlY3QgYSB2YWx1ZSBhbmQgb3VyIG93biB0ZXN0c1xyXG4gICAgICAgICAgICAgICAgLy8gYXNzZXJ0IHRoYXQgdGhlIHBhcmFtZXRlciBsZW5ndGggaXMgMVxyXG4gICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycm9yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycm9yLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZU1vY2tVc2VyVG9rZW4odG9rZW4sIHByb2plY3RJZCkge1xyXG4gICAgaWYgKHRva2VuLnVpZCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIFwidWlkXCIgZmllbGQgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZCBieSBtb2NrVXNlclRva2VuLiBQbGVhc2UgdXNlIFwic3ViXCIgaW5zdGVhZCBmb3IgRmlyZWJhc2UgQXV0aCBVc2VyIElELicpO1xyXG4gICAgfVxyXG4gICAgLy8gVW5zZWN1cmVkIEpXVHMgdXNlIFwibm9uZVwiIGFzIHRoZSBhbGdvcml0aG0uXHJcbiAgICBjb25zdCBoZWFkZXIgPSB7XHJcbiAgICAgICAgYWxnOiAnbm9uZScsXHJcbiAgICAgICAgdHlwZTogJ0pXVCdcclxuICAgIH07XHJcbiAgICBjb25zdCBwcm9qZWN0ID0gcHJvamVjdElkIHx8ICdkZW1vLXByb2plY3QnO1xyXG4gICAgY29uc3QgaWF0ID0gdG9rZW4uaWF0IHx8IDA7XHJcbiAgICBjb25zdCBzdWIgPSB0b2tlbi5zdWIgfHwgdG9rZW4udXNlcl9pZDtcclxuICAgIGlmICghc3ViKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibW9ja1VzZXJUb2tlbiBtdXN0IGNvbnRhaW4gJ3N1Yicgb3IgJ3VzZXJfaWQnIGZpZWxkIVwiKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHBheWxvYWQgPSBPYmplY3QuYXNzaWduKHsgXHJcbiAgICAgICAgLy8gU2V0IGFsbCByZXF1aXJlZCBmaWVsZHMgdG8gZGVjZW50IGRlZmF1bHRzXHJcbiAgICAgICAgaXNzOiBgaHR0cHM6Ly9zZWN1cmV0b2tlbi5nb29nbGUuY29tLyR7cHJvamVjdH1gLCBhdWQ6IHByb2plY3QsIGlhdCwgZXhwOiBpYXQgKyAzNjAwLCBhdXRoX3RpbWU6IGlhdCwgc3ViLCB1c2VyX2lkOiBzdWIsIGZpcmViYXNlOiB7XHJcbiAgICAgICAgICAgIHNpZ25faW5fcHJvdmlkZXI6ICdjdXN0b20nLFxyXG4gICAgICAgICAgICBpZGVudGl0aWVzOiB7fVxyXG4gICAgICAgIH0gfSwgdG9rZW4pO1xyXG4gICAgLy8gVW5zZWN1cmVkIEpXVHMgdXNlIHRoZSBlbXB0eSBzdHJpbmcgYXMgYSBzaWduYXR1cmUuXHJcbiAgICBjb25zdCBzaWduYXR1cmUgPSAnJztcclxuICAgIHJldHVybiBbXHJcbiAgICAgICAgYmFzZTY0dXJsRW5jb2RlV2l0aG91dFBhZGRpbmcoSlNPTi5zdHJpbmdpZnkoaGVhZGVyKSksXHJcbiAgICAgICAgYmFzZTY0dXJsRW5jb2RlV2l0aG91dFBhZGRpbmcoSlNPTi5zdHJpbmdpZnkocGF5bG9hZCkpLFxyXG4gICAgICAgIHNpZ25hdHVyZVxyXG4gICAgXS5qb2luKCcuJyk7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIFJldHVybnMgbmF2aWdhdG9yLnVzZXJBZ2VudCBzdHJpbmcgb3IgJycgaWYgaXQncyBub3QgZGVmaW5lZC5cclxuICogQHJldHVybiB1c2VyIGFnZW50IHN0cmluZ1xyXG4gKi9cclxuZnVuY3Rpb24gZ2V0VUEoKSB7XHJcbiAgICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiZcclxuICAgICAgICB0eXBlb2YgbmF2aWdhdG9yWyd1c2VyQWdlbnQnXSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICByZXR1cm4gbmF2aWdhdG9yWyd1c2VyQWdlbnQnXTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiAnJztcclxuICAgIH1cclxufVxyXG4vKipcclxuICogRGV0ZWN0IENvcmRvdmEgLyBQaG9uZUdhcCAvIElvbmljIGZyYW1ld29ya3Mgb24gYSBtb2JpbGUgZGV2aWNlLlxyXG4gKlxyXG4gKiBEZWxpYmVyYXRlbHkgZG9lcyBub3QgcmVseSBvbiBjaGVja2luZyBgZmlsZTovL2AgVVJMcyAoYXMgdGhpcyBmYWlscyBQaG9uZUdhcFxyXG4gKiBpbiB0aGUgUmlwcGxlIGVtdWxhdG9yKSBub3IgQ29yZG92YSBgb25EZXZpY2VSZWFkeWAsIHdoaWNoIHdvdWxkIG5vcm1hbGx5XHJcbiAqIHdhaXQgZm9yIGEgY2FsbGJhY2suXHJcbiAqL1xyXG5mdW5jdGlvbiBpc01vYmlsZUNvcmRvdmEoKSB7XHJcbiAgICByZXR1cm4gKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmXHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZSBTZXR0aW5nIHVwIGFuIGJyb2FkbHkgYXBwbGljYWJsZSBpbmRleCBzaWduYXR1cmUgZm9yIFdpbmRvd1xyXG4gICAgICAgIC8vIGp1c3QgdG8gZGVhbCB3aXRoIHRoaXMgY2FzZSB3b3VsZCBwcm9iYWJseSBiZSBhIGJhZCBpZGVhLlxyXG4gICAgICAgICEhKHdpbmRvd1snY29yZG92YSddIHx8IHdpbmRvd1sncGhvbmVnYXAnXSB8fCB3aW5kb3dbJ1Bob25lR2FwJ10pICYmXHJcbiAgICAgICAgL2lvc3xpcGhvbmV8aXBvZHxpcGFkfGFuZHJvaWR8YmxhY2tiZXJyeXxpZW1vYmlsZS9pLnRlc3QoZ2V0VUEoKSkpO1xyXG59XHJcbi8qKlxyXG4gKiBEZXRlY3QgTm9kZS5qcy5cclxuICpcclxuICogQHJldHVybiB0cnVlIGlmIE5vZGUuanMgZW52aXJvbm1lbnQgaXMgZGV0ZWN0ZWQgb3Igc3BlY2lmaWVkLlxyXG4gKi9cclxuLy8gTm9kZSBkZXRlY3Rpb24gbG9naWMgZnJvbTogaHR0cHM6Ly9naXRodWIuY29tL2lsaWFrYW4vZGV0ZWN0LW5vZGUvXHJcbmZ1bmN0aW9uIGlzTm9kZSgpIHtcclxuICAgIHZhciBfYTtcclxuICAgIGNvbnN0IGZvcmNlRW52aXJvbm1lbnQgPSAoX2EgPSBnZXREZWZhdWx0cygpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZm9yY2VFbnZpcm9ubWVudDtcclxuICAgIGlmIChmb3JjZUVudmlyb25tZW50ID09PSAnbm9kZScpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGZvcmNlRW52aXJvbm1lbnQgPT09ICdicm93c2VyJykge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHRyeSB7XHJcbiAgICAgICAgcmV0dXJuIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZ2xvYmFsLnByb2Nlc3MpID09PSAnW29iamVjdCBwcm9jZXNzXScpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIERldGVjdCBCcm93c2VyIEVudmlyb25tZW50XHJcbiAqL1xyXG5mdW5jdGlvbiBpc0Jyb3dzZXIoKSB7XHJcbiAgICByZXR1cm4gdHlwZW9mIHNlbGYgPT09ICdvYmplY3QnICYmIHNlbGYuc2VsZiA9PT0gc2VsZjtcclxufVxyXG5mdW5jdGlvbiBpc0Jyb3dzZXJFeHRlbnNpb24oKSB7XHJcbiAgICBjb25zdCBydW50aW1lID0gdHlwZW9mIGNocm9tZSA9PT0gJ29iamVjdCdcclxuICAgICAgICA/IGNocm9tZS5ydW50aW1lXHJcbiAgICAgICAgOiB0eXBlb2YgYnJvd3NlciA9PT0gJ29iamVjdCdcclxuICAgICAgICAgICAgPyBicm93c2VyLnJ1bnRpbWVcclxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XHJcbiAgICByZXR1cm4gdHlwZW9mIHJ1bnRpbWUgPT09ICdvYmplY3QnICYmIHJ1bnRpbWUuaWQgIT09IHVuZGVmaW5lZDtcclxufVxyXG4vKipcclxuICogRGV0ZWN0IFJlYWN0IE5hdGl2ZS5cclxuICpcclxuICogQHJldHVybiB0cnVlIGlmIFJlYWN0TmF0aXZlIGVudmlyb25tZW50IGlzIGRldGVjdGVkLlxyXG4gKi9cclxuZnVuY3Rpb24gaXNSZWFjdE5hdGl2ZSgpIHtcclxuICAgIHJldHVybiAodHlwZW9mIG5hdmlnYXRvciA9PT0gJ29iamVjdCcgJiYgbmF2aWdhdG9yWydwcm9kdWN0J10gPT09ICdSZWFjdE5hdGl2ZScpO1xyXG59XHJcbi8qKiBEZXRlY3RzIEVsZWN0cm9uIGFwcHMuICovXHJcbmZ1bmN0aW9uIGlzRWxlY3Ryb24oKSB7XHJcbiAgICByZXR1cm4gZ2V0VUEoKS5pbmRleE9mKCdFbGVjdHJvbi8nKSA+PSAwO1xyXG59XHJcbi8qKiBEZXRlY3RzIEludGVybmV0IEV4cGxvcmVyLiAqL1xyXG5mdW5jdGlvbiBpc0lFKCkge1xyXG4gICAgY29uc3QgdWEgPSBnZXRVQSgpO1xyXG4gICAgcmV0dXJuIHVhLmluZGV4T2YoJ01TSUUgJykgPj0gMCB8fCB1YS5pbmRleE9mKCdUcmlkZW50LycpID49IDA7XHJcbn1cclxuLyoqIERldGVjdHMgVW5pdmVyc2FsIFdpbmRvd3MgUGxhdGZvcm0gYXBwcy4gKi9cclxuZnVuY3Rpb24gaXNVV1AoKSB7XHJcbiAgICByZXR1cm4gZ2V0VUEoKS5pbmRleE9mKCdNU0FwcEhvc3QvJykgPj0gMDtcclxufVxyXG4vKipcclxuICogRGV0ZWN0IHdoZXRoZXIgdGhlIGN1cnJlbnQgU0RLIGJ1aWxkIGlzIHRoZSBOb2RlIHZlcnNpb24uXHJcbiAqXHJcbiAqIEByZXR1cm4gdHJ1ZSBpZiBpdCdzIHRoZSBOb2RlIFNESyBidWlsZC5cclxuICovXHJcbmZ1bmN0aW9uIGlzTm9kZVNkaygpIHtcclxuICAgIHJldHVybiBDT05TVEFOVFMuTk9ERV9DTElFTlQgPT09IHRydWUgfHwgQ09OU1RBTlRTLk5PREVfQURNSU4gPT09IHRydWU7XHJcbn1cclxuLyoqIFJldHVybnMgdHJ1ZSBpZiB3ZSBhcmUgcnVubmluZyBpbiBTYWZhcmkuICovXHJcbmZ1bmN0aW9uIGlzU2FmYXJpKCkge1xyXG4gICAgcmV0dXJuICghaXNOb2RlKCkgJiZcclxuICAgICAgICBuYXZpZ2F0b3IudXNlckFnZW50LmluY2x1ZGVzKCdTYWZhcmknKSAmJlxyXG4gICAgICAgICFuYXZpZ2F0b3IudXNlckFnZW50LmluY2x1ZGVzKCdDaHJvbWUnKSk7XHJcbn1cclxuLyoqXHJcbiAqIFRoaXMgbWV0aG9kIGNoZWNrcyBpZiBpbmRleGVkREIgaXMgc3VwcG9ydGVkIGJ5IGN1cnJlbnQgYnJvd3Nlci9zZXJ2aWNlIHdvcmtlciBjb250ZXh0XHJcbiAqIEByZXR1cm4gdHJ1ZSBpZiBpbmRleGVkREIgaXMgc3VwcG9ydGVkIGJ5IGN1cnJlbnQgYnJvd3Nlci9zZXJ2aWNlIHdvcmtlciBjb250ZXh0XHJcbiAqL1xyXG5mdW5jdGlvbiBpc0luZGV4ZWREQkF2YWlsYWJsZSgpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBpbmRleGVkREIgPT09ICdvYmplY3QnO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIFRoaXMgbWV0aG9kIHZhbGlkYXRlcyBicm93c2VyL3N3IGNvbnRleHQgZm9yIGluZGV4ZWREQiBieSBvcGVuaW5nIGEgZHVtbXkgaW5kZXhlZERCIGRhdGFiYXNlIGFuZCByZWplY3RcclxuICogaWYgZXJyb3JzIG9jY3VyIGR1cmluZyB0aGUgZGF0YWJhc2Ugb3BlbiBvcGVyYXRpb24uXHJcbiAqXHJcbiAqIEB0aHJvd3MgZXhjZXB0aW9uIGlmIGN1cnJlbnQgYnJvd3Nlci9zdyBjb250ZXh0IGNhbid0IHJ1biBpZGIub3BlbiAoZXg6IFNhZmFyaSBpZnJhbWUsIEZpcmVmb3hcclxuICogcHJpdmF0ZSBicm93c2luZylcclxuICovXHJcbmZ1bmN0aW9uIHZhbGlkYXRlSW5kZXhlZERCT3BlbmFibGUoKSB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBwcmVFeGlzdCA9IHRydWU7XHJcbiAgICAgICAgICAgIGNvbnN0IERCX0NIRUNLX05BTUUgPSAndmFsaWRhdGUtYnJvd3Nlci1jb250ZXh0LWZvci1pbmRleGVkZGItYW5hbHl0aWNzLW1vZHVsZSc7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlcXVlc3QgPSBzZWxmLmluZGV4ZWREQi5vcGVuKERCX0NIRUNLX05BTUUpO1xyXG4gICAgICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHJlcXVlc3QucmVzdWx0LmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAvLyBkZWxldGUgZGF0YWJhc2Ugb25seSB3aGVuIGl0IGRvZXNuJ3QgcHJlLWV4aXN0XHJcbiAgICAgICAgICAgICAgICBpZiAoIXByZUV4aXN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5pbmRleGVkREIuZGVsZXRlRGF0YWJhc2UoREJfQ0hFQ0tfTkFNRSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKHRydWUpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICByZXF1ZXN0Lm9udXBncmFkZW5lZWRlZCA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHByZUV4aXN0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHJlcXVlc3Qub25lcnJvciA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciBfYTtcclxuICAgICAgICAgICAgICAgIHJlamVjdCgoKF9hID0gcmVxdWVzdC5lcnJvcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm1lc3NhZ2UpIHx8ICcnKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuLyoqXHJcbiAqXHJcbiAqIFRoaXMgbWV0aG9kIGNoZWNrcyB3aGV0aGVyIGNvb2tpZSBpcyBlbmFibGVkIHdpdGhpbiBjdXJyZW50IGJyb3dzZXJcclxuICogQHJldHVybiB0cnVlIGlmIGNvb2tpZSBpcyBlbmFibGVkIHdpdGhpbiBjdXJyZW50IGJyb3dzZXJcclxuICovXHJcbmZ1bmN0aW9uIGFyZUNvb2tpZXNFbmFibGVkKCkge1xyXG4gICAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgPT09ICd1bmRlZmluZWQnIHx8ICFuYXZpZ2F0b3IuY29va2llRW5hYmxlZCkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBAZmlsZW92ZXJ2aWV3IFN0YW5kYXJkaXplZCBGaXJlYmFzZSBFcnJvci5cclxuICpcclxuICogVXNhZ2U6XHJcbiAqXHJcbiAqICAgLy8gVHlwZXNjcmlwdCBzdHJpbmcgbGl0ZXJhbHMgZm9yIHR5cGUtc2FmZSBjb2Rlc1xyXG4gKiAgIHR5cGUgRXJyID1cclxuICogICAgICd1bmtub3duJyB8XHJcbiAqICAgICAnb2JqZWN0LW5vdC1mb3VuZCdcclxuICogICAgIDtcclxuICpcclxuICogICAvLyBDbG9zdXJlIGVudW0gZm9yIHR5cGUtc2FmZSBlcnJvciBjb2Rlc1xyXG4gKiAgIC8vIGF0LWVudW0ge3N0cmluZ31cclxuICogICB2YXIgRXJyID0ge1xyXG4gKiAgICAgVU5LTk9XTjogJ3Vua25vd24nLFxyXG4gKiAgICAgT0JKRUNUX05PVF9GT1VORDogJ29iamVjdC1ub3QtZm91bmQnLFxyXG4gKiAgIH1cclxuICpcclxuICogICBsZXQgZXJyb3JzOiBNYXA8RXJyLCBzdHJpbmc+ID0ge1xyXG4gKiAgICAgJ2dlbmVyaWMtZXJyb3InOiBcIlVua25vd24gZXJyb3JcIixcclxuICogICAgICdmaWxlLW5vdC1mb3VuZCc6IFwiQ291bGQgbm90IGZpbmQgZmlsZTogeyRmaWxlfVwiLFxyXG4gKiAgIH07XHJcbiAqXHJcbiAqICAgLy8gVHlwZS1zYWZlIGZ1bmN0aW9uIC0gbXVzdCBwYXNzIGEgdmFsaWQgZXJyb3IgY29kZSBhcyBwYXJhbS5cclxuICogICBsZXQgZXJyb3IgPSBuZXcgRXJyb3JGYWN0b3J5PEVycj4oJ3NlcnZpY2UnLCAnU2VydmljZScsIGVycm9ycyk7XHJcbiAqXHJcbiAqICAgLi4uXHJcbiAqICAgdGhyb3cgZXJyb3IuY3JlYXRlKEVyci5HRU5FUklDKTtcclxuICogICAuLi5cclxuICogICB0aHJvdyBlcnJvci5jcmVhdGUoRXJyLkZJTEVfTk9UX0ZPVU5ELCB7J2ZpbGUnOiBmaWxlTmFtZX0pO1xyXG4gKiAgIC4uLlxyXG4gKiAgIC8vIFNlcnZpY2U6IENvdWxkIG5vdCBmaWxlIGZpbGU6IGZvby50eHQgKHNlcnZpY2UvZmlsZS1ub3QtZm91bmQpLlxyXG4gKlxyXG4gKiAgIGNhdGNoIChlKSB7XHJcbiAqICAgICBhc3NlcnQoZS5tZXNzYWdlID09PSBcIkNvdWxkIG5vdCBmaW5kIGZpbGU6IGZvby50eHQuXCIpO1xyXG4gKiAgICAgaWYgKChlIGFzIEZpcmViYXNlRXJyb3IpPy5jb2RlID09PSAnc2VydmljZS9maWxlLW5vdC1mb3VuZCcpIHtcclxuICogICAgICAgY29uc29sZS5sb2coXCJDb3VsZCBub3QgcmVhZCBmaWxlOiBcIiArIGVbJ2ZpbGUnXSk7XHJcbiAqICAgICB9XHJcbiAqICAgfVxyXG4gKi9cclxuY29uc3QgRVJST1JfTkFNRSA9ICdGaXJlYmFzZUVycm9yJztcclxuLy8gQmFzZWQgb24gY29kZSBmcm9tOlxyXG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9FcnJvciNDdXN0b21fRXJyb3JfVHlwZXNcclxuY2xhc3MgRmlyZWJhc2VFcnJvciBleHRlbmRzIEVycm9yIHtcclxuICAgIGNvbnN0cnVjdG9yKFxyXG4gICAgLyoqIFRoZSBlcnJvciBjb2RlIGZvciB0aGlzIGVycm9yLiAqL1xyXG4gICAgY29kZSwgbWVzc2FnZSwgXHJcbiAgICAvKiogQ3VzdG9tIGRhdGEgZm9yIHRoaXMgZXJyb3IuICovXHJcbiAgICBjdXN0b21EYXRhKSB7XHJcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XHJcbiAgICAgICAgdGhpcy5jb2RlID0gY29kZTtcclxuICAgICAgICB0aGlzLmN1c3RvbURhdGEgPSBjdXN0b21EYXRhO1xyXG4gICAgICAgIC8qKiBUaGUgY3VzdG9tIG5hbWUgZm9yIGFsbCBGaXJlYmFzZUVycm9ycy4gKi9cclxuICAgICAgICB0aGlzLm5hbWUgPSBFUlJPUl9OQU1FO1xyXG4gICAgICAgIC8vIEZpeCBGb3IgRVM1XHJcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL01pY3Jvc29mdC9UeXBlU2NyaXB0LXdpa2kvYmxvYi9tYXN0ZXIvQnJlYWtpbmctQ2hhbmdlcy5tZCNleHRlbmRpbmctYnVpbHQtaW5zLWxpa2UtZXJyb3ItYXJyYXktYW5kLW1hcC1tYXktbm8tbG9uZ2VyLXdvcmtcclxuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgRmlyZWJhc2VFcnJvci5wcm90b3R5cGUpO1xyXG4gICAgICAgIC8vIE1haW50YWlucyBwcm9wZXIgc3RhY2sgdHJhY2UgZm9yIHdoZXJlIG91ciBlcnJvciB3YXMgdGhyb3duLlxyXG4gICAgICAgIC8vIE9ubHkgYXZhaWxhYmxlIG9uIFY4LlxyXG4gICAgICAgIGlmIChFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSkge1xyXG4gICAgICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBFcnJvckZhY3RvcnkucHJvdG90eXBlLmNyZWF0ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmNsYXNzIEVycm9yRmFjdG9yeSB7XHJcbiAgICBjb25zdHJ1Y3RvcihzZXJ2aWNlLCBzZXJ2aWNlTmFtZSwgZXJyb3JzKSB7XHJcbiAgICAgICAgdGhpcy5zZXJ2aWNlID0gc2VydmljZTtcclxuICAgICAgICB0aGlzLnNlcnZpY2VOYW1lID0gc2VydmljZU5hbWU7XHJcbiAgICAgICAgdGhpcy5lcnJvcnMgPSBlcnJvcnM7XHJcbiAgICB9XHJcbiAgICBjcmVhdGUoY29kZSwgLi4uZGF0YSkge1xyXG4gICAgICAgIGNvbnN0IGN1c3RvbURhdGEgPSBkYXRhWzBdIHx8IHt9O1xyXG4gICAgICAgIGNvbnN0IGZ1bGxDb2RlID0gYCR7dGhpcy5zZXJ2aWNlfS8ke2NvZGV9YDtcclxuICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IHRoaXMuZXJyb3JzW2NvZGVdO1xyXG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSB0ZW1wbGF0ZSA/IHJlcGxhY2VUZW1wbGF0ZSh0ZW1wbGF0ZSwgY3VzdG9tRGF0YSkgOiAnRXJyb3InO1xyXG4gICAgICAgIC8vIFNlcnZpY2UgTmFtZTogRXJyb3IgbWVzc2FnZSAoc2VydmljZS9jb2RlKS5cclxuICAgICAgICBjb25zdCBmdWxsTWVzc2FnZSA9IGAke3RoaXMuc2VydmljZU5hbWV9OiAke21lc3NhZ2V9ICgke2Z1bGxDb2RlfSkuYDtcclxuICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBGaXJlYmFzZUVycm9yKGZ1bGxDb2RlLCBmdWxsTWVzc2FnZSwgY3VzdG9tRGF0YSk7XHJcbiAgICAgICAgcmV0dXJuIGVycm9yO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHJlcGxhY2VUZW1wbGF0ZSh0ZW1wbGF0ZSwgZGF0YSkge1xyXG4gICAgcmV0dXJuIHRlbXBsYXRlLnJlcGxhY2UoUEFUVEVSTiwgKF8sIGtleSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gZGF0YVtrZXldO1xyXG4gICAgICAgIHJldHVybiB2YWx1ZSAhPSBudWxsID8gU3RyaW5nKHZhbHVlKSA6IGA8JHtrZXl9Pz5gO1xyXG4gICAgfSk7XHJcbn1cclxuY29uc3QgUEFUVEVSTiA9IC9cXHtcXCQoW159XSspfS9nO1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogRXZhbHVhdGVzIGEgSlNPTiBzdHJpbmcgaW50byBhIGphdmFzY3JpcHQgb2JqZWN0LlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyIEEgc3RyaW5nIGNvbnRhaW5pbmcgSlNPTi5cclxuICogQHJldHVybiB7Kn0gVGhlIGphdmFzY3JpcHQgb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgc3BlY2lmaWVkIEpTT04uXHJcbiAqL1xyXG5mdW5jdGlvbiBqc29uRXZhbChzdHIpIHtcclxuICAgIHJldHVybiBKU09OLnBhcnNlKHN0cik7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgSlNPTiByZXByZXNlbnRpbmcgYSBqYXZhc2NyaXB0IG9iamVjdC5cclxuICogQHBhcmFtIHsqfSBkYXRhIEphdmFzY3JpcHQgb2JqZWN0IHRvIGJlIHN0cmluZ2lmaWVkLlxyXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBKU09OIGNvbnRlbnRzIG9mIHRoZSBvYmplY3QuXHJcbiAqL1xyXG5mdW5jdGlvbiBzdHJpbmdpZnkoZGF0YSkge1xyXG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGRhdGEpO1xyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBEZWNvZGVzIGEgRmlyZWJhc2UgYXV0aC4gdG9rZW4gaW50byBjb25zdGl0dWVudCBwYXJ0cy5cclxuICpcclxuICogTm90ZXM6XHJcbiAqIC0gTWF5IHJldHVybiB3aXRoIGludmFsaWQgLyBpbmNvbXBsZXRlIGNsYWltcyBpZiB0aGVyZSdzIG5vIG5hdGl2ZSBiYXNlNjQgZGVjb2Rpbmcgc3VwcG9ydC5cclxuICogLSBEb2Vzbid0IGNoZWNrIGlmIHRoZSB0b2tlbiBpcyBhY3R1YWxseSB2YWxpZC5cclxuICovXHJcbmNvbnN0IGRlY29kZSA9IGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgbGV0IGhlYWRlciA9IHt9LCBjbGFpbXMgPSB7fSwgZGF0YSA9IHt9LCBzaWduYXR1cmUgPSAnJztcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgcGFydHMgPSB0b2tlbi5zcGxpdCgnLicpO1xyXG4gICAgICAgIGhlYWRlciA9IGpzb25FdmFsKGJhc2U2NERlY29kZShwYXJ0c1swXSkgfHwgJycpO1xyXG4gICAgICAgIGNsYWltcyA9IGpzb25FdmFsKGJhc2U2NERlY29kZShwYXJ0c1sxXSkgfHwgJycpO1xyXG4gICAgICAgIHNpZ25hdHVyZSA9IHBhcnRzWzJdO1xyXG4gICAgICAgIGRhdGEgPSBjbGFpbXNbJ2QnXSB8fCB7fTtcclxuICAgICAgICBkZWxldGUgY2xhaW1zWydkJ107XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZSkgeyB9XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGhlYWRlcixcclxuICAgICAgICBjbGFpbXMsXHJcbiAgICAgICAgZGF0YSxcclxuICAgICAgICBzaWduYXR1cmVcclxuICAgIH07XHJcbn07XHJcbi8qKlxyXG4gKiBEZWNvZGVzIGEgRmlyZWJhc2UgYXV0aC4gdG9rZW4gYW5kIGNoZWNrcyB0aGUgdmFsaWRpdHkgb2YgaXRzIHRpbWUtYmFzZWQgY2xhaW1zLiBXaWxsIHJldHVybiB0cnVlIGlmIHRoZVxyXG4gKiB0b2tlbiBpcyB3aXRoaW4gdGhlIHRpbWUgd2luZG93IGF1dGhvcml6ZWQgYnkgdGhlICduYmYnIChub3QtYmVmb3JlKSBhbmQgJ2lhdCcgKGlzc3VlZC1hdCkgY2xhaW1zLlxyXG4gKlxyXG4gKiBOb3RlczpcclxuICogLSBNYXkgcmV0dXJuIGEgZmFsc2UgbmVnYXRpdmUgaWYgdGhlcmUncyBubyBuYXRpdmUgYmFzZTY0IGRlY29kaW5nIHN1cHBvcnQuXHJcbiAqIC0gRG9lc24ndCBjaGVjayBpZiB0aGUgdG9rZW4gaXMgYWN0dWFsbHkgdmFsaWQuXHJcbiAqL1xyXG5jb25zdCBpc1ZhbGlkVGltZXN0YW1wID0gZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICBjb25zdCBjbGFpbXMgPSBkZWNvZGUodG9rZW4pLmNsYWltcztcclxuICAgIGNvbnN0IG5vdyA9IE1hdGguZmxvb3IobmV3IERhdGUoKS5nZXRUaW1lKCkgLyAxMDAwKTtcclxuICAgIGxldCB2YWxpZFNpbmNlID0gMCwgdmFsaWRVbnRpbCA9IDA7XHJcbiAgICBpZiAodHlwZW9mIGNsYWltcyA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICBpZiAoY2xhaW1zLmhhc093blByb3BlcnR5KCduYmYnKSkge1xyXG4gICAgICAgICAgICB2YWxpZFNpbmNlID0gY2xhaW1zWyduYmYnXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoY2xhaW1zLmhhc093blByb3BlcnR5KCdpYXQnKSkge1xyXG4gICAgICAgICAgICB2YWxpZFNpbmNlID0gY2xhaW1zWydpYXQnXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNsYWltcy5oYXNPd25Qcm9wZXJ0eSgnZXhwJykpIHtcclxuICAgICAgICAgICAgdmFsaWRVbnRpbCA9IGNsYWltc1snZXhwJ107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyB0b2tlbiB3aWxsIGV4cGlyZSBhZnRlciAyNGggYnkgZGVmYXVsdFxyXG4gICAgICAgICAgICB2YWxpZFVudGlsID0gdmFsaWRTaW5jZSArIDg2NDAwO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiAoISFub3cgJiZcclxuICAgICAgICAhIXZhbGlkU2luY2UgJiZcclxuICAgICAgICAhIXZhbGlkVW50aWwgJiZcclxuICAgICAgICBub3cgPj0gdmFsaWRTaW5jZSAmJlxyXG4gICAgICAgIG5vdyA8PSB2YWxpZFVudGlsKTtcclxufTtcclxuLyoqXHJcbiAqIERlY29kZXMgYSBGaXJlYmFzZSBhdXRoLiB0b2tlbiBhbmQgcmV0dXJucyBpdHMgaXNzdWVkIGF0IHRpbWUgaWYgdmFsaWQsIG51bGwgb3RoZXJ3aXNlLlxyXG4gKlxyXG4gKiBOb3RlczpcclxuICogLSBNYXkgcmV0dXJuIG51bGwgaWYgdGhlcmUncyBubyBuYXRpdmUgYmFzZTY0IGRlY29kaW5nIHN1cHBvcnQuXHJcbiAqIC0gRG9lc24ndCBjaGVjayBpZiB0aGUgdG9rZW4gaXMgYWN0dWFsbHkgdmFsaWQuXHJcbiAqL1xyXG5jb25zdCBpc3N1ZWRBdFRpbWUgPSBmdW5jdGlvbiAodG9rZW4pIHtcclxuICAgIGNvbnN0IGNsYWltcyA9IGRlY29kZSh0b2tlbikuY2xhaW1zO1xyXG4gICAgaWYgKHR5cGVvZiBjbGFpbXMgPT09ICdvYmplY3QnICYmIGNsYWltcy5oYXNPd25Qcm9wZXJ0eSgnaWF0JykpIHtcclxuICAgICAgICByZXR1cm4gY2xhaW1zWydpYXQnXTtcclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59O1xyXG4vKipcclxuICogRGVjb2RlcyBhIEZpcmViYXNlIGF1dGguIHRva2VuIGFuZCBjaGVja3MgdGhlIHZhbGlkaXR5IG9mIGl0cyBmb3JtYXQuIEV4cGVjdHMgYSB2YWxpZCBpc3N1ZWQtYXQgdGltZS5cclxuICpcclxuICogTm90ZXM6XHJcbiAqIC0gTWF5IHJldHVybiBhIGZhbHNlIG5lZ2F0aXZlIGlmIHRoZXJlJ3Mgbm8gbmF0aXZlIGJhc2U2NCBkZWNvZGluZyBzdXBwb3J0LlxyXG4gKiAtIERvZXNuJ3QgY2hlY2sgaWYgdGhlIHRva2VuIGlzIGFjdHVhbGx5IHZhbGlkLlxyXG4gKi9cclxuY29uc3QgaXNWYWxpZEZvcm1hdCA9IGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgY29uc3QgZGVjb2RlZCA9IGRlY29kZSh0b2tlbiksIGNsYWltcyA9IGRlY29kZWQuY2xhaW1zO1xyXG4gICAgcmV0dXJuICEhY2xhaW1zICYmIHR5cGVvZiBjbGFpbXMgPT09ICdvYmplY3QnICYmIGNsYWltcy5oYXNPd25Qcm9wZXJ0eSgnaWF0Jyk7XHJcbn07XHJcbi8qKlxyXG4gKiBBdHRlbXB0cyB0byBwZWVyIGludG8gYW4gYXV0aCB0b2tlbiBhbmQgZGV0ZXJtaW5lIGlmIGl0J3MgYW4gYWRtaW4gYXV0aCB0b2tlbiBieSBsb29raW5nIGF0IHRoZSBjbGFpbXMgcG9ydGlvbi5cclxuICpcclxuICogTm90ZXM6XHJcbiAqIC0gTWF5IHJldHVybiBhIGZhbHNlIG5lZ2F0aXZlIGlmIHRoZXJlJ3Mgbm8gbmF0aXZlIGJhc2U2NCBkZWNvZGluZyBzdXBwb3J0LlxyXG4gKiAtIERvZXNuJ3QgY2hlY2sgaWYgdGhlIHRva2VuIGlzIGFjdHVhbGx5IHZhbGlkLlxyXG4gKi9cclxuY29uc3QgaXNBZG1pbiA9IGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgY29uc3QgY2xhaW1zID0gZGVjb2RlKHRva2VuKS5jbGFpbXM7XHJcbiAgICByZXR1cm4gdHlwZW9mIGNsYWltcyA9PT0gJ29iamVjdCcgJiYgY2xhaW1zWydhZG1pbiddID09PSB0cnVlO1xyXG59O1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5mdW5jdGlvbiBjb250YWlucyhvYmosIGtleSkge1xyXG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSk7XHJcbn1cclxuZnVuY3Rpb24gc2FmZUdldChvYmosIGtleSkge1xyXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHtcclxuICAgICAgICByZXR1cm4gb2JqW2tleV07XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGlzRW1wdHkob2JqKSB7XHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcclxuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbn1cclxuZnVuY3Rpb24gbWFwKG9iaiwgZm4sIGNvbnRleHRPYmopIHtcclxuICAgIGNvbnN0IHJlcyA9IHt9O1xyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gb2JqKSB7XHJcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHtcclxuICAgICAgICAgICAgcmVzW2tleV0gPSBmbi5jYWxsKGNvbnRleHRPYmosIG9ialtrZXldLCBrZXksIG9iaik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcztcclxufVxyXG4vKipcclxuICogRGVlcCBlcXVhbCB0d28gb2JqZWN0cy4gU3VwcG9ydCBBcnJheXMgYW5kIE9iamVjdHMuXHJcbiAqL1xyXG5mdW5jdGlvbiBkZWVwRXF1YWwoYSwgYikge1xyXG4gICAgaWYgKGEgPT09IGIpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGNvbnN0IGFLZXlzID0gT2JqZWN0LmtleXMoYSk7XHJcbiAgICBjb25zdCBiS2V5cyA9IE9iamVjdC5rZXlzKGIpO1xyXG4gICAgZm9yIChjb25zdCBrIG9mIGFLZXlzKSB7XHJcbiAgICAgICAgaWYgKCFiS2V5cy5pbmNsdWRlcyhrKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGFQcm9wID0gYVtrXTtcclxuICAgICAgICBjb25zdCBiUHJvcCA9IGJba107XHJcbiAgICAgICAgaWYgKGlzT2JqZWN0KGFQcm9wKSAmJiBpc09iamVjdChiUHJvcCkpIHtcclxuICAgICAgICAgICAgaWYgKCFkZWVwRXF1YWwoYVByb3AsIGJQcm9wKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGFQcm9wICE9PSBiUHJvcCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZm9yIChjb25zdCBrIG9mIGJLZXlzKSB7XHJcbiAgICAgICAgaWYgKCFhS2V5cy5pbmNsdWRlcyhrKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbn1cclxuZnVuY3Rpb24gaXNPYmplY3QodGhpbmcpIHtcclxuICAgIHJldHVybiB0aGluZyAhPT0gbnVsbCAmJiB0eXBlb2YgdGhpbmcgPT09ICdvYmplY3QnO1xyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAyMiBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBSZWplY3RzIGlmIHRoZSBnaXZlbiBwcm9taXNlIGRvZXNuJ3QgcmVzb2x2ZSBpbiB0aW1lSW5NUyBtaWxsaXNlY29uZHMuXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cclxuZnVuY3Rpb24gcHJvbWlzZVdpdGhUaW1lb3V0KHByb21pc2UsIHRpbWVJbk1TID0gMjAwMCkge1xyXG4gICAgY29uc3QgZGVmZXJyZWRQcm9taXNlID0gbmV3IERlZmVycmVkKCk7XHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IGRlZmVycmVkUHJvbWlzZS5yZWplY3QoJ3RpbWVvdXQhJyksIHRpbWVJbk1TKTtcclxuICAgIHByb21pc2UudGhlbihkZWZlcnJlZFByb21pc2UucmVzb2x2ZSwgZGVmZXJyZWRQcm9taXNlLnJlamVjdCk7XHJcbiAgICByZXR1cm4gZGVmZXJyZWRQcm9taXNlLnByb21pc2U7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIFJldHVybnMgYSBxdWVyeXN0cmluZy1mb3JtYXR0ZWQgc3RyaW5nIChlLmcuICZhcmc9dmFsJmFyZzI9dmFsMikgZnJvbSBhXHJcbiAqIHBhcmFtcyBvYmplY3QgKGUuZy4ge2FyZzogJ3ZhbCcsIGFyZzI6ICd2YWwyJ30pXHJcbiAqIE5vdGU6IFlvdSBtdXN0IHByZXBlbmQgaXQgd2l0aCA/IHdoZW4gYWRkaW5nIGl0IHRvIGEgVVJMLlxyXG4gKi9cclxuZnVuY3Rpb24gcXVlcnlzdHJpbmcocXVlcnlzdHJpbmdQYXJhbXMpIHtcclxuICAgIGNvbnN0IHBhcmFtcyA9IFtdO1xyXG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMocXVlcnlzdHJpbmdQYXJhbXMpKSB7XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgICAgIHZhbHVlLmZvckVhY2goYXJyYXlWYWwgPT4ge1xyXG4gICAgICAgICAgICAgICAgcGFyYW1zLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KGtleSkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQoYXJyYXlWYWwpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBwYXJhbXMucHVzaChlbmNvZGVVUklDb21wb25lbnQoa2V5KSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBwYXJhbXMubGVuZ3RoID8gJyYnICsgcGFyYW1zLmpvaW4oJyYnKSA6ICcnO1xyXG59XHJcbi8qKlxyXG4gKiBEZWNvZGVzIGEgcXVlcnlzdHJpbmcgKGUuZy4gP2FyZz12YWwmYXJnMj12YWwyKSBpbnRvIGEgcGFyYW1zIG9iamVjdFxyXG4gKiAoZS5nLiB7YXJnOiAndmFsJywgYXJnMjogJ3ZhbDInfSlcclxuICovXHJcbmZ1bmN0aW9uIHF1ZXJ5c3RyaW5nRGVjb2RlKHF1ZXJ5c3RyaW5nKSB7XHJcbiAgICBjb25zdCBvYmogPSB7fTtcclxuICAgIGNvbnN0IHRva2VucyA9IHF1ZXJ5c3RyaW5nLnJlcGxhY2UoL15cXD8vLCAnJykuc3BsaXQoJyYnKTtcclxuICAgIHRva2Vucy5mb3JFYWNoKHRva2VuID0+IHtcclxuICAgICAgICBpZiAodG9rZW4pIHtcclxuICAgICAgICAgICAgY29uc3QgW2tleSwgdmFsdWVdID0gdG9rZW4uc3BsaXQoJz0nKTtcclxuICAgICAgICAgICAgb2JqW2RlY29kZVVSSUNvbXBvbmVudChrZXkpXSA9IGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gb2JqO1xyXG59XHJcbi8qKlxyXG4gKiBFeHRyYWN0IHRoZSBxdWVyeSBzdHJpbmcgcGFydCBvZiBhIFVSTCwgaW5jbHVkaW5nIHRoZSBsZWFkaW5nIHF1ZXN0aW9uIG1hcmsgKGlmIHByZXNlbnQpLlxyXG4gKi9cclxuZnVuY3Rpb24gZXh0cmFjdFF1ZXJ5c3RyaW5nKHVybCkge1xyXG4gICAgY29uc3QgcXVlcnlTdGFydCA9IHVybC5pbmRleE9mKCc/Jyk7XHJcbiAgICBpZiAoIXF1ZXJ5U3RhcnQpIHtcclxuICAgICAgICByZXR1cm4gJyc7XHJcbiAgICB9XHJcbiAgICBjb25zdCBmcmFnbWVudFN0YXJ0ID0gdXJsLmluZGV4T2YoJyMnLCBxdWVyeVN0YXJ0KTtcclxuICAgIHJldHVybiB1cmwuc3Vic3RyaW5nKHF1ZXJ5U3RhcnQsIGZyYWdtZW50U3RhcnQgPiAwID8gZnJhZ21lbnRTdGFydCA6IHVuZGVmaW5lZCk7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIEBmaWxlb3ZlcnZpZXcgU0hBLTEgY3J5cHRvZ3JhcGhpYyBoYXNoLlxyXG4gKiBWYXJpYWJsZSBuYW1lcyBmb2xsb3cgdGhlIG5vdGF0aW9uIGluIEZJUFMgUFVCIDE4MC0zOlxyXG4gKiBodHRwOi8vY3NyYy5uaXN0Lmdvdi9wdWJsaWNhdGlvbnMvZmlwcy9maXBzMTgwLTMvZmlwczE4MC0zX2ZpbmFsLnBkZi5cclxuICpcclxuICogVXNhZ2U6XHJcbiAqICAgdmFyIHNoYTEgPSBuZXcgc2hhMSgpO1xyXG4gKiAgIHNoYTEudXBkYXRlKGJ5dGVzKTtcclxuICogICB2YXIgaGFzaCA9IHNoYTEuZGlnZXN0KCk7XHJcbiAqXHJcbiAqIFBlcmZvcm1hbmNlOlxyXG4gKiAgIENocm9tZSAyMzogICB+NDAwIE1iaXQvc1xyXG4gKiAgIEZpcmVmb3ggMTY6ICB+MjUwIE1iaXQvc1xyXG4gKlxyXG4gKi9cclxuLyoqXHJcbiAqIFNIQS0xIGNyeXB0b2dyYXBoaWMgaGFzaCBjb25zdHJ1Y3Rvci5cclxuICpcclxuICogVGhlIHByb3BlcnRpZXMgZGVjbGFyZWQgaGVyZSBhcmUgZGlzY3Vzc2VkIGluIHRoZSBhYm92ZSBhbGdvcml0aG0gZG9jdW1lbnQuXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAZmluYWxcclxuICogQHN0cnVjdFxyXG4gKi9cclxuY2xhc3MgU2hhMSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBIb2xkcyB0aGUgcHJldmlvdXMgdmFsdWVzIG9mIGFjY3VtdWxhdGVkIHZhcmlhYmxlcyBhLWUgaW4gdGhlIGNvbXByZXNzX1xyXG4gICAgICAgICAqIGZ1bmN0aW9uLlxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5jaGFpbl8gPSBbXTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBIGJ1ZmZlciBob2xkaW5nIHRoZSBwYXJ0aWFsbHkgY29tcHV0ZWQgaGFzaCByZXN1bHQuXHJcbiAgICAgICAgICogQHByaXZhdGVcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLmJ1Zl8gPSBbXTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBbiBhcnJheSBvZiA4MCBieXRlcywgZWFjaCBhIHBhcnQgb2YgdGhlIG1lc3NhZ2UgdG8gYmUgaGFzaGVkLiAgUmVmZXJyZWQgdG9cclxuICAgICAgICAgKiBhcyB0aGUgbWVzc2FnZSBzY2hlZHVsZSBpbiB0aGUgZG9jcy5cclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuV18gPSBbXTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDb250YWlucyBkYXRhIG5lZWRlZCB0byBwYWQgbWVzc2FnZXMgbGVzcyB0aGFuIDY0IGJ5dGVzLlxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5wYWRfID0gW107XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQHByaXZhdGUge251bWJlcn1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLmluYnVmXyA9IDA7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQHByaXZhdGUge251bWJlcn1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLnRvdGFsXyA9IDA7XHJcbiAgICAgICAgdGhpcy5ibG9ja1NpemUgPSA1MTIgLyA4O1xyXG4gICAgICAgIHRoaXMucGFkX1swXSA9IDEyODtcclxuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHRoaXMuYmxvY2tTaXplOyArK2kpIHtcclxuICAgICAgICAgICAgdGhpcy5wYWRfW2ldID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5yZXNldCgpO1xyXG4gICAgfVxyXG4gICAgcmVzZXQoKSB7XHJcbiAgICAgICAgdGhpcy5jaGFpbl9bMF0gPSAweDY3NDUyMzAxO1xyXG4gICAgICAgIHRoaXMuY2hhaW5fWzFdID0gMHhlZmNkYWI4OTtcclxuICAgICAgICB0aGlzLmNoYWluX1syXSA9IDB4OThiYWRjZmU7XHJcbiAgICAgICAgdGhpcy5jaGFpbl9bM10gPSAweDEwMzI1NDc2O1xyXG4gICAgICAgIHRoaXMuY2hhaW5fWzRdID0gMHhjM2QyZTFmMDtcclxuICAgICAgICB0aGlzLmluYnVmXyA9IDA7XHJcbiAgICAgICAgdGhpcy50b3RhbF8gPSAwO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBJbnRlcm5hbCBjb21wcmVzcyBoZWxwZXIgZnVuY3Rpb24uXHJcbiAgICAgKiBAcGFyYW0gYnVmIEJsb2NrIHRvIGNvbXByZXNzLlxyXG4gICAgICogQHBhcmFtIG9mZnNldCBPZmZzZXQgb2YgdGhlIGJsb2NrIGluIHRoZSBidWZmZXIuXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICBjb21wcmVzc18oYnVmLCBvZmZzZXQpIHtcclxuICAgICAgICBpZiAoIW9mZnNldCkge1xyXG4gICAgICAgICAgICBvZmZzZXQgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBXID0gdGhpcy5XXztcclxuICAgICAgICAvLyBnZXQgMTYgYmlnIGVuZGlhbiB3b3Jkc1xyXG4gICAgICAgIGlmICh0eXBlb2YgYnVmID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDE2OyBpKyspIHtcclxuICAgICAgICAgICAgICAgIC8vIFRPRE8odXNlcik6IFtidWcgODE0MDEyMl0gUmVjZW50IHZlcnNpb25zIG9mIFNhZmFyaSBmb3IgTWFjIE9TIGFuZCBpT1NcclxuICAgICAgICAgICAgICAgIC8vIGhhdmUgYSBidWcgdGhhdCB0dXJucyB0aGUgcG9zdC1pbmNyZW1lbnQgKysgb3BlcmF0b3IgaW50byBwcmUtaW5jcmVtZW50XHJcbiAgICAgICAgICAgICAgICAvLyBkdXJpbmcgSklUIGNvbXBpbGF0aW9uLiAgV2UgaGF2ZSBjb2RlIHRoYXQgZGVwZW5kcyBoZWF2aWx5IG9uIFNIQS0xIGZvclxyXG4gICAgICAgICAgICAgICAgLy8gY29ycmVjdG5lc3MgYW5kIHdoaWNoIGlzIGFmZmVjdGVkIGJ5IHRoaXMgYnVnLCBzbyBJJ3ZlIHJlbW92ZWQgYWxsIHVzZXNcclxuICAgICAgICAgICAgICAgIC8vIG9mIHBvc3QtaW5jcmVtZW50ICsrIGluIHdoaWNoIHRoZSByZXN1bHQgdmFsdWUgaXMgdXNlZC4gIFdlIGNhbiByZXZlcnRcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMgY2hhbmdlIG9uY2UgdGhlIFNhZmFyaSBidWdcclxuICAgICAgICAgICAgICAgIC8vIChodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTA5MDM2KSBoYXMgYmVlbiBmaXhlZCBhbmRcclxuICAgICAgICAgICAgICAgIC8vIG1vc3QgY2xpZW50cyBoYXZlIGJlZW4gdXBkYXRlZC5cclxuICAgICAgICAgICAgICAgIFdbaV0gPVxyXG4gICAgICAgICAgICAgICAgICAgIChidWYuY2hhckNvZGVBdChvZmZzZXQpIDw8IDI0KSB8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChidWYuY2hhckNvZGVBdChvZmZzZXQgKyAxKSA8PCAxNikgfFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoYnVmLmNoYXJDb2RlQXQob2Zmc2V0ICsgMikgPDwgOCkgfFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBidWYuY2hhckNvZGVBdChvZmZzZXQgKyAzKTtcclxuICAgICAgICAgICAgICAgIG9mZnNldCArPSA0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDE2OyBpKyspIHtcclxuICAgICAgICAgICAgICAgIFdbaV0gPVxyXG4gICAgICAgICAgICAgICAgICAgIChidWZbb2Zmc2V0XSA8PCAyNCkgfFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoYnVmW29mZnNldCArIDFdIDw8IDE2KSB8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChidWZbb2Zmc2V0ICsgMl0gPDwgOCkgfFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBidWZbb2Zmc2V0ICsgM107XHJcbiAgICAgICAgICAgICAgICBvZmZzZXQgKz0gNDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBleHBhbmQgdG8gODAgd29yZHNcclxuICAgICAgICBmb3IgKGxldCBpID0gMTY7IGkgPCA4MDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHQgPSBXW2kgLSAzXSBeIFdbaSAtIDhdIF4gV1tpIC0gMTRdIF4gV1tpIC0gMTZdO1xyXG4gICAgICAgICAgICBXW2ldID0gKCh0IDw8IDEpIHwgKHQgPj4+IDMxKSkgJiAweGZmZmZmZmZmO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgYSA9IHRoaXMuY2hhaW5fWzBdO1xyXG4gICAgICAgIGxldCBiID0gdGhpcy5jaGFpbl9bMV07XHJcbiAgICAgICAgbGV0IGMgPSB0aGlzLmNoYWluX1syXTtcclxuICAgICAgICBsZXQgZCA9IHRoaXMuY2hhaW5fWzNdO1xyXG4gICAgICAgIGxldCBlID0gdGhpcy5jaGFpbl9bNF07XHJcbiAgICAgICAgbGV0IGYsIGs7XHJcbiAgICAgICAgLy8gVE9ETyh1c2VyKTogVHJ5IHRvIHVucm9sbCB0aGlzIGxvb3AgdG8gc3BlZWQgdXAgdGhlIGNvbXB1dGF0aW9uLlxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgODA7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoaSA8IDQwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaSA8IDIwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZiA9IGQgXiAoYiAmIChjIF4gZCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGsgPSAweDVhODI3OTk5O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZiA9IGIgXiBjIF4gZDtcclxuICAgICAgICAgICAgICAgICAgICBrID0gMHg2ZWQ5ZWJhMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChpIDwgNjApIHtcclxuICAgICAgICAgICAgICAgICAgICBmID0gKGIgJiBjKSB8IChkICYgKGIgfCBjKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgayA9IDB4OGYxYmJjZGM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBmID0gYiBeIGMgXiBkO1xyXG4gICAgICAgICAgICAgICAgICAgIGsgPSAweGNhNjJjMWQ2O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHQgPSAoKChhIDw8IDUpIHwgKGEgPj4+IDI3KSkgKyBmICsgZSArIGsgKyBXW2ldKSAmIDB4ZmZmZmZmZmY7XHJcbiAgICAgICAgICAgIGUgPSBkO1xyXG4gICAgICAgICAgICBkID0gYztcclxuICAgICAgICAgICAgYyA9ICgoYiA8PCAzMCkgfCAoYiA+Pj4gMikpICYgMHhmZmZmZmZmZjtcclxuICAgICAgICAgICAgYiA9IGE7XHJcbiAgICAgICAgICAgIGEgPSB0O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNoYWluX1swXSA9ICh0aGlzLmNoYWluX1swXSArIGEpICYgMHhmZmZmZmZmZjtcclxuICAgICAgICB0aGlzLmNoYWluX1sxXSA9ICh0aGlzLmNoYWluX1sxXSArIGIpICYgMHhmZmZmZmZmZjtcclxuICAgICAgICB0aGlzLmNoYWluX1syXSA9ICh0aGlzLmNoYWluX1syXSArIGMpICYgMHhmZmZmZmZmZjtcclxuICAgICAgICB0aGlzLmNoYWluX1szXSA9ICh0aGlzLmNoYWluX1szXSArIGQpICYgMHhmZmZmZmZmZjtcclxuICAgICAgICB0aGlzLmNoYWluX1s0XSA9ICh0aGlzLmNoYWluX1s0XSArIGUpICYgMHhmZmZmZmZmZjtcclxuICAgIH1cclxuICAgIHVwZGF0ZShieXRlcywgbGVuZ3RoKSB7XHJcbiAgICAgICAgLy8gVE9ETyhqb2hubGVueik6IHRpZ2h0ZW4gdGhlIGZ1bmN0aW9uIHNpZ25hdHVyZSBhbmQgcmVtb3ZlIHRoaXMgY2hlY2tcclxuICAgICAgICBpZiAoYnl0ZXMgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBsZW5ndGggPSBieXRlcy5sZW5ndGg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGxlbmd0aE1pbnVzQmxvY2sgPSBsZW5ndGggLSB0aGlzLmJsb2NrU2l6ZTtcclxuICAgICAgICBsZXQgbiA9IDA7XHJcbiAgICAgICAgLy8gVXNpbmcgbG9jYWwgaW5zdGVhZCBvZiBtZW1iZXIgdmFyaWFibGVzIGdpdmVzIH41JSBzcGVlZHVwIG9uIEZpcmVmb3ggMTYuXHJcbiAgICAgICAgY29uc3QgYnVmID0gdGhpcy5idWZfO1xyXG4gICAgICAgIGxldCBpbmJ1ZiA9IHRoaXMuaW5idWZfO1xyXG4gICAgICAgIC8vIFRoZSBvdXRlciB3aGlsZSBsb29wIHNob3VsZCBleGVjdXRlIGF0IG1vc3QgdHdpY2UuXHJcbiAgICAgICAgd2hpbGUgKG4gPCBsZW5ndGgpIHtcclxuICAgICAgICAgICAgLy8gV2hlbiB3ZSBoYXZlIG5vIGRhdGEgaW4gdGhlIGJsb2NrIHRvIHRvcCB1cCwgd2UgY2FuIGRpcmVjdGx5IHByb2Nlc3MgdGhlXHJcbiAgICAgICAgICAgIC8vIGlucHV0IGJ1ZmZlciAoYXNzdW1pbmcgaXQgY29udGFpbnMgc3VmZmljaWVudCBkYXRhKS4gVGhpcyBnaXZlcyB+MjUlXHJcbiAgICAgICAgICAgIC8vIHNwZWVkdXAgb24gQ2hyb21lIDIzIGFuZCB+MTUlIHNwZWVkdXAgb24gRmlyZWZveCAxNiwgYnV0IHJlcXVpcmVzIHRoYXRcclxuICAgICAgICAgICAgLy8gdGhlIGRhdGEgaXMgcHJvdmlkZWQgaW4gbGFyZ2UgY2h1bmtzIChvciBpbiBtdWx0aXBsZXMgb2YgNjQgYnl0ZXMpLlxyXG4gICAgICAgICAgICBpZiAoaW5idWYgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChuIDw9IGxlbmd0aE1pbnVzQmxvY2spIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXByZXNzXyhieXRlcywgbik7XHJcbiAgICAgICAgICAgICAgICAgICAgbiArPSB0aGlzLmJsb2NrU2l6ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGJ5dGVzID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKG4gPCBsZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBidWZbaW5idWZdID0gYnl0ZXMuY2hhckNvZGVBdChuKTtcclxuICAgICAgICAgICAgICAgICAgICArK2luYnVmO1xyXG4gICAgICAgICAgICAgICAgICAgICsrbjtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5idWYgPT09IHRoaXMuYmxvY2tTaXplKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcHJlc3NfKGJ1Zik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluYnVmID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSnVtcCB0byB0aGUgb3V0ZXIgbG9vcCBzbyB3ZSB1c2UgdGhlIGZ1bGwtYmxvY2sgb3B0aW1pemF0aW9uLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAobiA8IGxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ1ZltpbmJ1Zl0gPSBieXRlc1tuXTtcclxuICAgICAgICAgICAgICAgICAgICArK2luYnVmO1xyXG4gICAgICAgICAgICAgICAgICAgICsrbjtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5idWYgPT09IHRoaXMuYmxvY2tTaXplKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcHJlc3NfKGJ1Zik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluYnVmID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSnVtcCB0byB0aGUgb3V0ZXIgbG9vcCBzbyB3ZSB1c2UgdGhlIGZ1bGwtYmxvY2sgb3B0aW1pemF0aW9uLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5pbmJ1Zl8gPSBpbmJ1ZjtcclxuICAgICAgICB0aGlzLnRvdGFsXyArPSBsZW5ndGg7XHJcbiAgICB9XHJcbiAgICAvKiogQG92ZXJyaWRlICovXHJcbiAgICBkaWdlc3QoKSB7XHJcbiAgICAgICAgY29uc3QgZGlnZXN0ID0gW107XHJcbiAgICAgICAgbGV0IHRvdGFsQml0cyA9IHRoaXMudG90YWxfICogODtcclxuICAgICAgICAvLyBBZGQgcGFkIDB4ODAgMHgwMCouXHJcbiAgICAgICAgaWYgKHRoaXMuaW5idWZfIDwgNTYpIHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGUodGhpcy5wYWRfLCA1NiAtIHRoaXMuaW5idWZfKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKHRoaXMucGFkXywgdGhpcy5ibG9ja1NpemUgLSAodGhpcy5pbmJ1Zl8gLSA1NikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBBZGQgIyBiaXRzLlxyXG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLmJsb2NrU2l6ZSAtIDE7IGkgPj0gNTY7IGktLSkge1xyXG4gICAgICAgICAgICB0aGlzLmJ1Zl9baV0gPSB0b3RhbEJpdHMgJiAyNTU7XHJcbiAgICAgICAgICAgIHRvdGFsQml0cyAvPSAyNTY7IC8vIERvbid0IHVzZSBiaXQtc2hpZnRpbmcgaGVyZSFcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jb21wcmVzc18odGhpcy5idWZfKTtcclxuICAgICAgICBsZXQgbiA9IDA7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1OyBpKyspIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDI0OyBqID49IDA7IGogLT0gOCkge1xyXG4gICAgICAgICAgICAgICAgZGlnZXN0W25dID0gKHRoaXMuY2hhaW5fW2ldID4+IGopICYgMjU1O1xyXG4gICAgICAgICAgICAgICAgKytuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBkaWdlc3Q7XHJcbiAgICB9XHJcbn1cblxuLyoqXHJcbiAqIEhlbHBlciB0byBtYWtlIGEgU3Vic2NyaWJlIGZ1bmN0aW9uIChqdXN0IGxpa2UgUHJvbWlzZSBoZWxwcyBtYWtlIGFcclxuICogVGhlbmFibGUpLlxyXG4gKlxyXG4gKiBAcGFyYW0gZXhlY3V0b3IgRnVuY3Rpb24gd2hpY2ggY2FuIG1ha2UgY2FsbHMgdG8gYSBzaW5nbGUgT2JzZXJ2ZXJcclxuICogICAgIGFzIGEgcHJveHkuXHJcbiAqIEBwYXJhbSBvbk5vT2JzZXJ2ZXJzIENhbGxiYWNrIHdoZW4gY291bnQgb2YgT2JzZXJ2ZXJzIGdvZXMgdG8gemVyby5cclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZVN1YnNjcmliZShleGVjdXRvciwgb25Ob09ic2VydmVycykge1xyXG4gICAgY29uc3QgcHJveHkgPSBuZXcgT2JzZXJ2ZXJQcm94eShleGVjdXRvciwgb25Ob09ic2VydmVycyk7XHJcbiAgICByZXR1cm4gcHJveHkuc3Vic2NyaWJlLmJpbmQocHJveHkpO1xyXG59XHJcbi8qKlxyXG4gKiBJbXBsZW1lbnQgZmFuLW91dCBmb3IgYW55IG51bWJlciBvZiBPYnNlcnZlcnMgYXR0YWNoZWQgdmlhIGEgc3Vic2NyaWJlXHJcbiAqIGZ1bmN0aW9uLlxyXG4gKi9cclxuY2xhc3MgT2JzZXJ2ZXJQcm94eSB7XHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSBleGVjdXRvciBGdW5jdGlvbiB3aGljaCBjYW4gbWFrZSBjYWxscyB0byBhIHNpbmdsZSBPYnNlcnZlclxyXG4gICAgICogICAgIGFzIGEgcHJveHkuXHJcbiAgICAgKiBAcGFyYW0gb25Ob09ic2VydmVycyBDYWxsYmFjayB3aGVuIGNvdW50IG9mIE9ic2VydmVycyBnb2VzIHRvIHplcm8uXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKGV4ZWN1dG9yLCBvbk5vT2JzZXJ2ZXJzKSB7XHJcbiAgICAgICAgdGhpcy5vYnNlcnZlcnMgPSBbXTtcclxuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlcyA9IFtdO1xyXG4gICAgICAgIHRoaXMub2JzZXJ2ZXJDb3VudCA9IDA7XHJcbiAgICAgICAgLy8gTWljcm8tdGFzayBzY2hlZHVsaW5nIGJ5IGNhbGxpbmcgdGFzay50aGVuKCkuXHJcbiAgICAgICAgdGhpcy50YXNrID0gUHJvbWlzZS5yZXNvbHZlKCk7XHJcbiAgICAgICAgdGhpcy5maW5hbGl6ZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLm9uTm9PYnNlcnZlcnMgPSBvbk5vT2JzZXJ2ZXJzO1xyXG4gICAgICAgIC8vIENhbGwgdGhlIGV4ZWN1dG9yIGFzeW5jaHJvbm91c2x5IHNvIHN1YnNjcmliZXJzIHRoYXQgYXJlIGNhbGxlZFxyXG4gICAgICAgIC8vIHN5bmNocm9ub3VzbHkgYWZ0ZXIgdGhlIGNyZWF0aW9uIG9mIHRoZSBzdWJzY3JpYmUgZnVuY3Rpb25cclxuICAgICAgICAvLyBjYW4gc3RpbGwgcmVjZWl2ZSB0aGUgdmVyeSBmaXJzdCB2YWx1ZSBnZW5lcmF0ZWQgaW4gdGhlIGV4ZWN1dG9yLlxyXG4gICAgICAgIHRoaXMudGFza1xyXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgIGV4ZWN1dG9yKHRoaXMpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICAgICAgdGhpcy5lcnJvcihlKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIG5leHQodmFsdWUpIHtcclxuICAgICAgICB0aGlzLmZvckVhY2hPYnNlcnZlcigob2JzZXJ2ZXIpID0+IHtcclxuICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dCh2YWx1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBlcnJvcihlcnJvcikge1xyXG4gICAgICAgIHRoaXMuZm9yRWFjaE9ic2VydmVyKChvYnNlcnZlcikgPT4ge1xyXG4gICAgICAgICAgICBvYnNlcnZlci5lcnJvcihlcnJvcik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5jbG9zZShlcnJvcik7XHJcbiAgICB9XHJcbiAgICBjb21wbGV0ZSgpIHtcclxuICAgICAgICB0aGlzLmZvckVhY2hPYnNlcnZlcigob2JzZXJ2ZXIpID0+IHtcclxuICAgICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFN1YnNjcmliZSBmdW5jdGlvbiB0aGF0IGNhbiBiZSB1c2VkIHRvIGFkZCBhbiBPYnNlcnZlciB0byB0aGUgZmFuLW91dCBsaXN0LlxyXG4gICAgICpcclxuICAgICAqIC0gV2UgcmVxdWlyZSB0aGF0IG5vIGV2ZW50IGlzIHNlbnQgdG8gYSBzdWJzY3JpYmVyIHN5Y2hyb25vdXNseSB0byB0aGVpclxyXG4gICAgICogICBjYWxsIHRvIHN1YnNjcmliZSgpLlxyXG4gICAgICovXHJcbiAgICBzdWJzY3JpYmUobmV4dE9yT2JzZXJ2ZXIsIGVycm9yLCBjb21wbGV0ZSkge1xyXG4gICAgICAgIGxldCBvYnNlcnZlcjtcclxuICAgICAgICBpZiAobmV4dE9yT2JzZXJ2ZXIgPT09IHVuZGVmaW5lZCAmJlxyXG4gICAgICAgICAgICBlcnJvciA9PT0gdW5kZWZpbmVkICYmXHJcbiAgICAgICAgICAgIGNvbXBsZXRlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIE9ic2VydmVyLicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBBc3NlbWJsZSBhbiBPYnNlcnZlciBvYmplY3Qgd2hlbiBwYXNzZWQgYXMgY2FsbGJhY2sgZnVuY3Rpb25zLlxyXG4gICAgICAgIGlmIChpbXBsZW1lbnRzQW55TWV0aG9kcyhuZXh0T3JPYnNlcnZlciwgW1xyXG4gICAgICAgICAgICAnbmV4dCcsXHJcbiAgICAgICAgICAgICdlcnJvcicsXHJcbiAgICAgICAgICAgICdjb21wbGV0ZSdcclxuICAgICAgICBdKSkge1xyXG4gICAgICAgICAgICBvYnNlcnZlciA9IG5leHRPck9ic2VydmVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgb2JzZXJ2ZXIgPSB7XHJcbiAgICAgICAgICAgICAgICBuZXh0OiBuZXh0T3JPYnNlcnZlcixcclxuICAgICAgICAgICAgICAgIGVycm9yLFxyXG4gICAgICAgICAgICAgICAgY29tcGxldGVcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG9ic2VydmVyLm5leHQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBvYnNlcnZlci5uZXh0ID0gbm9vcDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG9ic2VydmVyLmVycm9yID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgb2JzZXJ2ZXIuZXJyb3IgPSBub29wO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAob2JzZXJ2ZXIuY29tcGxldGUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBvYnNlcnZlci5jb21wbGV0ZSA9IG5vb3A7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHVuc3ViID0gdGhpcy51bnN1YnNjcmliZU9uZS5iaW5kKHRoaXMsIHRoaXMub2JzZXJ2ZXJzLmxlbmd0aCk7XHJcbiAgICAgICAgLy8gQXR0ZW1wdCB0byBzdWJzY3JpYmUgdG8gYSB0ZXJtaW5hdGVkIE9ic2VydmFibGUgLSB3ZVxyXG4gICAgICAgIC8vIGp1c3QgcmVzcG9uZCB0byB0aGUgT2JzZXJ2ZXIgd2l0aCB0aGUgZmluYWwgZXJyb3Igb3IgY29tcGxldGVcclxuICAgICAgICAvLyBldmVudC5cclxuICAgICAgICBpZiAodGhpcy5maW5hbGl6ZWQpIHtcclxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1mbG9hdGluZy1wcm9taXNlc1xyXG4gICAgICAgICAgICB0aGlzLnRhc2sudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmZpbmFsRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIuZXJyb3IodGhpcy5maW5hbEVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBub3RoaW5nXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm9ic2VydmVycy5wdXNoKG9ic2VydmVyKTtcclxuICAgICAgICByZXR1cm4gdW5zdWI7XHJcbiAgICB9XHJcbiAgICAvLyBVbnN1YnNjcmliZSBpcyBzeW5jaHJvbm91cyAtIHdlIGd1YXJhbnRlZSB0aGF0IG5vIGV2ZW50cyBhcmUgc2VudCB0b1xyXG4gICAgLy8gYW55IHVuc3Vic2NyaWJlZCBPYnNlcnZlci5cclxuICAgIHVuc3Vic2NyaWJlT25lKGkpIHtcclxuICAgICAgICBpZiAodGhpcy5vYnNlcnZlcnMgPT09IHVuZGVmaW5lZCB8fCB0aGlzLm9ic2VydmVyc1tpXSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZGVsZXRlIHRoaXMub2JzZXJ2ZXJzW2ldO1xyXG4gICAgICAgIHRoaXMub2JzZXJ2ZXJDb3VudCAtPSAxO1xyXG4gICAgICAgIGlmICh0aGlzLm9ic2VydmVyQ291bnQgPT09IDAgJiYgdGhpcy5vbk5vT2JzZXJ2ZXJzICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5vbk5vT2JzZXJ2ZXJzKHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZvckVhY2hPYnNlcnZlcihmbikge1xyXG4gICAgICAgIGlmICh0aGlzLmZpbmFsaXplZCkge1xyXG4gICAgICAgICAgICAvLyBBbHJlYWR5IGNsb3NlZCBieSBwcmV2aW91cyBldmVudC4uLi5qdXN0IGVhdCB0aGUgYWRkaXRpb25hbCB2YWx1ZXMuXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gU2luY2Ugc2VuZE9uZSBjYWxscyBhc3luY2hyb25vdXNseSAtIHRoZXJlIGlzIG5vIGNoYW5jZSB0aGF0XHJcbiAgICAgICAgLy8gdGhpcy5vYnNlcnZlcnMgd2lsbCBiZWNvbWUgdW5kZWZpbmVkLlxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5vYnNlcnZlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5zZW5kT25lKGksIGZuKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBDYWxsIHRoZSBPYnNlcnZlciB2aWEgb25lIG9mIGl0J3MgY2FsbGJhY2sgZnVuY3Rpb24uIFdlIGFyZSBjYXJlZnVsIHRvXHJcbiAgICAvLyBjb25maXJtIHRoYXQgdGhlIG9ic2VydmUgaGFzIG5vdCBiZWVuIHVuc3Vic2NyaWJlZCBzaW5jZSB0aGlzIGFzeW5jaHJvbm91c1xyXG4gICAgLy8gZnVuY3Rpb24gaGFkIGJlZW4gcXVldWVkLlxyXG4gICAgc2VuZE9uZShpLCBmbikge1xyXG4gICAgICAgIC8vIEV4ZWN1dGUgdGhlIGNhbGxiYWNrIGFzeW5jaHJvbm91c2x5XHJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1mbG9hdGluZy1wcm9taXNlc1xyXG4gICAgICAgIHRoaXMudGFzay50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMub2JzZXJ2ZXJzICE9PSB1bmRlZmluZWQgJiYgdGhpcy5vYnNlcnZlcnNbaV0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBmbih0aGlzLm9ic2VydmVyc1tpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIElnbm9yZSBleGNlcHRpb25zIHJhaXNlZCBpbiBPYnNlcnZlcnMgb3IgbWlzc2luZyBtZXRob2RzIG9mIGFuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gT2JzZXJ2ZXIuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gTG9nIGVycm9yIHRvIGNvbnNvbGUuIGIvMzE0MDQ4MDZcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmIGNvbnNvbGUuZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGNsb3NlKGVycikge1xyXG4gICAgICAgIGlmICh0aGlzLmZpbmFsaXplZCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZmluYWxpemVkID0gdHJ1ZTtcclxuICAgICAgICBpZiAoZXJyICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5maW5hbEVycm9yID0gZXJyO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBQcm94eSBpcyBubyBsb25nZXIgbmVlZGVkIC0gZ2FyYmFnZSBjb2xsZWN0IHJlZmVyZW5jZXNcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWZsb2F0aW5nLXByb21pc2VzXHJcbiAgICAgICAgdGhpcy50YXNrLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLm9ic2VydmVycyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgdGhpcy5vbk5vT2JzZXJ2ZXJzID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbi8qKiBUdXJuIHN5bmNocm9ub3VzIGZ1bmN0aW9uIGludG8gb25lIGNhbGxlZCBhc3luY2hyb25vdXNseS4gKi9cclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHlwZXNcclxuZnVuY3Rpb24gYXN5bmMoZm4sIG9uRXJyb3IpIHtcclxuICAgIHJldHVybiAoLi4uYXJncykgPT4ge1xyXG4gICAgICAgIFByb21pc2UucmVzb2x2ZSh0cnVlKVxyXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgIGZuKC4uLmFyZ3MpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgaWYgKG9uRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIG9uRXJyb3IoZXJyb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgb2JqZWN0IHBhc3NlZCBpbiBpbXBsZW1lbnRzIGFueSBvZiB0aGUgbmFtZWQgbWV0aG9kcy5cclxuICovXHJcbmZ1bmN0aW9uIGltcGxlbWVudHNBbnlNZXRob2RzKG9iaiwgbWV0aG9kcykge1xyXG4gICAgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnIHx8IG9iaiA9PT0gbnVsbCkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGZvciAoY29uc3QgbWV0aG9kIG9mIG1ldGhvZHMpIHtcclxuICAgICAgICBpZiAobWV0aG9kIGluIG9iaiAmJiB0eXBlb2Ygb2JqW21ldGhvZF0gPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcbmZ1bmN0aW9uIG5vb3AoKSB7XHJcbiAgICAvLyBkbyBub3RoaW5nXHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIENoZWNrIHRvIG1ha2Ugc3VyZSB0aGUgYXBwcm9wcmlhdGUgbnVtYmVyIG9mIGFyZ3VtZW50cyBhcmUgcHJvdmlkZWQgZm9yIGEgcHVibGljIGZ1bmN0aW9uLlxyXG4gKiBUaHJvd3MgYW4gZXJyb3IgaWYgaXQgZmFpbHMuXHJcbiAqXHJcbiAqIEBwYXJhbSBmbk5hbWUgVGhlIGZ1bmN0aW9uIG5hbWVcclxuICogQHBhcmFtIG1pbkNvdW50IFRoZSBtaW5pbXVtIG51bWJlciBvZiBhcmd1bWVudHMgdG8gYWxsb3cgZm9yIHRoZSBmdW5jdGlvbiBjYWxsXHJcbiAqIEBwYXJhbSBtYXhDb3VudCBUaGUgbWF4aW11bSBudW1iZXIgb2YgYXJndW1lbnQgdG8gYWxsb3cgZm9yIHRoZSBmdW5jdGlvbiBjYWxsXHJcbiAqIEBwYXJhbSBhcmdDb3VudCBUaGUgYWN0dWFsIG51bWJlciBvZiBhcmd1bWVudHMgcHJvdmlkZWQuXHJcbiAqL1xyXG5jb25zdCB2YWxpZGF0ZUFyZ0NvdW50ID0gZnVuY3Rpb24gKGZuTmFtZSwgbWluQ291bnQsIG1heENvdW50LCBhcmdDb3VudCkge1xyXG4gICAgbGV0IGFyZ0Vycm9yO1xyXG4gICAgaWYgKGFyZ0NvdW50IDwgbWluQ291bnQpIHtcclxuICAgICAgICBhcmdFcnJvciA9ICdhdCBsZWFzdCAnICsgbWluQ291bnQ7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChhcmdDb3VudCA+IG1heENvdW50KSB7XHJcbiAgICAgICAgYXJnRXJyb3IgPSBtYXhDb3VudCA9PT0gMCA/ICdub25lJyA6ICdubyBtb3JlIHRoYW4gJyArIG1heENvdW50O1xyXG4gICAgfVxyXG4gICAgaWYgKGFyZ0Vycm9yKSB7XHJcbiAgICAgICAgY29uc3QgZXJyb3IgPSBmbk5hbWUgK1xyXG4gICAgICAgICAgICAnIGZhaWxlZDogV2FzIGNhbGxlZCB3aXRoICcgK1xyXG4gICAgICAgICAgICBhcmdDb3VudCArXHJcbiAgICAgICAgICAgIChhcmdDb3VudCA9PT0gMSA/ICcgYXJndW1lbnQuJyA6ICcgYXJndW1lbnRzLicpICtcclxuICAgICAgICAgICAgJyBFeHBlY3RzICcgK1xyXG4gICAgICAgICAgICBhcmdFcnJvciArXHJcbiAgICAgICAgICAgICcuJztcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IpO1xyXG4gICAgfVxyXG59O1xyXG4vKipcclxuICogR2VuZXJhdGVzIGEgc3RyaW5nIHRvIHByZWZpeCBhbiBlcnJvciBtZXNzYWdlIGFib3V0IGZhaWxlZCBhcmd1bWVudCB2YWxpZGF0aW9uXHJcbiAqXHJcbiAqIEBwYXJhbSBmbk5hbWUgVGhlIGZ1bmN0aW9uIG5hbWVcclxuICogQHBhcmFtIGFyZ05hbWUgVGhlIG5hbWUgb2YgdGhlIGFyZ3VtZW50XHJcbiAqIEByZXR1cm4gVGhlIHByZWZpeCB0byBhZGQgdG8gdGhlIGVycm9yIHRocm93biBmb3IgdmFsaWRhdGlvbi5cclxuICovXHJcbmZ1bmN0aW9uIGVycm9yUHJlZml4KGZuTmFtZSwgYXJnTmFtZSkge1xyXG4gICAgcmV0dXJuIGAke2ZuTmFtZX0gZmFpbGVkOiAke2FyZ05hbWV9IGFyZ3VtZW50IGA7XHJcbn1cclxuLyoqXHJcbiAqIEBwYXJhbSBmbk5hbWVcclxuICogQHBhcmFtIGFyZ3VtZW50TnVtYmVyXHJcbiAqIEBwYXJhbSBuYW1lc3BhY2VcclxuICogQHBhcmFtIG9wdGlvbmFsXHJcbiAqL1xyXG5mdW5jdGlvbiB2YWxpZGF0ZU5hbWVzcGFjZShmbk5hbWUsIG5hbWVzcGFjZSwgb3B0aW9uYWwpIHtcclxuICAgIGlmIChvcHRpb25hbCAmJiAhbmFtZXNwYWNlKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiBuYW1lc3BhY2UgIT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgLy9UT0RPOiBJIHNob3VsZCBkbyBtb3JlIHZhbGlkYXRpb24gaGVyZS4gV2Ugb25seSBhbGxvdyBjZXJ0YWluIGNoYXJzIGluIG5hbWVzcGFjZXMuXHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yUHJlZml4KGZuTmFtZSwgJ25hbWVzcGFjZScpICsgJ211c3QgYmUgYSB2YWxpZCBmaXJlYmFzZSBuYW1lc3BhY2UuJyk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gdmFsaWRhdGVDYWxsYmFjayhmbk5hbWUsIGFyZ3VtZW50TmFtZSwgXHJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXR5cGVzXHJcbmNhbGxiYWNrLCBvcHRpb25hbCkge1xyXG4gICAgaWYgKG9wdGlvbmFsICYmICFjYWxsYmFjaykge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JQcmVmaXgoZm5OYW1lLCBhcmd1bWVudE5hbWUpICsgJ211c3QgYmUgYSB2YWxpZCBmdW5jdGlvbi4nKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiB2YWxpZGF0ZUNvbnRleHRPYmplY3QoZm5OYW1lLCBhcmd1bWVudE5hbWUsIGNvbnRleHQsIG9wdGlvbmFsKSB7XHJcbiAgICBpZiAob3B0aW9uYWwgJiYgIWNvbnRleHQpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIGNvbnRleHQgIT09ICdvYmplY3QnIHx8IGNvbnRleHQgPT09IG51bGwpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JQcmVmaXgoZm5OYW1lLCBhcmd1bWVudE5hbWUpICsgJ211c3QgYmUgYSB2YWxpZCBjb250ZXh0IG9iamVjdC4nKTtcclxuICAgIH1cclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vLyBDb2RlIG9yaWdpbmFsbHkgY2FtZSBmcm9tIGdvb2cuY3J5cHQuc3RyaW5nVG9VdGY4Qnl0ZUFycmF5LCBidXQgZm9yIHNvbWUgcmVhc29uIHRoZXlcclxuLy8gYXV0b21hdGljYWxseSByZXBsYWNlZCAnXFxyXFxuJyB3aXRoICdcXG4nLCBhbmQgdGhleSBkaWRuJ3QgaGFuZGxlIHN1cnJvZ2F0ZSBwYWlycyxcclxuLy8gc28gaXQncyBiZWVuIG1vZGlmaWVkLlxyXG4vLyBOb3RlIHRoYXQgbm90IGFsbCBVbmljb2RlIGNoYXJhY3RlcnMgYXBwZWFyIGFzIHNpbmdsZSBjaGFyYWN0ZXJzIGluIEphdmFTY3JpcHQgc3RyaW5ncy5cclxuLy8gZnJvbUNoYXJDb2RlIHJldHVybnMgdGhlIFVURi0xNiBlbmNvZGluZyBvZiBhIGNoYXJhY3RlciAtIHNvIHNvbWUgVW5pY29kZSBjaGFyYWN0ZXJzXHJcbi8vIHVzZSAyIGNoYXJhY3RlcnMgaW4gSmF2YXNjcmlwdC4gIEFsbCA0LWJ5dGUgVVRGLTggY2hhcmFjdGVycyBiZWdpbiB3aXRoIGEgZmlyc3RcclxuLy8gY2hhcmFjdGVyIGluIHRoZSByYW5nZSAweEQ4MDAgLSAweERCRkYgKHRoZSBmaXJzdCBjaGFyYWN0ZXIgb2YgYSBzby1jYWxsZWQgc3Vycm9nYXRlXHJcbi8vIHBhaXIpLlxyXG4vLyBTZWUgaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzUuMS8jc2VjLTE1LjEuM1xyXG4vKipcclxuICogQHBhcmFtIHtzdHJpbmd9IHN0clxyXG4gKiBAcmV0dXJuIHtBcnJheX1cclxuICovXHJcbmNvbnN0IHN0cmluZ1RvQnl0ZUFycmF5ID0gZnVuY3Rpb24gKHN0cikge1xyXG4gICAgY29uc3Qgb3V0ID0gW107XHJcbiAgICBsZXQgcCA9IDA7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGxldCBjID0gc3RyLmNoYXJDb2RlQXQoaSk7XHJcbiAgICAgICAgLy8gSXMgdGhpcyB0aGUgbGVhZCBzdXJyb2dhdGUgaW4gYSBzdXJyb2dhdGUgcGFpcj9cclxuICAgICAgICBpZiAoYyA+PSAweGQ4MDAgJiYgYyA8PSAweGRiZmYpIHtcclxuICAgICAgICAgICAgY29uc3QgaGlnaCA9IGMgLSAweGQ4MDA7IC8vIHRoZSBoaWdoIDEwIGJpdHMuXHJcbiAgICAgICAgICAgIGkrKztcclxuICAgICAgICAgICAgYXNzZXJ0KGkgPCBzdHIubGVuZ3RoLCAnU3Vycm9nYXRlIHBhaXIgbWlzc2luZyB0cmFpbCBzdXJyb2dhdGUuJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGxvdyA9IHN0ci5jaGFyQ29kZUF0KGkpIC0gMHhkYzAwOyAvLyB0aGUgbG93IDEwIGJpdHMuXHJcbiAgICAgICAgICAgIGMgPSAweDEwMDAwICsgKGhpZ2ggPDwgMTApICsgbG93O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYyA8IDEyOCkge1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9IGM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGMgPCAyMDQ4KSB7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKGMgPj4gNikgfCAxOTI7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKGMgJiA2MykgfCAxMjg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGMgPCA2NTUzNikge1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9IChjID4+IDEyKSB8IDIyNDtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoKGMgPj4gNikgJiA2MykgfCAxMjg7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKGMgJiA2MykgfCAxMjg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9IChjID4+IDE4KSB8IDI0MDtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoKGMgPj4gMTIpICYgNjMpIHwgMTI4O1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9ICgoYyA+PiA2KSAmIDYzKSB8IDEyODtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoYyAmIDYzKSB8IDEyODtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gb3V0O1xyXG59O1xyXG4vKipcclxuICogQ2FsY3VsYXRlIGxlbmd0aCB3aXRob3V0IGFjdHVhbGx5IGNvbnZlcnRpbmc7IHVzZWZ1bCBmb3IgZG9pbmcgY2hlYXBlciB2YWxpZGF0aW9uLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyXHJcbiAqIEByZXR1cm4ge251bWJlcn1cclxuICovXHJcbmNvbnN0IHN0cmluZ0xlbmd0aCA9IGZ1bmN0aW9uIChzdHIpIHtcclxuICAgIGxldCBwID0gMDtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgYyA9IHN0ci5jaGFyQ29kZUF0KGkpO1xyXG4gICAgICAgIGlmIChjIDwgMTI4KSB7XHJcbiAgICAgICAgICAgIHArKztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoYyA8IDIwNDgpIHtcclxuICAgICAgICAgICAgcCArPSAyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjID49IDB4ZDgwMCAmJiBjIDw9IDB4ZGJmZikge1xyXG4gICAgICAgICAgICAvLyBMZWFkIHN1cnJvZ2F0ZSBvZiBhIHN1cnJvZ2F0ZSBwYWlyLiAgVGhlIHBhaXIgdG9nZXRoZXIgd2lsbCB0YWtlIDQgYnl0ZXMgdG8gcmVwcmVzZW50LlxyXG4gICAgICAgICAgICBwICs9IDQ7XHJcbiAgICAgICAgICAgIGkrKzsgLy8gc2tpcCB0cmFpbCBzdXJyb2dhdGUuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBwICs9IDM7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHA7XHJcbn07XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAyMiBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBDb3BpZWQgZnJvbSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjExNzUyM1xyXG4gKiBHZW5lcmF0ZXMgYSBuZXcgdXVpZC5cclxuICogQHB1YmxpY1xyXG4gKi9cclxuY29uc3QgdXVpZHY0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuICd4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgYyA9PiB7XHJcbiAgICAgICAgY29uc3QgciA9IChNYXRoLnJhbmRvbSgpICogMTYpIHwgMCwgdiA9IGMgPT09ICd4JyA/IHIgOiAociAmIDB4MykgfCAweDg7XHJcbiAgICAgICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xyXG4gICAgfSk7XHJcbn07XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBUaGUgYW1vdW50IG9mIG1pbGxpc2Vjb25kcyB0byBleHBvbmVudGlhbGx5IGluY3JlYXNlLlxyXG4gKi9cclxuY29uc3QgREVGQVVMVF9JTlRFUlZBTF9NSUxMSVMgPSAxMDAwO1xyXG4vKipcclxuICogVGhlIGZhY3RvciB0byBiYWNrb2ZmIGJ5LlxyXG4gKiBTaG91bGQgYmUgYSBudW1iZXIgZ3JlYXRlciB0aGFuIDEuXHJcbiAqL1xyXG5jb25zdCBERUZBVUxUX0JBQ0tPRkZfRkFDVE9SID0gMjtcclxuLyoqXHJcbiAqIFRoZSBtYXhpbXVtIG1pbGxpc2Vjb25kcyB0byBpbmNyZWFzZSB0by5cclxuICpcclxuICogPHA+VmlzaWJsZSBmb3IgdGVzdGluZ1xyXG4gKi9cclxuY29uc3QgTUFYX1ZBTFVFX01JTExJUyA9IDQgKiA2MCAqIDYwICogMTAwMDsgLy8gRm91ciBob3VycywgbGlrZSBpT1MgYW5kIEFuZHJvaWQuXHJcbi8qKlxyXG4gKiBUaGUgcGVyY2VudGFnZSBvZiBiYWNrb2ZmIHRpbWUgdG8gcmFuZG9taXplIGJ5LlxyXG4gKiBTZWVcclxuICogaHR0cDovL2dvL3NhZmUtY2xpZW50LWJlaGF2aW9yI3N0ZXAtMS1kZXRlcm1pbmUtdGhlLWFwcHJvcHJpYXRlLXJldHJ5LWludGVydmFsLXRvLWhhbmRsZS1zcGlrZS10cmFmZmljXHJcbiAqIGZvciBjb250ZXh0LlxyXG4gKlxyXG4gKiA8cD5WaXNpYmxlIGZvciB0ZXN0aW5nXHJcbiAqL1xyXG5jb25zdCBSQU5ET01fRkFDVE9SID0gMC41O1xyXG4vKipcclxuICogQmFzZWQgb24gdGhlIGJhY2tvZmYgbWV0aG9kIGZyb21cclxuICogaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9jbG9zdXJlLWxpYnJhcnkvYmxvYi9tYXN0ZXIvY2xvc3VyZS9nb29nL21hdGgvZXhwb25lbnRpYWxiYWNrb2ZmLmpzLlxyXG4gKiBFeHRyYWN0ZWQgaGVyZSBzbyB3ZSBkb24ndCBuZWVkIHRvIHBhc3MgbWV0YWRhdGEgYW5kIGEgc3RhdGVmdWwgRXhwb25lbnRpYWxCYWNrb2ZmIG9iamVjdCBhcm91bmQuXHJcbiAqL1xyXG5mdW5jdGlvbiBjYWxjdWxhdGVCYWNrb2ZmTWlsbGlzKGJhY2tvZmZDb3VudCwgaW50ZXJ2YWxNaWxsaXMgPSBERUZBVUxUX0lOVEVSVkFMX01JTExJUywgYmFja29mZkZhY3RvciA9IERFRkFVTFRfQkFDS09GRl9GQUNUT1IpIHtcclxuICAgIC8vIENhbGN1bGF0ZXMgYW4gZXhwb25lbnRpYWxseSBpbmNyZWFzaW5nIHZhbHVlLlxyXG4gICAgLy8gRGV2aWF0aW9uOiBjYWxjdWxhdGVzIHZhbHVlIGZyb20gY291bnQgYW5kIGEgY29uc3RhbnQgaW50ZXJ2YWwsIHNvIHdlIG9ubHkgbmVlZCB0byBzYXZlIHZhbHVlXHJcbiAgICAvLyBhbmQgY291bnQgdG8gcmVzdG9yZSBzdGF0ZS5cclxuICAgIGNvbnN0IGN1cnJCYXNlVmFsdWUgPSBpbnRlcnZhbE1pbGxpcyAqIE1hdGgucG93KGJhY2tvZmZGYWN0b3IsIGJhY2tvZmZDb3VudCk7XHJcbiAgICAvLyBBIHJhbmRvbSBcImZ1enpcIiB0byBhdm9pZCB3YXZlcyBvZiByZXRyaWVzLlxyXG4gICAgLy8gRGV2aWF0aW9uOiByYW5kb21GYWN0b3IgaXMgcmVxdWlyZWQuXHJcbiAgICBjb25zdCByYW5kb21XYWl0ID0gTWF0aC5yb3VuZChcclxuICAgIC8vIEEgZnJhY3Rpb24gb2YgdGhlIGJhY2tvZmYgdmFsdWUgdG8gYWRkL3N1YnRyYWN0LlxyXG4gICAgLy8gRGV2aWF0aW9uOiBjaGFuZ2VzIG11bHRpcGxpY2F0aW9uIG9yZGVyIHRvIGltcHJvdmUgcmVhZGFiaWxpdHkuXHJcbiAgICBSQU5ET01fRkFDVE9SICpcclxuICAgICAgICBjdXJyQmFzZVZhbHVlICpcclxuICAgICAgICAvLyBBIHJhbmRvbSBmbG9hdCAocm91bmRlZCB0byBpbnQgYnkgTWF0aC5yb3VuZCBhYm92ZSkgaW4gdGhlIHJhbmdlIFstMSwgMV0uIERldGVybWluZXNcclxuICAgICAgICAvLyBpZiB3ZSBhZGQgb3Igc3VidHJhY3QuXHJcbiAgICAgICAgKE1hdGgucmFuZG9tKCkgLSAwLjUpICpcclxuICAgICAgICAyKTtcclxuICAgIC8vIExpbWl0cyBiYWNrb2ZmIHRvIG1heCB0byBhdm9pZCBlZmZlY3RpdmVseSBwZXJtYW5lbnQgYmFja29mZi5cclxuICAgIHJldHVybiBNYXRoLm1pbihNQVhfVkFMVUVfTUlMTElTLCBjdXJyQmFzZVZhbHVlICsgcmFuZG9tV2FpdCk7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIFByb3ZpZGUgRW5nbGlzaCBvcmRpbmFsIGxldHRlcnMgYWZ0ZXIgYSBudW1iZXJcclxuICovXHJcbmZ1bmN0aW9uIG9yZGluYWwoaSkge1xyXG4gICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoaSkpIHtcclxuICAgICAgICByZXR1cm4gYCR7aX1gO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGkgKyBpbmRpY2F0b3IoaSk7XHJcbn1cclxuZnVuY3Rpb24gaW5kaWNhdG9yKGkpIHtcclxuICAgIGkgPSBNYXRoLmFicyhpKTtcclxuICAgIGNvbnN0IGNlbnQgPSBpICUgMTAwO1xyXG4gICAgaWYgKGNlbnQgPj0gMTAgJiYgY2VudCA8PSAyMCkge1xyXG4gICAgICAgIHJldHVybiAndGgnO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZGVjID0gaSAlIDEwO1xyXG4gICAgaWYgKGRlYyA9PT0gMSkge1xyXG4gICAgICAgIHJldHVybiAnc3QnO1xyXG4gICAgfVxyXG4gICAgaWYgKGRlYyA9PT0gMikge1xyXG4gICAgICAgIHJldHVybiAnbmQnO1xyXG4gICAgfVxyXG4gICAgaWYgKGRlYyA9PT0gMykge1xyXG4gICAgICAgIHJldHVybiAncmQnO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuICd0aCc7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDIxIEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0TW9kdWxhckluc3RhbmNlKHNlcnZpY2UpIHtcclxuICAgIGlmIChzZXJ2aWNlICYmIHNlcnZpY2UuX2RlbGVnYXRlKSB7XHJcbiAgICAgICAgcmV0dXJuIHNlcnZpY2UuX2RlbGVnYXRlO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHNlcnZpY2U7XHJcbiAgICB9XHJcbn1cblxuZXhwb3J0IHsgQ09OU1RBTlRTLCBEZWNvZGVCYXNlNjRTdHJpbmdFcnJvciwgRGVmZXJyZWQsIEVycm9yRmFjdG9yeSwgRmlyZWJhc2VFcnJvciwgTUFYX1ZBTFVFX01JTExJUywgUkFORE9NX0ZBQ1RPUiwgU2hhMSwgYXJlQ29va2llc0VuYWJsZWQsIGFzc2VydCwgYXNzZXJ0aW9uRXJyb3IsIGFzeW5jLCBiYXNlNjQsIGJhc2U2NERlY29kZSwgYmFzZTY0RW5jb2RlLCBiYXNlNjR1cmxFbmNvZGVXaXRob3V0UGFkZGluZywgY2FsY3VsYXRlQmFja29mZk1pbGxpcywgY29udGFpbnMsIGNyZWF0ZU1vY2tVc2VyVG9rZW4sIGNyZWF0ZVN1YnNjcmliZSwgZGVjb2RlLCBkZWVwQ29weSwgZGVlcEVxdWFsLCBkZWVwRXh0ZW5kLCBlcnJvclByZWZpeCwgZXh0cmFjdFF1ZXJ5c3RyaW5nLCBnZXREZWZhdWx0QXBwQ29uZmlnLCBnZXREZWZhdWx0RW11bGF0b3JIb3N0LCBnZXREZWZhdWx0RW11bGF0b3JIb3N0bmFtZUFuZFBvcnQsIGdldERlZmF1bHRzLCBnZXRFeHBlcmltZW50YWxTZXR0aW5nLCBnZXRHbG9iYWwsIGdldE1vZHVsYXJJbnN0YW5jZSwgZ2V0VUEsIGlzQWRtaW4sIGlzQnJvd3NlciwgaXNCcm93c2VyRXh0ZW5zaW9uLCBpc0VsZWN0cm9uLCBpc0VtcHR5LCBpc0lFLCBpc0luZGV4ZWREQkF2YWlsYWJsZSwgaXNNb2JpbGVDb3Jkb3ZhLCBpc05vZGUsIGlzTm9kZVNkaywgaXNSZWFjdE5hdGl2ZSwgaXNTYWZhcmksIGlzVVdQLCBpc1ZhbGlkRm9ybWF0LCBpc1ZhbGlkVGltZXN0YW1wLCBpc3N1ZWRBdFRpbWUsIGpzb25FdmFsLCBtYXAsIG9yZGluYWwsIHByb21pc2VXaXRoVGltZW91dCwgcXVlcnlzdHJpbmcsIHF1ZXJ5c3RyaW5nRGVjb2RlLCBzYWZlR2V0LCBzdHJpbmdMZW5ndGgsIHN0cmluZ1RvQnl0ZUFycmF5LCBzdHJpbmdpZnksIHV1aWR2NCwgdmFsaWRhdGVBcmdDb3VudCwgdmFsaWRhdGVDYWxsYmFjaywgdmFsaWRhdGVDb250ZXh0T2JqZWN0LCB2YWxpZGF0ZUluZGV4ZWREQk9wZW5hYmxlLCB2YWxpZGF0ZU5hbWVzcGFjZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguZXNtMjAxNy5qcy5tYXBcbiIsImltcG9ydCB7IGluaXRpYWxpemVBcHAgfSBmcm9tIFwiZmlyZWJhc2UvYXBwXCI7XHJcbmltcG9ydCB7IGdldEFuYWx5dGljcywgbG9nRXZlbnQgfSBmcm9tIFwiZmlyZWJhc2UvYW5hbHl0aWNzXCI7XHJcbmltcG9ydCB7IGZpcmViYXNlQ29uZmlnIH0gZnJvbSBcIi4vZmlyZWJhc2UtY29uZmlnXCI7XHJcbmV4cG9ydCBjbGFzcyBCYXNlRmlyZWJhc2VJbnRlZ3JhdGlvbiB7XHJcbiAgICBmaXJlYmFzZUFwcDtcclxuICAgIGFuYWx5dGljcztcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZUZpcmViYXNlKCk7XHJcbiAgICB9XHJcbiAgICBjdXN0b21FdmVudHMoZXZlbnROYW1lLCBldmVudCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxvZ0V2ZW50KHRoaXMuYW5hbHl0aWNzLCBldmVudE5hbWUsIGV2ZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciB3aGlsZSBsb2dnaW5nIGN1c3RvbSBldmVudDpcIiwgZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHNlc3Npb25FbmQoKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKG5hdmlnYXRvci5vbkxpbmUgJiYgdGhpcy5hbmFseXRpY3MgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgbG9nRXZlbnQodGhpcy5hbmFseXRpY3MsIFwic2Vzc2lvbl9lbmRcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciB3aGlsZSBsb2dnaW5nIHNlc3Npb25fZW5kIGV2ZW50OlwiLCBlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaW5pdGlhbGl6ZUZpcmViYXNlKCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRoaXMuZmlyZWJhc2VBcHAgPSBpbml0aWFsaXplQXBwKGZpcmViYXNlQ29uZmlnKTtcclxuICAgICAgICAgICAgdGhpcy5hbmFseXRpY3MgPSBnZXRBbmFseXRpY3ModGhpcy5maXJlYmFzZUFwcCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3Igd2hpbGUgaW5pdGlhbGl6aW5nIEZpcmViYXNlOlwiLCBlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCBjb25zdCBmaXJlYmFzZUNvbmZpZyA9IHtcclxuICAgIGFwaUtleTogXCJBSXphU3lCOGMybEJWaTI2dTdZUkw5c3hPUDk3VWFxM3lOOGhUbDRcIixcclxuICAgIGF1dGhEb21haW46IFwiZnRtLWI5ZDk5LmZpcmViYXNlYXBwLmNvbVwiLFxyXG4gICAgZGF0YWJhc2VVUkw6IFwiaHR0cHM6Ly9mdG0tYjlkOTkuZmlyZWJhc2Vpby5jb21cIixcclxuICAgIHByb2plY3RJZDogXCJmdG0tYjlkOTlcIixcclxuICAgIHN0b3JhZ2VCdWNrZXQ6IFwiZnRtLWI5ZDk5LmFwcHNwb3QuY29tXCIsXHJcbiAgICBtZXNzYWdpbmdTZW5kZXJJZDogXCI2MDI0MDIzODc5NDFcIixcclxuICAgIGFwcElkOiBcIjE6NjAyNDAyMzg3OTQxOndlYjphNjNmNGVhZGRjOTQ5ZjUzOWRlMTBjXCIsXHJcbiAgICBtZWFzdXJlbWVudElkOiBcIkctRlZMU043RDdOTVwiLFxyXG59O1xyXG4iLCJpbXBvcnQgeyBCYXNlRmlyZWJhc2VJbnRlZ3JhdGlvbiB9IGZyb20gXCIuL2Jhc2UtZmlyZWJhc2UtaW50ZWdyYXRpb25cIjtcclxuZXhwb3J0IGNsYXNzIEZpcmViYXNlSW50ZWdyYXRpb24gZXh0ZW5kcyBCYXNlRmlyZWJhc2VJbnRlZ3JhdGlvbiB7XHJcbiAgICBzdGF0aWMgaW5zdGFuY2U7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIGdldEluc3RhbmNlKCkge1xyXG4gICAgICAgIGlmICghRmlyZWJhc2VJbnRlZ3JhdGlvbi5pbnN0YW5jZSkge1xyXG4gICAgICAgICAgICBGaXJlYmFzZUludGVncmF0aW9uLmluc3RhbmNlID0gbmV3IEZpcmViYXNlSW50ZWdyYXRpb24oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIEZpcmViYXNlSW50ZWdyYXRpb24uaW5zdGFuY2U7XHJcbiAgICB9XHJcbiAgICBzZW5kU2Vzc2lvblN0YXJ0RXZlbnQoZGF0YSkge1xyXG4gICAgICAgIHRoaXMuY3VzdG9tRXZlbnRzKFwic2Vzc2lvbl9zdGFydFwiLCBkYXRhKTtcclxuICAgIH1cclxuICAgIHNlbmRTZXNzaW9uRW5kRXZlbnQoZGF0YSkge1xyXG4gICAgICAgIHRoaXMuY3VzdG9tRXZlbnRzKFwic2Vzc2lvbl9lbmRcIiwgZGF0YSk7XHJcbiAgICB9XHJcbiAgICBzZW5kU2VsZWN0ZWRMZXZlbEV2ZW50KGRhdGEpIHtcclxuICAgICAgICB0aGlzLmN1c3RvbUV2ZW50cyhcInNlbGVjdGVkX2xldmVsXCIsIGRhdGEpO1xyXG4gICAgfVxyXG4gICAgc2VuZFRhcHBlZFN0YXJ0RXZlbnQoZGF0YSkge1xyXG4gICAgICAgIHRoaXMuY3VzdG9tRXZlbnRzKFwidGFwcGVkX3N0YXJ0XCIsIGRhdGEpO1xyXG4gICAgfVxyXG4gICAgc2VuZFB1enpsZUNvbXBsZXRlZEV2ZW50KGRhdGEpIHtcclxuICAgICAgICB0aGlzLmN1c3RvbUV2ZW50cyhcInB1enpsZV9jb21wbGV0ZWRcIiwgZGF0YSk7XHJcbiAgICB9XHJcbiAgICBzZW5kTGV2ZWxDb21wbGV0ZWRFdmVudChkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5jdXN0b21FdmVudHMoXCJsZXZlbF9jb21wbGV0ZWRcIiwgZGF0YSk7XHJcbiAgICB9XHJcbiAgICBzZW5kVXNlckNsaWNrZWRPblBsYXlFdmVudCgpIHtcclxuICAgICAgICB0aGlzLmN1c3RvbUV2ZW50cygndXNlcl9jbGlja2VkJywgeyBjbGljazogJ0NsaWNrJyB9KTtcclxuICAgIH1cclxuICAgIHNlbmREb3dubG9hZENvbXBsZXRlZEV2ZW50KGRhdGEpIHtcclxuICAgICAgICB0aGlzLmN1c3RvbUV2ZW50cygnZG93bmxvYWRfY29tcGxldGVkJywgZGF0YSk7XHJcbiAgICB9XHJcbn1cclxuIiwiLy8gY3VzdG9tIEV2ZW50c1xyXG5leHBvcnQgY29uc3QgTE9BRFBVWlpMRSA9IFwibG9hZHB1enpsZVwiO1xyXG5leHBvcnQgY29uc3QgU1RPTkVEUk9QID0gXCJzdG9uZXNkcm9wcGVkXCI7XHJcbi8vIGRlZmF1bHQgRXZlbnRzXHJcbmV4cG9ydCBjb25zdCBNT1VTRU1PVkUgPSBcIm1vdXNlbW92ZVwiO1xyXG5leHBvcnQgY29uc3QgTU9VU0VET1dOID0gXCJtb3VzZWRvd25cIjtcclxuZXhwb3J0IGNvbnN0IE1PVVNFVVAgPSBcIm1vdXNldXBcIjtcclxuZXhwb3J0IGNvbnN0IFRPVUNIU1RBUlQgPSBcInRvdWNoc3RhcnRcIjtcclxuZXhwb3J0IGNvbnN0IFRPVUNITU9WRSA9IFwidG91Y2htb3ZlXCI7XHJcbmV4cG9ydCBjb25zdCBUT1VDSEVORCA9IFwidG91Y2hlbmRcIjtcclxuZXhwb3J0IGNvbnN0IENMSUNLID0gXCJjbGlja1wiO1xyXG5leHBvcnQgY29uc3QgVklTSUJJTElUWV9DSEFOR0UgPSBcInZpc2liaWxpdHljaGFuZ2VcIjtcclxuIiwiY29uc3QgdXJsUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcclxuaW1wb3J0IHsgRGV2ZWxvcG1lbnRTZXJ2ZXIgfSBmcm9tIFwiQGNvbnN0YW50c1wiO1xyXG5pbXBvcnQgeyBVdGlscyB9IGZyb20gXCJAY29tbW9uXCI7XHJcbmV4cG9ydCB2YXIgcHNldWRvSWQgPSB1cmxQYXJhbXMuZ2V0KFwiY3JfdXNlcl9pZFwiKTtcclxuZXhwb3J0IHZhciBsYW5nID0gdXJsUGFyYW1zLmdldChcImNyX2xhbmdcIikgPT0gbnVsbCA/IFwiZW5nbGlzaFwiIDogdXJsUGFyYW1zLmdldChcImNyX2xhbmdcIik7XHJcbmV4cG9ydCBjb25zdCBmb250ID0gVXRpbHMuZ2V0TGFuZ3VhZ2VTcGVjaWZpY0ZvbnQobGFuZyk7XHJcbmV4cG9ydCBjb25zdCBEZWJ1Z2dlciA9IHtcclxuICAgIERldmVsb3BtZW50TGluazogd2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoRGV2ZWxvcG1lbnRTZXJ2ZXIpXHJcbiAgICAgICAgPyB0cnVlXHJcbiAgICAgICAgOiBmYWxzZSxcclxuICAgIERlYnVnTW9kZTogZmFsc2UsXHJcbn07XHJcbiIsImltcG9ydCB7IGZvbnQgfSBmcm9tIFwiQGNvbW1vblwiO1xyXG5leHBvcnQgY2xhc3MgU3RvbmVDb25maWcge1xyXG4gICAgeDtcclxuICAgIHk7XHJcbiAgICBvcmlneDtcclxuICAgIG9yaWd5O1xyXG4gICAgdGV4dDtcclxuICAgIGltZztcclxuICAgIGltYWdlU2l6ZTtcclxuICAgIHRleHRGb250U2l6ZTtcclxuICAgIGNhbnZhc1dpZHRoO1xyXG4gICAgY2FudmFzSGVpZ2h0O1xyXG4gICAgaW1hZ2VDZW50ZXJPZmZzZXRYO1xyXG4gICAgaW1hZ2VDZW50ZXJPZmZzZXRZO1xyXG4gICAgY29udGV4dDtcclxuICAgIHR1dG9yaWFsSW5zdGFuY2U7XHJcbiAgICB0aW1lclRpY2tpbmdJbnN0YW5jZTtcclxuICAgIGZyYW1lID0gMDtcclxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQsIGNhbnZhc1dpZHRoLCBjYW52YXNIZWlnaHQsIHN0b25lTGV0dGVyLCB4UG9zLCB5UG9zLCBpbWcsIHRpbWVyVGlja2luZ0luc3RhbmNlLCB0dXRvcmlhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgdGhpcy54ID0geFBvcztcclxuICAgICAgICB0aGlzLnkgPSB5UG9zO1xyXG4gICAgICAgIHRoaXMub3JpZ3ggPSB4UG9zO1xyXG4gICAgICAgIHRoaXMub3JpZ3kgPSB5UG9zO1xyXG4gICAgICAgIHRoaXMuY2FudmFzV2lkdGggPSBjYW52YXNXaWR0aDtcclxuICAgICAgICB0aGlzLmNhbnZhc0hlaWdodCA9IGNhbnZhc0hlaWdodDtcclxuICAgICAgICB0aGlzLnR1dG9yaWFsSW5zdGFuY2UgPSB0dXRvcmlhbEluc3RhbmNlO1xyXG4gICAgICAgIHRoaXMudGV4dCA9IHN0b25lTGV0dGVyO1xyXG4gICAgICAgIHRoaXMuaW1nID0gaW1nO1xyXG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XHJcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVJbWFnZUFuZEZvbnRTaXplKCk7XHJcbiAgICAgICAgdGhpcy5pbWFnZUNlbnRlck9mZnNldFggPSB0aGlzLmltYWdlU2l6ZSAvIDIuMztcclxuICAgICAgICB0aGlzLmltYWdlQ2VudGVyT2Zmc2V0WSA9IHRoaXMuaW1hZ2VTaXplIC8gMS41O1xyXG4gICAgICAgIHRoaXMudGltZXJUaWNraW5nSW5zdGFuY2UgPSB0aW1lclRpY2tpbmdJbnN0YW5jZTtcclxuICAgIH1cclxuICAgIGNhbGN1bGF0ZUltYWdlQW5kRm9udFNpemUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY29udGV4dC5tZWFzdXJlVGV4dCh0aGlzLnRleHQpLndpZHRoICogMS40ID5cclxuICAgICAgICAgICAgdGhpcy5jYW52YXNIZWlnaHQgLyA5LjUpIHtcclxuICAgICAgICAgICAgdGhpcy5pbWFnZVNpemUgPSB0aGlzLmNvbnRleHQubWVhc3VyZVRleHQodGhpcy50ZXh0KS53aWR0aCAqIDEuMTtcclxuICAgICAgICAgICAgdGhpcy50ZXh0Rm9udFNpemUgPSB0aGlzLmNhbnZhc0hlaWdodCAvIDI1O1xyXG4gICAgICAgICAgICBpZiAodGhpcy50ZXh0Lmxlbmd0aCA+PSAzICYmIHRoaXMub3JpZ3ggPCA1MCAmJiB0aGlzLm9yaWd4IDwgdGhpcy5jYW52YXNXaWR0aCAvIDIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMueCA9IHRoaXMub3JpZ3ggKyAyMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5pbWFnZVNpemUgPSB0aGlzLmNhbnZhc0hlaWdodCAvIDkuNTtcclxuICAgICAgICAgICAgdGhpcy50ZXh0Rm9udFNpemUgPSB0aGlzLmNhbnZhc0hlaWdodCAvIDIwO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGdldEVhc2UgPSAoY3VycmVudFByb2dyZXNzLCBzdGFydCwgZGlzdGFuY2UsIHN0ZXBzKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIC1kaXN0YW5jZSAvIDIgKiAoTWF0aC5jb3MoTWF0aC5QSSAqIGN1cnJlbnRQcm9ncmVzcyAvIHN0ZXBzKSAtIDEpICsgc3RhcnQ7XHJcbiAgICB9O1xyXG4gICAgZ2V0WCA9ICgpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5mcmFtZSA+PSAxMDApIHtcclxuICAgICAgICAgICAgLy8gQW5pbWF0aW9uIGhhcyBlbmRlZCwgcmV0dXJuIHRoZSBmaW5hbCBzdG9uZSBwb3NpdGlvblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy54O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRFYXNlKHRoaXMuZnJhbWUsIDAsIHRoaXMueCwgMTAwKTtcclxuICAgIH07XHJcbiAgICBnZXRZID0gKCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmZyYW1lID49IDEwMCkge1xyXG4gICAgICAgICAgICAvLyBBbmltYXRpb24gaGFzIGVuZGVkLCByZXR1cm4gdGhlIGZpbmFsIHN0b25lIHBvc2l0aW9uXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLmdldEVhc2UodGhpcy5mcmFtZSwgMCwgdGhpcy55LCAxMDApO1xyXG4gICAgfTtcclxuICAgIGFkanVzdFNpemUoc2hvdWxkUmVzaXplLCBudW0pIHtcclxuICAgICAgICByZXR1cm4gc2hvdWxkUmVzaXplID8gbnVtICogMS4yNSA6IG51bTtcclxuICAgIH1cclxuICAgIGRyYXcoZGVsdGFUaW1lLCBzaG91bGRSZXNpemUgPSBmYWxzZSkge1xyXG4gICAgICAgIGNvbnN0IHggPSB0aGlzLmdldFgoKSAtIHRoaXMuYWRqdXN0U2l6ZShzaG91bGRSZXNpemUsIHRoaXMuaW1hZ2VDZW50ZXJPZmZzZXRYKTtcclxuICAgICAgICBjb25zdCB5ID0gdGhpcy5nZXRZKCkgLSB0aGlzLmFkanVzdFNpemUoc2hvdWxkUmVzaXplLCB0aGlzLmltYWdlQ2VudGVyT2Zmc2V0WSk7XHJcbiAgICAgICAgLy8gQXBwbHkgc2hhZG93IHByb3BlcnRpZXNcclxuICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFN0eWxlID0gJ3JlZCc7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LnNoYWRvd0NvbG9yID0gJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMSknOyAvLyBDb2xvciBvZiB0aGUgc2hhZG93XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LnNoYWRvd0JsdXIgPSAxMjsgLy8gQmx1ciBsZXZlbCBvZiB0aGUgc2hhZG93XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LnNoYWRvd09mZnNldFggPSAwOyAvLyBIb3Jpem9udGFsIHNoYWRvdyBvZmZzZXRcclxuICAgICAgICB0aGlzLmNvbnRleHQuc2hhZG93T2Zmc2V0WSA9IDA7IC8vIFZlcnRpY2FsIHNoYWRvdyBvZmZzZXRcclxuICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMuaW1nLCB4LCB5LCB0aGlzLmFkanVzdFNpemUoc2hvdWxkUmVzaXplLCB0aGlzLmltYWdlU2l6ZSksIHRoaXMuYWRqdXN0U2l6ZShzaG91bGRSZXNpemUsIHRoaXMuaW1hZ2VTaXplKSk7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxTdHlsZSA9IFwid2hpdGVcIjtcclxuICAgICAgICB0aGlzLmNvbnRleHQuZm9udCA9IHRoaXMudGV4dEZvbnRTaXplICsgYHB4ICR7Zm9udH0sIG1vbm9zcGFjZWA7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XHJcbiAgICAgICAgLy8gU2V0IHNoYWRvdyBwcm9wZXJ0aWVzXHJcbiAgICAgICAgdGhpcy5jb250ZXh0LnNoYWRvd09mZnNldFggPSAwOyAvLyBNb3ZlIHNoYWRvdyB0byB0aGUgcmlnaHQgYnkgMTAgcGl4ZWxzXHJcbiAgICAgICAgdGhpcy5jb250ZXh0LnNoYWRvd09mZnNldFkgPSAwOyAvLyBNb3ZlIHNoYWRvdyBkb3duIGJ5IDEwIHBpeGVsc1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5zaGFkb3dCbHVyID0gMDsgLy8gQmx1ciB0aGUgc2hhZG93IGJ5IDE1IHBpeGVsc1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5zaGFkb3dDb2xvciA9ICd0cmFuc3BhcmVudCAnOyAvLyBTZW1pLXRyYW5zcGFyZW50IHdoaXRlIHNoYWRvd1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5maWxsVGV4dCh0aGlzLnRleHQsIHRoaXMuZ2V0WCgpLCB0aGlzLmdldFkoKSk7XHJcbiAgICAgICAgaWYgKHRoaXMuZnJhbWUgPCAxMDApIHtcclxuICAgICAgICAgICAgdGhpcy5mcmFtZSA9IHRoaXMuZnJhbWUgKyAxO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLnR1dG9yaWFsSW5zdGFuY2UgIT0gbnVsbCB8fCB0aGlzLnR1dG9yaWFsSW5zdGFuY2UgIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMudHV0b3JpYWxJbnN0YW5jZS5kcmF3KGRlbHRhVGltZSwgdGhpcy5pbWcsIHRoaXMuaW1hZ2VTaXplKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgRGVidWdnZXIgfSBmcm9tIFwiQGNvbW1vblwiO1xyXG5pbXBvcnQgeyBsYW5ndWFnZUZvbnRNYXBwaW5nIH0gZnJvbSBcIkBkYXRhL2kxOC1mb250LW1hcHBpbmdcIjtcclxuZXhwb3J0IGNsYXNzIFV0aWxzIHtcclxuICAgIHN0YXRpYyBVcmxTdWJzdHJpbmcgPSBcIi9mZWVkdGhlbW9uc3RlclwiO1xyXG4gICAgc3RhdGljIGdldENvbnZlcnRlZERldlByb2RVUkwodXJsKSB7XHJcbiAgICAgICAgcmV0dXJuIERlYnVnZ2VyLkRldmVsb3BtZW50TGlua1xyXG4gICAgICAgICAgICA/IHVybC5zbGljZSgwLCB1cmwuaW5kZXhPZih0aGlzLlVybFN1YnN0cmluZykgKyB0aGlzLlVybFN1YnN0cmluZy5sZW5ndGgpICtcclxuICAgICAgICAgICAgICAgIFwiZGV2XCIgK1xyXG4gICAgICAgICAgICAgICAgdXJsLnNsaWNlKHVybC5pbmRleE9mKHRoaXMuVXJsU3Vic3RyaW5nKSArIHRoaXMuVXJsU3Vic3RyaW5nLmxlbmd0aClcclxuICAgICAgICAgICAgOiB1cmw7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgZ2V0TGFuZ3VhZ2VTcGVjaWZpY0ZvbnQobGFuZ3VhZ2UpIHtcclxuICAgICAgICBjb25zdCBsb3dlckNhc2VMYW5ndWFnZSA9IGxhbmd1YWdlLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbGFuZ3VhZ2VGb250TWFwcGluZykge1xyXG4gICAgICAgICAgICBpZiAoa2V5LnRvTG93ZXJDYXNlKCkgPT09IGxvd2VyQ2FzZUxhbmd1YWdlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbGFuZ3VhZ2VGb250TWFwcGluZ1trZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKGBGb250IG5vdCBmb3VuZCBmb3IgbGFuZ3VhZ2U6ICR7bGFuZ3VhZ2V9YCk7XHJcbiAgICAgICAgcmV0dXJuIFwiTm90b1NhbnMtUmVndWxhclwiO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIGdldFJhbmRvbU51bWJlcihtaW4sIG1heCkge1xyXG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIGdldEV4Y2x1ZGVkQ29vcmRpbmF0ZXMoY2FudmFzLCBleGNsdXNpb25QZXJjZW50YWdlKSB7XHJcbiAgICAgICAgY29uc3QgZXhjbHVkZWRBcmVhV2lkdGggPSBjYW52YXMud2lkdGggKiAoZXhjbHVzaW9uUGVyY2VudGFnZSAvIDEwMCk7XHJcbiAgICAgICAgY29uc3QgZXhjbHVkZWRBcmVhSGVpZ2h0ID0gY2FudmFzLmhlaWdodCAqIChleGNsdXNpb25QZXJjZW50YWdlIC8gMTAwKTtcclxuICAgICAgICByZXR1cm4geyBleGNsdWRlWDogZXhjbHVkZWRBcmVhV2lkdGgsIGV4Y2x1ZGVZOiBleGNsdWRlZEFyZWFIZWlnaHQgfTtcclxuICAgIH1cclxufVxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUmlwcGxlRWZmZWN0KGNvbnRleHQpIHtcclxuICAgIGNvbnN0IGN0eCA9IGNvbnRleHQ7XHJcbiAgICBpZiAoIWN0eCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbnZhcyBjb250ZXh0IGlzIG51bGxcIik7XHJcbiAgICB9XHJcbiAgICBsZXQgY2VudGVyWCA9IDA7XHJcbiAgICBsZXQgY2VudGVyWSA9IDA7XHJcbiAgICBjb25zdCBpbml0aWFsT3V0ZXJSYWRpdXMgPSAxMDtcclxuICAgIGNvbnN0IGluaXRpYWxJbm5lclJhZGl1cyA9IDEwO1xyXG4gICAgY29uc3QgbWF4UmFkaXVzID0gNjA7XHJcbiAgICBsZXQgaW5jcmVtZW50ID0gMC41O1xyXG4gICAgbGV0IG91dGVyUmFkaXVzID0gaW5pdGlhbE91dGVyUmFkaXVzO1xyXG4gICAgbGV0IGlubmVyUmFkaXVzID0gaW5pdGlhbElubmVyUmFkaXVzO1xyXG4gICAgZnVuY3Rpb24gZHJhd1JpcHBsZSh4LCB5LCByZXN0YXJ0KSB7XHJcbiAgICAgICAgaWYgKHJlc3RhcnQpIHtcclxuICAgICAgICAgICAgb3V0ZXJSYWRpdXMgPSAwO1xyXG4gICAgICAgICAgICBpbm5lclJhZGl1cyA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNlbnRlclggPSB4O1xyXG4gICAgICAgIGNlbnRlclkgPSB5O1xyXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBjdHguYXJjKGNlbnRlclgsIGNlbnRlclksIG91dGVyUmFkaXVzLCAwLCAyICogTWF0aC5QSSk7XHJcbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gXCJ3aGl0ZVwiO1xyXG4gICAgICAgIGN0eC5saW5lV2lkdGggPSAyO1xyXG4gICAgICAgIGN0eC5zdHJva2UoKTtcclxuICAgICAgICBjdHguY2xvc2VQYXRoKCk7XHJcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGN0eC5hcmMoY2VudGVyWCwgY2VudGVyWSwgaW5uZXJSYWRpdXMsIDAsIDIgKiBNYXRoLlBJKTtcclxuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBcIndoaXRlXCI7XHJcbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDI7XHJcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG4gICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcclxuICAgICAgICBvdXRlclJhZGl1cyArPSBpbmNyZW1lbnQ7XHJcbiAgICAgICAgaW5uZXJSYWRpdXMgKz0gaW5jcmVtZW50O1xyXG4gICAgICAgIGlmIChvdXRlclJhZGl1cyA+PSBtYXhSYWRpdXMgfHwgaW5uZXJSYWRpdXMgPj0gbWF4UmFkaXVzKSB7XHJcbiAgICAgICAgICAgIG91dGVyUmFkaXVzID0gaW5pdGlhbE91dGVyUmFkaXVzO1xyXG4gICAgICAgICAgICBpbm5lclJhZGl1cyA9IGluaXRpYWxJbm5lclJhZGl1cztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZHJhd1JpcHBsZTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gbG9hZEltYWdlcyhzb3VyY2VzLCBjYWxsYmFjaykge1xyXG4gICAgY29uc3QgaW1hZ2VzID0ge307XHJcbiAgICBsZXQgbG9hZGVkSW1hZ2VzID0gMDtcclxuICAgIGNvbnN0IG51bUltYWdlcyA9IE9iamVjdC5rZXlzKHNvdXJjZXMpLmxlbmd0aDtcclxuICAgIGZvciAobGV0IHNyYyBpbiBzb3VyY2VzKSB7XHJcbiAgICAgICAgaW1hZ2VzW3NyY10gPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICBpbWFnZXNbc3JjXS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICgrK2xvYWRlZEltYWdlcyA+PSBudW1JbWFnZXMpIHtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGltYWdlcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGltYWdlc1tzcmNdLnNyYyA9IHNvdXJjZXNbc3JjXTtcclxuICAgIH1cclxufVxyXG5jb25zdCBjcmVhdGVJbWcgPSBhc3luYyAoaW1hZ2UpID0+IHtcclxuICAgIGNvbnN0IG5ld0ltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgICAgICBuZXdJbWFnZS5vbmxvYWQgPSAoKSA9PiByZXNvbHZlKG5ld0ltYWdlKTtcclxuICAgICAgICBuZXdJbWFnZS5zcmMgPSBpbWFnZTtcclxuICAgIH0pO1xyXG59O1xyXG5leHBvcnQgY29uc3Qgc3luY0xvYWRpbmdJbWFnZXMgPSBhc3luYyAoaW1hZ2VzKSA9PiB7XHJcbiAgICBjb25zdCBsb2FkSW1nUHJvbWlzZXMgPSBPYmplY3Qua2V5cyhpbWFnZXMpLm1hcChhc3luYyAoYXJyS2V5KSA9PiB7XHJcbiAgICAgICAgY29uc3QgaW1nID0gYXdhaXQgY3JlYXRlSW1nKGltYWdlc1thcnJLZXldKTtcclxuICAgICAgICByZXR1cm4geyBbYXJyS2V5XTogaW1nIH07XHJcbiAgICB9KTtcclxuICAgIGNvbnN0IHJlc29sdmVkSW1hZ2UgPSBhd2FpdCBQcm9taXNlLmFsbChsb2FkSW1nUHJvbWlzZXMpO1xyXG4gICAgY29uc3QgbG9hZGVkSW1hZ2VzID0gcmVzb2x2ZWRJbWFnZS5yZWR1Y2UoKGFjY3VtdWxhdG9yLCBjdXJyZW50KSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHsgLi4uYWNjdW11bGF0b3IsIC4uLmN1cnJlbnQgfTtcclxuICAgIH0sIHt9KTtcclxuICAgIHJldHVybiBsb2FkZWRJbWFnZXM7XHJcbn07XHJcbmV4cG9ydCBmdW5jdGlvbiBpc0NsaWNrSW5zaWRlQnV0dG9uKHhDbGljaywgeUNsaWNrLCBidXR0b25YLCBidXR0b25ZLCBidXR0b25XaWR0aCwgYnV0dG9uSGVpZ2h0LCBpc0NpcmN1bGFyID0gZmFsc2UpIHtcclxuICAgIGlmIChpc0NpcmN1bGFyKSB7XHJcbiAgICAgICAgLy8gQ2hlY2sgZm9yIGNpcmN1bGFyIGJ1dHRvblxyXG4gICAgICAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5zcXJ0KCh4Q2xpY2sgLSAoYnV0dG9uWCArIGJ1dHRvbldpZHRoIC8gMikpICoqIDIgK1xyXG4gICAgICAgICAgICAoeUNsaWNrIC0gKGJ1dHRvblkgKyBidXR0b25IZWlnaHQgLyAyKSkgKiogMik7XHJcbiAgICAgICAgcmV0dXJuIGRpc3RhbmNlIDwgYnV0dG9uV2lkdGggLyAyO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgLy8gQ2hlY2sgZm9yIHJlY3Rhbmd1bGFyIGJ1dHRvblxyXG4gICAgICAgIHJldHVybiAoeENsaWNrID49IGJ1dHRvblggJiZcclxuICAgICAgICAgICAgeENsaWNrIDw9IGJ1dHRvblggKyBidXR0b25XaWR0aCAmJlxyXG4gICAgICAgICAgICB5Q2xpY2sgPj0gYnV0dG9uWSAmJlxyXG4gICAgICAgICAgICB5Q2xpY2sgPD0gYnV0dG9uWSArIGJ1dHRvbkhlaWdodCk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGNvbnN0IGlzRG9jdW1lbnRWaXNpYmxlID0gKCkgPT4gZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSBcInZpc2libGVcIjtcclxuZXhwb3J0IGNvbnN0IHRvZ2dsZURlYnVnTW9kZSA9ICh0b2dnbGVCdG4pID0+IHtcclxuICAgIHRvZ2dsZUJ0bi5jbGFzc0xpc3QudG9nZ2xlKFwib25cIik7XHJcbiAgICBjb25zdCBpc09uID0gdG9nZ2xlQnRuLmNsYXNzTGlzdC5jb250YWlucyhcIm9uXCIpO1xyXG4gICAgRGVidWdnZXIuRGVidWdNb2RlID0gaXNPbjtcclxuICAgIHRvZ2dsZUJ0bi5pbm5lclRleHQgPSBcIkRldlwiO1xyXG59O1xyXG5leHBvcnQgY29uc3QgaGlkZUVsZW1lbnQgPSAoaXNIaWRlID0gZmFsc2UsIGVsZW1lbnQpID0+IHtcclxuICAgIGlmIChpc0hpZGUpIHtcclxuICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJzaG93XCIpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwic2hvd1wiKTtcclxuICAgIH1cclxufTtcclxuIiwiaW1wb3J0IHsgQVVESU9fUEFUSF9CVE5fQ0xJQ0sgfSBmcm9tIFwiQGNvbnN0YW50c1wiO1xyXG5leHBvcnQgY2xhc3MgQXVkaW9QbGF5ZXIge1xyXG4gICAgYXVkaW9Db250ZXh0O1xyXG4gICAgc291cmNlTm9kZTtcclxuICAgIGF1ZGlvUXVldWU7XHJcbiAgICBwcm9tcHRBdWRpb0J1ZmZlcjtcclxuICAgIGNsaWNrU291bmRCdWZmZXI7XHJcbiAgICBzdGF0aWMgYXVkaW9CdWZmZXJzID0gbmV3IE1hcCgpO1xyXG4gICAgYXVkaW9Tb3VyY3MgPSBbXTtcclxuICAgIGlzQ2xpY2tTb3VuZExvYWRlZDtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuYXVkaW9Db250ZXh0ID0gQXVkaW9Db250ZXh0TWFuYWdlci5nZXRBdWRpb0NvbnRleHQoKTtcclxuICAgICAgICB0aGlzLnNvdXJjZU5vZGUgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuYXVkaW9RdWV1ZSA9IFtdO1xyXG4gICAgICAgIHRoaXMuY2xpY2tTb3VuZEJ1ZmZlciA9IG51bGw7IC8vIEluaXRpYWxpemUgdGhlIGNsaWNrU291bmRCdWZmZXJcclxuICAgICAgICB0aGlzLmlzQ2xpY2tTb3VuZExvYWRlZCA9IGZhbHNlOyAvLyBJbml0aWFsaXplIGFzIGZhbHNlXHJcbiAgICB9XHJcbiAgICBhc3luYyBwbGF5QnV0dG9uQ2xpY2tTb3VuZCgpIHtcclxuICAgICAgICBjb25zdCBhdWRpb1NyYyA9IEFVRElPX1BBVEhfQlROX0NMSUNLO1xyXG4gICAgICAgIGlmICghdGhpcy5pc0NsaWNrU291bmRMb2FkZWQpIHtcclxuICAgICAgICAgICAgLy8gTG9hZCBhbmQgZGVjb2RlIHRoZSBhdWRpbyBvbiBkZW1hbmQgaWYgaXQgaGFzbid0IGJlZW4gbG9hZGVkXHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsaWNrU291bmRCdWZmZXIgPSBhd2FpdCB0aGlzLmxvYWRBbmREZWNvZGVBdWRpbyhhdWRpb1NyYyk7XHJcbiAgICAgICAgICAgICAgICBBdWRpb1BsYXllci5hdWRpb0J1ZmZlcnMuc2V0KGF1ZGlvU3JjLCB0aGlzLmNsaWNrU291bmRCdWZmZXIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0NsaWNrU291bmRMb2FkZWQgPSB0cnVlOyAvLyBTZXQgdGhlIGZsYWcgdG8gdHJ1ZSBhZnRlciBsb2FkaW5nXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgbG9hZGluZyBvciBkZWNvZGluZyBjbGljayBzb3VuZDpcIiwgZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFBsYXkgdGhlIGF1ZGlvIHVzaW5nIHRoZSBidWZmZXIgaWYgaXQgZXhpc3RzXHJcbiAgICAgICAgaWYgKHRoaXMuY2xpY2tTb3VuZEJ1ZmZlcikge1xyXG4gICAgICAgICAgICBjb25zdCBzb3VyY2VOb2RlID0gdGhpcy5hdWRpb0NvbnRleHQuY3JlYXRlQnVmZmVyU291cmNlKCk7XHJcbiAgICAgICAgICAgIHNvdXJjZU5vZGUuYnVmZmVyID0gdGhpcy5jbGlja1NvdW5kQnVmZmVyO1xyXG4gICAgICAgICAgICBzb3VyY2VOb2RlLmNvbm5lY3QodGhpcy5hdWRpb0NvbnRleHQuZGVzdGluYXRpb24pO1xyXG4gICAgICAgICAgICBzb3VyY2VOb2RlLnN0YXJ0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQ2xpY2sgc291bmQgYnVmZmVyIGlzIG5vdCBhdmFpbGFibGUuXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGFzeW5jIGxvYWRBbmREZWNvZGVBdWRpbyhhdWRpb1NyYykge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGF1ZGlvU3JjKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgcmVzcG9uc2UuYXJyYXlCdWZmZXIoKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGF1ZGlvQnVmZmVyID0gYXdhaXQgdGhpcy5hdWRpb0NvbnRleHQuZGVjb2RlQXVkaW9EYXRhKGFycmF5QnVmZmVyKTtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoYXVkaW9CdWZmZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGxvYWRpbmcgb3IgZGVjb2RpbmcgYXVkaW86XCIsIGVycm9yKTtcclxuICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGFzeW5jIHByZWxvYWRQcm9tcHRBdWRpbyhhdWRpb1NyYykge1xyXG4gICAgICAgIGNvbnN0IGF1ZGlvQnVmZmVyID0gYXdhaXQgdGhpcy5sb2FkQW5kRGVjb2RlQXVkaW8oYXVkaW9TcmMpO1xyXG4gICAgICAgIGlmIChhdWRpb0J1ZmZlcikge1xyXG4gICAgICAgICAgICB0aGlzLnByb21wdEF1ZGlvQnVmZmVyID0gYXVkaW9CdWZmZXI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgYXN5bmMgcHJlbG9hZEdhbWVBdWRpbyhhdWRpb1NyYykge1xyXG4gICAgICAgIGlmIChBdWRpb1BsYXllci5hdWRpb0J1ZmZlcnMuaGFzKGF1ZGlvU3JjKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGF1ZGlvQnVmZmVyID0gYXdhaXQgdGhpcy5sb2FkQW5kRGVjb2RlQXVkaW8oYXVkaW9TcmMpO1xyXG4gICAgICAgIGlmIChhdWRpb0J1ZmZlcikge1xyXG4gICAgICAgICAgICBBdWRpb1BsYXllci5hdWRpb0J1ZmZlcnMuc2V0KGF1ZGlvU3JjLCBhdWRpb0J1ZmZlcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcGxheUF1ZGlvKGF1ZGlvU3JjKSB7XHJcbiAgICAgICAgY29uc3QgYXVkaW9CdWZmZXIgPSBBdWRpb1BsYXllci5hdWRpb0J1ZmZlcnMuZ2V0KGF1ZGlvU3JjKTtcclxuICAgICAgICBpZiAoYXVkaW9CdWZmZXIpIHtcclxuICAgICAgICAgICAgY29uc3Qgc291cmNlTm9kZSA9IHRoaXMuYXVkaW9Db250ZXh0LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO1xyXG4gICAgICAgICAgICBzb3VyY2VOb2RlLmJ1ZmZlciA9IGF1ZGlvQnVmZmVyO1xyXG4gICAgICAgICAgICBzb3VyY2VOb2RlLmNvbm5lY3QodGhpcy5hdWRpb0NvbnRleHQuZGVzdGluYXRpb24pO1xyXG4gICAgICAgICAgICB0aGlzLmF1ZGlvU291cmNzLnB1c2goc291cmNlTm9kZSk7XHJcbiAgICAgICAgICAgIHNvdXJjZU5vZGUuc3RhcnQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwbGF5RmVlZGJhY2tBdWRpb3MgPSAobG9vcCA9IGZhbHNlLCAuLi5maWxlVXJsKSA9PiB7XHJcbiAgICAgICAgaWYgKGZpbGVVcmwubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLmF1ZGlvUXVldWUgPSBmaWxlVXJsO1xyXG4gICAgICAgICAgICB0aGlzLnBsYXlGZXRjaCgwLCBsb29wKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcGxheVByb21wdEF1ZGlvID0gKGF1ZGlvU3JjKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvbXB0QXVkaW9CdWZmZXIpIHtcclxuICAgICAgICAgICAgY29uc3Qgc291cmNlTm9kZSA9IHRoaXMuYXVkaW9Db250ZXh0LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO1xyXG4gICAgICAgICAgICBzb3VyY2VOb2RlLmJ1ZmZlciA9IHRoaXMucHJvbXB0QXVkaW9CdWZmZXI7XHJcbiAgICAgICAgICAgIHNvdXJjZU5vZGUuY29ubmVjdCh0aGlzLmF1ZGlvQ29udGV4dC5kZXN0aW5hdGlvbik7XHJcbiAgICAgICAgICAgIHRoaXMuYXVkaW9Tb3VyY3MucHVzaChzb3VyY2VOb2RlKTtcclxuICAgICAgICAgICAgc291cmNlTm9kZS5zdGFydCgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBzdG9wRmVlZGJhY2tBdWRpbyA9ICgpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5zb3VyY2VOb2RlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc291cmNlTm9kZS5zdG9wKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc291cmNlTm9kZSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuYXVkaW9RdWV1ZSA9IFtdO1xyXG4gICAgfTtcclxuICAgIHN0b3BBbGxBdWRpb3MgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuc291cmNlTm9kZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNvdXJjZU5vZGUuc3RvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLnNvdXJjZU5vZGUgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmF1ZGlvUXVldWUgPSBbXTtcclxuICAgICAgICB0aGlzLmF1ZGlvU291cmNzLmZvckVhY2goKHNvdXJjZU5vZGUpID0+IHtcclxuICAgICAgICAgICAgc291cmNlTm9kZS5zdG9wKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hdWRpb1NvdXJjcyA9IFtdO1xyXG4gICAgfTtcclxuICAgIHBsYXlGZXRjaCA9IChpbmRleCwgbG9vcCkgPT4ge1xyXG4gICAgICAgIGlmIChpbmRleCA+PSB0aGlzLmF1ZGlvUXVldWUubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RvcEZlZWRiYWNrQXVkaW8oKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5hdWRpb1F1ZXVlW2luZGV4XSkge1xyXG4gICAgICAgICAgICBmZXRjaCh0aGlzLmF1ZGlvUXVldWVbaW5kZXhdKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZS5hcnJheUJ1ZmZlcigpKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKGJ1ZmZlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hdWRpb0NvbnRleHQ/LmRlY29kZUF1ZGlvRGF0YShidWZmZXIsIChhdWRpb0J1ZmZlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc291cmNlTm9kZSA9IHRoaXMuYXVkaW9Db250ZXh0Py5jcmVhdGVCdWZmZXJTb3VyY2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNvdXJjZU5vZGUuYnVmZmVyID0gYXVkaW9CdWZmZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zb3VyY2VOb2RlLmNvbm5lY3QodGhpcy5hdWRpb0NvbnRleHQ/LmRlc3RpbmF0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNvdXJjZU5vZGUubG9vcCA9IGxvb3A7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zb3VyY2VOb2RlLm9uZW5kZWQgPSAoKSA9PiB0aGlzLmhhbmRsZUF1ZGlvRW5kZWQoaW5kZXgsIGxvb3ApO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc291cmNlTm9kZS5zdGFydCgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBoYW5kbGVBdWRpb0VuZGVkID0gKGluZGV4LCBsb29wKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuc291cmNlTm9kZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNvdXJjZU5vZGUub25lbmRlZCA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuc291cmNlTm9kZS5zdG9wKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc291cmNlTm9kZS5kaXNjb25uZWN0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuc291cmNlTm9kZSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucGxheUZldGNoKGluZGV4ICsgMSwgbG9vcCk7XHJcbiAgICB9O1xyXG59XHJcbmNsYXNzIEF1ZGlvQ29udGV4dE1hbmFnZXIge1xyXG4gICAgc3RhdGljIGluc3RhbmNlID0gbnVsbDtcclxuICAgIHN0YXRpYyBnZXRBdWRpb0NvbnRleHQoKSB7XHJcbiAgICAgICAgaWYgKCFBdWRpb0NvbnRleHRNYW5hZ2VyLmluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIEF1ZGlvQ29udGV4dE1hbmFnZXIuaW5zdGFuY2UgPSBuZXcgKHdpbmRvdy5BdWRpb0NvbnRleHQgfHxcclxuICAgICAgICAgICAgICAgIHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHQpKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBBdWRpb0NvbnRleHRNYW5hZ2VyLmluc3RhbmNlO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IGxvYWRJbWFnZXMgfSBmcm9tIFwiQGNvbW1vblwiO1xyXG5pbXBvcnQgeyBERUZBVUxUX0JBQ0tHUk9VTkRfMSwgQVNTRVRTX1BBVEhfSElMTCwgQVNTRVRTX1BBVEhfVE9URU0sIEFTU0VUU19QQVRIX0ZFTkNFLCBBVVRVTU5fQkFDS0dST1VORF8xLCBBVVRVTU5fSElMTF8xLCBBVVRVTU5fUElMTEFSXzEsIEFVVFVNTl9TSUdOXzEsIEFVVFVNTl9GRU5DRV8xLCBXSU5URVJfQkFDS0dST1VORF8xLCBXSU5URVJfSElMTF8xLCBXSU5URVJfU0lHTl8xLCBXSU5URVJfRkVOQ0VfMSwgV0lOVEVSX1BJTExBUl8xLCB9IGZyb20gXCJAY29uc3RhbnRzXCI7XHJcbi8vIHRvIGRvIG5lZWQgdG8gb3B0aW1pemUgbW9yZVxyXG52YXIgaW1hZ2VzID0ge1xyXG4gICAgYmdJbWc6IERFRkFVTFRfQkFDS0dST1VORF8xLFxyXG4gICAgaGlsbEltZzogQVNTRVRTX1BBVEhfSElMTCxcclxuICAgIHBpbGxlckltZzogQVNTRVRTX1BBVEhfVE9URU0sXHJcbiAgICBmZW5jaEltZzogQVNTRVRTX1BBVEhfRkVOQ0UsXHJcbiAgICBhdXR1bW5CZ0ltZzogQVVUVU1OX0JBQ0tHUk9VTkRfMSxcclxuICAgIGF1dHVtbkhpbGxJbWc6IEFVVFVNTl9ISUxMXzEsXHJcbiAgICBhdXR1bW5QaWxsZXJJbWc6IEFVVFVNTl9QSUxMQVJfMSxcclxuICAgIGF1dHVtblNpZ25JbWc6IEFVVFVNTl9TSUdOXzEsXHJcbiAgICBhdXR1bW5GZW5jZUltZzogQVVUVU1OX0ZFTkNFXzEsXHJcbiAgICB3aW50ZXJCZ0ltZzogV0lOVEVSX0JBQ0tHUk9VTkRfMSxcclxuICAgIHdpbnRlckhpbGxJbWc6IFdJTlRFUl9ISUxMXzEsXHJcbiAgICB3aW50ZXJTaWduSW1nOiBXSU5URVJfU0lHTl8xLFxyXG4gICAgd2ludGVyRmVuY2VJbWc6IFdJTlRFUl9GRU5DRV8xLFxyXG4gICAgd2ludGVyUGlsbGVySW1nOiBXSU5URVJfUElMTEFSXzEsXHJcbn07XHJcbmV4cG9ydCBjbGFzcyBCYWNrZ3JvdW5kIHtcclxuICAgIHdpZHRoO1xyXG4gICAgaGVpZ2h0O1xyXG4gICAgY29udGV4dDtcclxuICAgIGltYWdlc0xvYWRlZCA9IGZhbHNlO1xyXG4gICAgbG9hZGVkSW1hZ2VzO1xyXG4gICAgbGV2ZWxOdW1iZXI7XHJcbiAgICBhdmFpbGFibGVCYWNrZ3JvdW5kVHlwZXMgPSBbXCJTdW1tZXJcIiwgXCJBdXR1bW5cIiwgXCJXaW50ZXJcIl07XHJcbiAgICBiYWNrZ3JvdW5kVHlwZTtcclxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQsIHdpZHRoLCBoZWlnaHQsIGxldmVsTnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xyXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XHJcbiAgICAgICAgdGhpcy5sZXZlbE51bWJlciA9IGxldmVsTnVtYmVyO1xyXG4gICAgICAgIHRoaXMuYmFja2dyb3VuZFR5cGUgPVxyXG4gICAgICAgICAgICBNYXRoLmZsb29yKHRoaXMubGV2ZWxOdW1iZXIgLyAxMCkgJSB0aGlzLmF2YWlsYWJsZUJhY2tncm91bmRUeXBlcy5sZW5ndGg7XHJcbiAgICAgICAgaWYgKHRoaXMubGV2ZWxOdW1iZXIgPj0gMzApIHtcclxuICAgICAgICAgICAgdGhpcy5iYWNrZ3JvdW5kVHlwZSA9IHRoaXMuYmFja2dyb3VuZFR5cGUgJSAzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsb2FkSW1hZ2VzKGltYWdlcywgKGltYWdlcykgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRlZEltYWdlcyA9IE9iamVjdC5hc3NpZ24oe30sIGltYWdlcyk7XHJcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VzTG9hZGVkID0gdHJ1ZTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGRyYXcoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW1hZ2VzTG9hZGVkKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5hdmFpbGFibGVCYWNrZ3JvdW5kVHlwZXNbdGhpcy5iYWNrZ3JvdW5kVHlwZV0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJXaW50ZXJcIjpcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5sb2FkZWRJbWFnZXMud2ludGVyQmdJbWcsIDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZSh0aGlzLmxvYWRlZEltYWdlcy53aW50ZXJQaWxsZXJJbWcsIHRoaXMud2lkdGggKiAwLjM4LCB0aGlzLmhlaWdodCAvIDYsIHRoaXMud2lkdGggLyAxLjIsIHRoaXMuaGVpZ2h0IC8gMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5sb2FkZWRJbWFnZXMud2ludGVyRmVuY2VJbWcsIC10aGlzLndpZHRoICogMC40LCB0aGlzLmhlaWdodCAvIDQsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0IC8gMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5sb2FkZWRJbWFnZXMud2ludGVySGlsbEltZywgLXRoaXMud2lkdGggKiAwLjI1LCB0aGlzLmhlaWdodCAvIDIsIHRoaXMud2lkdGggKiAxLjUsIHRoaXMuaGVpZ2h0IC8gMik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIkF1dHVtblwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZSh0aGlzLmxvYWRlZEltYWdlcy5hdXR1bW5CZ0ltZywgMCwgMCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMubG9hZGVkSW1hZ2VzLmF1dHVtblBpbGxlckltZywgdGhpcy53aWR0aCAqIDAuMzgsIHRoaXMuaGVpZ2h0IC8gNiwgdGhpcy53aWR0aCAvIDEuMiwgdGhpcy5oZWlnaHQgLyAyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZSh0aGlzLmxvYWRlZEltYWdlcy5hdXR1bW5GZW5jZUltZywgLXRoaXMud2lkdGggKiAwLjQsIHRoaXMuaGVpZ2h0IC8gNCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQgLyAyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZSh0aGlzLmxvYWRlZEltYWdlcy5hdXR1bW5IaWxsSW1nLCAtdGhpcy53aWR0aCAqIDAuMjUsIHRoaXMuaGVpZ2h0IC8gMiwgdGhpcy53aWR0aCAqIDEuNSwgdGhpcy5oZWlnaHQgLyAyKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZSh0aGlzLmxvYWRlZEltYWdlcy5iZ0ltZywgMCwgMCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMubG9hZGVkSW1hZ2VzLnBpbGxlckltZywgdGhpcy53aWR0aCAqIDAuNiwgdGhpcy5oZWlnaHQgLyA2LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCAvIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMubG9hZGVkSW1hZ2VzLmZlbmNoSW1nLCAtdGhpcy53aWR0aCAqIDAuNCwgdGhpcy5oZWlnaHQgLyAzLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCAvIDMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMubG9hZGVkSW1hZ2VzLmhpbGxJbWcsIC10aGlzLndpZHRoICogMC4yNSwgdGhpcy5oZWlnaHQgLyAyLCB0aGlzLndpZHRoICogMS41LCB0aGlzLmhlaWdodCAvIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBpc0NsaWNrSW5zaWRlQnV0dG9uLCBsb2FkSW1hZ2VzIH0gZnJvbSBcIkBjb21tb25cIjtcclxuaW1wb3J0IHsgQ0FOQ0VMX0JUTl9JTUcgfSBmcm9tIFwiQGNvbnN0YW50c1wiO1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYW5jZWxCdXR0b24ge1xyXG4gICAgcG9zWDtcclxuICAgIHBvc1k7XHJcbiAgICBjb250ZXh0O1xyXG4gICAgY2FudmFzO1xyXG4gICAgaW1hZ2VzTG9hZGVkID0gZmFsc2U7XHJcbiAgICBjYW5jZWxfYnV0dG9uX2ltYWdlO1xyXG4gICAgYnRuU2l6ZUFuaW1hdGlvbjtcclxuICAgIGJ0bk9yaWdpbmFsU2l6ZTtcclxuICAgIG9yaWduYWxQb3M7XHJcbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0LCBjYW52YXMpIHtcclxuICAgICAgICB0aGlzLnBvc1ggPSBjYW52YXMud2lkdGggKiAwLjEgKyAoY2FudmFzLndpZHRoICogMC4xNSkgLyAyO1xyXG4gICAgICAgIHRoaXMucG9zWSA9IGNhbnZhcy5oZWlnaHQgKiAwLjI7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcclxuICAgICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcclxuICAgICAgICBsb2FkSW1hZ2VzKHsgY2FuY2VsX2J1dHRvbl9pbWFnZTogQ0FOQ0VMX0JUTl9JTUcgfSwgKGltYWdlcykgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmNhbmNlbF9idXR0b25faW1hZ2UgPSBpbWFnZXNbXCJjYW5jZWxfYnV0dG9uX2ltYWdlXCJdO1xyXG4gICAgICAgICAgICB0aGlzLmltYWdlc0xvYWRlZCA9IHRydWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5idG5TaXplQW5pbWF0aW9uID0gMC4xNTtcclxuICAgICAgICB0aGlzLmJ0bk9yaWdpbmFsU2l6ZSA9IHRoaXMuYnRuU2l6ZUFuaW1hdGlvbjtcclxuICAgICAgICB0aGlzLm9yaWduYWxQb3MgPSB7IHg6IHRoaXMucG9zWCwgeTogdGhpcy5wb3NZIH07XHJcbiAgICB9XHJcbiAgICBkcmF3KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmltYWdlc0xvYWRlZCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMuY2FuY2VsX2J1dHRvbl9pbWFnZSwgdGhpcy5wb3NYLCB0aGlzLnBvc1ksIHRoaXMuY2FudmFzLndpZHRoICogdGhpcy5idG5TaXplQW5pbWF0aW9uLCB0aGlzLmNhbnZhcy53aWR0aCAqIHRoaXMuYnRuU2l6ZUFuaW1hdGlvbik7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmJ0blNpemVBbmltYXRpb24gPCAwLjE1KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJ0blNpemVBbmltYXRpb24gPSB0aGlzLmJ0blNpemVBbmltYXRpb24gKyAwLjAwMDU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBvc1ggPSB0aGlzLm9yaWduYWxQb3MueDtcclxuICAgICAgICAgICAgICAgIHRoaXMucG9zWSA9IHRoaXMub3JpZ25hbFBvcy55O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgb25DbGljayh4Q2xpY2ssIHlDbGljaykge1xyXG4gICAgICAgIGNvbnN0IGlzSW5zaWRlID0gaXNDbGlja0luc2lkZUJ1dHRvbih4Q2xpY2ssIHlDbGljaywgdGhpcy5wb3NYLCB0aGlzLnBvc1ksIHRoaXMuY2FudmFzLndpZHRoICogdGhpcy5idG5PcmlnaW5hbFNpemUsIHRoaXMuY2FudmFzLndpZHRoICogdGhpcy5idG5PcmlnaW5hbFNpemUsIHRydWUgLy8gQnV0dG9uIGlzIGNpcmN1bGFyXHJcbiAgICAgICAgKTtcclxuICAgICAgICBpZiAoaXNJbnNpZGUpIHtcclxuICAgICAgICAgICAgdGhpcy5idG5TaXplQW5pbWF0aW9uID0gMC4xNDtcclxuICAgICAgICAgICAgdGhpcy5wb3NYID0gdGhpcy5wb3NYICsgMTtcclxuICAgICAgICAgICAgdGhpcy5wb3NZID0gdGhpcy5wb3NZICsgMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGlzSW5zaWRlO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IGlzQ2xpY2tJbnNpZGVCdXR0b24sIGxvYWRJbWFnZXMgfSBmcm9tIFwiQGNvbW1vblwiO1xyXG5pbXBvcnQgeyBNQVBfQlROX0lNRyB9IGZyb20gXCJAY29uc3RhbnRzXCI7XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENsb3NlQnV0dG9uIHtcclxuICAgIHBvc1g7XHJcbiAgICBwb3NZO1xyXG4gICAgY29udGV4dDtcclxuICAgIGNhbnZhcztcclxuICAgIGltYWdlc0xvYWRlZCA9IGZhbHNlO1xyXG4gICAgY2xvc2VfYnV0dG9uX2ltYWdlO1xyXG4gICAgYnRuU2l6ZUFuaW1hdGlvbjtcclxuICAgIGJ0bk9yaWdpbmFsU2l6ZTtcclxuICAgIG9yaWduYWxQb3M7XHJcbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0LCBjYW52YXMsIHBvc1gsIHBvc1kpIHtcclxuICAgICAgICB0aGlzLnBvc1ggPSBwb3NYO1xyXG4gICAgICAgIHRoaXMucG9zWSA9IHBvc1k7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcclxuICAgICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcclxuICAgICAgICBsb2FkSW1hZ2VzKHsgY2xvc2VfYnV0dG9uX2ltYWdlOiBNQVBfQlROX0lNRyB9LCAoaW1hZ2VzKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2VfYnV0dG9uX2ltYWdlID0gaW1hZ2VzW1wiY2xvc2VfYnV0dG9uX2ltYWdlXCJdO1xyXG4gICAgICAgICAgICB0aGlzLmltYWdlc0xvYWRlZCA9IHRydWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5idG5TaXplQW5pbWF0aW9uID0gMC4xOTtcclxuICAgICAgICB0aGlzLmJ0bk9yaWdpbmFsU2l6ZSA9IHRoaXMuYnRuU2l6ZUFuaW1hdGlvbjtcclxuICAgICAgICB0aGlzLm9yaWduYWxQb3MgPSB7IHg6IHBvc1gsIHk6IHBvc1kgfTtcclxuICAgIH1cclxuICAgIGRyYXcoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW1hZ2VzTG9hZGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5jbG9zZV9idXR0b25faW1hZ2UsIHRoaXMucG9zWCwgdGhpcy5wb3NZLCB0aGlzLmNhbnZhcy53aWR0aCAqIHRoaXMuYnRuU2l6ZUFuaW1hdGlvbiwgdGhpcy5jYW52YXMud2lkdGggKiB0aGlzLmJ0blNpemVBbmltYXRpb24pO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5idG5TaXplQW5pbWF0aW9uIDwgMC4xOSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5idG5TaXplQW5pbWF0aW9uID0gdGhpcy5idG5TaXplQW5pbWF0aW9uICsgMC4wMDA1O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wb3NYID0gdGhpcy5vcmlnbmFsUG9zLng7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBvc1kgPSB0aGlzLm9yaWduYWxQb3MueTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIG9uQ2xpY2soeENsaWNrLCB5Q2xpY2spIHtcclxuICAgICAgICBjb25zdCBpc0luc2lkZSA9IGlzQ2xpY2tJbnNpZGVCdXR0b24oeENsaWNrLCB5Q2xpY2ssIHRoaXMucG9zWCwgdGhpcy5wb3NZLCB0aGlzLmNhbnZhcy53aWR0aCAqIHRoaXMuYnRuT3JpZ2luYWxTaXplLCB0aGlzLmNhbnZhcy53aWR0aCAqIHRoaXMuYnRuT3JpZ2luYWxTaXplLCB0cnVlIC8vIEJ1dHRvbiBpcyBjaXJjdWxhclxyXG4gICAgICAgICk7XHJcbiAgICAgICAgaWYgKGlzSW5zaWRlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYnRuU2l6ZUFuaW1hdGlvbiA9IDAuMTg7XHJcbiAgICAgICAgICAgIHRoaXMucG9zWCA9IHRoaXMucG9zWCArIDE7XHJcbiAgICAgICAgICAgIHRoaXMucG9zWSA9IHRoaXMucG9zWSArIDE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpc0luc2lkZTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBEZWJ1Z2dlciwgZm9udCwgfSBmcm9tIFwiQGNvbW1vblwiO1xyXG5pbXBvcnQgeyBTUEVDSUFMX0xFVkVMUywgfSBmcm9tIFwiQGNvbnN0YW50c1wiO1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMZXZlbEJsb29uQnV0dG9uIHtcclxuICAgIGNvbnRleHQ7XHJcbiAgICBsZXZlbERhdGE7XHJcbiAgICBwb3NYO1xyXG4gICAgcG9zWTtcclxuICAgIG9yaWdpbmFsUG9zWDtcclxuICAgIG9yaWdpbmFsUG9zWTtcclxuICAgIHNpemU7XHJcbiAgICByYWRpdXNPZmZTZXQ7XHJcbiAgICBibG9vblNpemU7XHJcbiAgICBidG5TaXplO1xyXG4gICAgbG9ja1NpemU7XHJcbiAgICB0ZXh0Rm9udFNpemU7XHJcbiAgICBjb25zdHJ1Y3RvcihjYW52YXMsIGNvbnRleHQsIGxldmVsRGF0YSkge1xyXG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XHJcbiAgICAgICAgdGhpcy5sZXZlbERhdGEgPSBsZXZlbERhdGE7XHJcbiAgICAgICAgdGhpcy5wb3NYID0gdGhpcy5sZXZlbERhdGEueDtcclxuICAgICAgICB0aGlzLnBvc1kgPSB0aGlzLmxldmVsRGF0YS55O1xyXG4gICAgICAgIHRoaXMub3JpZ2luYWxQb3NYID0gdGhpcy5wb3NYO1xyXG4gICAgICAgIHRoaXMub3JpZ2luYWxQb3NZID0gdGhpcy5wb3NZO1xyXG4gICAgICAgIHRoaXMuc2l6ZSA9IGNhbnZhcy5oZWlnaHQgLyA1O1xyXG4gICAgICAgIHRoaXMucmFkaXVzT2ZmU2V0ID0gY2FudmFzLmhlaWdodCAvIDIwO1xyXG4gICAgICAgIHRoaXMuYmxvb25TaXplID0gdGhpcy5pc0xldmVsU3BlY2lhbCh0aGlzLnNpemUpO1xyXG4gICAgICAgIHRoaXMuYnRuU2l6ZSA9IHRoaXMuYmxvb25TaXplO1xyXG4gICAgICAgIHRoaXMubG9ja1NpemUgPSBjYW52YXMuaGVpZ2h0IC8gMTM7XHJcbiAgICAgICAgdGhpcy50ZXh0Rm9udFNpemUgPSAodGhpcy5zaXplKSAvIDY7XHJcbiAgICB9XHJcbiAgICBpc1NwZWNpYWxMZXZlbChpbmRleCkge1xyXG4gICAgICAgIHJldHVybiBTUEVDSUFMX0xFVkVMUy5pbmNsdWRlcyhpbmRleCk7XHJcbiAgICB9XHJcbiAgICA7XHJcbiAgICBpc0xldmVsU3BlY2lhbChzaXplKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubGV2ZWxEYXRhPy5pc1NwZWNpYWxcclxuICAgICAgICAgICAgPyBzaXplICogMC45XHJcbiAgICAgICAgICAgIDogc2l6ZTtcclxuICAgIH1cclxuICAgIGRyYXcobGV2ZWxTZWxlY3Rpb25QYWdlSW5kZXgsIHVubG9ja0xldmVsSW5kZXgsIGdhbWVMZXZlbERhdGEsIHRvdGFsR2FtZUxldmVscykge1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5sZXZlbERhdGE/LmJhbGxvb25JbWcsIHRoaXMucG9zWCwgdGhpcy5wb3NZLCB0aGlzLmJ0blNpemUsIHRoaXMuYnRuU2l6ZSk7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxTdHlsZSA9IFwid2hpdGVcIjtcclxuICAgICAgICB0aGlzLmNvbnRleHQuZm9udCA9IHRoaXMudGV4dEZvbnRTaXplICsgYHB4ICR7Zm9udH0sIG1vbm9zcGFjZWA7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxUZXh0KGAke3RoaXMubGV2ZWxEYXRhLmluZGV4ICsgbGV2ZWxTZWxlY3Rpb25QYWdlSW5kZXh9YCwgdGhpcy5sZXZlbERhdGEueCArIHRoaXMuc2l6ZSAvIDMuNSwgdGhpcy5sZXZlbERhdGEueSArIHRoaXMuc2l6ZSAvIDMpO1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5mb250ID0gdGhpcy50ZXh0Rm9udFNpemUgLSAodGhpcy5zaXplKSAvIDMwICsgYHB4ICR7Zm9udH0sIG1vbm9zcGFjZWA7XHJcbiAgICAgICAgaWYgKHRoaXMuYnRuU2l6ZSA8IHRoaXMuYmxvb25TaXplKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYnRuU2l6ZSA9IHRoaXMuYnRuU2l6ZSArIDAuNTA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmJ0blNpemUgPSB0aGlzLmJsb29uU2l6ZTtcclxuICAgICAgICAgICAgdGhpcy5wb3NYID0gdGhpcy5sZXZlbERhdGEueDtcclxuICAgICAgICAgICAgdGhpcy5wb3NZID0gdGhpcy5sZXZlbERhdGEueTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5kcmF3SWNvbnMobGV2ZWxTZWxlY3Rpb25QYWdlSW5kZXgsIHVubG9ja0xldmVsSW5kZXgsIGdhbWVMZXZlbERhdGEsIHRvdGFsR2FtZUxldmVscyk7XHJcbiAgICB9XHJcbiAgICBhcHBseVB1bHNlRWZmZWN0KCkge1xyXG4gICAgICAgIGNvbnN0IFB1bHNlRHVyYXRpb24gPSAxNTAwO1xyXG4gICAgICAgIGNvbnN0IEdyb3dQaGFzZVRocmVzaG9sZCA9IDAuNztcclxuICAgICAgICBjb25zdCBCYXNlU2hhZG93U2l6ZSA9IDE1O1xyXG4gICAgICAgIGNvbnN0IE1heFNoYWRvd1NpemUgPSA0NTtcclxuICAgICAgICBjb25zdCBNYXhPcGFjaXR5ID0gMC41O1xyXG4gICAgICAgIGNvbnN0IEJhc2VDb2xvclJnYmEgPSAnMjU1LCAyNTUsIDI1NSc7XHJcbiAgICAgICAgY29uc3QgYW5pbWF0aW9uUHJvZ3Jlc3MgPSAoRGF0ZS5ub3coKSAlIFB1bHNlRHVyYXRpb24pIC8gUHVsc2VEdXJhdGlvbjtcclxuICAgICAgICBjb25zdCBncm93UGhhc2UgPSBhbmltYXRpb25Qcm9ncmVzcyA8PSBHcm93UGhhc2VUaHJlc2hvbGQ7XHJcbiAgICAgICAgY29uc3QgcGhhc2VEdXJhdGlvbiA9IGdyb3dQaGFzZSA/IEdyb3dQaGFzZVRocmVzaG9sZCA6ICgxIC0gR3Jvd1BoYXNlVGhyZXNob2xkKTtcclxuICAgICAgICBjb25zdCBwcm9ncmVzcyA9IGdyb3dQaGFzZSA/IGFuaW1hdGlvblByb2dyZXNzIC8gR3Jvd1BoYXNlVGhyZXNob2xkIDogKGFuaW1hdGlvblByb2dyZXNzIC0gR3Jvd1BoYXNlVGhyZXNob2xkKSAvIHBoYXNlRHVyYXRpb247XHJcbiAgICAgICAgY29uc3Qgc2hhZG93U2l6ZSA9IGdyb3dQaGFzZSA/IHByb2dyZXNzICogQmFzZVNoYWRvd1NpemUgOiBCYXNlU2hhZG93U2l6ZSArIHByb2dyZXNzICogTWF4U2hhZG93U2l6ZTtcclxuICAgICAgICBjb25zdCBzaGFkb3dPcGFjaXR5ID0gZ3Jvd1BoYXNlID8gTWF4T3BhY2l0eSAqICgxIC0gcHJvZ3Jlc3MpIDogMDtcclxuICAgICAgICBpZiAoc2hhZG93T3BhY2l0eSA8PSAwKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgY29uc3QgeyB4OiBzY2FsZVgsIHk6IHNjYWxlWSwgcmFkaXVzOiBzY2FsZVJhZGl1cyB9ID0gdGhpcy5sZXZlbERhdGE/LmlzU3BlY2lhbFxyXG4gICAgICAgICAgICA/IHsgeDogMywgeTogMi41LCByYWRpdXM6IDIuMiB9XHJcbiAgICAgICAgICAgIDogeyB4OiAzLjQsIHk6IDMuOCwgcmFkaXVzOiAzLjIgfTtcclxuICAgICAgICBjb25zdCBjZW50ZXJYID0gdGhpcy5wb3NYICsgdGhpcy5idG5TaXplIC8gc2NhbGVYO1xyXG4gICAgICAgIGNvbnN0IGNlbnRlclkgPSB0aGlzLnBvc1kgKyB0aGlzLmJ0blNpemUgLyBzY2FsZVk7XHJcbiAgICAgICAgY29uc3QgcmFkaXVzID0gdGhpcy5idG5TaXplIC8gc2NhbGVSYWRpdXMgKyBzaGFkb3dTaXplO1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5zYXZlKCk7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5hcmMoY2VudGVyWCwgY2VudGVyWSwgcmFkaXVzLCAwLCAyICogTWF0aC5QSSk7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxTdHlsZSA9IGByZ2JhKCR7QmFzZUNvbG9yUmdiYX0sICR7c2hhZG93T3BhY2l0eX0pYDtcclxuICAgICAgICB0aGlzLmNvbnRleHQuZmlsbCgpO1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICB9XHJcbiAgICBkcmF3SWNvbnMocGFnZUluZGV4LCB1bmxvY2tMZXZlbEluZGV4LCBnYW1lTGV2ZWxEYXRhLCB0b3RhbEdhbWVMZXZlbHMpIHtcclxuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMubGV2ZWxEYXRhLmluZGV4O1xyXG4gICAgICAgIGlmICghRGVidWdnZXIuRGVidWdNb2RlKSB7XHJcbiAgICAgICAgICAgIChpbmRleCArIHBhZ2VJbmRleCAtIDEgPiB1bmxvY2tMZXZlbEluZGV4ICsgMSkgJiYgdGhpcy5kcmF3TG9jaygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZ2FtZUxldmVsRGF0YS5sZW5ndGggJiYgaW5kZXggKyBwYWdlSW5kZXggPD0gdG90YWxHYW1lTGV2ZWxzKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ2FtZUxldmVsRGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4IC0gMSArIHBhZ2VJbmRleCA9PT1cclxuICAgICAgICAgICAgICAgICAgICBwYXJzZUludChnYW1lTGV2ZWxEYXRhW2ldLmxldmVsTnVtYmVyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tTdGFycyhnYW1lTGV2ZWxEYXRhW2ldLnN0YXJDb3VudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBkcmF3TG9jaygpIHtcclxuICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMubGV2ZWxEYXRhPy5sb2NrSW1nLCB0aGlzLmxldmVsRGF0YS54LCB0aGlzLmxldmVsRGF0YS55LCB0aGlzLmxvY2tTaXplLCB0aGlzLmxvY2tTaXplKTtcclxuICAgIH1cclxuICAgIGNoZWNrU3RhcnMoc3RhckNvdW50KSB7XHJcbiAgICAgICAgY29uc3QgcG9zWCA9IHRoaXMubGV2ZWxEYXRhLng7XHJcbiAgICAgICAgY29uc3QgcG9zWSA9IHRoaXMubGV2ZWxEYXRhLnk7XHJcbiAgICAgICAgY29uc3Qgc2l6ZSA9IHRoaXMuc2l6ZTtcclxuICAgICAgICBpZiAoc3RhckNvdW50ID49IDEpIHtcclxuICAgICAgICAgICAgdGhpcy5kcmF3U3Rhcihwb3NYLCBwb3NZIC0gc2l6ZSAqIDAuMDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc3RhckNvdW50ID4gMSkge1xyXG4gICAgICAgICAgICB0aGlzLmRyYXdTdGFyKHBvc1ggKyBzaXplIC8gMi41LCBwb3NZIC0gc2l6ZSAqIDAuMDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc3RhckNvdW50ID09PSAzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZHJhd1N0YXIocG9zWCArIHNpemUgLyA1LCBwb3NZIC0gc2l6ZSAqIDAuMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZHJhd1N0YXIocG9zWCwgcG9zWSkge1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5sZXZlbERhdGE/LnN0YXJJbWcsIHBvc1gsIHBvc1ksIHRoaXMuc2l6ZSAvIDUsIHRoaXMuc2l6ZSAvIDUpO1xyXG4gICAgfVxyXG4gICAgb25DbGljayh4Q2xpY2ssIHlDbGljaywgbGV2ZWxTZWxlY3Rpb25QYWdlSW5kZXgsIHVubG9ja0xldmVsSW5kZXgsIGNhbGxCYWNrKSB7XHJcbiAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLnNxcnQoKHhDbGljayAtIHRoaXMubGV2ZWxEYXRhLnggLSB0aGlzLnJhZGl1c09mZlNldCkgKlxyXG4gICAgICAgICAgICAoeENsaWNrIC0gdGhpcy5sZXZlbERhdGEueCAtIHRoaXMucmFkaXVzT2ZmU2V0KSArXHJcbiAgICAgICAgICAgICh5Q2xpY2sgLSB0aGlzLmxldmVsRGF0YS55IC0gdGhpcy5yYWRpdXNPZmZTZXQpICpcclxuICAgICAgICAgICAgICAgICh5Q2xpY2sgLSB0aGlzLmxldmVsRGF0YS55IC0gdGhpcy5yYWRpdXNPZmZTZXQpKTtcclxuICAgICAgICBpZiAoZGlzdGFuY2UgPCA0NSkge1xyXG4gICAgICAgICAgICBpZiAoRGVidWdnZXIuRGVidWdNb2RlIHx8ICh0aGlzLmxldmVsRGF0YS5pbmRleCArIGxldmVsU2VsZWN0aW9uUGFnZUluZGV4IDw9IHVubG9ja0xldmVsSW5kZXgpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJ0blNpemUgPSB0aGlzLmJsb29uU2l6ZSAtIDQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBvc1ggPSB0aGlzLm9yaWdpbmFsUG9zWCArIDAuNTtcclxuICAgICAgICAgICAgICAgIHRoaXMucG9zWSA9IHRoaXMub3JpZ2luYWxQb3NZICsgMTtcclxuICAgICAgICAgICAgICAgIGNhbGxCYWNrKHRoaXMubGV2ZWxEYXRhLmluZGV4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBpc0NsaWNrSW5zaWRlQnV0dG9uLCBsb2FkSW1hZ2VzIH0gZnJvbSBcIkBjb21tb25cIjtcclxuaW1wb3J0IHsgTkVYVF9CVE5fSU1HIH0gZnJvbSBcIkBjb25zdGFudHNcIjtcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTmV4dEJ1dHRvbiB7XHJcbiAgICBwb3NYO1xyXG4gICAgcG9zWTtcclxuICAgIGNvbnRleHQ7XHJcbiAgICB3aWR0aDtcclxuICAgIGhlaWdodDtcclxuICAgIGltYWdlc0xvYWRlZCA9IGZhbHNlO1xyXG4gICAgbmV4dF9idXR0b25faW1hZ2U7XHJcbiAgICBidG5TaXplQW5pbWF0aW9uO1xyXG4gICAgYnRuT3JpZ2luYWxTaXplO1xyXG4gICAgb3JpZ25hbFBvcztcclxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQsIHdpZHRoLCBoZWlnaHQsIHBvc1gsIHBvc1kpIHtcclxuICAgICAgICB0aGlzLnBvc1ggPSBwb3NYO1xyXG4gICAgICAgIHRoaXMucG9zWSA9IHBvc1k7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcclxuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICAgICAgbG9hZEltYWdlcyh7IG5leHRfYnV0dG9uX2ltYWdlOiBORVhUX0JUTl9JTUcgfSwgKGltYWdlcykgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLm5leHRfYnV0dG9uX2ltYWdlID0gaW1hZ2VzW1wibmV4dF9idXR0b25faW1hZ2VcIl07XHJcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VzTG9hZGVkID0gdHJ1ZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmJ0blNpemVBbmltYXRpb24gPSAwLjE5O1xyXG4gICAgICAgIHRoaXMuYnRuT3JpZ2luYWxTaXplID0gdGhpcy5idG5TaXplQW5pbWF0aW9uO1xyXG4gICAgICAgIHRoaXMub3JpZ25hbFBvcyA9IHsgeDogdGhpcy5wb3NYLCB5OiB0aGlzLnBvc1kgfTtcclxuICAgIH1cclxuICAgIGRyYXcoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW1hZ2VzTG9hZGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5uZXh0X2J1dHRvbl9pbWFnZSwgdGhpcy5wb3NYLCB0aGlzLnBvc1ksIHRoaXMud2lkdGggKiB0aGlzLmJ0blNpemVBbmltYXRpb24sIHRoaXMud2lkdGggKiB0aGlzLmJ0blNpemVBbmltYXRpb24pO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5idG5TaXplQW5pbWF0aW9uIDwgMC4xOSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5idG5TaXplQW5pbWF0aW9uID0gdGhpcy5idG5TaXplQW5pbWF0aW9uICsgMC4wMDA1O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wb3NYID0gdGhpcy5vcmlnbmFsUG9zLng7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBvc1kgPSB0aGlzLm9yaWduYWxQb3MueTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIG9uQ2xpY2soeENsaWNrLCB5Q2xpY2spIHtcclxuICAgICAgICBjb25zdCBpc0luc2lkZSA9IGlzQ2xpY2tJbnNpZGVCdXR0b24oeENsaWNrLCB5Q2xpY2ssIHRoaXMucG9zWCwgdGhpcy5wb3NZLCB0aGlzLndpZHRoICogdGhpcy5idG5PcmlnaW5hbFNpemUsIHRoaXMud2lkdGggKiB0aGlzLmJ0bk9yaWdpbmFsU2l6ZSwgdHJ1ZSAvLyBCdXR0b24gaXMgY2lyY3VsYXJcclxuICAgICAgICApO1xyXG4gICAgICAgIGlmIChpc0luc2lkZSkge1xyXG4gICAgICAgICAgICB0aGlzLmJ0blNpemVBbmltYXRpb24gPSAwLjE4O1xyXG4gICAgICAgICAgICB0aGlzLnBvc1ggPSB0aGlzLnBvc1ggKyAxO1xyXG4gICAgICAgICAgICB0aGlzLnBvc1kgPSB0aGlzLnBvc1kgKyAxO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaXNJbnNpZGU7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgaXNDbGlja0luc2lkZUJ1dHRvbiwgbG9hZEltYWdlcyB9IGZyb20gXCJAY29tbW9uXCI7XHJcbmltcG9ydCB7IENBTkNFTF9CVE5fSU1HIH0gZnJvbSBcIkBjb25zdGFudHNcIjtcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTm9CdXR0b24ge1xyXG4gICAgcG9zWDtcclxuICAgIHBvc1k7XHJcbiAgICBjb250ZXh0O1xyXG4gICAgY2FudmFzO1xyXG4gICAgaW1hZ2VzTG9hZGVkID0gZmFsc2U7XHJcbiAgICBub19idXR0b25faW1hZ2U7XHJcbiAgICBidG5TaXplQW5pbWF0aW9uO1xyXG4gICAgYnRuT3JpZ2luYWxTaXplO1xyXG4gICAgb3JpZ25hbFBvcztcclxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQsIGNhbnZhcywgcG9zWCwgcG9zWSkge1xyXG4gICAgICAgIHRoaXMucG9zWCA9IHBvc1ggKyA1O1xyXG4gICAgICAgIHRoaXMucG9zWSA9IHBvc1kgKyAxMDtcclxuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xyXG4gICAgICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xyXG4gICAgICAgIGxvYWRJbWFnZXMoeyBub19idXR0b25faW1hZ2U6IENBTkNFTF9CVE5fSU1HIH0sIChpbWFnZXMpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5ub19idXR0b25faW1hZ2UgPSBpbWFnZXNbXCJub19idXR0b25faW1hZ2VcIl07XHJcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VzTG9hZGVkID0gdHJ1ZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmJ0blNpemVBbmltYXRpb24gPSAwLjE4O1xyXG4gICAgICAgIHRoaXMuYnRuT3JpZ2luYWxTaXplID0gdGhpcy5idG5TaXplQW5pbWF0aW9uO1xyXG4gICAgICAgIHRoaXMub3JpZ25hbFBvcyA9IHsgeDogdGhpcy5wb3NYLCB5OiB0aGlzLnBvc1kgfTtcclxuICAgIH1cclxuICAgIGRyYXcoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW1hZ2VzTG9hZGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5ub19idXR0b25faW1hZ2UsIHRoaXMucG9zWCwgdGhpcy5wb3NZLCB0aGlzLmNhbnZhcy53aWR0aCAqIHRoaXMuYnRuU2l6ZUFuaW1hdGlvbiwgdGhpcy5jYW52YXMud2lkdGggKiB0aGlzLmJ0blNpemVBbmltYXRpb24pO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5idG5TaXplQW5pbWF0aW9uIDwgMC4xOCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5idG5TaXplQW5pbWF0aW9uID0gdGhpcy5idG5TaXplQW5pbWF0aW9uICsgMC4wMDA1O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wb3NYID0gdGhpcy5vcmlnbmFsUG9zLng7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBvc1kgPSB0aGlzLm9yaWduYWxQb3MueTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIG9uQ2xpY2soeENsaWNrLCB5Q2xpY2spIHtcclxuICAgICAgICBjb25zdCBpc0luc2lkZSA9IGlzQ2xpY2tJbnNpZGVCdXR0b24oeENsaWNrLCB5Q2xpY2ssIHRoaXMucG9zWCwgdGhpcy5wb3NZLCB0aGlzLmNhbnZhcy53aWR0aCAqIHRoaXMuYnRuT3JpZ2luYWxTaXplLCB0aGlzLmNhbnZhcy53aWR0aCAqIHRoaXMuYnRuT3JpZ2luYWxTaXplLCB0cnVlIC8vIEJ1dHRvbiBpcyBjaXJjdWxhclxyXG4gICAgICAgICk7XHJcbiAgICAgICAgaWYgKGlzSW5zaWRlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYnRuU2l6ZUFuaW1hdGlvbiA9IDAuMTc7XHJcbiAgICAgICAgICAgIHRoaXMucG9zWCA9IHRoaXMucG9zWCArIDE7XHJcbiAgICAgICAgICAgIHRoaXMucG9zWSA9IHRoaXMucG9zWSArIDE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpc0luc2lkZTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBpc0NsaWNrSW5zaWRlQnV0dG9uLCBsb2FkSW1hZ2VzIH0gZnJvbSBcIkBjb21tb25cIjtcclxuaW1wb3J0IHsgUEFVU0VfQlROX0lNRyB9IGZyb20gXCJAY29uc3RhbnRzXCI7XHJcbmltcG9ydCBnYW1lU3RhdGVTZXJ2aWNlIGZyb20gJ0BnYW1lU3RhdGVTZXJ2aWNlJztcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGF1c2VCdXR0b24ge1xyXG4gICAgcG9zWDtcclxuICAgIHBvc1k7XHJcbiAgICBjb250ZXh0O1xyXG4gICAgY2FudmFzO1xyXG4gICAgaW1hZ2VzTG9hZGVkID0gZmFsc2U7XHJcbiAgICBwYXVzZV9idXR0b25faW1hZ2U7XHJcbiAgICBidG5TaXplQW5pbWF0aW9uO1xyXG4gICAgYnRuT3JpZ2luYWxTaXplO1xyXG4gICAgb3JpZ25hbFBvcztcclxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQsIGNhbnZhcykge1xyXG4gICAgICAgIHRoaXMucG9zWCA9IGNhbnZhcy53aWR0aCAtIGNhbnZhcy5oZWlnaHQgKiAwLjA5O1xyXG4gICAgICAgIHRoaXMucG9zWSA9IDA7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcclxuICAgICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcclxuICAgICAgICBsb2FkSW1hZ2VzKHsgcGF1c2VfYnV0dG9uX2ltYWdlOiBQQVVTRV9CVE5fSU1HIH0sIChpbWFnZXMpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wYXVzZV9idXR0b25faW1hZ2UgPSBpbWFnZXNbXCJwYXVzZV9idXR0b25faW1hZ2VcIl07XHJcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VzTG9hZGVkID0gdHJ1ZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmJ0blNpemVBbmltYXRpb24gPSAwLjA5O1xyXG4gICAgICAgIHRoaXMuYnRuT3JpZ2luYWxTaXplID0gdGhpcy5idG5TaXplQW5pbWF0aW9uO1xyXG4gICAgICAgIHRoaXMub3JpZ25hbFBvcyA9IHsgeDogdGhpcy5wb3NYLCB5OiB0aGlzLnBvc1kgfTtcclxuICAgIH1cclxuICAgIGRyYXcoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW1hZ2VzTG9hZGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5wYXVzZV9idXR0b25faW1hZ2UsIHRoaXMucG9zWCwgdGhpcy5wb3NZLCB0aGlzLmNhbnZhcy5oZWlnaHQgKiB0aGlzLmJ0blNpemVBbmltYXRpb24sIHRoaXMuY2FudmFzLmhlaWdodCAqIHRoaXMuYnRuU2l6ZUFuaW1hdGlvbik7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmJ0blNpemVBbmltYXRpb24gPCAwLjA5KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJ0blNpemVBbmltYXRpb24gPSB0aGlzLmJ0blNpemVBbmltYXRpb24gKyAwLjAwMDI1O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wb3NYID0gdGhpcy5vcmlnbmFsUG9zLng7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBvc1kgPSB0aGlzLm9yaWduYWxQb3MueTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIG9uQ2xpY2soeENsaWNrLCB5Q2xpY2spIHtcclxuICAgICAgICBjb25zdCBpc0luc2lkZSA9IGlzQ2xpY2tJbnNpZGVCdXR0b24oeENsaWNrLCB5Q2xpY2ssIHRoaXMucG9zWCwgdGhpcy5wb3NZLCB0aGlzLmNhbnZhcy5oZWlnaHQgKiB0aGlzLmJ0bk9yaWdpbmFsU2l6ZSwgdGhpcy5jYW52YXMuaGVpZ2h0ICogdGhpcy5idG5PcmlnaW5hbFNpemUsIHRydWUgLy8gQnV0dG9uIGlzIGNpcmN1bGFyXHJcbiAgICAgICAgKTtcclxuICAgICAgICBpZiAoaXNJbnNpZGUpIHtcclxuICAgICAgICAgICAgdGhpcy5idG5TaXplQW5pbWF0aW9uID0gMC4wODU7XHJcbiAgICAgICAgICAgIHRoaXMucG9zWCA9IHRoaXMucG9zWCArIDAuOTtcclxuICAgICAgICAgICAgdGhpcy5wb3NZID0gdGhpcy5wb3NZICsgMC45O1xyXG4gICAgICAgICAgICBnYW1lU3RhdGVTZXJ2aWNlLnB1Ymxpc2goZ2FtZVN0YXRlU2VydmljZS5FVkVOVFMuR0FNRV9QQVVTRV9TVEFUVVNfRVZFTlQsIHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaXNJbnNpZGU7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgUExBWV9CVE5fSU1HIH0gZnJvbSBcIkBjb25zdGFudHNcIjtcclxuaW1wb3J0IHsgRmlyZWJhc2VJbnRlZ3JhdGlvbiB9IGZyb20gXCIuLi8uLi9GaXJlYmFzZS9maXJlYmFzZS1pbnRlZ3JhdGlvblwiO1xyXG5pbXBvcnQgeyBsb2FkSW1hZ2VzLCBwc2V1ZG9JZCwgbGFuZyB9IGZyb20gXCJAY29tbW9uXCI7XHJcbmltcG9ydCB7IGdldERhdGEgfSBmcm9tIFwiQGRhdGFcIjtcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGxheUJ1dHRvbiB7XHJcbiAgICBwb3NYO1xyXG4gICAgcG9zWTtcclxuICAgIGNvbnRleHQ7XHJcbiAgICBjYW52YXM7XHJcbiAgICBpbWFnZXM7XHJcbiAgICBsb2FkZWRJbWFnZXM7XHJcbiAgICBpbWFnZXNMb2FkZWQgPSBmYWxzZTtcclxuICAgIG1halZlcnNpb247XHJcbiAgICBtaW5WZXJzaW9uO1xyXG4gICAgZmlyZWJhc2VJbnRlZ3JhdGlvbjtcclxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQsIGNhbnZhcywgcG9zWCwgcG9zWSkge1xyXG4gICAgICAgIHRoaXMucG9zWCA9IHBvc1g7XHJcbiAgICAgICAgdGhpcy5wb3NZID0gcG9zWTtcclxuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xyXG4gICAgICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xyXG4gICAgICAgIHRoaXMuZmlyZWJhc2VJbnRlZ3JhdGlvbiA9IG5ldyBGaXJlYmFzZUludGVncmF0aW9uKCk7XHJcbiAgICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICAgICAgdGhpcy5pbWFnZXMgPSB7XHJcbiAgICAgICAgICAgIHBhdXNlX2J1dHRvbl9pbWFnZTogUExBWV9CVE5fSU1HXHJcbiAgICAgICAgfTtcclxuICAgICAgICBsb2FkSW1hZ2VzKHRoaXMuaW1hZ2VzLCAoaW1hZ2VzKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZGVkSW1hZ2VzID0gT2JqZWN0LmFzc2lnbih7fSwgaW1hZ2VzKTtcclxuICAgICAgICAgICAgdGhpcy5pbWFnZXNMb2FkZWQgPSB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgYXN5bmMgaW5pdCgpIHtcclxuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgZ2V0RGF0YSgpO1xyXG4gICAgICAgIHRoaXMubWFqVmVyc2lvbiA9IGRhdGEubWFqdmVyc2lvbjtcclxuICAgICAgICB0aGlzLm1pblZlcnNpb24gPSBkYXRhLm1pbnZlcnNpb247XHJcbiAgICB9XHJcbiAgICBkcmF3KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmltYWdlc0xvYWRlZCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMubG9hZGVkSW1hZ2VzLnBhdXNlX2J1dHRvbl9pbWFnZSwgdGhpcy5wb3NYLCB0aGlzLnBvc1ksIHRoaXMuY2FudmFzLndpZHRoIC8gMywgdGhpcy5jYW52YXMud2lkdGggLyAzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBvbkNsaWNrKHhDbGljaywgeUNsaWNrKSB7XHJcbiAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLnNxcnQoKHhDbGljayAtIHRoaXMucG9zWCAtIHRoaXMuY2FudmFzLndpZHRoIC8gNikgKlxyXG4gICAgICAgICAgICAoeENsaWNrIC0gdGhpcy5wb3NYIC0gdGhpcy5jYW52YXMud2lkdGggLyA2KSArXHJcbiAgICAgICAgICAgICh5Q2xpY2sgLSB0aGlzLnBvc1kgLSB0aGlzLmNhbnZhcy53aWR0aCAvIDYpICpcclxuICAgICAgICAgICAgICAgICh5Q2xpY2sgLSB0aGlzLnBvc1kgLSB0aGlzLmNhbnZhcy53aWR0aCAvIDYpKTtcclxuICAgICAgICB0aGlzLmxvZ1RhcHBlZFN0YXJ0RmlyZWJhc2VFdmVudCgpO1xyXG4gICAgICAgIGlmIChkaXN0YW5jZSA8IHRoaXMuY2FudmFzLndpZHRoIC8gOCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBsb2dUYXBwZWRTdGFydEZpcmViYXNlRXZlbnQoKSB7XHJcbiAgICAgICAgbGV0IGVuZFRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIGNvbnN0IHRhcHBlZFN0YXJ0RGF0YSA9IHtcclxuICAgICAgICAgICAgY3JfdXNlcl9pZDogcHNldWRvSWQsXHJcbiAgICAgICAgICAgIGZ0bV9sYW5ndWFnZTogbGFuZyxcclxuICAgICAgICAgICAgcHJvZmlsZV9udW1iZXI6IDAsXHJcbiAgICAgICAgICAgIHZlcnNpb25fbnVtYmVyOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInZlcnNpb24taW5mby1pZFwiKS5pbm5lckhUTUwsXHJcbiAgICAgICAgICAgIGpzb25fdmVyc2lvbl9udW1iZXI6ICEhdGhpcy5tYWpWZXJzaW9uICYmICEhdGhpcy5taW5WZXJzaW9uID8gdGhpcy5tYWpWZXJzaW9uLnRvU3RyaW5nKCkgKyBcIi5cIiArIHRoaXMubWluVmVyc2lvbi50b1N0cmluZygpIDogXCJcIixcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuZmlyZWJhc2VJbnRlZ3JhdGlvbi5zZW5kVGFwcGVkU3RhcnRFdmVudCh0YXBwZWRTdGFydERhdGEpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IGlzQ2xpY2tJbnNpZGVCdXR0b24sIGxvYWRJbWFnZXMgfSBmcm9tIFwiQGNvbW1vblwiO1xyXG5pbXBvcnQgeyBSRVRSWV9CVE5fSU1HIH0gZnJvbSBcIkBjb25zdGFudHNcIjtcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmV0cnlCdXR0b24ge1xyXG4gICAgcG9zWDtcclxuICAgIHBvc1k7XHJcbiAgICBjb250ZXh0O1xyXG4gICAgY2FudmFzO1xyXG4gICAgaW1hZ2VzTG9hZGVkID0gZmFsc2U7XHJcbiAgICByZXRyeV9idXR0b25faW1hZ2U7XHJcbiAgICBidG5TaXplQW5pbWF0aW9uO1xyXG4gICAgYnRuT3JpZ2luYWxTaXplO1xyXG4gICAgb3JpZ25hbFBvcztcclxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQsIGNhbnZhcywgcG9zWCwgcG9zWSkge1xyXG4gICAgICAgIHRoaXMucG9zWCA9IHBvc1g7XHJcbiAgICAgICAgdGhpcy5wb3NZID0gcG9zWTtcclxuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xyXG4gICAgICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xyXG4gICAgICAgIGxvYWRJbWFnZXMoeyByZXRyeV9idXR0b25faW1hZ2U6IFJFVFJZX0JUTl9JTUcgfSwgKGltYWdlcykgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnJldHJ5X2J1dHRvbl9pbWFnZSA9IGltYWdlc1tcInJldHJ5X2J1dHRvbl9pbWFnZVwiXTtcclxuICAgICAgICAgICAgdGhpcy5pbWFnZXNMb2FkZWQgPSB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYnRuU2l6ZUFuaW1hdGlvbiA9IDAuMTk7XHJcbiAgICAgICAgdGhpcy5idG5PcmlnaW5hbFNpemUgPSB0aGlzLmJ0blNpemVBbmltYXRpb247XHJcbiAgICAgICAgdGhpcy5vcmlnbmFsUG9zID0geyB4OiBwb3NYLCB5OiBwb3NZIH07XHJcbiAgICB9XHJcbiAgICBkcmF3KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmltYWdlc0xvYWRlZCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMucmV0cnlfYnV0dG9uX2ltYWdlLCB0aGlzLnBvc1gsIHRoaXMucG9zWSwgdGhpcy5jYW52YXMud2lkdGggKiB0aGlzLmJ0blNpemVBbmltYXRpb24sIHRoaXMuY2FudmFzLndpZHRoICogdGhpcy5idG5TaXplQW5pbWF0aW9uKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuYnRuU2l6ZUFuaW1hdGlvbiA8IDAuMTkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnRuU2l6ZUFuaW1hdGlvbiA9IHRoaXMuYnRuU2l6ZUFuaW1hdGlvbiArIDAuMDAwNTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucG9zWCA9IHRoaXMub3JpZ25hbFBvcy54O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wb3NZID0gdGhpcy5vcmlnbmFsUG9zLnk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBvbkNsaWNrKHhDbGljaywgeUNsaWNrKSB7XHJcbiAgICAgICAgY29uc3QgaXNJbnNpZGUgPSBpc0NsaWNrSW5zaWRlQnV0dG9uKHhDbGljaywgeUNsaWNrLCB0aGlzLnBvc1gsIHRoaXMucG9zWSwgdGhpcy5jYW52YXMud2lkdGggKiB0aGlzLmJ0bk9yaWdpbmFsU2l6ZSwgdGhpcy5jYW52YXMud2lkdGggKiB0aGlzLmJ0bk9yaWdpbmFsU2l6ZSwgdHJ1ZSAvLyBCdXR0b24gaXMgY2lyY3VsYXJcclxuICAgICAgICApO1xyXG4gICAgICAgIGlmIChpc0luc2lkZSkge1xyXG4gICAgICAgICAgICB0aGlzLmJ0blNpemVBbmltYXRpb24gPSAwLjE4O1xyXG4gICAgICAgICAgICB0aGlzLnBvc1ggPSB0aGlzLnBvc1ggKyAxO1xyXG4gICAgICAgICAgICB0aGlzLnBvc1kgPSB0aGlzLnBvc1kgKyAxO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaXNJbnNpZGU7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgaXNDbGlja0luc2lkZUJ1dHRvbiwgbG9hZEltYWdlcyB9IGZyb20gXCJAY29tbW9uXCI7XHJcbmltcG9ydCB7IFlFU19CVE5fSU1HIH0gZnJvbSBcIkBjb25zdGFudHNcIjtcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgWWVzQnV0dG9uIHtcclxuICAgIHBvc1g7XHJcbiAgICBwb3NZO1xyXG4gICAgY29udGV4dDtcclxuICAgIGNhbnZhcztcclxuICAgIGltYWdlc0xvYWRlZCA9IGZhbHNlO1xyXG4gICAgeWVzX2J1dHRvbl9pbWFnZTtcclxuICAgIGJ0blNpemVBbmltYXRpb247XHJcbiAgICBidG5PcmlnaW5hbFNpemU7XHJcbiAgICBvcmlnbmFsUG9zO1xyXG4gICAgY29uc3RydWN0b3IoY29udGV4dCwgY2FudmFzLCBwb3NYLCBwb3NZKSB7XHJcbiAgICAgICAgdGhpcy5wb3NYID0gcG9zWCAtIDU7XHJcbiAgICAgICAgdGhpcy5wb3NZID0gcG9zWTtcclxuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xyXG4gICAgICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xyXG4gICAgICAgIGxvYWRJbWFnZXMoeyB5ZXNfYnV0dG9uX2ltYWdlOiBZRVNfQlROX0lNRyB9LCAoaW1hZ2VzKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMueWVzX2J1dHRvbl9pbWFnZSA9IGltYWdlc1tcInllc19idXR0b25faW1hZ2VcIl07XHJcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VzTG9hZGVkID0gdHJ1ZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmJ0blNpemVBbmltYXRpb24gPSAwLjIwNTtcclxuICAgICAgICB0aGlzLmJ0bk9yaWdpbmFsU2l6ZSA9IHRoaXMuYnRuU2l6ZUFuaW1hdGlvbjtcclxuICAgICAgICB0aGlzLm9yaWduYWxQb3MgPSB7IHg6IHRoaXMucG9zWCwgeTogdGhpcy5wb3NZIH07XHJcbiAgICB9XHJcbiAgICBkcmF3KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmltYWdlc0xvYWRlZCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMueWVzX2J1dHRvbl9pbWFnZSwgdGhpcy5wb3NYLCB0aGlzLnBvc1ksIHRoaXMuY2FudmFzLndpZHRoICogdGhpcy5idG5TaXplQW5pbWF0aW9uLCB0aGlzLmNhbnZhcy53aWR0aCAqIHRoaXMuYnRuU2l6ZUFuaW1hdGlvbik7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmJ0blNpemVBbmltYXRpb24gPCAwLjIwNSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5idG5TaXplQW5pbWF0aW9uID0gdGhpcy5idG5TaXplQW5pbWF0aW9uICsgMC4wMDA1O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wb3NYID0gdGhpcy5vcmlnbmFsUG9zLng7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBvc1kgPSB0aGlzLm9yaWduYWxQb3MueTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIG9uQ2xpY2soeENsaWNrLCB5Q2xpY2spIHtcclxuICAgICAgICBjb25zdCBpc0luc2lkZSA9IGlzQ2xpY2tJbnNpZGVCdXR0b24oeENsaWNrLCB5Q2xpY2ssIHRoaXMucG9zWCwgdGhpcy5wb3NZLCB0aGlzLmNhbnZhcy53aWR0aCAqIHRoaXMuYnRuT3JpZ2luYWxTaXplLCB0aGlzLmNhbnZhcy53aWR0aCAqIHRoaXMuYnRuT3JpZ2luYWxTaXplLCB0cnVlIC8vIEJ1dHRvbiBpcyBjaXJjdWxhclxyXG4gICAgICAgICk7XHJcbiAgICAgICAgaWYgKGlzSW5zaWRlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYnRuU2l6ZUFuaW1hdGlvbiA9IDAuMTk7XHJcbiAgICAgICAgICAgIHRoaXMucG9zWCA9IHRoaXMucG9zWCArIDE7XHJcbiAgICAgICAgICAgIHRoaXMucG9zWSA9IHRoaXMucG9zWSArIDE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpc0luc2lkZTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBoaWRlRWxlbWVudCB9IGZyb20gXCJAY29tbW9uXCI7XHJcbmV4cG9ydCBjbGFzcyBGZWVkYmFja1RleHRFZmZlY3RzIHtcclxuICAgIGZlZWRiYWNrVGV4dEVsZW1lbnQ7XHJcbiAgICBoaWRlVGltZW91dElkO1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5mZWVkYmFja1RleHRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmZWVkYmFjay10ZXh0XCIpO1xyXG4gICAgICAgIHRoaXMuaGlkZVRpbWVvdXRJZCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5pbml0aWFsaXplKCk7XHJcbiAgICB9XHJcbiAgICBpbml0aWFsaXplKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pc0ZlZWRiYWNrRWxlbWVudEF2YWlsYWJsZSgpKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpc0ZlZWRiYWNrRWxlbWVudEF2YWlsYWJsZSgpIHtcclxuICAgICAgICByZXR1cm4gISF0aGlzLmZlZWRiYWNrVGV4dEVsZW1lbnQ7XHJcbiAgICB9XHJcbiAgICB3cmFwVGV4dCh0ZXh0KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzRmVlZGJhY2tFbGVtZW50QXZhaWxhYmxlKCkpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB0aGlzLmZlZWRiYWNrVGV4dEVsZW1lbnQudGV4dENvbnRlbnQgPSB0ZXh0O1xyXG4gICAgICAgIGhpZGVFbGVtZW50KGZhbHNlLCB0aGlzLmZlZWRiYWNrVGV4dEVsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMuc2V0SGlkZVRpbWVvdXQoKTtcclxuICAgIH1cclxuICAgIHNldEhpZGVUaW1lb3V0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmhpZGVUaW1lb3V0SWQpIHtcclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuaGlkZVRpbWVvdXRJZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaGlkZVRpbWVvdXRJZCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgaGlkZUVsZW1lbnQodHJ1ZSwgdGhpcy5mZWVkYmFja1RleHRFbGVtZW50KTtcclxuICAgICAgICAgICAgdGhpcy5oaWRlVGltZW91dElkID0gbnVsbDtcclxuICAgICAgICB9LCA0MDAwKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBsb2FkSW1hZ2VzIH0gZnJvbSBcIkBjb21tb25cIjtcclxuaW1wb3J0IHsgQkFSX0VNUFRZLCBCQVJfRlVMTCwgTEVWRUxfSU5ESUNBVE9SIH0gZnJvbSBcIkBjb25zdGFudHNcIjtcclxuaW1wb3J0IHsgRXZlbnRNYW5hZ2VyIH0gZnJvbSBcIkBldmVudHNcIjtcclxuZXhwb3J0IGNsYXNzIExldmVsSW5kaWNhdG9ycyBleHRlbmRzIEV2ZW50TWFuYWdlciB7XHJcbiAgICBjb250ZXh0O1xyXG4gICAgY2FudmFzO1xyXG4gICAgYWN0aXZlSW5kaWNhdG9ycztcclxuICAgIGltYWdlcztcclxuICAgIGxvYWRlZEltYWdlcztcclxuICAgIGltYWdlc0xvYWRlZCA9IGZhbHNlO1xyXG4gICAgY29uc3RydWN0b3IoY29udGV4dCwgY2FudmFzLCBhY3RpdmVJbmRpY2F0b3JzKSB7XHJcbiAgICAgICAgc3VwZXIoe1xyXG4gICAgICAgICAgICBzdG9uZURyb3BDYWxsYmFja0hhbmRsZXI6IChldmVudCkgPT4gdGhpcy5oYW5kbGVTdG9uZURyb3AoZXZlbnQpLFxyXG4gICAgICAgICAgICBsb2FkUHV6emxlQ2FsbGJhY2tIYW5kbGVyOiAoZXZlbnQpID0+IHRoaXMuaGFuZGxlTG9hZFB1enpsZShldmVudClcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xyXG4gICAgICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xyXG4gICAgICAgIHRoaXMuYWN0aXZlSW5kaWNhdG9ycyA9IGFjdGl2ZUluZGljYXRvcnM7XHJcbiAgICAgICAgdGhpcy5pbWFnZXMgPSB7XHJcbiAgICAgICAgICAgIGxldmVsX2luZGljYXRvcjogTEVWRUxfSU5ESUNBVE9SLFxyXG4gICAgICAgICAgICBiYXJfZW1wdHk6IEJBUl9FTVBUWSxcclxuICAgICAgICAgICAgYmFyX2Z1bGw6IEJBUl9GVUxMXHJcbiAgICAgICAgfTtcclxuICAgICAgICBsb2FkSW1hZ2VzKHRoaXMuaW1hZ2VzLCAoaW1hZ2VzKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZGVkSW1hZ2VzID0gT2JqZWN0LmFzc2lnbih7fSwgaW1hZ2VzKTtcclxuICAgICAgICAgICAgdGhpcy5pbWFnZXNMb2FkZWQgPSB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgc2V0SW5kaWNhdG9ycyhpbmRpY2F0b3JDb3VudCkge1xyXG4gICAgICAgIHRoaXMuYWN0aXZlSW5kaWNhdG9ycyA9IGluZGljYXRvckNvdW50O1xyXG4gICAgfVxyXG4gICAgYWRkRHJvcFN0b25lRXZlbnQoKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZHJvcHN0b25lJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0SW5kaWNhdG9ycygyKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGRyYXcoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW1hZ2VzTG9hZGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5sb2FkZWRJbWFnZXMubGV2ZWxfaW5kaWNhdG9yLCB0aGlzLmNhbnZhcy53aWR0aCAqIDAuMTUsIDAsIHRoaXMuY2FudmFzLndpZHRoICogMC4zNSwgdGhpcy5jYW52YXMuaGVpZ2h0ICogMC4wOSk7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNTsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMubG9hZGVkSW1hZ2VzLmJhcl9lbXB0eSwgKCh0aGlzLmNhbnZhcy53aWR0aCAqIDAuMzUpIC8gNykgKiAoaSArIDEpICtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCAqIDAuMTUsICh0aGlzLmNhbnZhcy5oZWlnaHQgKiAwLjA5KSAvIDIgLSAodGhpcy5jYW52YXMuaGVpZ2h0ICogMC4wOSkgLyA2LCAodGhpcy5jYW52YXMud2lkdGggKiAwLjM1KSAvIDEwLCAodGhpcy5jYW52YXMuaGVpZ2h0ICogMC4wOSkgLyAzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYWN0aXZlSW5kaWNhdG9yczsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMubG9hZGVkSW1hZ2VzLmJhcl9mdWxsLCAoKHRoaXMuY2FudmFzLndpZHRoICogMC4zNSkgLyA3KSAqIChpICsgMSkgKyB0aGlzLmNhbnZhcy53aWR0aCAqIDAuMTUsICh0aGlzLmNhbnZhcy5oZWlnaHQgKiAwLjA5KSAvIDIgLSAodGhpcy5jYW52YXMuaGVpZ2h0ICogMC4wOSkgLyA2LCAodGhpcy5jYW52YXMud2lkdGggKiAwLjM1KSAvIDEwLCAodGhpcy5jYW52YXMuaGVpZ2h0ICogMC4wOSkgLyAzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGRpc3Bvc2UoKSB7XHJcbiAgICAgICAgdGhpcy51bnJlZ2lzdGVyRXZlbnRMaXN0ZW5lcigpO1xyXG4gICAgfVxyXG4gICAgaGFuZGxlU3RvbmVEcm9wKGV2ZW50KSB7XHJcbiAgICB9XHJcbiAgICBoYW5kbGVMb2FkUHV6emxlKGV2ZW50KSB7XHJcbiAgICAgICAgdGhpcy5zZXRJbmRpY2F0b3JzKGV2ZW50LmRldGFpbC5jb3VudGVyKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBsb2FkSW1hZ2VzIH0gZnJvbSBcIkBjb21tb25cIjtcclxuaW1wb3J0IHsgRXZlbnRNYW5hZ2VyIH0gZnJvbSBcIkBldmVudHNcIjtcclxuZXhwb3J0IGNsYXNzIE1vbnN0ZXIgZXh0ZW5kcyBFdmVudE1hbmFnZXIge1xyXG4gICAgemluZGV4O1xyXG4gICAgd2lkdGg7XHJcbiAgICBoZWlnaHQ7XHJcbiAgICBpbWFnZTtcclxuICAgIGZyYW1lWDtcclxuICAgIGZyYW1lWTtcclxuICAgIG1heEZyYW1lO1xyXG4gICAgeDtcclxuICAgIHk7XHJcbiAgICBmcHM7XHJcbiAgICBjb3VudEZyYW1lO1xyXG4gICAgZnJhbWVJbnRlcnZhbDtcclxuICAgIGZyYW1lVGltZXI7XHJcbiAgICBjYW52YXNTdGFjaztcclxuICAgIGNhbmF2c0VsZW1lbnQ7XHJcbiAgICBjb250ZXh0O1xyXG4gICAgZ2FtZTtcclxuICAgIGltYWdlcztcclxuICAgIGxvYWRlZEltYWdlcztcclxuICAgIGltYWdlc0xvYWRlZCA9IGZhbHNlO1xyXG4gICAgbW9uc3RlclBoYXNlO1xyXG4gICAgY29uc3RydWN0b3IoZ2FtZSwgbW9uc3RlclBoYXNlLCBjYWxsQmFja0Z1bmN0aW9uKSB7XHJcbiAgICAgICAgc3VwZXIoe1xyXG4gICAgICAgICAgICBzdG9uZURyb3BDYWxsYmFja0hhbmRsZXI6IChldmVudCkgPT4gdGhpcy5oYW5kbGVTdG9uZURyb3AoZXZlbnQpLFxyXG4gICAgICAgICAgICBsb2FkUHV6emxlQ2FsbGJhY2tIYW5kbGVyOiAoZXZlbnQpID0+IHRoaXMuaGFuZGxlTG9hZFB1enpsZShldmVudCksXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5nYW1lID0gZ2FtZTtcclxuICAgICAgICB0aGlzLm1vbnN0ZXJQaGFzZSA9IG1vbnN0ZXJQaGFzZTtcclxuICAgICAgICB0aGlzLndpZHRoID0gdGhpcy5nYW1lLndpZHRoO1xyXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5nYW1lLmhlaWdodDtcclxuICAgICAgICB0aGlzLmNhbmF2c0VsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbnZhc1wiKTtcclxuICAgICAgICB0aGlzLmNvbnRleHQgPSB0aGlzLmNhbmF2c0VsZW1lbnQuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG4gICAgICAgIHRoaXMuaW1hZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1vbnN0ZXJcIik7XHJcbiAgICAgICAgdGhpcy5mcmFtZVggPSAwO1xyXG4gICAgICAgIHRoaXMuZnJhbWVZID0gMDtcclxuICAgICAgICB0aGlzLm1heEZyYW1lID0gNjtcclxuICAgICAgICB0aGlzLnggPSB0aGlzLmdhbWUud2lkdGggLyAyIC0gdGhpcy5nYW1lLndpZHRoICogMC4yNDM7XHJcbiAgICAgICAgdGhpcy55ID0gdGhpcy5nYW1lLndpZHRoIC8gMztcclxuICAgICAgICB0aGlzLmZwcyA9IDEwO1xyXG4gICAgICAgIHRoaXMuY291bnRGcmFtZSA9IDA7XHJcbiAgICAgICAgdGhpcy5mcmFtZUludGVydmFsID0gMTAwMCAvIHRoaXMuZnBzO1xyXG4gICAgICAgIHRoaXMuZnJhbWVUaW1lciA9IDA7XHJcbiAgICAgICAgdGhpcy5pbWFnZXMgPSB7XHJcbiAgICAgICAgICAgIGVhdEltZzogXCIuL2Fzc2V0cy9pbWFnZXMvZWF0MVwiICsgdGhpcy5tb25zdGVyUGhhc2UgKyBcIi5wbmdcIixcclxuICAgICAgICAgICAgaWRsZUltZzogXCIuL2Fzc2V0cy9pbWFnZXMvaWRsZTFcIiArIHRoaXMubW9uc3RlclBoYXNlICsgXCIucG5nXCIsXHJcbiAgICAgICAgICAgIHNwaXRJbWc6IFwiLi9hc3NldHMvaW1hZ2VzL3NwaXQxXCIgKyB0aGlzLm1vbnN0ZXJQaGFzZSArIFwiLnBuZ1wiLFxyXG4gICAgICAgICAgICBkcmFnSW1nOiBcIi4vYXNzZXRzL2ltYWdlcy9kcmFnMVwiICsgdGhpcy5tb25zdGVyUGhhc2UgKyBcIi5wbmdcIixcclxuICAgICAgICB9O1xyXG4gICAgICAgIGxvYWRJbWFnZXModGhpcy5pbWFnZXMsIChpbWFnZXMpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5sb2FkZWRJbWFnZXMgPSBPYmplY3QuYXNzaWduKHt9LCBpbWFnZXMpO1xyXG4gICAgICAgICAgICB0aGlzLmNoYW5nZVRvSWRsZUFuaW1hdGlvbigpO1xyXG4gICAgICAgICAgICB0aGlzLmltYWdlc0xvYWRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmIChjYWxsQmFja0Z1bmN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBjYWxsQmFja0Z1bmN0aW9uKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHVwZGF0ZShkZWx0YVRpbWUpIHtcclxuICAgICAgICBpZiAodGhpcy5mcmFtZVRpbWVyID49IHRoaXMuZnJhbWVJbnRlcnZhbCkge1xyXG4gICAgICAgICAgICB0aGlzLmZyYW1lVGltZXIgPSAwO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5mcmFtZVggPCB0aGlzLm1heEZyYW1lKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmZyYW1lWCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5mcmFtZVggPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmZyYW1lVGltZXIgKz0gZGVsdGFUaW1lO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmRyYXcoKTtcclxuICAgIH1cclxuICAgIGRyYXcoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW1hZ2VzTG9hZGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5pbWFnZSwgNzcwICogdGhpcy5mcmFtZVgsIDEzODYgKiB0aGlzLmZyYW1lWSwgNzY4LCAxMzg2LCB0aGlzLnggKiAwLjUsIHRoaXMueSAqIDAuMSwgKHRoaXMud2lkdGggLyAyKSAqIDEuNSwgKHRoaXMuaGVpZ2h0IC8gMS41KSAqIDEuNSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY2hhbmdlSW1hZ2Uoc3JjKSB7XHJcbiAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBzcmM7XHJcbiAgICB9XHJcbiAgICBjaGFuZ2VUb0RyYWdBbmltYXRpb24oKSB7XHJcbiAgICAgICAgdGhpcy5tYXhGcmFtZSA9IDY7XHJcbiAgICAgICAgdGhpcy5pbWFnZSA9IHRoaXMubG9hZGVkSW1hZ2VzLmRyYWdJbWc7XHJcbiAgICB9XHJcbiAgICBjaGFuZ2VUb0VhdEFuaW1hdGlvbigpIHtcclxuICAgICAgICB0aGlzLm1heEZyYW1lID0gMTI7XHJcbiAgICAgICAgdGhpcy5pbWFnZSA9IHRoaXMubG9hZGVkSW1hZ2VzLmVhdEltZztcclxuICAgIH1cclxuICAgIGNoYW5nZVRvSWRsZUFuaW1hdGlvbigpIHtcclxuICAgICAgICB0aGlzLm1heEZyYW1lID0gNjtcclxuICAgICAgICB0aGlzLmltYWdlID0gdGhpcy5sb2FkZWRJbWFnZXMuaWRsZUltZztcclxuICAgIH1cclxuICAgIGNoYW5nZVRvU3BpdEFuaW1hdGlvbigpIHtcclxuICAgICAgICB0aGlzLm1heEZyYW1lID0gMTI7XHJcbiAgICAgICAgdGhpcy5pbWFnZSA9IHRoaXMubG9hZGVkSW1hZ2VzLnNwaXRJbWc7XHJcbiAgICB9XHJcbiAgICBoYW5kbGVTdG9uZURyb3AoZXZlbnQpIHtcclxuICAgICAgICBpZiAoZXZlbnQuZGV0YWlsLmlzQ29ycmVjdCkge1xyXG4gICAgICAgICAgICB0aGlzLmNoYW5nZVRvRWF0QW5pbWF0aW9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmNoYW5nZVRvU3BpdEFuaW1hdGlvbigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGhhbmRsZUxvYWRQdXp6bGUoZXZlbnQpIHtcclxuICAgICAgICB0aGlzLmNoYW5nZVRvSWRsZUFuaW1hdGlvbigpO1xyXG4gICAgfVxyXG4gICAgZGlzcG9zZSgpIHtcclxuICAgICAgICB0aGlzLnVucmVnaXN0ZXJFdmVudExpc3RlbmVyKCk7XHJcbiAgICB9XHJcbiAgICBvbkNsaWNrKHhDbGljaywgeUNsaWNrKSB7XHJcbiAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLnNxcnQoKHhDbGljayAtIHRoaXMueCAtIHRoaXMud2lkdGggLyA0KSAqICh4Q2xpY2sgLSB0aGlzLnggLSB0aGlzLndpZHRoIC8gNCkgK1xyXG4gICAgICAgICAgICAoeUNsaWNrIC0gdGhpcy55IC0gdGhpcy5oZWlnaHQgLyAyLjIpICpcclxuICAgICAgICAgICAgICAgICh5Q2xpY2sgLSB0aGlzLnkgLSB0aGlzLmhlaWdodCAvIDIuMikpO1xyXG4gICAgICAgIGlmIChkaXN0YW5jZSA8PSAxMDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IENsb3NlQnV0dG9uLCBDYW5jZWxCdXR0b24sIFJldHJ5QnV0dG9uIH0gZnJvbSBcIkBidXR0b25zXCI7XHJcbmltcG9ydCB7IENMSUNLLCBsYW5nLCBsb2FkSW1hZ2VzIH0gZnJvbSBcIkBjb21tb25cIjtcclxuaW1wb3J0IHsgQXVkaW9QbGF5ZXIgfSBmcm9tIFwiQGNvbXBvbmVudHNcIjtcclxuaW1wb3J0IEFyZVlvdVN1cmVQb3BVcCBmcm9tIFwiQHBvcHVwcy9zdXJlLXBvcHVwXCI7XHJcbmltcG9ydCB7IEFVRElPX0FSRV9ZT1VfU1VSRSwgUE9QVVBfQkdfSU1HIH0gZnJvbSBcIkBjb25zdGFudHNcIjtcclxuaW1wb3J0IGdhbWVTdGF0ZVNlcnZpY2UgZnJvbSAnQGdhbWVTdGF0ZVNlcnZpY2UnO1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXVzZVBvcFVwIHtcclxuICAgIGNhbnZhcztcclxuICAgIGNvbnRleHQ7XHJcbiAgICBjYW5jZWxCdXR0b247XHJcbiAgICByZXRyeUJ1dHRvbjtcclxuICAgIGNsb3NlQnV0dG9uO1xyXG4gICAgaW1hZ2VzTG9hZGVkID0gZmFsc2U7XHJcbiAgICBwb3BfdXBfaW1hZ2U7XHJcbiAgICBjYWxsYmFjaztcclxuICAgIHN3aXRjaFRvTGV2ZWxTZWxlY3Rpb247XHJcbiAgICByZWxvYWRTY2VuZTtcclxuICAgIGdhbWVwbGF5RGF0YTtcclxuICAgIGF1ZGlvUGxheWVyO1xyXG4gICAgcmV0cnlTdXJlUG9wdXA7XHJcbiAgICBDbG9zZVN1cmVQb3B1cDtcclxuICAgIGlzUmV0cnlCdXR0b25DbGlja2VkID0gZmFsc2U7XHJcbiAgICBpc0Nsb3NlQnV0dG9uQ2xpY2tlZCA9IGZhbHNlO1xyXG4gICAgY29uc3RydWN0b3IoY2FudmFzLCBjYWxsYmFjaywgc3dpdGNoVG9MZXZlbFNlbGVjdGlvbiwgcmVsb2FkU2NlbmUsIGdhbWVwbGF5RGF0YSkge1xyXG4gICAgICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xyXG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcclxuICAgICAgICB0aGlzLmdhbWVwbGF5RGF0YSA9IGdhbWVwbGF5RGF0YTtcclxuICAgICAgICB0aGlzLnN3aXRjaFRvTGV2ZWxTZWxlY3Rpb24gPSBzd2l0Y2hUb0xldmVsU2VsZWN0aW9uO1xyXG4gICAgICAgIHRoaXMucmVsb2FkU2NlbmUgPSByZWxvYWRTY2VuZTtcclxuICAgICAgICBjb25zdCBzZWxmSWRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW52YXNcIik7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gc2VsZklkRWxlbWVudC5nZXRDb250ZXh0KFwiMmRcIik7XHJcbiAgICAgICAgdGhpcy5hdWRpb1BsYXllciA9IG5ldyBBdWRpb1BsYXllcigpO1xyXG4gICAgICAgIHRoaXMuY2FuY2VsQnV0dG9uID0gbmV3IENhbmNlbEJ1dHRvbih0aGlzLmNvbnRleHQsIHRoaXMuY2FudmFzKTtcclxuICAgICAgICB0aGlzLnJldHJ5QnV0dG9uID0gbmV3IFJldHJ5QnV0dG9uKHRoaXMuY29udGV4dCwgdGhpcy5jYW52YXMsIHRoaXMuY2FudmFzLndpZHRoICogMC41NSwgdGhpcy5jYW52YXMuaGVpZ2h0ICogMC4yICtcclxuICAgICAgICAgICAgdGhpcy5jYW52YXMud2lkdGggKiAwLjQgLVxyXG4gICAgICAgICAgICAodGhpcy5jYW52YXMud2lkdGggKiAwLjE5KSAvIDIpO1xyXG4gICAgICAgIHRoaXMuY2xvc2VCdXR0b24gPSBuZXcgQ2xvc2VCdXR0b24odGhpcy5jb250ZXh0LCB0aGlzLmNhbnZhcywgdGhpcy5jYW52YXMud2lkdGggKiAwLjI1LCB0aGlzLmNhbnZhcy5oZWlnaHQgKiAwLjIgK1xyXG4gICAgICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCAqIDAuNCAtXHJcbiAgICAgICAgICAgICh0aGlzLmNhbnZhcy53aWR0aCAqIDAuMTkpIC8gMik7XHJcbiAgICAgICAgbG9hZEltYWdlcyh7IHBvcF91cF9pbWFnZTogUE9QVVBfQkdfSU1HIH0sIChpbWFnZXMpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wb3BfdXBfaW1hZ2UgPSBpbWFnZXNbXCJwb3BfdXBfaW1hZ2VcIl07XHJcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VzTG9hZGVkID0gdHJ1ZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnJldHJ5U3VyZVBvcHVwID0gbmV3IEFyZVlvdVN1cmVQb3BVcCh0aGlzLmNhbnZhcywgdGhpcy55ZXNSZXRyeUNhbGxiYWNrLCB0aGlzLm5vUmV0cnlDYWxsYmFjayk7XHJcbiAgICAgICAgdGhpcy5DbG9zZVN1cmVQb3B1cCA9IG5ldyBBcmVZb3VTdXJlUG9wVXAodGhpcy5jYW52YXMsIHRoaXMuc3dpdGNoVG9MZXZlbFNlbGVjdGlvbiwgdGhpcy5ub0Nsb3NlQ2FsbGJhY2spO1xyXG4gICAgfVxyXG4gICAgeWVzUmV0cnlDYWxsYmFjayA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnBsYXlDbGlja1NvdW5kKCk7XHJcbiAgICAgICAgdGhpcy5yZWxvYWRTY2VuZSh0aGlzLmdhbWVwbGF5RGF0YSwgXCJHYW1lUGxheVwiKTtcclxuICAgIH07XHJcbiAgICBub1JldHJ5Q2FsbGJhY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNSZXRyeUJ1dHRvbkNsaWNrZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5pc1JldHJ5QnV0dG9uQ2xpY2tlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIG5vQ2xvc2VDYWxsYmFjayA9ICgpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5pc0Nsb3NlQnV0dG9uQ2xpY2tlZCkge1xyXG4gICAgICAgICAgICB0aGlzLmlzQ2xvc2VCdXR0b25DbGlja2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2soKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgYWRkTGlzdG5lciA9ICgpID0+IHtcclxuICAgICAgICBkb2N1bWVudFxyXG4gICAgICAgICAgICAuZ2V0RWxlbWVudEJ5SWQoXCJjYW52YXNcIilcclxuICAgICAgICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoQ0xJQ0ssIHRoaXMuaGFuZGxlTW91c2VDbGljaywgZmFsc2UpO1xyXG4gICAgfTtcclxuICAgIGhhbmRsZU1vdXNlQ2xpY2sgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICBjb25zdCBzZWxmRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FudmFzXCIpO1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgdmFyIHJlY3QgPSBzZWxmRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICBjb25zdCB4ID0gZXZlbnQuY2xpZW50WCAtIHJlY3QubGVmdDtcclxuICAgICAgICBjb25zdCB5ID0gZXZlbnQuY2xpZW50WSAtIHJlY3QudG9wO1xyXG4gICAgICAgIGlmICh0aGlzLmNhbmNlbEJ1dHRvbi5vbkNsaWNrKHgsIHkpKSB7XHJcbiAgICAgICAgICAgIGdhbWVTdGF0ZVNlcnZpY2UucHVibGlzaChnYW1lU3RhdGVTZXJ2aWNlLkVWRU5UUy5HQU1FX1BBVVNFX1NUQVRVU19FVkVOVCwgZmFsc2UpO1xyXG4gICAgICAgICAgICB0aGlzLnBsYXlDbGlja1NvdW5kKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2soKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMucmV0cnlCdXR0b24ub25DbGljayh4LCB5KSkge1xyXG4gICAgICAgICAgICBpZiAobGFuZyA9PSBcImVuZ2xpc2hcIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5Q2xpY2tTb3VuZCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzUmV0cnlCdXR0b25DbGlja2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMucmV0cnlTdXJlUG9wdXAuYWRkTGlzdG5lcigpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5QXJlWW91U3VyZVNvdW5kKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXlDbGlja1NvdW5kKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVsb2FkU2NlbmUodGhpcy5nYW1lcGxheURhdGEsIFwiR2FtZVBsYXlcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VCdXR0b24ub25DbGljayh4LCB5KSkge1xyXG4gICAgICAgICAgICBpZiAobGFuZyA9PSBcImVuZ2xpc2hcIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5Q2xpY2tTb3VuZCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzQ2xvc2VCdXR0b25DbGlja2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuQ2xvc2VTdXJlUG9wdXAuYWRkTGlzdG5lcigpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5QXJlWW91U3VyZVNvdW5kKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXlDbGlja1NvdW5kKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3dpdGNoVG9MZXZlbFNlbGVjdGlvbihcIkdhbWVQbGF5XCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGRyYXcoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW1hZ2VzTG9hZGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5maWxsU3R5bGUgPSBcInJnYmEoMCwwLDAsMC41KVwiO1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5wb3BfdXBfaW1hZ2UsIHRoaXMuY2FudmFzLndpZHRoICogMC4xLCB0aGlzLmNhbnZhcy5oZWlnaHQgKiAwLjIsIHRoaXMuY2FudmFzLndpZHRoICogMC44LCB0aGlzLmNhbnZhcy53aWR0aCAqIDAuOCk7XHJcbiAgICAgICAgICAgIHRoaXMuY2FuY2VsQnV0dG9uLmRyYXcoKTtcclxuICAgICAgICAgICAgdGhpcy5yZXRyeUJ1dHRvbi5kcmF3KCk7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2VCdXR0b24uZHJhdygpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pc1JldHJ5QnV0dG9uQ2xpY2tlZCA9PSB0cnVlICYmIGxhbmcgPT0gXCJlbmdsaXNoXCIpXHJcbiAgICAgICAgICAgICAgICB0aGlzLnJldHJ5U3VyZVBvcHVwLmRyYXcoKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNDbG9zZUJ1dHRvbkNsaWNrZWQgPT0gdHJ1ZSAmJiBsYW5nID09IFwiZW5nbGlzaFwiKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5DbG9zZVN1cmVQb3B1cC5kcmF3KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcGxheUNsaWNrU291bmQgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5hdWRpb1BsYXllci5wbGF5QnV0dG9uQ2xpY2tTb3VuZCgpO1xyXG4gICAgfTtcclxuICAgIHBsYXlBcmVZb3VTdXJlU291bmQgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5hdWRpb1BsYXllci5wbGF5QXVkaW8oQVVESU9fQVJFX1lPVV9TVVJFKTtcclxuICAgIH07XHJcbiAgICBkaXNwb3NlID0gKCkgPT4ge1xyXG4gICAgICAgIGRvY3VtZW50XHJcbiAgICAgICAgICAgIC5nZXRFbGVtZW50QnlJZChcImNhbnZhc1wiKVxyXG4gICAgICAgICAgICAucmVtb3ZlRXZlbnRMaXN0ZW5lcihDTElDSywgdGhpcy5oYW5kbGVNb3VzZUNsaWNrLCBmYWxzZSk7XHJcbiAgICB9O1xyXG59XHJcbiIsImltcG9ydCB7IENMSUNLLCBsb2FkSW1hZ2VzIH0gZnJvbSBcIkBjb21tb25cIjtcclxuaW1wb3J0IHsgQXVkaW9QbGF5ZXIgfSBmcm9tIFwiQGNvbXBvbmVudHNcIjtcclxuaW1wb3J0IHsgWWVzQnV0dG9uLCBOb0J1dHRvbiB9IGZyb20gXCJAYnV0dG9uc1wiO1xyXG5pbXBvcnQgeyBQT1BVUF9CR19JTUcgfSBmcm9tIFwiQGNvbnN0YW50c1wiO1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcmVZb3VTdXJlUG9wVXAge1xyXG4gICAgY2FudmFzO1xyXG4gICAgY29udGV4dDtcclxuICAgIHllc0J1dHRvbjtcclxuICAgIG5vQnV0dG9uO1xyXG4gICAgaW1hZ2VzTG9hZGVkID0gZmFsc2U7XHJcbiAgICBwb3BfdXBfaW1hZ2U7XHJcbiAgICB5ZXNDYWxsYmFjaztcclxuICAgIG5vQ2FsbGJhY2s7XHJcbiAgICBhdWRpb1BsYXllcjtcclxuICAgIGNvbnN0cnVjdG9yKGNhbnZhcywgeWVzQ2FsbGJhY2ssIG5vQ2FsbGJhY2spIHtcclxuICAgICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcclxuICAgICAgICB0aGlzLnllc0NhbGxiYWNrID0geWVzQ2FsbGJhY2s7XHJcbiAgICAgICAgdGhpcy5ub0NhbGxiYWNrID0gbm9DYWxsYmFjaztcclxuICAgICAgICB0aGlzLmNvbnRleHQgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XHJcbiAgICAgICAgdGhpcy5hdWRpb1BsYXllciA9IG5ldyBBdWRpb1BsYXllcigpO1xyXG4gICAgICAgIHRoaXMueWVzQnV0dG9uID0gbmV3IFllc0J1dHRvbih0aGlzLmNvbnRleHQsIHRoaXMuY2FudmFzLCB0aGlzLmNhbnZhcy53aWR0aCAqIDAuNTUsIHRoaXMuY2FudmFzLmhlaWdodCAqIDAuMiArXHJcbiAgICAgICAgICAgIHRoaXMuY2FudmFzLndpZHRoICogMC40IC1cclxuICAgICAgICAgICAgKHRoaXMuY2FudmFzLndpZHRoICogMC4xNSkgLyAyKTtcclxuICAgICAgICB0aGlzLm5vQnV0dG9uID0gbmV3IE5vQnV0dG9uKHRoaXMuY29udGV4dCwgdGhpcy5jYW52YXMsIHRoaXMuY2FudmFzLndpZHRoICogMC4yNSwgdGhpcy5jYW52YXMuaGVpZ2h0ICogMC4yICtcclxuICAgICAgICAgICAgdGhpcy5jYW52YXMud2lkdGggKiAwLjQgLVxyXG4gICAgICAgICAgICAodGhpcy5jYW52YXMud2lkdGggKiAwLjE1KSAvIDIpO1xyXG4gICAgICAgIGxvYWRJbWFnZXMoeyBwb3BfdXBfaW1hZ2U6IFBPUFVQX0JHX0lNRyB9LCAoaW1hZ2VzKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucG9wX3VwX2ltYWdlID0gaW1hZ2VzW1wicG9wX3VwX2ltYWdlXCJdO1xyXG4gICAgICAgICAgICB0aGlzLmltYWdlc0xvYWRlZCA9IHRydWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBhZGRMaXN0bmVyID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoQ0xJQ0ssIHRoaXMuaGFuZGxlTW91c2VDbGljaywgZmFsc2UpO1xyXG4gICAgfTtcclxuICAgIGhhbmRsZU1vdXNlQ2xpY2sgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICBjb25zdCBzZWxmRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FudmFzXCIpO1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgdmFyIHJlY3QgPSBzZWxmRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICBjb25zdCB4ID0gZXZlbnQuY2xpZW50WCAtIHJlY3QubGVmdDtcclxuICAgICAgICBjb25zdCB5ID0gZXZlbnQuY2xpZW50WSAtIHJlY3QudG9wO1xyXG4gICAgICAgIGlmICh0aGlzLnllc0J1dHRvbi5vbkNsaWNrKHgsIHkpKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheUNsaWNrU291bmQoKTtcclxuICAgICAgICAgICAgdGhpcy5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgIHRoaXMueWVzQ2FsbGJhY2soKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMubm9CdXR0b24ub25DbGljayh4LCB5KSkge1xyXG4gICAgICAgICAgICB0aGlzLnBsYXlDbGlja1NvdW5kKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICB0aGlzLm5vQ2FsbGJhY2soKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgZHJhdygpIHtcclxuICAgICAgICBpZiAodGhpcy5pbWFnZXNMb2FkZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxTdHlsZSA9IFwicmdiYSgwLDAsMCwwLjUpXCI7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5maWxsUmVjdCgwLCAwLCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZSh0aGlzLnBvcF91cF9pbWFnZSwgdGhpcy5jYW52YXMud2lkdGggKiAwLjEsIHRoaXMuY2FudmFzLmhlaWdodCAqIDAuMiwgdGhpcy5jYW52YXMud2lkdGggKiAwLjgsIHRoaXMuY2FudmFzLndpZHRoICogMC44KTtcclxuICAgICAgICAgICAgY29uc3QgdGV4dFkgPSB0aGlzLmNhbnZhcy5oZWlnaHQgKiAwLjIgKyA4MDtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxTdHlsZSA9IFwid2hpdGVcIjtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmZvbnQgPSBcIjI0cHggQXJpYWxcIjtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxUZXh0KFwiQXJlIHlvdSBzdXJlP1wiLCB0aGlzLmNhbnZhcy53aWR0aCAvIDIsIHRoaXMuY2FudmFzLmhlaWdodCAvIDIuOCk7XHJcbiAgICAgICAgICAgIHRoaXMueWVzQnV0dG9uLmRyYXcoKTtcclxuICAgICAgICAgICAgdGhpcy5ub0J1dHRvbi5kcmF3KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcGxheUNsaWNrU291bmQgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5hdWRpb1BsYXllci5wbGF5QnV0dG9uQ2xpY2tTb3VuZCgpO1xyXG4gICAgfTtcclxuICAgIGRpc3Bvc2UgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihDTElDSywgdGhpcy5oYW5kbGVNb3VzZUNsaWNrLCBmYWxzZSk7XHJcbiAgICB9O1xyXG59XHJcbiIsImltcG9ydCB7IEV2ZW50TWFuYWdlciB9IGZyb20gXCJAZXZlbnRzXCI7XHJcbmltcG9ydCB7IFV0aWxzLCBmb250LCBWSVNJQklMSVRZX0NIQU5HRSB9IGZyb20gXCJAY29tbW9uXCI7XHJcbmltcG9ydCB7IEF1ZGlvUGxheWVyIH0gZnJvbSBcIkBjb21wb25lbnRzXCI7XHJcbmltcG9ydCB7IFBST01QVF9QTEFZX0JVVFRPTiwgUFJPTVBUX1RFWFRfQkcgfSBmcm9tIFwiQGNvbnN0YW50c1wiO1xyXG5leHBvcnQgY2xhc3MgUHJvbXB0VGV4dCBleHRlbmRzIEV2ZW50TWFuYWdlciB7XHJcbiAgICB3aWR0aDtcclxuICAgIGhlaWdodDtcclxuICAgIGxldmVsRGF0YTtcclxuICAgIGN1cnJlbnRQcm9tcHRUZXh0O1xyXG4gICAgY3VycmVudFB1enpsZURhdGE7XHJcbiAgICBjYW5hdnNFbGVtZW50O1xyXG4gICAgY29udGV4dDtcclxuICAgIHByb21wdF9pbWFnZTtcclxuICAgIHRhcmdldFN0b25lcztcclxuICAgIHJpZ2h0VG9MZWZ0O1xyXG4gICAgaW1hZ2VzTG9hZGVkID0gZmFsc2U7XHJcbiAgICBhdWRpb1BsYXllcjtcclxuICAgIGlzU3RvbmVEcm9wcGVkID0gZmFsc2U7XHJcbiAgICBkcm9wcGVkU3RvbmVzID0gMDtcclxuICAgIHRpbWUgPSAwO1xyXG4gICAgcHJvbXB0SW1hZ2VXaWR0aCA9IDA7XHJcbiAgICBpc0FwcEZvcmVncm91bmQgPSB0cnVlO1xyXG4gICAgc2NhbGUgPSAxO1xyXG4gICAgaXNTY2FsaW5nVXAgPSB0cnVlO1xyXG4gICAgc2NhbGVGYWN0b3IgPSAwLjAwMDUwO1xyXG4gICAgcHJvbXB0SW1hZ2VIZWlnaHQgPSAwO1xyXG4gICAgcHJvbXB0UGxheUJ1dHRvbjtcclxuICAgIGNvbnN0cnVjdG9yKHdpZHRoLCBoZWlnaHQsIGN1cnJlbnRQdXp6bGVEYXRhLCBsZXZlbERhdGEsIHJpZ2h0VG9MZWZ0KSB7XHJcbiAgICAgICAgc3VwZXIoe1xyXG4gICAgICAgICAgICBzdG9uZURyb3BDYWxsYmFja0hhbmRsZXI6IChldmVudCkgPT4gdGhpcy5oYW5kbGVTdG9uZURyb3AoZXZlbnQpLFxyXG4gICAgICAgICAgICBsb2FkUHV6emxlQ2FsbGJhY2tIYW5kbGVyOiAoZXZlbnQpID0+IHRoaXMuaGFuZGxlTG9hZFB1enpsZShldmVudClcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5sZXZlbERhdGEgPSBsZXZlbERhdGE7XHJcbiAgICAgICAgdGhpcy5yaWdodFRvTGVmdCA9IHJpZ2h0VG9MZWZ0O1xyXG4gICAgICAgIHRoaXMuY3VycmVudFByb21wdFRleHQgPSBjdXJyZW50UHV6emxlRGF0YS5wcm9tcHQucHJvbXB0VGV4dDtcclxuICAgICAgICB0aGlzLmN1cnJlbnRQdXp6bGVEYXRhID0gY3VycmVudFB1enpsZURhdGE7XHJcbiAgICAgICAgdGhpcy50YXJnZXRTdG9uZXMgPSB0aGlzLmN1cnJlbnRQdXp6bGVEYXRhLnRhcmdldFN0b25lcztcclxuICAgICAgICB0aGlzLmNhbmF2c0VsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbnZhc1wiKTtcclxuICAgICAgICB0aGlzLmNvbnRleHQgPSB0aGlzLmNhbmF2c0VsZW1lbnQuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG4gICAgICAgIHRoaXMuYXVkaW9QbGF5ZXIgPSBuZXcgQXVkaW9QbGF5ZXIoKTtcclxuICAgICAgICB0aGlzLmF1ZGlvUGxheWVyLnByZWxvYWRQcm9tcHRBdWRpbyh0aGlzLmdldFByb21wdEF1ZGlvVXJsKCkpO1xyXG4gICAgICAgIHRoaXMucHJvbXB0X2ltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgdGhpcy5wcm9tcHRQbGF5QnV0dG9uID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgdGhpcy5sb2FkSW1hZ2VzKCk7XHJcbiAgICAgICAgdGhpcy50aW1lID0gMDtcclxuICAgICAgICB0aGlzLnByb21wdEltYWdlV2lkdGggPSB0aGlzLndpZHRoICogMC42NTtcclxuICAgICAgICB0aGlzLnByb21wdEltYWdlSGVpZ2h0ID0gdGhpcy5oZWlnaHQgKiAwLjM7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihWSVNJQklMSVRZX0NIQU5HRSwgdGhpcy5oYW5kbGVWaXNpYmlsaXR5Q2hhbmdlLCBmYWxzZSk7XHJcbiAgICB9XHJcbiAgICBoYW5kbGVNb3VzZURvd24gPSAoZXZlbnQpID0+IHtcclxuICAgICAgICBsZXQgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgY29uc3Qgc2VsZkVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbnZhc1wiKTtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHZhciByZWN0ID0gc2VsZkVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgY29uc3QgeCA9IGV2ZW50LmNsaWVudFggLSByZWN0LmxlZnQ7XHJcbiAgICAgICAgY29uc3QgeSA9IGV2ZW50LmNsaWVudFkgLSByZWN0LnRvcDtcclxuICAgICAgICBpZiAoc2VsZi5vbkNsaWNrKHgsIHkpKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheVNvdW5kKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGdldFByb21wdEF1ZGlvVXJsID0gKCkgPT4ge1xyXG4gICAgICAgIHJldHVybiBVdGlscy5nZXRDb252ZXJ0ZWREZXZQcm9kVVJMKHRoaXMuY3VycmVudFB1enpsZURhdGEucHJvbXB0LnByb21wdEF1ZGlvKTtcclxuICAgIH07XHJcbiAgICBwbGF5U291bmQgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNBcHBGb3JlZ3JvdW5kKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYXVkaW9QbGF5ZXIucGxheVByb21wdEF1ZGlvKFV0aWxzLmdldENvbnZlcnRlZERldlByb2RVUkwodGhpcy5jdXJyZW50UHV6emxlRGF0YS5wcm9tcHQucHJvbXB0QXVkaW8pKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgb25DbGljayh4Q2xpY2ssIHlDbGljaykge1xyXG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoeENsaWNrIC0gdGhpcy53aWR0aCAvIDMpIDwgMTIgJiYgTWF0aC5zcXJ0KHlDbGljayAtIHRoaXMuaGVpZ2h0IC8gNS41KSA8IDEwO1xyXG4gICAgfVxyXG4gICAgc2V0Q3VycnJlbnRQdXp6bGVEYXRhKGRhdGEpIHtcclxuICAgICAgICB0aGlzLmN1cnJlbnRQdXp6bGVEYXRhID0gZGF0YTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRQcm9tcHRUZXh0ID0gZGF0YS5wcm9tcHQucHJvbXB0VGV4dDtcclxuICAgICAgICB0aGlzLnRhcmdldFN0b25lcyA9IHRoaXMuY3VycmVudFB1enpsZURhdGEudGFyZ2V0U3RvbmVzO1xyXG4gICAgfVxyXG4gICAgZHJhd1JUTExhbmcoKSB7XHJcbiAgICAgICAgdmFyIHggPSB0aGlzLndpZHRoIC8gMjtcclxuICAgICAgICBjb25zdCB5ID0gdGhpcy5oZWlnaHQgKiAwLjI2O1xyXG4gICAgICAgIHRoaXMuY29udGV4dC50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xyXG4gICAgICAgIHZhciBmb250U2l6ZSA9IHRoaXMuY2FsY3VsYXRlRm9udCgpO1xyXG4gICAgICAgIGNvbnN0IHNjYWxlZFdpZHRoID0gdGhpcy5wcm9tcHRJbWFnZVdpZHRoO1xyXG4gICAgICAgIGNvbnN0IHNjYWxlZEhlaWdodCA9IHRoaXMucHJvbXB0SW1hZ2VIZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmZvbnQgPSBgJHtmb250U2l6ZX1weCAke2ZvbnR9LCBtb25vc3BhY2VgO1xyXG4gICAgICAgIGlmICh0aGlzLmxldmVsRGF0YS5sZXZlbE1ldGEubGV2ZWxUeXBlID09IFwiTGV0dGVySW5Xb3JkXCIpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMubGV2ZWxEYXRhLmxldmVsTWV0YS5wcm90b1R5cGUgPT0gXCJWaXNpYmxlXCIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBsZXR0ZXJJbldvcmQgPSB0aGlzLmN1cnJlbnRQcm9tcHRUZXh0LnJlcGxhY2UobmV3IFJlZ0V4cCh0aGlzLmN1cnJlbnRQdXp6bGVEYXRhLnRhcmdldFN0b25lc1swXSwgXCJnXCIpLCBcIlwiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5maWxsU3R5bGUgPSBcInJlZFwiO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxUZXh0KHRoaXMudGFyZ2V0U3RvbmVzWzBdLCB4ICsgdGhpcy5jb250ZXh0Lm1lYXN1cmVUZXh0KGxldHRlckluV29yZCkud2lkdGggLyAyLCB5KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5maWxsU3R5bGUgPSBcImJsYWNrXCI7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFRleHQobGV0dGVySW5Xb3JkLCB4IC0gdGhpcy5jb250ZXh0Lm1lYXN1cmVUZXh0KHRoaXMudGFyZ2V0U3RvbmVzWzBdKS53aWR0aCAvIDIsIHkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZSh0aGlzLnByb21wdFBsYXlCdXR0b24sIHRoaXMud2lkdGggLyAyLjQsIHkgLyAxLjE1LCBzY2FsZWRXaWR0aCAvIDQsIHNjYWxlZEhlaWdodCAvIDQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMubGV2ZWxEYXRhLmxldmVsTWV0YS5sZXZlbFR5cGUgPT0gXCJXb3JkXCIpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMubGV2ZWxEYXRhLmxldmVsTWV0YS5wcm90b1R5cGUgPT0gXCJWaXNpYmxlXCIpIHtcclxuICAgICAgICAgICAgICAgIHggPSB4IC0gdGhpcy5jb250ZXh0Lm1lYXN1cmVUZXh0KHRoaXMuY3VycmVudFByb21wdFRleHQpLndpZHRoICogMC41O1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMudGFyZ2V0U3RvbmVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZHJvcHBlZFN0b25lcyA+IGkgfHwgdGhpcy5kcm9wcGVkU3RvbmVzID09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFN0eWxlID0gXCJibGFja1wiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFRleHQodGhpcy50YXJnZXRTdG9uZXNbaV0sIHgsIHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxTdHlsZSA9IFwicmVkXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5maWxsVGV4dCh0aGlzLnRhcmdldFN0b25lc1tpXSwgeCwgeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHggPSB4ICsgdGhpcy5jb250ZXh0Lm1lYXN1cmVUZXh0KHRoaXMudGFyZ2V0U3RvbmVzW2ldKS53aWR0aCArIDU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMucHJvbXB0UGxheUJ1dHRvbiwgdGhpcy53aWR0aCAvIDIuNCwgeSAvIDEuMTUsIHNjYWxlZFdpZHRoIC8gNCwgc2NhbGVkSGVpZ2h0IC8gNCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5sZXZlbERhdGEubGV2ZWxNZXRhLmxldmVsVHlwZSA9PSBcImF1ZGlvUGxheWVyV29yZFwiKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9mZnNldFggPSAodGhpcy53aWR0aCAtIHNjYWxlZFdpZHRoKSAqIDEuMjU7XHJcbiAgICAgICAgICAgIGNvbnN0IG9mZnNldFkgPSAodGhpcy5oZWlnaHQgLSBzY2FsZWRIZWlnaHQpICogMC4zMztcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZSh0aGlzLnByb21wdFBsYXlCdXR0b24sIG9mZnNldFgsIG9mZnNldFksIHNjYWxlZFdpZHRoIC8gNCwgc2NhbGVkSGVpZ2h0IC8gNCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5sZXZlbERhdGEubGV2ZWxNZXRhLnByb3RvVHlwZSA9PSBcIlZpc2libGVcIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxTdHlsZSA9IFwiYmxhY2tcIjtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5maWxsVGV4dCh0aGlzLmN1cnJlbnRQcm9tcHRUZXh0LCB4LCB5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5wcm9tcHRQbGF5QnV0dG9uLCB0aGlzLndpZHRoIC8gMi40LCB5IC8gMS4xNSwgc2NhbGVkV2lkdGggLyA0LCBzY2FsZWRIZWlnaHQgLyA0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGRyYXdPdGhlcnMoKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbXB0VGV4dExldHRlcnMgPSB0aGlzLmN1cnJlbnRQcm9tcHRUZXh0LnNwbGl0KFwiXCIpO1xyXG4gICAgICAgIGNvbnN0IHggPSB0aGlzLndpZHRoIC8gMjtcclxuICAgICAgICBjb25zdCB5ID0gdGhpcy5oZWlnaHQgKiAwLjI4O1xyXG4gICAgICAgIGNvbnN0IHNjYWxlZFdpZHRoID0gdGhpcy5wcm9tcHRJbWFnZVdpZHRoO1xyXG4gICAgICAgIGNvbnN0IHNjYWxlZEhlaWdodCA9IHRoaXMucHJvbXB0SW1hZ2VIZWlnaHQ7XHJcbiAgICAgICAgdmFyIGZvbnRTaXplID0gdGhpcy5jYWxjdWxhdGVGb250KCk7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmZvbnQgPSBgJHtmb250U2l6ZX1weCAke2ZvbnR9LCBtb25vc3BhY2VgO1xyXG4gICAgICAgIGxldCBzdGFydFByb21wdHRleHRYID0gdGhpcy53aWR0aCAvIDIgLVxyXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQubWVhc3VyZVRleHQodGhpcy5jdXJyZW50UHJvbXB0VGV4dCkud2lkdGggLyAyO1xyXG4gICAgICAgIGxldCBjdXJyZW50V29yZFdpZHRoID0gMDtcclxuICAgICAgICB2YXIgbGV0dGVySGlnaGxpZ2h0ID0gdGhpcy5jdXJyZW50UHV6emxlRGF0YS50YXJnZXRTdG9uZXNbMF0uc3BsaXQoXCJcIik7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9tcHRUZXh0TGV0dGVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMubGV2ZWxEYXRhLmxldmVsTWV0YS5sZXZlbFR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJMZXR0ZXJJbldvcmRcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmxldmVsRGF0YS5sZXZlbE1ldGEucHJvdG9UeXBlID09IFwiVmlzaWJsZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsZXR0ZXJIaWdobGlnaHQuaW5jbHVkZXMocHJvbXB0VGV4dExldHRlcnNbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXR0ZXJIaWdobGlnaHQgPSBsZXR0ZXJIaWdobGlnaHQuc2xpY2UoMSwgbGV0dGVySGlnaGxpZ2h0Lmxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFN0eWxlID0gXCJyZWRcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5maWxsVGV4dChwcm9tcHRUZXh0TGV0dGVyc1tpXSwgc3RhcnRQcm9tcHR0ZXh0WCwgeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFN0eWxlID0gXCJibGFja1wiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxUZXh0KHByb21wdFRleHRMZXR0ZXJzW2ldLCBzdGFydFByb21wdHRleHRYLCB5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5wcm9tcHRQbGF5QnV0dG9uLCB0aGlzLndpZHRoIC8gMi40LCB5IC8gMS4yNSwgc2NhbGVkV2lkdGggLyA0LCBzY2FsZWRIZWlnaHQgLyA0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiV29yZFwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubGV2ZWxEYXRhLmxldmVsTWV0YS5wcm90b1R5cGUgPT0gXCJWaXNpYmxlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZHJvcHBlZFN0b25lcyA+IGkgfHwgdGhpcy5kcm9wcGVkU3RvbmVzID09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxTdHlsZSA9IFwiYmxhY2tcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5maWxsVGV4dChwcm9tcHRUZXh0TGV0dGVyc1tpXSwgc3RhcnRQcm9tcHR0ZXh0WCwgeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFN0eWxlID0gXCJyZWRcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5maWxsVGV4dChwcm9tcHRUZXh0TGV0dGVyc1tpXSwgc3RhcnRQcm9tcHR0ZXh0WCwgeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMucHJvbXB0UGxheUJ1dHRvbiwgdGhpcy53aWR0aCAvIDIuNCwgeSAvIDEuMjUsIHNjYWxlZFdpZHRoIC8gNCwgc2NhbGVkSGVpZ2h0IC8gNCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2FzZSBcIlNvdW5kV29yZFwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZSh0aGlzLnByb21wdFBsYXlCdXR0b24sIHRoaXMud2lkdGggLyAyLjQsIHkgLyAxLjI1LCBzY2FsZWRXaWR0aCAvIDQsIHNjYWxlZEhlaWdodCAvIDQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDoge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmxldmVsRGF0YS5sZXZlbE1ldGEucHJvdG9UeXBlID09IFwiVmlzaWJsZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5maWxsU3R5bGUgPSBcImJsYWNrXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5maWxsVGV4dCh0aGlzLmN1cnJlbnRQcm9tcHRUZXh0LCB0aGlzLndpZHRoIC8gMi4xLCB5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMucHJvbXB0UGxheUJ1dHRvbiwgdGhpcy53aWR0aCAvIDIuNCwgeSAvIDEuMjUsIHNjYWxlZFdpZHRoIC8gNCwgc2NhbGVkSGVpZ2h0IC8gNCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGN1cnJlbnRXb3JkV2lkdGggPSAodGhpcy5jb250ZXh0Lm1lYXN1cmVUZXh0KHByb21wdFRleHRMZXR0ZXJzW2ldKS53aWR0aCArIHRoaXMuY29udGV4dC5tZWFzdXJlVGV4dChwcm9tcHRUZXh0TGV0dGVyc1tpICsgMV0pLndpZHRoKSAvIDI7XHJcbiAgICAgICAgICAgIHN0YXJ0UHJvbXB0dGV4dFggKz0gY3VycmVudFdvcmRXaWR0aDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBkcmF3KGRlbHRhVGltZSkge1xyXG4gICAgICAgIHRoaXMudXBkYXRlU2NhbGluZygpO1xyXG4gICAgICAgIHRoaXMudGltZSA9IChkZWx0YVRpbWUgPCAxNykgPyB0aGlzLnRpbWUgKyBNYXRoLmZsb29yKGRlbHRhVGltZSkgOiB0aGlzLnRpbWUgKyAxNjtcclxuICAgICAgICBpZiAoTWF0aC5mbG9vcih0aGlzLnRpbWUpID49IDE5MTAgJiYgTWF0aC5mbG9vcih0aGlzLnRpbWUpIDw9IDE5MjYpIHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5U291bmQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RvbmVEcm9wcGVkKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNjYWxlZFdpZHRoID0gdGhpcy5wcm9tcHRJbWFnZVdpZHRoICogdGhpcy5zY2FsZTtcclxuICAgICAgICAgICAgY29uc3Qgc2NhbGVkSGVpZ2h0ID0gdGhpcy5wcm9tcHRJbWFnZUhlaWdodCAqIHRoaXMuc2NhbGU7XHJcbiAgICAgICAgICAgIGNvbnN0IG9mZnNldFggPSAodGhpcy53aWR0aCAtIHNjYWxlZFdpZHRoKSAvIDI7XHJcbiAgICAgICAgICAgIGNvbnN0IG9mZnNldFkgPSAodGhpcy5oZWlnaHQgLSBzY2FsZWRIZWlnaHQpIC8gNTtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZSh0aGlzLnByb21wdF9pbWFnZSwgb2Zmc2V0WCwgb2Zmc2V0WSwgc2NhbGVkV2lkdGgsIHNjYWxlZEhlaWdodCk7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5maWxsU3R5bGUgPSBcImJsYWNrXCI7XHJcbiAgICAgICAgICAgIHRoaXMucmlnaHRUb0xlZnRcclxuICAgICAgICAgICAgICAgID8gdGhpcy5kcmF3UlRMTGFuZygpXHJcbiAgICAgICAgICAgICAgICA6IHRoaXMuZHJhd090aGVycygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGhhbmRsZVN0b25lRHJvcChldmVudCkge1xyXG4gICAgICAgIHRoaXMuaXNTdG9uZURyb3BwZWQgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgaGFuZGxlTG9hZFB1enpsZShldmVudCkge1xyXG4gICAgICAgIHRoaXMuZHJvcHBlZFN0b25lcyA9IDA7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50UHV6emxlRGF0YSA9IHRoaXMubGV2ZWxEYXRhLnB1enpsZXNbZXZlbnQuZGV0YWlsLmNvdW50ZXJdO1xyXG4gICAgICAgIHRoaXMuY3VycmVudFByb21wdFRleHQgPSB0aGlzLmN1cnJlbnRQdXp6bGVEYXRhLnByb21wdC5wcm9tcHRUZXh0O1xyXG4gICAgICAgIHRoaXMudGFyZ2V0U3RvbmVzID0gdGhpcy5jdXJyZW50UHV6emxlRGF0YS50YXJnZXRTdG9uZXM7XHJcbiAgICAgICAgdGhpcy5hdWRpb1BsYXllci5wcmVsb2FkUHJvbXB0QXVkaW8odGhpcy5nZXRQcm9tcHRBdWRpb1VybCgpKTtcclxuICAgICAgICB0aGlzLmlzU3RvbmVEcm9wcGVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy50aW1lID0gMDtcclxuICAgIH1cclxuICAgIGRpc3Bvc2UoKSB7XHJcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihWSVNJQklMSVRZX0NIQU5HRSwgdGhpcy5oYW5kbGVWaXNpYmlsaXR5Q2hhbmdlLCBmYWxzZSk7XHJcbiAgICAgICAgdGhpcy51bnJlZ2lzdGVyRXZlbnRMaXN0ZW5lcigpO1xyXG4gICAgfVxyXG4gICAgZHJvcHBlZFN0b25lSW5kZXgoaW5kZXgpIHtcclxuICAgICAgICB0aGlzLmRyb3BwZWRTdG9uZXMgPSBpbmRleDtcclxuICAgIH1cclxuICAgIGNhbGN1bGF0ZUZvbnQoKSB7XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLnByb21wdEltYWdlV2lkdGggLyB0aGlzLmN1cnJlbnRQcm9tcHRUZXh0Lmxlbmd0aCA+IDM1KSA/IDM1IDogdGhpcy53aWR0aCAqIDAuNjUgLyB0aGlzLmN1cnJlbnRQcm9tcHRUZXh0Lmxlbmd0aDtcclxuICAgIH1cclxuICAgIHVwZGF0ZVNjYWxpbmcoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNTY2FsaW5nVXApIHtcclxuICAgICAgICAgICAgdGhpcy5zY2FsZSArPSB0aGlzLnNjYWxlRmFjdG9yO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zY2FsZSA+PSAxLjA1KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzU2NhbGluZ1VwID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NhbGUgLT0gdGhpcy5zY2FsZUZhY3RvcjtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc2NhbGUgPD0gMSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2FsZSA9IDE7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzU2NhbGluZ1VwID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGhhbmRsZVZpc2liaWxpdHlDaGFuZ2UgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PSBcImhpZGRlblwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYXVkaW9QbGF5ZXIuc3RvcEFsbEF1ZGlvcygpO1xyXG4gICAgICAgICAgICB0aGlzLmlzQXBwRm9yZWdyb3VuZCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09IFwidmlzaWJsZVwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNBcHBGb3JlZ3JvdW5kID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgYXN5bmMgbG9hZEltYWdlcygpIHtcclxuICAgICAgICBjb25zdCBpbWFnZTFQcm9taXNlID0gdGhpcy5sb2FkSW1hZ2UodGhpcy5wcm9tcHRfaW1hZ2UsIFBST01QVF9URVhUX0JHKTtcclxuICAgICAgICBjb25zdCBpbWFnZTJQcm9taXNlID0gdGhpcy5sb2FkSW1hZ2UodGhpcy5wcm9tcHRQbGF5QnV0dG9uLCBQUk9NUFRfUExBWV9CVVRUT04pO1xyXG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKFtpbWFnZTFQcm9taXNlLCBpbWFnZTJQcm9taXNlXSk7XHJcbiAgICAgICAgdGhpcy5pbWFnZXNMb2FkZWQgPSB0cnVlO1xyXG4gICAgICAgIC8vIFlvdSBjYW4gZG8gYWRkaXRpb25hbCBhY3Rpb25zIGhlcmUgYWZ0ZXIgYm90aCBpbWFnZXMgYXJlIGxvYWRlZC5cclxuICAgIH1cclxuICAgIGxvYWRJbWFnZShpbWFnZSwgc3JjKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgaW1hZ2Uub25sb2FkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBpbWFnZS5zcmMgPSBzcmM7XHJcbiAgICAgICAgICAgIGltYWdlLm9uZXJyb3IgPSAoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgU3RvbmVDb25maWcsIFZJU0lCSUxJVFlfQ0hBTkdFLCBVdGlscyB9IGZyb20gJ0Bjb21tb24nO1xyXG5pbXBvcnQgeyBFdmVudE1hbmFnZXIgfSBmcm9tIFwiQGV2ZW50c1wiO1xyXG5pbXBvcnQgeyBUdXRvcmlhbCwgQXVkaW9QbGF5ZXIgfSBmcm9tIFwiQGNvbXBvbmVudHNcIjtcclxuaW1wb3J0IHsgR2FtZVNjb3JlIH0gZnJvbSBcIkBkYXRhXCI7XHJcbmltcG9ydCB7IEFVRElPX1BBVEhfRUFUUywgQVVESU9fUEFUSF9NT05TVEVSX1NQSVQsIEFVRElPX1BBVEhfTU9OU1RFUl9ESVNTQVBPSU5URUQsIEFVRElPX1BBVEhfUE9JTlRTX0FERCwgQVVESU9fUEFUSF9DT1JSRUNUX1NUT05FLCBBVURJT19QQVRIX0NIRUVSSU5HX0ZVTkMsIEFTU0VUU19QQVRIX1NUT05FX1BJTktfQkcgfSBmcm9tICdAY29uc3RhbnRzJztcclxuaW1wb3J0IGdhbWVTdGF0ZVNlcnZpY2UgZnJvbSAnQGdhbWVTdGF0ZVNlcnZpY2UnO1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdG9uZUhhbmRsZXIgZXh0ZW5kcyBFdmVudE1hbmFnZXIge1xyXG4gICAgY29udGV4dDtcclxuICAgIGNhbnZhcztcclxuICAgIGN1cnJlbnRQdXp6bGVEYXRhO1xyXG4gICAgdGFyZ2V0U3RvbmVzO1xyXG4gICAgc3RvbmVQb3M7XHJcbiAgICBwaWNrZWRTdG9uZTtcclxuICAgIGZvaWxTdG9uZXMgPSBuZXcgQXJyYXkoKTtcclxuICAgIGFuc3dlciA9IFwiXCI7XHJcbiAgICBwdXp6bGVOdW1iZXI7XHJcbiAgICBsZXZlbERhdGE7XHJcbiAgICBjb3JyZWN0QW5zd2VyO1xyXG4gICAgcHV6emxlU3RhcnRUaW1lO1xyXG4gICAgc2hvd1R1dG9yaWFsID0gR2FtZVNjb3JlLmdldERhdGFmcm9tU3RvcmFnZSgpLmxlbmd0aCA9PSB1bmRlZmluZWQgPyB0cnVlIDogZmFsc2U7XHJcbiAgICBjb3JyZWN0U3RvbmVBdWRpbztcclxuICAgIHR1dG9yaWFsO1xyXG4gICAgY29ycmVjdFRhcmdldFN0b25lO1xyXG4gICAgc3RvbmViZztcclxuICAgIGF1ZGlvUGxheWVyO1xyXG4gICAgZmVlZGJhY2tBdWRpb3M7XHJcbiAgICB0aW1lclRpY2tpbmdJbnN0YW5jZTtcclxuICAgIGlzR2FtZVBhdXNlZCA9IGZhbHNlO1xyXG4gICAgY29uc3RydWN0b3IoY29udGV4dCwgY2FudmFzLCBwdXp6bGVOdW1iZXIsIGxldmVsRGF0YSwgZmVlZGJhY2tBdWRpb3MsIHRpbWVyVGlja2luZ0luc3RhbmNlKSB7XHJcbiAgICAgICAgc3VwZXIoe1xyXG4gICAgICAgICAgICBzdG9uZURyb3BDYWxsYmFja0hhbmRsZXI6IChldmVudCkgPT4gdGhpcy5oYW5kbGVTdG9uZURyb3AoZXZlbnQpLFxyXG4gICAgICAgICAgICBsb2FkUHV6emxlQ2FsbGJhY2tIYW5kbGVyOiAoZXZlbnQpID0+IHRoaXMuaGFuZGxlTG9hZFB1enpsZShldmVudCksXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcclxuICAgICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcclxuICAgICAgICB0aGlzLnB1enpsZU51bWJlciA9IHB1enpsZU51bWJlcjtcclxuICAgICAgICB0aGlzLmxldmVsRGF0YSA9IGxldmVsRGF0YTtcclxuICAgICAgICB0aGlzLnNldFRhcmdldFN0b25lKHRoaXMucHV6emxlTnVtYmVyKTtcclxuICAgICAgICB0aGlzLmluaXRpYWxpemVTdG9uZVBvcygpO1xyXG4gICAgICAgIHRoaXMuY29ycmVjdFN0b25lQXVkaW8gPSBuZXcgQXVkaW8oQVVESU9fUEFUSF9DT1JSRUNUX1NUT05FKTtcclxuICAgICAgICB0aGlzLmNvcnJlY3RTdG9uZUF1ZGlvLmxvb3AgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmZlZWRiYWNrQXVkaW9zID0gdGhpcy5jb252ZXJ0RmVlZEJhY2tBdWRpb3NUb0xpc3QoZmVlZGJhY2tBdWRpb3MpO1xyXG4gICAgICAgIHRoaXMucHV6emxlU3RhcnRUaW1lID0gbmV3IERhdGUoKTtcclxuICAgICAgICB0aGlzLnR1dG9yaWFsID0gbmV3IFR1dG9yaWFsKGNvbnRleHQsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCwgcHV6emxlTnVtYmVyKTtcclxuICAgICAgICB0aGlzLnN0b25lYmcgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICB0aGlzLnN0b25lYmcuc3JjID0gQVNTRVRTX1BBVEhfU1RPTkVfUElOS19CRztcclxuICAgICAgICB0aGlzLmF1ZGlvUGxheWVyID0gbmV3IEF1ZGlvUGxheWVyKCk7XHJcbiAgICAgICAgdGhpcy5zdG9uZWJnLm9ubG9hZCA9IChlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlU3RvbmVzKHRoaXMuc3RvbmViZyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmF1ZGlvUGxheWVyID0gbmV3IEF1ZGlvUGxheWVyKCk7XHJcbiAgICAgICAgdGhpcy50aW1lclRpY2tpbmdJbnN0YW5jZSA9IHRpbWVyVGlja2luZ0luc3RhbmNlO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoVklTSUJJTElUWV9DSEFOR0UsIHRoaXMuaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuc2V0R2FtZVBhdXNlID0gdGhpcy5zZXRHYW1lUGF1c2UuYmluZCh0aGlzKTtcclxuICAgICAgICBnYW1lU3RhdGVTZXJ2aWNlLnN1YnNjcmliZShnYW1lU3RhdGVTZXJ2aWNlLkVWRU5UUy5HQU1FX1BBVVNFX1NUQVRVU19FVkVOVCwgdGhpcy5zZXRHYW1lUGF1c2UpO1xyXG4gICAgfVxyXG4gICAgY3JlYXRlU3RvbmVzKGltZykge1xyXG4gICAgICAgIGNvbnN0IGZvaWxTdG9uZXMgPSB0aGlzLmdldEZvaWxTdG9uZXMoKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZvaWxTdG9uZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGZvaWxTdG9uZXNbaV0gPT0gdGhpcy5jb3JyZWN0VGFyZ2V0U3RvbmUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudHV0b3JpYWwudXBkYXRlVGFyZ2V0U3RvbmVQb3NpdGlvbnModGhpcy5zdG9uZVBvc1tpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5mb2lsU3RvbmVzLnB1c2gobmV3IFN0b25lQ29uZmlnKHRoaXMuY29udGV4dCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCwgZm9pbFN0b25lc1tpXSwgdGhpcy5zdG9uZVBvc1tpXVswXSwgdGhpcy5zdG9uZVBvc1tpXVsxXSwgaW1nLCB0aGlzLnRpbWVyVGlja2luZ0luc3RhbmNlLCBpID09IGZvaWxTdG9uZXMubGVuZ3RoIC0gMSA/IHRoaXMudHV0b3JpYWwgOiBudWxsKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZHJhdyhkZWx0YVRpbWUpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZm9pbFN0b25lcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLmZvaWxTdG9uZXNbaV0uZHJhdyhkZWx0YVRpbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5mb2lsU3RvbmVzW3RoaXMuZm9pbFN0b25lcy5sZW5ndGggLSAxXS5mcmFtZSA+PSAxMDAgJiZcclxuICAgICAgICAgICAgIXRoaXMuaXNHYW1lUGF1c2VkKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGltZXJUaWNraW5nSW5zdGFuY2UudXBkYXRlKGRlbHRhVGltZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZHJhd1dvcmRQdXp6bGVMZXR0ZXJzKGRlbHRhVGltZSwgc2hvdWxkSGlkZVN0b25lQ2hlY2tlciwgZ3JvdXBlZExldHRlcnMpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZm9pbFN0b25lcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoc2hvdWxkSGlkZVN0b25lQ2hlY2tlcihpKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5mb2lsU3RvbmVzW2ldLmRyYXcoZGVsdGFUaW1lLCBPYmplY3Qua2V5cyhncm91cGVkTGV0dGVycykubGVuZ3RoID4gMSAmJiBncm91cGVkTGV0dGVyc1tpXSAhPT0gdW5kZWZpbmVkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5mb2lsU3RvbmVzW3RoaXMuZm9pbFN0b25lcy5sZW5ndGggLSAxXS5mcmFtZSA+PSAxMDAgJiZcclxuICAgICAgICAgICAgIXRoaXMuaXNHYW1lUGF1c2VkKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGltZXJUaWNraW5nSW5zdGFuY2UudXBkYXRlKGRlbHRhVGltZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaW5pdGlhbGl6ZVN0b25lUG9zKCkge1xyXG4gICAgICAgIGxldCBvZmZzZXRDb29yZGluYXRlVmFsdWUgPSAzMjtcclxuICAgICAgICB0aGlzLnN0b25lUG9zID0gW1xyXG4gICAgICAgICAgICBbXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCAvIDUgLSBvZmZzZXRDb29yZGluYXRlVmFsdWUsXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgLyAxLjkgLSBvZmZzZXRDb29yZGluYXRlVmFsdWUsXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIFtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzLndpZHRoIC8gMiAtIG9mZnNldENvb3JkaW5hdGVWYWx1ZSxcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCAvIDEuMTUgLSBvZmZzZXRDb29yZGluYXRlVmFsdWUsXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIFtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzLndpZHRoIC8gMy41ICsgdGhpcy5jYW52YXMud2lkdGggLyAyIC0gb2Zmc2V0Q29vcmRpbmF0ZVZhbHVlLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0IC8gMS4yIC0gb2Zmc2V0Q29vcmRpbmF0ZVZhbHVlLFxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICBbXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCAvIDQgLSBvZmZzZXRDb29yZGluYXRlVmFsdWUsXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgLyAxLjI4IC0gb2Zmc2V0Q29vcmRpbmF0ZVZhbHVlLFxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICBbXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCAvIDcgLSBvZmZzZXRDb29yZGluYXRlVmFsdWUsXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgLyAxLjUgLSBvZmZzZXRDb29yZGluYXRlVmFsdWUsXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIFtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzLndpZHRoIC8gMi4zICtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCAvIDIuMSAtXHJcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0Q29vcmRpbmF0ZVZhbHVlLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0IC8gMS45IC0gb2Zmc2V0Q29vcmRpbmF0ZVZhbHVlLFxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICBbXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCAvIDIuMyArXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW52YXMud2lkdGggLyAyLjEgLVxyXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldENvb3JkaW5hdGVWYWx1ZSxcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCAvIDEuNDIgLSBvZmZzZXRDb29yZGluYXRlVmFsdWUsXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIFtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzLndpZHRoIC8gNiAtIG9mZnNldENvb3JkaW5hdGVWYWx1ZSxcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCAvIDEuMSAtIG9mZnNldENvb3JkaW5hdGVWYWx1ZSxcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICBdO1xyXG4gICAgICAgIHRoaXMuc3RvbmVQb3MgPSB0aGlzLnN0b25lUG9zLnNvcnQoKCkgPT4gTWF0aC5yYW5kb20oKSAtIDAuNSk7XHJcbiAgICB9XHJcbiAgICBzZXRUYXJnZXRTdG9uZShwdXp6bGVOdW1iZXIpIHtcclxuICAgICAgICB0aGlzLmN1cnJlbnRQdXp6bGVEYXRhID0gdGhpcy5sZXZlbERhdGEucHV6emxlc1twdXp6bGVOdW1iZXJdO1xyXG4gICAgICAgIHRoaXMudGFyZ2V0U3RvbmVzID0gWy4uLnRoaXMuY3VycmVudFB1enpsZURhdGEudGFyZ2V0U3RvbmVzXTtcclxuICAgICAgICB0aGlzLmNvcnJlY3RUYXJnZXRTdG9uZSA9IHRoaXMudGFyZ2V0U3RvbmVzLmpvaW4oXCJcIik7XHJcbiAgICB9XHJcbiAgICBoYW5kbGVTdG9uZURyb3AoZXZlbnQpIHtcclxuICAgICAgICB0aGlzLmZvaWxTdG9uZXMgPSBbXTtcclxuICAgIH1cclxuICAgIGhhbmRsZUxvYWRQdXp6bGUoZXZlbnQpIHtcclxuICAgICAgICB0aGlzLmZvaWxTdG9uZXMgPSBbXTtcclxuICAgICAgICB0aGlzLnR1dG9yaWFsLnNldFB1enpsZU51bWJlcihldmVudC5kZXRhaWwuY291bnRlcik7XHJcbiAgICAgICAgdGhpcy5wdXp6bGVOdW1iZXIgPSBldmVudC5kZXRhaWwuY291bnRlcjtcclxuICAgICAgICB0aGlzLnNldFRhcmdldFN0b25lKHRoaXMucHV6emxlTnVtYmVyKTtcclxuICAgICAgICB0aGlzLmluaXRpYWxpemVTdG9uZVBvcygpO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlU3RvbmVzKHRoaXMuc3RvbmViZyk7XHJcbiAgICB9XHJcbiAgICBkaXNwb3NlKCkge1xyXG4gICAgICAgIGdhbWVTdGF0ZVNlcnZpY2UudW5zdWJzY3JpYmUoZ2FtZVN0YXRlU2VydmljZS5FVkVOVFMuR0FNRV9QQVVTRV9TVEFUVVNfRVZFTlQsIHRoaXMuc2V0R2FtZVBhdXNlKTtcclxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFZJU0lCSUxJVFlfQ0hBTkdFLCB0aGlzLmhhbmRsZVZpc2liaWxpdHlDaGFuZ2UsIGZhbHNlKTtcclxuICAgICAgICB0aGlzLnVucmVnaXN0ZXJFdmVudExpc3RlbmVyKCk7XHJcbiAgICB9XHJcbiAgICBpc1N0b25lTGV0dGVyRHJvcENvcnJlY3QoZHJvcHBlZFN0b25lLCBmZWVkQmFja0luZGV4LCBpc1dvcmQgPSBmYWxzZSkge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRvIERvOiBOZWVkIHRvIHJlZmFjdG9yIG9yIHJldm9tZSB0aGlzIGNvbXBsZXRlbHkgYW5kIHBsYWNlIHNvbWV0aGluZ1xyXG4gICAgICAgICAqIHRoYXQgaXMgdGFpbG9yZWQgdG8gc2luZ2xlIGxldHRlciBwdXp6bGUgc2luY2Ugd29yZCBwdXp6bGUgbm8gbG9uZ2VyIHVzZXMgdGhpcy5cclxuICAgICAgICAgKiBXaWxsIGxlYXZlIHRoaXMgZm9yIG5vdyB0byBhdm9pZCBtZXNzaW5nIHdpdGh0IHRoZSBzaW5nbGUgbGV0dGVyIHB1enpsZS5cclxuICAgICAgICAgKi9cclxuICAgICAgICBjb25zdCBpc0xldHRlckRyb3BDb3JyZWN0ID0gaXNXb3JkXHJcbiAgICAgICAgICAgID8gZHJvcHBlZFN0b25lID09IHRoaXMuY29ycmVjdFRhcmdldFN0b25lLnN1YnN0cmluZygwLCBkcm9wcGVkU3RvbmUubGVuZ3RoKVxyXG4gICAgICAgICAgICA6IGRyb3BwZWRTdG9uZSA9PSB0aGlzLmNvcnJlY3RUYXJnZXRTdG9uZTtcclxuICAgICAgICB0aGlzLnByb2Nlc3NMZXR0ZXJEcm9wRmVlZGJhY2tBdWRpbyhmZWVkQmFja0luZGV4LCBpc0xldHRlckRyb3BDb3JyZWN0LCBpc1dvcmQsIGRyb3BwZWRTdG9uZSk7XHJcbiAgICAgICAgcmV0dXJuIGlzTGV0dGVyRHJvcENvcnJlY3Q7XHJcbiAgICB9XHJcbiAgICBwcm9jZXNzTGV0dGVyRHJvcEZlZWRiYWNrQXVkaW8oZmVlZEJhY2tJbmRleCwgaXNMZXR0ZXJEcm9wQ29ycmVjdCwgaXNXb3JkLCBkcm9wcGVkU3RvbmUpIHtcclxuICAgICAgICBpZiAoaXNMZXR0ZXJEcm9wQ29ycmVjdCkge1xyXG4gICAgICAgICAgICBjb25zdCBjb25kaXRpb24gPSBpc1dvcmRcclxuICAgICAgICAgICAgICAgID8gZHJvcHBlZFN0b25lID09PSB0aGlzLmdldENvcnJlY3RUYXJnZXRTdG9uZSgpIC8vIGNvbmRpdGlvbiBmb3Igd29yZCBwdXp6bGVcclxuICAgICAgICAgICAgICAgIDogaXNMZXR0ZXJEcm9wQ29ycmVjdDsgLy8gZm9yIGxldHRlciBhbmQgbGV0dGVyIGZvciB3b3JkIHB1enpsZVxyXG4gICAgICAgICAgICBpZiAoY29uZGl0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXlDb3JyZWN0QW5zd2VyRmVlZGJhY2tTb3VuZChmZWVkQmFja0luZGV4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYXVkaW9QbGF5ZXIucGxheUZlZWRiYWNrQXVkaW9zKGZhbHNlLCBBVURJT19QQVRIX0VBVFMsIEFVRElPX1BBVEhfQ0hFRVJJTkdfRlVOQygyKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuYXVkaW9QbGF5ZXIucGxheUZlZWRiYWNrQXVkaW9zKGZhbHNlLCBBVURJT19QQVRIX0VBVFMsIEFVRElPX1BBVEhfTU9OU1RFUl9TUElULCBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkpID4gMCA/IEFVRElPX1BBVEhfTU9OU1RFUl9ESVNTQVBPSU5URUQgOiBudWxsKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZXRDb3JyZWN0VGFyZ2V0U3RvbmUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29ycmVjdFRhcmdldFN0b25lO1xyXG4gICAgfVxyXG4gICAgZ2V0Rm9pbFN0b25lcygpIHtcclxuICAgICAgICB0aGlzLmN1cnJlbnRQdXp6bGVEYXRhLnRhcmdldFN0b25lcy5mb3JFYWNoKChlKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5jdXJyZW50UHV6emxlRGF0YS5mb2lsU3RvbmVzLmluZGV4T2YoZSk7XHJcbiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFB1enpsZURhdGEuZm9pbFN0b25lcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3QgdG90YWxTdG9uZXNDb3VudCA9IHRoaXMuY3VycmVudFB1enpsZURhdGEudGFyZ2V0U3RvbmVzLmxlbmd0aCArXHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFB1enpsZURhdGEuZm9pbFN0b25lcy5sZW5ndGg7XHJcbiAgICAgICAgaWYgKHRvdGFsU3RvbmVzQ291bnQgPiA4KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGV4dHJhU3RvbmVzQ291bnQgPSB0b3RhbFN0b25lc0NvdW50IC0gODtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50UHV6emxlRGF0YS5mb2lsU3RvbmVzLnNwbGljZSgwLCBleHRyYVN0b25lc0NvdW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jdXJyZW50UHV6emxlRGF0YS50YXJnZXRTdG9uZXMuZm9yRWFjaCgoZSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQdXp6bGVEYXRhLmZvaWxTdG9uZXMucHVzaChlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50UHV6emxlRGF0YS5mb2lsU3RvbmVzLnNvcnQoKCkgPT4gTWF0aC5yYW5kb20oKSAtIDAuNSk7XHJcbiAgICB9XHJcbiAgICBoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuYXVkaW9QbGF5ZXIuc3RvcEFsbEF1ZGlvcygpO1xyXG4gICAgICAgIHRoaXMuY29ycmVjdFN0b25lQXVkaW8ucGF1c2UoKTtcclxuICAgIH07XHJcbiAgICBjb252ZXJ0RmVlZEJhY2tBdWRpb3NUb0xpc3QoZmVlZGJhY2tBdWRpb3MpIHtcclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICBmZWVkYmFja0F1ZGlvc1tcImZhbnRhc3RpY1wiXSxcclxuICAgICAgICAgICAgZmVlZGJhY2tBdWRpb3NbXCJncmVhdFwiXSxcclxuICAgICAgICAgICAgZmVlZGJhY2tBdWRpb3NbXCJhbWF6aW5nXCJdXHJcbiAgICAgICAgXTtcclxuICAgIH1cclxuICAgIHNldEdhbWVQYXVzZShpc0dhbWVQYXVzZWQpIHtcclxuICAgICAgICB0aGlzLmlzR2FtZVBhdXNlZCA9IGlzR2FtZVBhdXNlZDtcclxuICAgIH1cclxuICAgIHBsYXlDb3JyZWN0QW5zd2VyRmVlZGJhY2tTb3VuZChmZWVkQmFja0luZGV4KSB7XHJcbiAgICAgICAgY29uc3QgcmFuZG9tTnVtYmVyID0gVXRpbHMuZ2V0UmFuZG9tTnVtYmVyKDEsIDMpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgdGhpcy5hdWRpb1BsYXllci5wbGF5RmVlZGJhY2tBdWRpb3MoZmFsc2UsIEFVRElPX1BBVEhfRUFUUywgQVVESU9fUEFUSF9DSEVFUklOR19GVU5DKHJhbmRvbU51bWJlciksIEFVRElPX1BBVEhfUE9JTlRTX0FERCwgVXRpbHMuZ2V0Q29udmVydGVkRGV2UHJvZFVSTCh0aGlzLmZlZWRiYWNrQXVkaW9zW2ZlZWRCYWNrSW5kZXhdKSk7XHJcbiAgICAgICAgLy8gdG8gcGxheSB0aGUgYXVkaW8gcGFycmFsbGVseS5cclxuICAgICAgICB0aGlzLmNvcnJlY3RTdG9uZUF1ZGlvLnBsYXkoKTtcclxuICAgIH1cclxuICAgIHJlc2V0U3RvbmVQb3NpdGlvbih3aWR0aCwgcGlja2VkU3RvbmUsIHBpY2tlZFN0b25lT2JqZWN0KSB7XHJcbiAgICAgICAgY29uc3Qgc3RvbmUgPSBwaWNrZWRTdG9uZTtcclxuICAgICAgICBjb25zdCBzdG9uZU9iaiA9IHBpY2tlZFN0b25lT2JqZWN0O1xyXG4gICAgICAgIC8vUmVzZXRzIHRoZSBwcmV2aW91cyBzdG9uZSBsZXR0ZXIgdG8gaXRzIG9yaWdpbmFsIHBvc2l0aW9uLlxyXG4gICAgICAgIGlmIChzdG9uZSAmJlxyXG4gICAgICAgICAgICBzdG9uZU9iaiAmJlxyXG4gICAgICAgICAgICBzdG9uZS50ZXh0ICYmXHJcbiAgICAgICAgICAgIHR5cGVvZiBzdG9uZU9iai5vcmlneCA9PT0gXCJudW1iZXJcIiAmJlxyXG4gICAgICAgICAgICB0eXBlb2Ygc3RvbmVPYmoub3JpZ3kgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgY29uc3QgeExpbWl0ID0gNTA7XHJcbiAgICAgICAgICAgIGNvbnN0IGhhbGZXaWR0aCA9IHdpZHRoIC8gMjtcclxuICAgICAgICAgICAgc3RvbmUueCA9IHN0b25lLnRleHQubGVuZ3RoIDw9IDMgJiZcclxuICAgICAgICAgICAgICAgIHN0b25lT2JqLm9yaWd4IDwgeExpbWl0ICYmXHJcbiAgICAgICAgICAgICAgICBzdG9uZU9iai5vcmlneCA8IGhhbGZXaWR0aFxyXG4gICAgICAgICAgICAgICAgPyBzdG9uZU9iai5vcmlneCArIDI1XHJcbiAgICAgICAgICAgICAgICA6IHN0b25lT2JqLm9yaWd4O1xyXG4gICAgICAgICAgICBzdG9uZS55ID0gc3RvbmVPYmoub3JpZ3k7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzdG9uZTtcclxuICAgIH1cclxuICAgIGNvbXB1dGVDdXJzb3JEaXN0YW5jZShwb3NYLCBwb3NZLCBzYykge1xyXG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoKHBvc1ggLSBzYy54KSAqKiAyICsgKHBvc1kgLSBzYy55KSAqKiAyKTtcclxuICAgIH1cclxuICAgIGhhbmRsZVBpY2tTdG9uZVVwKHBvc1gsIHBvc1kpIHtcclxuICAgICAgICBsZXQgc3RvbmVMZXR0ZXIgPSBudWxsO1xyXG4gICAgICAgIGxldCBjdHIgPSAwO1xyXG4gICAgICAgIGZvciAobGV0IHNjIG9mIHRoaXMuZm9pbFN0b25lcykge1xyXG4gICAgICAgICAgICBjb25zdCBkaXN0YW5jZSA9IHRoaXMuY29tcHV0ZUN1cnNvckRpc3RhbmNlKHBvc1gsIHBvc1ksIHNjKTtcclxuICAgICAgICAgICAgaWYgKGRpc3RhbmNlIDw9IDQwKSB7XHJcbiAgICAgICAgICAgICAgICBzdG9uZUxldHRlciA9IHNjO1xyXG4gICAgICAgICAgICAgICAgLyogQWRkcyBhIHVuaXF1ZSBpZGVudGlmaWVyIHRvIHRlbGwgd2hpY2ggbGV0dGVyIGlzIHdoaWNoIGluIGNhc2UgdGhlcmUgYXJlIHR3byBvciBtb3JlIG9mIHRoZSBzYW1lIGxldHRlci4qL1xyXG4gICAgICAgICAgICAgICAgc3RvbmVMZXR0ZXJbJ2ZvaWxTdG9uZUluZGV4J10gPSBjdHI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjdHIrKztcclxuICAgICAgICB9XHJcbiAgICAgICAgO1xyXG4gICAgICAgIHJldHVybiBzdG9uZUxldHRlcjtcclxuICAgIH1cclxuICAgIGhhbmRsZUhvdmVyaW5nVG9Bbm90aGVyU3RvbmUocG9zWCwgcG9zWSwgc2hvdWxkR3JvdXBMZXR0ZXIpIHtcclxuICAgICAgICAvKiBIYW5kbGUgaG92ZXJpbmcgb2Ygc3RvbmVzIGZvciB3b3JkIHB1enpsZSBtdWx0aS1sZXR0ZXIgc2VsZWN0LiovXHJcbiAgICAgICAgbGV0IHN0b25lTGV0dGVyID0gbnVsbDtcclxuICAgICAgICBsZXQgY3RyID0gMDtcclxuICAgICAgICBmb3IgKGxldCBzYyBvZiB0aGlzLmZvaWxTdG9uZXMpIHtcclxuICAgICAgICAgICAgY29uc3QgZGlzdGFuY2UgPSB0aGlzLmNvbXB1dGVDdXJzb3JEaXN0YW5jZShwb3NYLCBwb3NZLCBzYyk7XHJcbiAgICAgICAgICAgIGlmIChkaXN0YW5jZSA8PSA0MCAmJiBzaG91bGRHcm91cExldHRlcihzYy50ZXh0LCBjdHIpKSB7XHJcbiAgICAgICAgICAgICAgICBzdG9uZUxldHRlciA9IHNjO1xyXG4gICAgICAgICAgICAgICAgLyogQWRkcyBhIHVuaXF1ZSBpZGVudGlmaWVyIHRvIHRlbGwgd2hpY2ggbGV0dGVyIGlzIHdoaWNoIGluIGNhc2UgdGhlcmUgYXJlIHR3byBvciBtb3JlIG9mIHRoZSBzYW1lIGxldHRlci4qL1xyXG4gICAgICAgICAgICAgICAgc3RvbmVMZXR0ZXJbJ2ZvaWxTdG9uZUluZGV4J10gPSBjdHI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjdHIrKztcclxuICAgICAgICB9XHJcbiAgICAgICAgO1xyXG4gICAgICAgIHJldHVybiBzdG9uZUxldHRlcjtcclxuICAgIH1cclxuICAgIGhhbmRsZU1vdmluZ1N0b25lTGV0dGVyKGRyYWdnaW5nU3RvbmUsIHBvc1gsIHBvc1kpIHtcclxuICAgICAgICBjb25zdCB1cGRhdGVkU3RvbmVDb29yZGluYXRlcyA9IGRyYWdnaW5nU3RvbmU7XHJcbiAgICAgICAgY29uc3QgcmVjdCA9IHRoaXMuY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgIHVwZGF0ZWRTdG9uZUNvb3JkaW5hdGVzLnggPSBwb3NYIC0gcmVjdC5sZWZ0O1xyXG4gICAgICAgIHVwZGF0ZWRTdG9uZUNvb3JkaW5hdGVzLnkgPSBwb3NZIC0gcmVjdC50b3A7XHJcbiAgICAgICAgcmV0dXJuIHVwZGF0ZWRTdG9uZUNvb3JkaW5hdGVzO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IGxvYWRJbWFnZXMgfSBmcm9tIFwiQGNvbW1vblwiO1xyXG5pbXBvcnQgeyBFdmVudE1hbmFnZXIgfSBmcm9tIFwiQGV2ZW50c1wiO1xyXG5pbXBvcnQgeyBBdWRpb1BsYXllciB9IGZyb20gXCJAY29tcG9uZW50c1wiO1xyXG5pbXBvcnQgeyBUSU1FUl9FTVBUWSwgUk9UQVRJTkdfQ0xPQ0ssIFRJTUVSX0ZVTEwsIEFVRElPX1RJTUVPVVQgfSBmcm9tIFwiQGNvbnN0YW50c1wiO1xyXG5leHBvcnQgY2xhc3MgVGltZXJUaWNraW5nIGV4dGVuZHMgRXZlbnRNYW5hZ2VyIHtcclxuICAgIHdpZHRoO1xyXG4gICAgaGVpZ2h0O1xyXG4gICAgdGltZXJXaWR0aDtcclxuICAgIHRpbWVySGVpZ2h0O1xyXG4gICAgd2lkdGhUb0NsZWFyO1xyXG4gICAgdGltZXI7XHJcbiAgICBpc1RpbWVyU3RhcnRlZDtcclxuICAgIGlzVGltZXJFbmRlZDtcclxuICAgIGlzVGltZXJSdW5uaW5nT3V0O1xyXG4gICAgY2FuYXZzRWxlbWVudDtcclxuICAgIGNvbnRleHQ7XHJcbiAgICB0aW1lcl9mdWxsO1xyXG4gICAgcGF1c2VCdXR0b25DbGlja2VkO1xyXG4gICAgaW1hZ2VzO1xyXG4gICAgbG9hZGVkSW1hZ2VzO1xyXG4gICAgY2FsbGJhY2s7XHJcbiAgICBpbWFnZXNMb2FkZWQgPSBmYWxzZTtcclxuICAgIHN0YXJ0TXlUaW1lciA9IHRydWU7XHJcbiAgICBpc015VGltZXJPdmVyID0gZmFsc2U7XHJcbiAgICBpc1N0b25lRHJvcHBlZCA9IGZhbHNlO1xyXG4gICAgYXVkaW9QbGF5ZXI7XHJcbiAgICBwbGF5TGV2ZWxFbmRBdWRpb09uY2UgPSB0cnVlO1xyXG4gICAgY29uc3RydWN0b3Iod2lkdGgsIGhlaWdodCwgY2FsbGJhY2spIHtcclxuICAgICAgICBzdXBlcih7XHJcbiAgICAgICAgICAgIHN0b25lRHJvcENhbGxiYWNrSGFuZGxlcjogKGV2ZW50KSA9PiB0aGlzLmhhbmRsZVN0b25lRHJvcChldmVudCksXHJcbiAgICAgICAgICAgIGxvYWRQdXp6bGVDYWxsYmFja0hhbmRsZXI6IChldmVudCkgPT4gdGhpcy5oYW5kbGVMb2FkUHV6emxlKGV2ZW50KVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcclxuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcclxuICAgICAgICB0aGlzLndpZHRoVG9DbGVhciA9IHRoaXMud2lkdGggLyAzLjQ7XHJcbiAgICAgICAgdGhpcy50aW1lckhlaWdodCA9IDExMjtcclxuICAgICAgICB0aGlzLnRpbWVyV2lkdGggPSA4ODg7XHJcbiAgICAgICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xyXG4gICAgICAgIHRoaXMuY2FuYXZzRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FudmFzXCIpO1xyXG4gICAgICAgIHRoaXMuY29udGV4dCA9IHRoaXMuY2FuYXZzRWxlbWVudC5nZXRDb250ZXh0KFwiMmRcIik7XHJcbiAgICAgICAgdGhpcy50aW1lciA9IDA7XHJcbiAgICAgICAgdGhpcy5pc1RpbWVyU3RhcnRlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuaXNUaW1lckVuZGVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5pc1RpbWVyUnVubmluZ091dCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuYXVkaW9QbGF5ZXIgPSBuZXcgQXVkaW9QbGF5ZXIoKTtcclxuICAgICAgICB0aGlzLnBsYXlMZXZlbEVuZEF1ZGlvT25jZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5pbWFnZXMgPSB7XHJcbiAgICAgICAgICAgIHRpbWVyX2VtcHR5OiBUSU1FUl9FTVBUWSxcclxuICAgICAgICAgICAgcm90YXRpbmdfY2xvY2s6IFJPVEFUSU5HX0NMT0NLLFxyXG4gICAgICAgICAgICB0aW1lcl9mdWxsOiBUSU1FUl9GVUxMXHJcbiAgICAgICAgfTtcclxuICAgICAgICBsb2FkSW1hZ2VzKHRoaXMuaW1hZ2VzLCAoaW1hZ2VzKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZGVkSW1hZ2VzID0gT2JqZWN0LmFzc2lnbih7fSwgaW1hZ2VzKTtcclxuICAgICAgICAgICAgdGhpcy5pbWFnZXNMb2FkZWQgPSB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgc3RhcnRUaW1lcigpIHtcclxuICAgICAgICAvLyBpdCB3aWxsIHN0YXJ0IHRpbWVyIGltbWVkaWF0bHlcclxuICAgICAgICB0aGlzLnJlYWR5VGltZXIoKTtcclxuICAgICAgICB0aGlzLnN0YXJ0TXlUaW1lciA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5pc015VGltZXJPdmVyID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICByZWFkeVRpbWVyKCkge1xyXG4gICAgICAgIC8vIG1ha2UgdGltZXIgbG9vayBmdWxsIHNvIGFzIGl0IGdldCBzdGFydCBzaWduYWwuLi4uLiBpdCB3aWxsIHN0YXJ0IGRlY3JlYXNpbmdcclxuICAgICAgICB0aGlzLnRpbWVyID0gMDtcclxuICAgIH1cclxuICAgIHVwZGF0ZShkZWx0YVRpbWUpIHtcclxuICAgICAgICBpZiAodGhpcy5zdGFydE15VGltZXIgJiYgIXRoaXMuaXNTdG9uZURyb3BwZWQpIHtcclxuICAgICAgICAgICAgdGhpcy50aW1lciArPSBkZWx0YVRpbWUgKiAwLjAwODtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKE1hdGguZmxvb3IodGhpcy53aWR0aCAqIDAuODcgLSAodGhpcy53aWR0aCAqIDAuODcgKiB0aGlzLnRpbWVyICogMC4wMSkpID09IDQwICYmICF0aGlzLmlzTXlUaW1lck92ZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5TGV2ZWxFbmRBdWRpb09uY2UgPyB0aGlzLmF1ZGlvUGxheWVyLnBsYXlBdWRpbyhBVURJT19USU1FT1VUKSA6IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMucGxheUxldmVsRW5kQXVkaW9PbmNlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgodGhpcy53aWR0aCAqIDAuODcgLSAodGhpcy53aWR0aCAqIDAuODcgKiB0aGlzLnRpbWVyICogMC4wMSkpIDwgMCAmJiAhdGhpcy5pc015VGltZXJPdmVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNNeVRpbWVyT3ZlciA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2sodHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZHJhdygpIHtcclxuICAgICAgICBpZiAodGhpcy5pbWFnZXNMb2FkZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZSh0aGlzLmxvYWRlZEltYWdlcy50aW1lcl9lbXB0eSwgMCwgdGhpcy5oZWlnaHQgKiAwLjEsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0ICogMC4wNSk7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5sb2FkZWRJbWFnZXMucm90YXRpbmdfY2xvY2ssIDAsIHRoaXMuaGVpZ2h0ICogMC4wOSwgdGhpcy53aWR0aCAqIDAuMTQsIHRoaXMuaGVpZ2h0ICogMC4wNjUpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMubG9hZGVkSW1hZ2VzLnRpbWVyX2Z1bGwsIDAsIDAsIHRoaXMudGltZXJXaWR0aCAtICh0aGlzLnRpbWVyV2lkdGggKiB0aGlzLnRpbWVyICogMC4wMSksIHRoaXMudGltZXJIZWlnaHQsIHRoaXMud2lkdGggKiAwLjE0LCB0aGlzLmhlaWdodCAqIDAuMDk5LCB0aGlzLndpZHRoICogMC44NyAtICh0aGlzLndpZHRoICogMC44NyAqIHRoaXMudGltZXIgKiAwLjAxKSwgdGhpcy5oZWlnaHQgKiAwLjA1KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBoYW5kbGVTdG9uZURyb3AoZXZlbnQpIHtcclxuICAgICAgICB0aGlzLmlzU3RvbmVEcm9wcGVkID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIGhhbmRsZUxvYWRQdXp6bGUoZXZlbnQpIHtcclxuICAgICAgICB0aGlzLnBsYXlMZXZlbEVuZEF1ZGlvT25jZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5pc1N0b25lRHJvcHBlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc3RhcnRUaW1lcigpO1xyXG4gICAgfVxyXG4gICAgZGlzcG9zZSgpIHtcclxuICAgICAgICB0aGlzLnVucmVnaXN0ZXJFdmVudExpc3RlbmVyKCk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IGdhbWVTdGF0ZVNlcnZpY2UgZnJvbSAnQGdhbWVTdGF0ZVNlcnZpY2UnO1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUcmFpbEVmZmVjdCB7XHJcbiAgICBjdHg7XHJcbiAgICBwYXJ0aWNsZXM7XHJcbiAgICBtb3VzZTtcclxuICAgIGlzRGlhbW9uZDtcclxuICAgIGNsaWNrVHJhaWxUb2dnbGU7XHJcbiAgICBjb25zdHJ1Y3RvcihjYW52YXMpIHtcclxuICAgICAgICB0aGlzLmN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XHJcbiAgICAgICAgdGhpcy5wYXJ0aWNsZXMgPSBbXTtcclxuICAgICAgICB0aGlzLm1vdXNlID0ge1xyXG4gICAgICAgICAgICB4OiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgIHk6IHVuZGVmaW5lZFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5pc0RpYW1vbmQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmNsaWNrVHJhaWxUb2dnbGUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnRyYWlsVG9nZ2xlTGlzdGVuZXIgPSB0aGlzLnRyYWlsVG9nZ2xlTGlzdGVuZXIuYmluZCh0aGlzKTtcclxuICAgICAgICBnYW1lU3RhdGVTZXJ2aWNlLnN1YnNjcmliZShnYW1lU3RhdGVTZXJ2aWNlLkVWRU5UUy5HQU1FX1RSQUlMX0VGRkVDVF9UT0dHTEVfRVZFTlQsIHRoaXMudHJhaWxUb2dnbGVMaXN0ZW5lcik7XHJcbiAgICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICB9XHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIHRoaXMuZHJhdygpO1xyXG4gICAgfVxyXG4gICAgdHJhaWxUb2dnbGVMaXN0ZW5lcihpc1RyYWlsRWZmZWN0T24pIHtcclxuICAgICAgICB0aGlzLmNsaWNrVHJhaWxUb2dnbGUgPSBpc1RyYWlsRWZmZWN0T247XHJcbiAgICB9XHJcbiAgICBkcmF3KCkge1xyXG4gICAgICAgIHRoaXMuZHJhd1RyYWlsKCk7XHJcbiAgICAgICAgbGV0IHRlbXAgPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucGFydGljbGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBhcnRpY2xlc1tpXS50aW1lIDw9IHRoaXMucGFydGljbGVzW2ldLnR0bCkge1xyXG4gICAgICAgICAgICAgICAgdGVtcC5wdXNoKHRoaXMucGFydGljbGVzW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnBhcnRpY2xlcyA9IHRlbXA7XHJcbiAgICB9XHJcbiAgICBkcmF3VHJhaWwoKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBhcnRpY2xlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLnBhcnRpY2xlc1tpXS51cGRhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5pc0RpYW1vbmQgPSAhdGhpcy5pc0RpYW1vbmQ7XHJcbiAgICAgICAgICAgIHRoaXMucGFydGljbGVzW2ldLmRyYXcodGhpcy5pc0RpYW1vbmQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGFkZFRyYWlsUGFydGljbGVzT25Nb3ZlKHgsIHkpIHtcclxuICAgICAgICBpZiAodGhpcy5jbGlja1RyYWlsVG9nZ2xlKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW91c2UueCA9IHg7XHJcbiAgICAgICAgICAgIHRoaXMubW91c2UueSA9IHk7XHJcbiAgICAgICAgICAgIHRoaXMucGFydGljbGVzLnB1c2gobmV3IFBhcnRpY2xlcyh0aGlzLmN0eCwgdGhpcy5tb3VzZSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJlc2V0UGFydGljbGVzKCkge1xyXG4gICAgICAgIHRoaXMubW91c2UueCA9IHVuZGVmaW5lZDtcclxuICAgICAgICB0aGlzLm1vdXNlLnkgPSB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbiAgICBjbGVhclRyYWlsU3Vic2NyaXB0aW9uKCkge1xyXG4gICAgICAgIGdhbWVTdGF0ZVNlcnZpY2UudW5zdWJzY3JpYmUoZ2FtZVN0YXRlU2VydmljZS5FVkVOVFMuR0FNRV9UUkFJTF9FRkZFQ1RfVE9HR0xFX0VWRU5ULCB0aGlzLnRyYWlsVG9nZ2xlTGlzdGVuZXIpO1xyXG4gICAgfVxyXG59XHJcbjtcclxuY2xhc3MgUGFydGljbGVzIHtcclxuICAgIGN0eDtcclxuICAgIHN0YXJ0O1xyXG4gICAgZW5kO1xyXG4gICAgc2l6ZTtcclxuICAgIHN0eWxlO1xyXG4gICAgdGltZTtcclxuICAgIHR0bDtcclxuICAgIHg7XHJcbiAgICB5O1xyXG4gICAgcmdiO1xyXG4gICAgaHlwO1xyXG4gICAgc3Rhclg7XHJcbiAgICBzdGFyWTtcclxuICAgIHN0YXJBbmdsZTtcclxuICAgIGNvbnN0cnVjdG9yKGN0eCwgbW91c2UpIHtcclxuICAgICAgICBjb25zdCBzdGFydFBvc1ggPSB0aGlzLmRldGVybWluZVZhbHVlQnlTY3JlZW5XaWR0aCgzMCwgMTUpO1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0UG9zWSA9IHRoaXMuZGV0ZXJtaW5lVmFsdWVCeVNjcmVlbldpZHRoKDMwLCAxNSk7XHJcbiAgICAgICAgY29uc3QgZW5kUG9zWCA9IHRoaXMuZGV0ZXJtaW5lVmFsdWVCeVNjcmVlbldpZHRoKDMsIDAuNSk7XHJcbiAgICAgICAgY29uc3QgZW5kUG9zWSA9IHRoaXMuZGV0ZXJtaW5lVmFsdWVCeVNjcmVlbldpZHRoKDIsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5jdHggPSBjdHg7XHJcbiAgICAgICAgdGhpcy5yZ2IgPSBbXHJcbiAgICAgICAgICAgIFwicmdiKDI1NSwyNTUsMjU1KVwiLFxyXG4gICAgICAgICAgICBcInJnYigyNDksMjE3LDE3MClcIixcclxuICAgICAgICAgICAgXCJyZ2IoMjQ0LDE4Miw4MSlcIixcclxuICAgICAgICAgICAgXCJyZ2IoMjQ0LDE1OSwzNClcIixcclxuICAgICAgICBdO1xyXG4gICAgICAgIHRoaXMuc3RhcnQgPSB7XHJcbiAgICAgICAgICAgIHg6IG1vdXNlLnggKyB0aGlzLmdldFJhbmRvbUludCgtc3RhcnRQb3NYLCBzdGFydFBvc1gpLFxyXG4gICAgICAgICAgICB5OiBtb3VzZS55ICsgdGhpcy5nZXRSYW5kb21JbnQoLXN0YXJ0UG9zWSwgc3RhcnRQb3NZKSxcclxuICAgICAgICAgICAgc2l6ZTogdGhpcy5kZXRlcm1pbmVWYWx1ZUJ5U2NyZWVuV2lkdGgoMywgMilcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuZW5kID0ge1xyXG4gICAgICAgICAgICB4OiB0aGlzLnN0YXJ0LnggKyB0aGlzLmdldFJhbmRvbUludCgtZW5kUG9zWCwgZW5kUG9zWCksXHJcbiAgICAgICAgICAgIHk6IHRoaXMuc3RhcnQueSArIHRoaXMuZ2V0UmFuZG9tSW50KC1lbmRQb3NZLCBlbmRQb3NZKVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy54ID0gdGhpcy5zdGFydC54O1xyXG4gICAgICAgIHRoaXMueSA9IHRoaXMuc3RhcnQueTtcclxuICAgICAgICB0aGlzLnNpemUgPSB0aGlzLnN0YXJ0LnNpemU7XHJcbiAgICAgICAgdGhpcy5zdHlsZSA9IHRoaXMucmdiW3RoaXMuZ2V0UmFuZG9tSW50KDAsIHRoaXMucmdiLmxlbmd0aCAtIDEpXTtcclxuICAgICAgICB0aGlzLnRpbWUgPSAwO1xyXG4gICAgICAgIHRoaXMudHRsID0gNzU7XHJcbiAgICAgICAgdGhpcy5oeXAgPSAwO1xyXG4gICAgICAgIHRoaXMuc3RhclggPSAwO1xyXG4gICAgICAgIHRoaXMuc3RhclkgPSAwO1xyXG4gICAgICAgIHRoaXMuc3RhckFuZ2xlID0gMDtcclxuICAgIH1cclxuICAgIGRldGVybWluZVZhbHVlQnlTY3JlZW5XaWR0aChiZ1NjcmVlblZhbCwgc21hbGxTY3JlZW5WYWwpIHtcclxuICAgICAgICAvKiA3NjggaXMgdGhlIGxvd2VzdCB3aWR0aCBzaXplIG9mIHRhYmxldCAqL1xyXG4gICAgICAgIHJldHVybiB3aW5kb3cuc2NyZWVuLndpZHRoID4gNzY4ID8gYmdTY3JlZW5WYWwgOiBzbWFsbFNjcmVlblZhbDtcclxuICAgIH1cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICBpZiAodGhpcy50aW1lIDw9IHRoaXMudHRsKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHByb2dyZXNzID0gMSAtICh0aGlzLnR0bCAtIHRoaXMudGltZSkgLyB0aGlzLnR0bDtcclxuICAgICAgICAgICAgdGhpcy5zaXplID0gdGhpcy5zdGFydC5zaXplICogKDEgLSB0aGlzLmVhc2VPdXRRdWFydChwcm9ncmVzcykpO1xyXG4gICAgICAgICAgICB0aGlzLnggPSB0aGlzLnggKyAodGhpcy5lbmQueCAtIHRoaXMueCkgKiAwLjAxO1xyXG4gICAgICAgICAgICB0aGlzLnkgPSB0aGlzLnkgKyAodGhpcy5lbmQueSAtIHRoaXMueSkgKiAwLjAxO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnRpbWUrKztcclxuICAgIH1cclxuICAgIGRyYXcoaXNEcmF3RGlhbW9uZCkge1xyXG4gICAgICAgIGlmIChpc0RyYXdEaWFtb25kKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhclBhcnRpY2xlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmNpcmNsZVBhcnRpY2xlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIDtcclxuICAgIH1cclxuICAgIGNpcmNsZVBhcnRpY2xlKCkge1xyXG4gICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IHRoaXMuc3R5bGU7XHJcbiAgICAgICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgdGhpcy5jdHguYXJjKHRoaXMueCwgdGhpcy55LCB0aGlzLnNpemUsIDAsIE1hdGguUEkgKiAyKTtcclxuICAgICAgICB0aGlzLmN0eC5jbG9zZVBhdGgoKTtcclxuICAgICAgICB0aGlzLmN0eC5maWxsKCk7XHJcbiAgICB9XHJcbiAgICBzdGFyUGFydGljbGUoKSB7XHJcbiAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gdGhpcy5zdHlsZTtcclxuICAgICAgICB0aGlzLmN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICB0aGlzLmN0eC5tb3ZlVG8odGhpcy54LCB0aGlzLnkgLSB0aGlzLnNpemUpOyAvLyBUb3AgcG9pbnRcclxuICAgICAgICB0aGlzLmN0eC5saW5lVG8odGhpcy54ICsgdGhpcy5zaXplLCB0aGlzLnkpOyAvLyBSaWdodCBwb2ludFxyXG4gICAgICAgIHRoaXMuY3R4LmxpbmVUbyh0aGlzLngsIHRoaXMueSArIHRoaXMuc2l6ZSk7IC8vIEJvdHRvbSBwb2ludFxyXG4gICAgICAgIHRoaXMuY3R4LmxpbmVUbyh0aGlzLnggLSB0aGlzLnNpemUsIHRoaXMueSk7IC8vIExlZnQgcG9pbnRcclxuICAgICAgICB0aGlzLmN0eC5jbG9zZVBhdGgoKTtcclxuICAgICAgICB0aGlzLmN0eC5maWxsKCk7XHJcbiAgICB9XHJcbiAgICBnZXRSYW5kb21JbnQobWluLCBtYXgpIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikpICsgbWluO1xyXG4gICAgfVxyXG4gICAgZWFzZU91dFF1YXJ0KHgpIHtcclxuICAgICAgICByZXR1cm4gMSAtIE1hdGgucG93KDEgLSB4LCA0KTtcclxuICAgIH1cclxufVxyXG47XHJcbiIsImltcG9ydCB7IGNyZWF0ZVJpcHBsZUVmZmVjdCB9IGZyb20gXCJAY29tbW9uXCI7XHJcbmltcG9ydCB7IFRVVE9SSUFMX0hBTkQgfSBmcm9tIFwiQGNvbnN0YW50c1wiO1xyXG5pbXBvcnQgeyBHYW1lU2NvcmUgfSBmcm9tIFwiQGRhdGFcIjtcclxuZXhwb3J0IGNsYXNzIFR1dG9yaWFsIHtcclxuICAgIHdpZHRoO1xyXG4gICAgaGVpZ2h0O1xyXG4gICAgY29udGV4dDtcclxuICAgIHR1dG9yaWFsSW1nO1xyXG4gICAgaW1hZ2VzTG9hZGVkID0gZmFsc2U7XHJcbiAgICB0YXJnZXRTdG9uZVBvc2l0aW9ucztcclxuICAgIHN0YXJ0eDtcclxuICAgIHN0YXJ0eTtcclxuICAgIGVuZHg7XHJcbiAgICBlbmR5O1xyXG4gICAgZW5kVHV0b3JpYWwgPSBmYWxzZTtcclxuICAgIHB1enpsZU51bWJlcjtcclxuICAgIHBsYXlNbnN0ckNsa1R0cmxBbmltID0gdHJ1ZTtcclxuICAgIHRvdGFsVGltZSA9IDA7XHJcbiAgICBtb25zdGVyU3RvbmVEaWZmZXJlbmNlID0gMDtcclxuICAgIHg7XHJcbiAgICB5O1xyXG4gICAgZHg7XHJcbiAgICBkeTtcclxuICAgIGFic2R4O1xyXG4gICAgYWJzZHk7XHJcbiAgICBzdGFydFJpcHBsZSA9IGZhbHNlO1xyXG4gICAgZHJhd1JpcHBsZTtcclxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQsIHdpZHRoLCBoZWlnaHQsIHB1enpsZU51bWJlcikge1xyXG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcclxuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcclxuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xyXG4gICAgICAgIHRoaXMuc3RhcnR4ID0gMDtcclxuICAgICAgICB0aGlzLnN0YXJ0eSA9IDA7XHJcbiAgICAgICAgdGhpcy5lbmR4ID0gdGhpcy53aWR0aCAvIDI7XHJcbiAgICAgICAgdGhpcy5lbmR5ID0gdGhpcy5oZWlnaHQgLyAyO1xyXG4gICAgICAgIHRoaXMucHV6emxlTnVtYmVyID0gKHB1enpsZU51bWJlciA+PSAwKSA/IHB1enpsZU51bWJlciA6IG51bGw7XHJcbiAgICAgICAgdGhpcy50dXRvcmlhbEltZyA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgIHRoaXMudHV0b3JpYWxJbWcuc3JjID0gVFVUT1JJQUxfSEFORDtcclxuICAgICAgICB0aGlzLmRyYXdSaXBwbGUgPSBjcmVhdGVSaXBwbGVFZmZlY3QodGhpcy5jb250ZXh0KTtcclxuICAgICAgICB0aGlzLnR1dG9yaWFsSW1nLm9ubG9hZCA9ICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5pbWFnZXNMb2FkZWQgPSB0cnVlO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICB1cGRhdGVUYXJnZXRTdG9uZVBvc2l0aW9ucyh0YXJnZXRTdG9uZVBvc2l0aW9uKSB7XHJcbiAgICAgICAgdGhpcy5zdGFydHggPSB0YXJnZXRTdG9uZVBvc2l0aW9uWzBdIC0gMjI7XHJcbiAgICAgICAgdGhpcy5zdGFydHkgPSB0YXJnZXRTdG9uZVBvc2l0aW9uWzFdIC0gNTA7XHJcbiAgICAgICAgdGhpcy5tb25zdGVyU3RvbmVEaWZmZXJlbmNlID0gTWF0aC5zcXJ0KCh0aGlzLnN0YXJ0eCAtIHRoaXMuZW5keCkgKiAodGhpcy5zdGFydHggLSB0aGlzLmVuZHgpICsgKHRoaXMuc3RhcnR5IC0gdGhpcy5lbmR5KSAqICh0aGlzLnN0YXJ0eSAtIHRoaXMuZW5keSkpO1xyXG4gICAgICAgIHRoaXMuYW5pbWF0ZUltYWdlKCk7XHJcbiAgICB9XHJcbiAgICBpc01vYmlsZSgpIHtcclxuICAgICAgICByZXR1cm4gL0FuZHJvaWR8d2ViT1N8aVBob25lfGlQYWR8aVBvZHxCbGFja0JlcnJ5fElFTW9iaWxlfE9wZXJhIE1pbmkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xyXG4gICAgfVxyXG4gICAgc2V0VHV0b3JpYWxFbmQoZW5kVHV0b3JpYWwpIHtcclxuICAgICAgICB0aGlzLmVuZFR1dG9yaWFsID0gZW5kVHV0b3JpYWw7XHJcbiAgICB9XHJcbiAgICBhbmltYXRlSW1hZ2UoKSB7XHJcbiAgICAgICAgdGhpcy54ID0gdGhpcy5zdGFydHg7XHJcbiAgICAgICAgdGhpcy55ID0gdGhpcy5zdGFydHk7XHJcbiAgICAgICAgdGhpcy5keCA9ICh0aGlzLmVuZHggLSB0aGlzLnN0YXJ0eCkgLyA1MDAwO1xyXG4gICAgICAgIHRoaXMuZHkgPSAodGhpcy5lbmR5IC0gdGhpcy5zdGFydHkpIC8gNTAwMDtcclxuICAgICAgICB0aGlzLmFic2R4ID0gdGhpcy5pc01vYmlsZSgpID8gTWF0aC5hYnModGhpcy5keCkgKiAzIDogTWF0aC5hYnModGhpcy5keCk7XHJcbiAgICAgICAgdGhpcy5hYnNkeSA9IHRoaXMuaXNNb2JpbGUoKSA/IE1hdGguYWJzKHRoaXMuZHkpICogMyA6IE1hdGguYWJzKHRoaXMuZHkpO1xyXG4gICAgICAgIHRoaXMuc2V0VHV0b3JpYWxFbmQoZmFsc2UpO1xyXG4gICAgfVxyXG4gICAgZHJhdyhkZWx0YVRpbWUsIGltZywgaW1hZ2VTaXplKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW1hZ2VzTG9hZGVkICYmICF0aGlzLmVuZFR1dG9yaWFsICYmIHRoaXMuc2hvdWxkUGxheVR1dG9yaWFsKCkpIHtcclxuICAgICAgICAgICAgdGhpcy54ID1cclxuICAgICAgICAgICAgICAgIHRoaXMuZHggPj0gMFxyXG4gICAgICAgICAgICAgICAgICAgID8gdGhpcy54ICsgdGhpcy5hYnNkeCAqIGRlbHRhVGltZVxyXG4gICAgICAgICAgICAgICAgICAgIDogdGhpcy54IC0gdGhpcy5hYnNkeCAqIGRlbHRhVGltZTtcclxuICAgICAgICAgICAgdGhpcy55ID1cclxuICAgICAgICAgICAgICAgIHRoaXMuZHkgPj0gMFxyXG4gICAgICAgICAgICAgICAgICAgID8gdGhpcy55ICsgdGhpcy5hYnNkeSAqIGRlbHRhVGltZVxyXG4gICAgICAgICAgICAgICAgICAgIDogdGhpcy55IC0gdGhpcy5hYnNkeSAqIGRlbHRhVGltZTtcclxuICAgICAgICAgICAgY29uc3QgZGlzeCA9IHRoaXMueCAtIHRoaXMuZW5keCArIHRoaXMuYWJzZHg7XHJcbiAgICAgICAgICAgIGNvbnN0IGRpc3kgPSB0aGlzLnkgLSB0aGlzLmVuZHkgKyB0aGlzLmFic2R5O1xyXG4gICAgICAgICAgICBjb25zdCBkaXN0YW5jZSA9IE1hdGguc3FydChkaXN4ICogZGlzeCArIGRpc3kgKiBkaXN5KTtcclxuICAgICAgICAgICAgbGV0IG1vbnN0ZXJTdG9uZURpZmZlcmVuY2VJblBlcmNlbnRhZ2UgPSAoMTAwICogZGlzdGFuY2UgLyB0aGlzLm1vbnN0ZXJTdG9uZURpZmZlcmVuY2UpO1xyXG4gICAgICAgICAgICBpZiAobW9uc3RlclN0b25lRGlmZmVyZW5jZUluUGVyY2VudGFnZSA8IDE1KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobW9uc3RlclN0b25lRGlmZmVyZW5jZUluUGVyY2VudGFnZSA+IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZUhhbmRTY2FsZUFuaW1hdGlvbihkZWx0YVRpbWUsIHRoaXMuZW5keCwgdGhpcy5lbmR5ICsgMzAsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy54ID0gdGhpcy5zdGFydHg7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy55ID0gdGhpcy5zdGFydHk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAobW9uc3RlclN0b25lRGlmZmVyZW5jZUluUGVyY2VudGFnZSA+IDgwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZUhhbmRTY2FsZUFuaW1hdGlvbihkZWx0YVRpbWUsIHRoaXMuc3RhcnR4ICsgMTUsIHRoaXMuc3RhcnR5ICsgMTAsIGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGxldCBwcmV2aW91c0FscGhhID0gdGhpcy5jb250ZXh0Lmdsb2JhbEFscGhhO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0Lmdsb2JhbEFscGhhID0gMC40O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZShpbWcsIHRoaXMueCwgdGhpcy55ICsgMjAsIGltYWdlU2l6ZSwgaW1hZ2VTaXplKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5nbG9iYWxBbHBoYSA9IHByZXZpb3VzQWxwaGE7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMudHV0b3JpYWxJbWcsIHRoaXMueCArIDE1LCB0aGlzLnkgKyAxMCk7IC8vZHJhd3MgdGhlIGhhbmQgc3RvbmUgZHJhZyBhbmltYXRpb24hXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjcmVhdGVIYW5kU2NhbGVBbmltYXRpb24oZGVsdGFUaW1lLCBvZmZzZXRYLCBvZmZzZXRZLCBzaG91bGRDcmVhdGVSaXBwbGUpIHtcclxuICAgICAgICB0aGlzLnRvdGFsVGltZSArPSBNYXRoLmZsb29yKGRlbHRhVGltZSk7XHJcbiAgICAgICAgY29uc3QgdHJhbnNpdGlvbkR1cmF0aW9uID0gNTAwO1xyXG4gICAgICAgIGNvbnN0IHNjYWxlRmFjdG9yID0gdGhpcy5zaW51c29pZGFsSW50ZXJwb2xhdGlvbih0aGlzLnRvdGFsVGltZSwgMSwgMS41LCB0cmFuc2l0aW9uRHVyYXRpb24pO1xyXG4gICAgICAgIGNvbnN0IHNjYWxlZFdpZHRoID0gdGhpcy50dXRvcmlhbEltZy53aWR0aCAqIHNjYWxlRmFjdG9yO1xyXG4gICAgICAgIGNvbnN0IHNjYWxlZEhlaWdodCA9IHRoaXMudHV0b3JpYWxJbWcuaGVpZ2h0ICogc2NhbGVGYWN0b3I7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZSh0aGlzLnR1dG9yaWFsSW1nLCBvZmZzZXRYLCBvZmZzZXRZLCBzY2FsZWRXaWR0aCwgc2NhbGVkSGVpZ2h0KTtcclxuICAgICAgICBzaG91bGRDcmVhdGVSaXBwbGUgPyAobnVsbCkgOiAodGhpcy5kcmF3UmlwcGxlKG9mZnNldFggKyB0aGlzLndpZHRoICogMC4wMiwgb2Zmc2V0WSArIHRoaXMudHV0b3JpYWxJbWcuaGVpZ2h0IC8gMiwgZmFsc2UpKTtcclxuICAgIH1cclxuICAgIHNpbnVzb2lkYWxJbnRlcnBvbGF0aW9uKHRpbWUsIG1pblNjYWxlLCBtYXhTY2FsZSwgZHVyYXRpb24pIHtcclxuICAgICAgICBjb25zdCBhbXBsaXR1ZGUgPSAobWF4U2NhbGUgLSBtaW5TY2FsZSkgLyAyO1xyXG4gICAgICAgIGNvbnN0IGZyZXF1ZW5jeSA9IE1hdGguUEkgLyBkdXJhdGlvbjtcclxuICAgICAgICByZXR1cm4gbWluU2NhbGUgKyBhbXBsaXR1ZGUgKiBNYXRoLnNpbihmcmVxdWVuY3kgKiB0aW1lKTtcclxuICAgIH1cclxuICAgIGNsaWNrT25Nb25zdGVyVHV0b3JpYWwoZGVsdGFUaW1lKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2hvdWxkUGxheU1vbnN0ZXJDbGlja1R1dG9yaWFsQW5pbWF0aW9uKCkpIHtcclxuICAgICAgICAgICAgY29uc3QgdHJhbnNpdGlvbkR1cmF0aW9uID0gMjAwMDtcclxuICAgICAgICAgICAgY29uc3QgYm90dG9tUG9zaXRpb24gPSB0aGlzLmhlaWdodCAvIDEuOSArICh0aGlzLnR1dG9yaWFsSW1nLmhlaWdodCAvIDAuOCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHRvcFBvc2l0aW9uID0gdGhpcy5oZWlnaHQgLyAxLjkgKyAodGhpcy50dXRvcmlhbEltZy5oZWlnaHQgLyAwLjgpIC0gdGhpcy50dXRvcmlhbEltZy5oZWlnaHQ7XHJcbiAgICAgICAgICAgIGxldCBjdXJyZW50T2Zmc2V0WTtcclxuICAgICAgICAgICAgY29uc3Qgb2Zmc2V0WCA9IHRoaXMuZW5keDtcclxuICAgICAgICAgICAgaWYgKHRoaXMudG90YWxUaW1lIDwgdHJhbnNpdGlvbkR1cmF0aW9uIC8gMikge1xyXG4gICAgICAgICAgICAgICAgY3VycmVudE9mZnNldFkgPSB0b3BQb3NpdGlvbiArICh0aGlzLnRvdGFsVGltZSAvICh0cmFuc2l0aW9uRHVyYXRpb24gLyAyKSkgKiAoYm90dG9tUG9zaXRpb24gLSB0b3BQb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdSaXBwbGUob2Zmc2V0WCwgdGhpcy5oZWlnaHQgLyAxLjkgKyAodGhpcy50dXRvcmlhbEltZy5oZWlnaHQgLyAxLjUpLCB0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRPZmZzZXRZID0gYm90dG9tUG9zaXRpb24gLSAoKHRoaXMudG90YWxUaW1lIC0gdHJhbnNpdGlvbkR1cmF0aW9uIC8gMikgLyAodHJhbnNpdGlvbkR1cmF0aW9uIC8gMikpICogKGJvdHRvbVBvc2l0aW9uIC0gdG9wUG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3UmlwcGxlKG9mZnNldFgsIHRoaXMuaGVpZ2h0IC8gMS45ICsgKHRoaXMudHV0b3JpYWxJbWcuaGVpZ2h0IC8gMS4yKSArIHRoaXMudHV0b3JpYWxJbWcuaGVpZ2h0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMudHV0b3JpYWxJbWcsIG9mZnNldFgsIGN1cnJlbnRPZmZzZXRZLCB0aGlzLnR1dG9yaWFsSW1nLndpZHRoLCB0aGlzLnR1dG9yaWFsSW1nLmhlaWdodCk7XHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50T2Zmc2V0WSA8PSB0b3BQb3NpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50b3RhbFRpbWUgPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMudG90YWxUaW1lICs9IGRlbHRhVGltZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzaG91bGRQbGF5VHV0b3JpYWwoKSB7XHJcbiAgICAgICAgbGV0IHBsYXlEcmFnQW5pbWF0aW9uRm9yRmlyc3RQdXp6bGUgPSBHYW1lU2NvcmUuZ2V0QWxsR2FtZUxldmVsSW5mbygpLmxlbmd0aCA8PSAwICYmIHRoaXMucHV6emxlTnVtYmVyID09IDA7XHJcbiAgICAgICAgcmV0dXJuIHBsYXlEcmFnQW5pbWF0aW9uRm9yRmlyc3RQdXp6bGU7XHJcbiAgICB9XHJcbiAgICBzaG91bGRQbGF5TW9uc3RlckNsaWNrVHV0b3JpYWxBbmltYXRpb24oKSB7XHJcbiAgICAgICAgbGV0IHBsYXlEcmFnQW5pbWF0aW9uRm9yRmlyc3RQdXp6bGUgPSBHYW1lU2NvcmUuZ2V0QWxsR2FtZUxldmVsSW5mbygpLmxlbmd0aCA8PSAwICYmIHRoaXMucGxheU1uc3RyQ2xrVHRybEFuaW07XHJcbiAgICAgICAgcmV0dXJuIHBsYXlEcmFnQW5pbWF0aW9uRm9yRmlyc3RQdXp6bGU7XHJcbiAgICB9XHJcbiAgICBzZXRQdXp6bGVOdW1iZXIocHV6emxlTnVtZXIpIHtcclxuICAgICAgICB0aGlzLnB1enpsZU51bWJlciA9IHB1enpsZU51bWVyO1xyXG4gICAgfVxyXG4gICAgc2V0UGxheU1vbnN0ZXJDbGlja0FuaW1hdGlvbih2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMucGxheU1uc3RyQ2xrVHRybEFuaW0gPSB2YWx1ZTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBzeW5jTG9hZGluZ0ltYWdlcyB9IGZyb20gJ0Bjb21tb24nO1xyXG5pbXBvcnQgeyBERUZBVUxUX0JHX0dST1VQX0lNR1MsIEFVVFVNTl9CR19HUk9VUF9JTUdTLCBXSU5URVJfQkdfR1JPVVBfSU1HUyB9IGZyb20gJ0Bjb25zdGFudHMnO1xyXG5leHBvcnQgY29uc3QgQkFDS0dST1VORF9BU1NFVF9MSVNUID0ge1xyXG4gICAgc3VtbWVyOiB7IEJHX0dST1VQX0lNR1M6IERFRkFVTFRfQkdfR1JPVVBfSU1HUywgZHJhdzogZGVmYXVsdEJnRHJhd2luZyB9LFxyXG4gICAgYXV0dW1uOiB7IEJHX0dST1VQX0lNR1M6IEFVVFVNTl9CR19HUk9VUF9JTUdTLCBkcmF3OiBhdXR1bUJnRHJhd2luZyB9LFxyXG4gICAgd2ludGVyOiB7IEJHX0dST1VQX0lNR1M6IFdJTlRFUl9CR19HUk9VUF9JTUdTLCBkcmF3OiB3aW50ZXJCZ0RyYXdpbmcgfSxcclxufTtcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUJhY2tncm91bmQoY29udGV4dCwgd2lkdGgsIGhlaWdodCwgYmFja2dyb3VuZEltZywgZHJhd01ldGhvZCkge1xyXG4gICAgY29uc3QgbG9hZGVkSW1hZ2VzID0geyAuLi5hd2FpdCBzeW5jTG9hZGluZ0ltYWdlcyhiYWNrZ3JvdW5kSW1nKSB9O1xyXG4gICAgY29uc3Qgb2JqID0ge1xyXG4gICAgICAgIC4uLmRyYXdNZXRob2QoY29udGV4dCwgd2lkdGgsIGhlaWdodCwgbG9hZGVkSW1hZ2VzKVxyXG4gICAgfTtcclxuICAgIHJldHVybiAoeyAuLi5vYmogfSk7XHJcbn1cclxuO1xyXG5leHBvcnQgY29uc3QgbG9hZER5bmFtaWNCZ0Fzc2V0cyA9IChsZXZlbE51bWJlciwgYXNzZXRzTGlzdCkgPT4ge1xyXG4gICAgY29uc3QgYXJyID0gT2JqZWN0LmtleXMoYXNzZXRzTGlzdCk7IC8vYXZhaWxhYmxlQmFja2dyb3VuZFR5cGVzXHJcbiAgICBsZXQgYmFja2dyb3VuZFR5cGUgPSBNYXRoLmZsb29yKGxldmVsTnVtYmVyIC8gMTApICUgYXJyLmxlbmd0aDtcclxuICAgIGlmIChsZXZlbE51bWJlciA+PSAzMCkge1xyXG4gICAgICAgIGJhY2tncm91bmRUeXBlID0gYmFja2dyb3VuZFR5cGUgJSAzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHsgLi4uYXNzZXRzTGlzdFthcnJbYmFja2dyb3VuZFR5cGVdXSB9O1xyXG59O1xyXG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdEJnRHJhd2luZyhjb250ZXh0LCB3aWR0aCwgaGVpZ2h0LCBiZ0ltYWdlcykge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBkcmF3OiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKGJnSW1hZ2VzPy5ERUZBVUxUX0JBQ0tHUk9VTkRfMSwgMCwgMCwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKGJnSW1hZ2VzPy5BU1NFVFNfUEFUSF9UT1RFTSwgd2lkdGggKiAwLjYsIGhlaWdodCAvIDYsIHdpZHRoLCBoZWlnaHQgLyAyKTtcclxuICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoYmdJbWFnZXM/LkFTU0VUU19QQVRIX0ZFTkNFLCAtd2lkdGggKiAwLjQsIGhlaWdodCAvIDMsIHdpZHRoLCBoZWlnaHQgLyAzKTtcclxuICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoYmdJbWFnZXM/LkFTU0VUU19QQVRIX0hJTEwsIC13aWR0aCAqIDAuMjUsIGhlaWdodCAvIDIsIHdpZHRoICogMS41LCBoZWlnaHQgLyAyKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcbjtcclxuZXhwb3J0IGZ1bmN0aW9uIGF1dHVtQmdEcmF3aW5nKGNvbnRleHQsIHdpZHRoLCBoZWlnaHQsIGJnSW1hZ2VzKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGRyYXc6ICgpID0+IHtcclxuICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoYmdJbWFnZXMuQVVUVU1OX0JBQ0tHUk9VTkRfMSwgMCwgMCwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKGJnSW1hZ2VzLkFVVFVNTl9QSUxMQVJfMSwgd2lkdGggKiAwLjM4LCBoZWlnaHQgLyA2LCB3aWR0aCAvIDEuMiwgaGVpZ2h0IC8gMik7XHJcbiAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKGJnSW1hZ2VzLkFVVFVNTl9GRU5DRV8xLCAtd2lkdGggKiAwLjQsIGhlaWdodCAvIDQsIHdpZHRoLCBoZWlnaHQgLyAyKTtcclxuICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoYmdJbWFnZXMuQVVUVU1OX0hJTExfMSwgLXdpZHRoICogMC4yNSwgaGVpZ2h0IC8gMiwgd2lkdGggKiAxLjUsIGhlaWdodCAvIDIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cclxuO1xyXG5leHBvcnQgZnVuY3Rpb24gd2ludGVyQmdEcmF3aW5nKGNvbnRleHQsIHdpZHRoLCBoZWlnaHQsIGJnSW1hZ2VzKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGRyYXc6ICgpID0+IHtcclxuICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoYmdJbWFnZXMuV0lOVEVSX0JBQ0tHUk9VTkRfMSwgMCwgMCwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKGJnSW1hZ2VzLldJTlRFUl9QSUxMQVJfMSwgd2lkdGggKiAwLjM4LCBoZWlnaHQgLyA2LCB3aWR0aCAvIDEuMiwgaGVpZ2h0IC8gMik7XHJcbiAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKGJnSW1hZ2VzLldJTlRFUl9GRU5DRV8xLCAtd2lkdGggKiAwLjQsIGhlaWdodCAvIDQsIHdpZHRoLCBoZWlnaHQgLyAyKTtcclxuICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoYmdJbWFnZXMuV0lOVEVSX0hJTExfMSwgLXdpZHRoICogMC4yNSwgaGVpZ2h0IC8gMiwgd2lkdGggKiAxLjUsIGhlaWdodCAvIDIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cclxuO1xyXG5leHBvcnQgZnVuY3Rpb24gbGV2ZWxTZWxlY3RCZ0RyYXdpbmcoY29udGV4dCwgd2lkdGgsIGhlaWdodCwgYmdJbWFnZXMpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgZHJhdzogKCkgPT4ge1xyXG4gICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShiZ0ltYWdlcz8uTEVWRUxfU0VMRUNUSU9OX0JBQ0tHUk9VTkQsIDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cclxuO1xyXG4iLCJpbXBvcnQgeyBNQVBfSUNPTl9JTUcsIE1BUF9JQ09OX1NQRUNJQUxfSU1HLCBNQVBfTE9DS19JTUcsIFNUQVJfSU1HLCBTUEVDSUFMX0xFVkVMUywgfSBmcm9tIFwiQGNvbnN0YW50c1wiO1xyXG5pbXBvcnQgeyBzeW5jTG9hZGluZ0ltYWdlcyB9IGZyb20gJ0Bjb21tb24nO1xyXG5jb25zdCBpc1NwZWNpYWxMZXZlbCA9IChpbmRleCkgPT4gU1BFQ0lBTF9MRVZFTFMuaW5jbHVkZXMoaW5kZXgpO1xyXG5leHBvcnQgY29uc3QgZ2V0ZGVmYXVsdENsb3VkQnRuc1BvcyA9IChjYW52YXMpID0+IHtcclxuICAgIHJldHVybiBbXHJcbiAgICAgICAgW1xyXG4gICAgICAgICAgICBbXHJcbiAgICAgICAgICAgICAgICBjYW52YXMud2lkdGggLyAxMCxcclxuICAgICAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgLyAxMFxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICBbXHJcbiAgICAgICAgICAgICAgICBjYW52YXMud2lkdGggLyAyLjUsXHJcbiAgICAgICAgICAgICAgICBjYW52YXMuaGVpZ2h0IC8gMTBcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgW1xyXG4gICAgICAgICAgICAgICAgY2FudmFzLndpZHRoIC8gMyArIGNhbnZhcy53aWR0aCAvIDIuOCxcclxuICAgICAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgLyAxMCxcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgW1xyXG4gICAgICAgICAgICAgICAgY2FudmFzLndpZHRoIC8gMTAsXHJcbiAgICAgICAgICAgICAgICBjYW52YXMuaGVpZ2h0IC8gM1xyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICBbXHJcbiAgICAgICAgICAgICAgICBjYW52YXMud2lkdGggLyAyLjUsXHJcbiAgICAgICAgICAgICAgICBjYW52YXMuaGVpZ2h0IC8gM1xyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICBbXHJcbiAgICAgICAgICAgICAgICBjYW52YXMud2lkdGggLyAzICsgY2FudmFzLndpZHRoIC8gMi44LFxyXG4gICAgICAgICAgICAgICAgY2FudmFzLmhlaWdodCAvIDMsXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIFtcclxuICAgICAgICAgICAgICAgIGNhbnZhcy53aWR0aCAvIDEwLFxyXG4gICAgICAgICAgICAgICAgY2FudmFzLmhlaWdodCAvIDEuOFxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICBbXHJcbiAgICAgICAgICAgICAgICBjYW52YXMud2lkdGggLyAyLjUsXHJcbiAgICAgICAgICAgICAgICBjYW52YXMuaGVpZ2h0IC8gMS44XHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIFtcclxuICAgICAgICAgICAgICAgIGNhbnZhcy53aWR0aCAvIDMgKyBjYW52YXMud2lkdGggLyAyLjgsXHJcbiAgICAgICAgICAgICAgICBjYW52YXMuaGVpZ2h0IC8gMS44LFxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICBbXHJcbiAgICAgICAgICAgICAgICBjYW52YXMud2lkdGggLyAyLjUsXHJcbiAgICAgICAgICAgICAgICBjYW52YXMuaGVpZ2h0IC8gMS4zXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgXSxcclxuICAgIF07XHJcbn07XHJcbmV4cG9ydCBjb25zdCBsb2FkTGV2ZWxJbWFnZXMgPSAoKSA9PiB7XHJcbiAgICByZXR1cm4gc3luY0xvYWRpbmdJbWFnZXMoe1xyXG4gICAgICAgIGJhbGxvb25JbWc6IE1BUF9JQ09OX0lNRyxcclxuICAgICAgICBzcGVjaWFsQmxvb25JbWc6IE1BUF9JQ09OX1NQRUNJQUxfSU1HLFxyXG4gICAgICAgIGxvY2tJbWc6IE1BUF9MT0NLX0lNRyxcclxuICAgICAgICBzdGFySW1nOiBTVEFSX0lNR1xyXG4gICAgfSk7XHJcbn07XHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVMZXZlbE9iamVjdCh4UG9zLCB5UG9zLCBpbmRleCwgaW1hZ2VzKSB7XHJcbiAgICBjb25zdCBpc1NwZWNpYWwgPSBpc1NwZWNpYWxMZXZlbChpbmRleCk7XHJcbiAgICBjb25zdCBvYmogPSB7XHJcbiAgICAgICAgeDogeFBvcyxcclxuICAgICAgICB5OiB5UG9zLFxyXG4gICAgICAgIGluZGV4LFxyXG4gICAgICAgIGlzU3BlY2lhbCxcclxuICAgICAgICAuLi5pbWFnZXMsXHJcbiAgICAgICAgYmFsbG9vbkltZzogaXNTcGVjaWFsID8gaW1hZ2VzPy5zcGVjaWFsQmxvb25JbWcgOiBpbWFnZXM/LmJhbGxvb25JbWdcclxuICAgIH07XHJcbiAgICByZXR1cm4gKHsgLi4ub2JqIH0pO1xyXG59XHJcbiIsImV4cG9ydCBjb25zdCBGaXJlYmFzZVVzZXJDbGlja2VkID0gXCJ1c2VyX2NsaWNrZWRcIjtcclxuZXhwb3J0IGNvbnN0IEZpcmViYXNlVXNlckluc3RhbGwgPSBcInVzZXJfaW5zdGFsbGVkXCI7XHJcbmV4cG9ydCBjb25zdCBQV0FJbnN0YWxsU3RhdHVzID0gXCJwd2FfaW5zdGFsbGVkX3N0YXR1c1wiO1xyXG5leHBvcnQgY29uc3QgVXNlckNhbmNlbGxlZCA9IFwidXNlcl9jYW5jZWxfaW5zdGFsbGF0aW9uXCI7XHJcbmV4cG9ydCBjb25zdCBOYXRpdmVQbGF5QnV0dG9uID0gXCJuYXRpdmVfcGxheWJ1dHRvbl9jbGlja2VkXCI7XHJcbmV4cG9ydCBjb25zdCBQcmV2aW91c1BsYXllZExldmVsID0gXCJzdG9yZVByZXZpb3VzUGxheWVkTGV2ZWxcIjtcclxuZXhwb3J0IGNvbnN0IFN0b3JlTW9uc3RlclBoYXNlTnVtYmVyID0gXCJzdG9yZU1vbnN0ZXJQaGFzZU51bWJlclwiO1xyXG5leHBvcnQgY29uc3QgSXNDYWNoZWQgPSBcImlzX2NhY2hlZFwiO1xyXG5leHBvcnQgY29uc3QgTW9uc3RlckF1ZGlvID0gXCJtb25zdGVyX2F1ZGlvXCI7XHJcbmV4cG9ydCBjb25zdCBGZWVkYmFja0F1ZGlvID0gXCJmZWVkYmFja19hdWRpb1wiO1xyXG5leHBvcnQgY29uc3QgSW50cm9NdXNpYyA9IFwiaW50cm9fbXVzaWNcIjtcclxuZXhwb3J0IGNvbnN0IFByb21wdEF1ZGlvID0gXCJwcm9tcHRfYXVkaW9cIjtcclxuZXhwb3J0IGNvbnN0IEJ1dHRvbkNsaWNrID0gXCJidXR0b25fY2xpY2tcIjtcclxuZXhwb3J0IGNvbnN0IFRpbWVPdmVyID0gXCJ0aW1lX292ZXJcIjtcclxuZXhwb3J0IGNvbnN0IFN0b25lTXVzaWMgPSBcInN0b25lX211c2ljXCI7XHJcbmV4cG9ydCBjb25zdCBQaHJhc2VBdWRpbyA9IFwicGhyYXNlX2F1ZGlvXCI7XHJcbmV4cG9ydCBjb25zdCBMZXZlbEVuZEF1ZGlvID0gXCJsZXZlbF9lbmRfYXVkaW9cIjtcclxuZXhwb3J0IGNvbnN0IFVybFN1YnN0cmluZyA9IFwiL2ZlZWR0aGVtb25zdGVyXCI7XHJcbmV4cG9ydCBjb25zdCBEZXZlbG9wbWVudFNlcnZlciA9IFwiaHR0cHM6Ly9mZWVkdGhlbW9uc3RlcmRldi5jdXJpb3VzY29udGVudC5vcmdcIjtcclxuZXhwb3J0IGNvbnN0IEZPTlRfQkFTRV9QQVRIID0gJy4vYXNzZXRzL2ZvbnRzLyc7XHJcbi8vQXVkaW8gcGF0aHNcclxuZXhwb3J0IGNvbnN0IEFVRElPX1BBVEhfRUFUUyA9IFwiLi9hc3NldHMvYXVkaW9zL0VhdC5tcDNcIjtcclxuZXhwb3J0IGNvbnN0IEFVRElPX1BBVEhfTU9OU1RFUl9TUElUID0gXCIuL2Fzc2V0cy9hdWRpb3MvTW9uc3RlclNwaXQubXAzXCI7XHJcbmV4cG9ydCBjb25zdCBBVURJT19QQVRIX01PTlNURVJfRElTU0FQT0lOVEVEID0gXCIuL2Fzc2V0cy9hdWRpb3MvRGlzYXBvaW50ZWQtMDUubXAzXCI7XHJcbmV4cG9ydCBjb25zdCBBVURJT19QQVRIX1BPSU5UU19BREQgPSBcImFzc2V0cy9hdWRpb3MvUG9pbnRzQWRkLndhdlwiO1xyXG5leHBvcnQgY29uc3QgQVVESU9fUEFUSF9DT1JSRUNUX1NUT05FID0gXCJhc3NldHMvYXVkaW9zL0NvcnJlY3RTdG9uZUZpbmFsLm1wM1wiO1xyXG5leHBvcnQgY29uc3QgQVVESU9fUEFUSF9DSEVFUklOR19GVU5DID0gKHJhbmRvbU51bWJlcikgPT4gYC4vYXNzZXRzL2F1ZGlvcy9DaGVlcmluZy0wJHtyYW5kb21OdW1iZXJ9Lm1wM2A7XHJcbmV4cG9ydCBjb25zdCBBVURJT19QQVRIX0JUTl9DTElDSyA9IFwiLi9hc3NldHMvYXVkaW9zL0J1dHRvbkNsaWNrLm1wM1wiO1xyXG5leHBvcnQgY29uc3QgQVVESU9fUEFUSF9PTl9EUkFHID0gXCIuL2Fzc2V0cy9hdWRpb3Mvb25EcmFnLm1wM1wiO1xyXG5leHBvcnQgY29uc3QgQVVESU9fQVJFX1lPVV9TVVJFID0gXCIuL2Fzc2V0cy9hdWRpb3MvYXJlLXlvdS1zdXJlLm1wM1wiO1xyXG5leHBvcnQgY29uc3QgQVVESU9fVElNRU9VVCA9IFwiLi9hc3NldHMvYXVkaW9zL3RpbWVvdXQubXAzXCI7XHJcbmV4cG9ydCBjb25zdCBBVURJT19JTlRSTyA9IFwiLi9hc3NldHMvYXVkaW9zL2ludHJvLm1wM1wiO1xyXG5leHBvcnQgY29uc3QgQVVESU9fTEVWRUxfTE9TRSA9IFwiLi9hc3NldHMvYXVkaW9zL0xldmVsTG9zZUZhbmZhcmUubXAzXCI7XHJcbmV4cG9ydCBjb25zdCBBVURJT19MRVZFTF9XSU4gPSBcIi4vYXNzZXRzL2F1ZGlvcy9MZXZlbFdpbkZhbmZhcmUubXAzXCI7XHJcbmV4cG9ydCBjb25zdCBBVURJT19VUkxfUFJFTE9BRCA9IFtcclxuICAgIFwiLi9hc3NldHMvYXVkaW9zL2ludHJvLm1wM1wiLFxyXG4gICAgXCIuL2Fzc2V0cy9hdWRpb3MvQ2hlZXJpbmctMDIubXAzXCIsXHJcbiAgICBcIi4vYXNzZXRzL2F1ZGlvcy9DaGVlcmluZy0wMy5tcDNcIixcclxuICAgIFwiLi9hc3NldHMvYXVkaW9zL0NoZWVyaW5nLTAxLm1wM1wiLFxyXG4gICAgXCIuL2Fzc2V0cy9hdWRpb3Mvb25EcmFnLm1wM1wiLFxyXG4gICAgXCIuL2Fzc2V0cy9hdWRpb3MvdGltZW91dC5tcDNcIixcclxuICAgIFwiLi9hc3NldHMvYXVkaW9zL0xldmVsV2luRmFuZmFyZS5tcDNcIixcclxuICAgIFwiLi9hc3NldHMvYXVkaW9zL0xldmVsTG9zZUZhbmZhcmUubXAzXCIsXHJcbiAgICBcIi4vYXNzZXRzL2F1ZGlvcy9CdXR0b25DbGljay5tcDNcIixcclxuICAgIFwiLi9hc3NldHMvYXVkaW9zL01vbnN0ZXIgU3BpdHMgd3Jvbmcgc3RvbmVzLTAxLm1wM1wiLFxyXG4gICAgXCIuL2Fzc2V0cy9hdWRpb3MvRGlzYXBvaW50ZWQtMDUubXAzXCIsXHJcbiAgICBcIi4vYXNzZXRzL2F1ZGlvcy9Nb25zdGVyU3BpdC5tcDNcIixcclxuICAgIFwiLi9hc3NldHMvYXVkaW9zL0VhdC5tcDNcIixcclxuICAgIFwiLi9hc3NldHMvYXVkaW9zL1BvaW50c0FkZC53YXZcIixcclxuICAgIFwiLi9hc3NldHMvYXVkaW9zL2FyZS15b3Utc3VyZS5tcDNcIixcclxuXTtcclxuLy9JbWFnZSBwYXRoc1xyXG5leHBvcnQgY29uc3QgQVNTRVRTX1BBVEhfU1RPTkVfUElOS19CRyA9IFwiLi9hc3NldHMvaW1hZ2VzL3N0b25lX3Bpbmsud2VicFwiOyAvL3N0b25lX3BpbmtfdjAyLnBuZ1xyXG5leHBvcnQgY29uc3QgQVNTRVRTX1BBVEhfVE9URU0gPSBcIi4vYXNzZXRzL2ltYWdlcy9Ub3RlbV92MDJfdjAxLndlYnBcIjtcclxuZXhwb3J0IGNvbnN0IEFTU0VUU19QQVRIX0JHXzAxID0gXCIuL2Fzc2V0cy9pbWFnZXMvYmdfdjAxLndlYnBcIjtcclxuZXhwb3J0IGNvbnN0IEFTU0VUU19QQVRIX0hJTEwgPSBcIi4vYXNzZXRzL2ltYWdlcy9oaWxsX3YwMS53ZWJwXCI7XHJcbmV4cG9ydCBjb25zdCBBU1NFVFNfUEFUSF9GRU5DRSA9IFwiLi9hc3NldHMvaW1hZ2VzL2ZlbmNlX3YwMS53ZWJwXCI7XHJcbmV4cG9ydCBjb25zdCBBU1NFVFNfUEFUSF9NT05TVEVSX0lETEUgPSBcIi4vYXNzZXRzL2ltYWdlcy9pZGxlNC5wbmdcIjtcclxuZXhwb3J0IGNvbnN0IERFRkFVTFRfQkFDS0dST1VORF8xID0gXCIuL2Fzc2V0cy9pbWFnZXMvYmdfdjAxLndlYnBcIjtcclxuZXhwb3J0IGNvbnN0IEFVVFVNTl9CQUNLR1JPVU5EXzEgPSBcIi4vYXNzZXRzL2ltYWdlcy9BdXR1bW5fYmdfdjAxLndlYnBcIjtcclxuZXhwb3J0IGNvbnN0IEFVVFVNTl9ISUxMXzEgPSBcIi4vYXNzZXRzL2ltYWdlcy9BdXR1bW5faGlsbF92MDEud2VicFwiO1xyXG5leHBvcnQgY29uc3QgQVVUVU1OX1BJTExBUl8xID0gXCIuL2Fzc2V0cy9pbWFnZXMvQXV0dW1uX3NpZ25fdjAxLndlYnBcIjtcclxuZXhwb3J0IGNvbnN0IEFVVFVNTl9TSUdOXzEgPSBcIi4vYXNzZXRzL2ltYWdlcy9BdXR1bW5fc2lnbl92MDEud2VicFwiO1xyXG5leHBvcnQgY29uc3QgQVVUVU1OX0ZFTkNFXzEgPSBcIi4vYXNzZXRzL2ltYWdlcy9BdXR1bW5fZmVuY2VfdjAxLndlYnBcIjtcclxuZXhwb3J0IGNvbnN0IFdJTlRFUl9CQUNLR1JPVU5EXzEgPSBcIi4vYXNzZXRzL2ltYWdlcy9XaW50ZXJfYmdfMDEud2VicFwiO1xyXG5leHBvcnQgY29uc3QgV0lOVEVSX0hJTExfMSA9IFwiLi9hc3NldHMvaW1hZ2VzL1dpbnRlcl9oaWxsX3YwMS53ZWJwXCI7XHJcbmV4cG9ydCBjb25zdCBXSU5URVJfU0lHTl8xID0gXCIuL2Fzc2V0cy9pbWFnZXMvV2ludGVyX3NpZ25fdjAxLndlYnBcIjtcclxuZXhwb3J0IGNvbnN0IFdJTlRFUl9GRU5DRV8xID0gXCIuL2Fzc2V0cy9pbWFnZXMvV2ludGVyX2ZlbmNlX3YwMS53ZWJwXCI7XHJcbmV4cG9ydCBjb25zdCBXSU5URVJfUElMTEFSXzEgPSBcIi4vYXNzZXRzL2ltYWdlcy9XaW50ZXJfc2lnbl92MDEud2VicFwiO1xyXG5leHBvcnQgY29uc3QgTEVWRUxfU0VMRUNUSU9OX0JBQ0tHUk9VTkQgPSBcIi4vYXNzZXRzL2ltYWdlcy9tYXAud2VicFwiO1xyXG5leHBvcnQgY29uc3QgUFJPTVBUX1RFWFRfQkcgPSBcIi4vYXNzZXRzL2ltYWdlcy9wcm9tcHRUZXh0Qmcud2VicFwiO1xyXG5leHBvcnQgY29uc3QgUFJPTVBUX1BMQVlfQlVUVE9OID0gXCIuL2Fzc2V0cy9pbWFnZXMvcHJvbXB0UGxheUJ1dHRvbi53ZWJwXCI7XHJcbmV4cG9ydCBjb25zdCBMRVZFTF9JTkRJQ0FUT1IgPSBcIi4vYXNzZXRzL2ltYWdlcy9sZXZlbHNfdjAxLndlYnBcIjtcclxuZXhwb3J0IGNvbnN0IEJBUl9FTVBUWSA9IFwiLi9hc3NldHMvaW1hZ2VzL2Jhcl9lbXB0eV92MDEud2VicFwiO1xyXG5leHBvcnQgY29uc3QgQkFSX0ZVTEwgPSBcIi4vYXNzZXRzL2ltYWdlcy9iYXJfZnVsbF92MDEud2VicFwiO1xyXG5leHBvcnQgY29uc3QgVElNRVJfRU1QVFkgPSBcIi4vYXNzZXRzL2ltYWdlcy90aW1lcl9lbXB0eS53ZWJwXCI7XHJcbmV4cG9ydCBjb25zdCBST1RBVElOR19DTE9DSyA9IFwiLi9hc3NldHMvaW1hZ2VzL3RpbWVyLndlYnBcIjtcclxuZXhwb3J0IGNvbnN0IFRJTUVSX0ZVTEwgPSBcIi4vYXNzZXRzL2ltYWdlcy90aW1lcl9mdWxsLnBuZ1wiO1xyXG5leHBvcnQgY29uc3QgVFVUT1JJQUxfSEFORCA9IFwiLi9hc3NldHMvaW1hZ2VzL3R1dG9yaWFsX2hhbmQud2VicFwiO1xyXG5leHBvcnQgY29uc3QgV0lOX0JHID0gXCIuL2Fzc2V0cy9pbWFnZXMvV0lOX3NjcmVlbl9iZy53ZWJwXCI7XHJcbmV4cG9ydCBjb25zdCBQSU5fU1RBUl8xID0gXCIuL2Fzc2V0cy9pbWFnZXMvcGluU3RhcjEud2VicFwiO1xyXG5leHBvcnQgY29uc3QgUElOX1NUQVJfMiA9IFwiLi9hc3NldHMvaW1hZ2VzL3BpblN0YXIyLndlYnBcIjtcclxuZXhwb3J0IGNvbnN0IFBJTl9TVEFSXzMgPSBcIi4vYXNzZXRzL2ltYWdlcy9waW5TdGFyMy53ZWJwXCI7XHJcbmV4cG9ydCBjb25zdCBDTE9VRF82ID0gXCIuL2Fzc2V0cy9pbWFnZXMvY2xvdWRfMDEucG5nXCI7XHJcbmV4cG9ydCBjb25zdCBDTE9VRF83ID0gXCIuL2Fzc2V0cy9pbWFnZXMvY2xvdWRfMDIucG5nXCI7XHJcbmV4cG9ydCBjb25zdCBDTE9VRF84ID0gXCIuL2Fzc2V0cy9pbWFnZXMvY2xvdWRfMDMucG5nXCI7XHJcbmV4cG9ydCBjb25zdCBQTEFZX0JUTl9JTUcgPSBcIi4vYXNzZXRzL2ltYWdlcy9QbGF5X2J1dHRvbi53ZWJwXCI7XHJcbmV4cG9ydCBjb25zdCBQQVVTRV9CVE5fSU1HID0gXCIuL2Fzc2V0cy9pbWFnZXMvcGF1c2VfdjAxLndlYnBcIjtcclxuZXhwb3J0IGNvbnN0IE1BUF9CVE5fSU1HID0gXCIuL2Fzc2V0cy9pbWFnZXMvbWFwX2J0bi53ZWJwXCI7XHJcbmV4cG9ydCBjb25zdCBNQVBfSUNPTl9JTUcgPSBcIi4vYXNzZXRzL2ltYWdlcy9tYXBJY29uLndlYnBcIjtcclxuZXhwb3J0IGNvbnN0IE1BUF9JQ09OX1NQRUNJQUxfSU1HID0gXCIuL2Fzc2V0cy9pbWFnZXMvbWFwX2ljb25fbW9uc3Rlcl9sZXZlbF92MDEud2VicFwiO1xyXG5leHBvcnQgY29uc3QgTUFQX0xPQ0tfSU1HID0gXCIuL2Fzc2V0cy9pbWFnZXMvbWFwTG9jay53ZWJwXCI7XHJcbmV4cG9ydCBjb25zdCBTVEFSX0lNRyA9IFwiLi9hc3NldHMvaW1hZ2VzL3N0YXIud2VicFwiO1xyXG5leHBvcnQgY29uc3QgTkVYVF9CVE5fSU1HID0gXCIuL2Fzc2V0cy9pbWFnZXMvbmV4dF9idG4ud2VicFwiO1xyXG5leHBvcnQgY29uc3QgQkFDS19CVE5fSU1HID0gXCIuL2Fzc2V0cy9pbWFnZXMvYmFja19idG4ud2VicFwiO1xyXG5leHBvcnQgY29uc3QgUkVUUllfQlROX0lNRyA9IFwiLi9hc3NldHMvaW1hZ2VzL3JldHJ5X2J0bi53ZWJwXCI7XHJcbmV4cG9ydCBjb25zdCBDQU5DRUxfQlROX0lNRyA9IFwiLi9hc3NldHMvaW1hZ2VzL2Nsb3NlX2J0bi53ZWJwXCI7XHJcbmV4cG9ydCBjb25zdCBZRVNfQlROX0lNRyA9IFwiLi9hc3NldHMvaW1hZ2VzL2NvbmZpcm1fYnRuLndlYnBcIjtcclxuZXhwb3J0IGNvbnN0IFBPUFVQX0JHX0lNRyA9IFwiLi9hc3NldHMvaW1hZ2VzL3BvcHVwX2JnX3YwMS53ZWJwXCI7XHJcbi8vQmFja2dyb3VuZCBHcm91cCBJbWFnZXNcclxuZXhwb3J0IGNvbnN0IEdBTUVQTEFZX0JHX0dST1VQX0lNR1MgPSB7XHJcbiAgICBBU1NFVFNfUEFUSF9UT1RFTSxcclxuICAgIERFRkFVTFRfQkFDS0dST1VORF8xLFxyXG4gICAgQVNTRVRTX1BBVEhfSElMTCxcclxuICAgIEFTU0VUU19QQVRIX0ZFTkNFLFxyXG4gICAgQVNTRVRTX1BBVEhfTU9OU1RFUl9JRExFLFxyXG59O1xyXG5leHBvcnQgY29uc3QgREVGQVVMVF9CR19HUk9VUF9JTUdTID0ge1xyXG4gICAgREVGQVVMVF9CQUNLR1JPVU5EXzEsXHJcbiAgICBBU1NFVFNfUEFUSF9ISUxMLFxyXG4gICAgQVNTRVRTX1BBVEhfVE9URU0sXHJcbiAgICBBU1NFVFNfUEFUSF9GRU5DRSxcclxufTtcclxuZXhwb3J0IGNvbnN0IEFVVFVNTl9CR19HUk9VUF9JTUdTID0ge1xyXG4gICAgQVVUVU1OX0JBQ0tHUk9VTkRfMSxcclxuICAgIEFVVFVNTl9ISUxMXzEsXHJcbiAgICBBVVRVTU5fUElMTEFSXzEsXHJcbiAgICBBVVRVTU5fU0lHTl8xLFxyXG4gICAgQVVUVU1OX0ZFTkNFXzEsXHJcbn07XHJcbmV4cG9ydCBjb25zdCBXSU5URVJfQkdfR1JPVVBfSU1HUyA9IHtcclxuICAgIFdJTlRFUl9CQUNLR1JPVU5EXzEsXHJcbiAgICBXSU5URVJfSElMTF8xLFxyXG4gICAgV0lOVEVSX1NJR05fMSxcclxuICAgIFdJTlRFUl9GRU5DRV8xLFxyXG4gICAgV0lOVEVSX1BJTExBUl8xLFxyXG59O1xyXG4vL1NjZW5lIE5hbWVzXHJcbmV4cG9ydCBjb25zdCBTQ0VORV9OQU1FX1NUQVJUID0gXCJTdGFydFNjZW5lXCI7XHJcbmV4cG9ydCBjb25zdCBTQ0VORV9OQU1FX0xFVkVMX1NFTEVDVCA9IFwiTGV2ZWxTZWxlY3Rpb25cIjtcclxuZXhwb3J0IGNvbnN0IFNDRU5FX05BTUVfR0FNRV9QTEFZID0gXCJHYW1lUGxheVwiO1xyXG5leHBvcnQgY29uc3QgU0NFTkVfTkFNRV9MRVZFTF9FTkQgPSBcIkxldmVsRW5kXCI7XHJcbi8vTGV2ZWxzXHJcbmV4cG9ydCBjb25zdCBTUEVDSUFMX0xFVkVMUyA9IFs1LCAxMywgMjAsIDMwLCA0Ml07XHJcbiIsImltcG9ydCB7IGxhbmcgfSBmcm9tIFwiQGNvbW1vblwiO1xyXG5leHBvcnQgY29uc3QgVVJMID0gXCIuL2xhbmcvXCIgKyBsYW5nICsgXCIvZnRtX1wiICsgbGFuZyArIFwiLmpzb25cIjtcclxuZXhwb3J0IGZ1bmN0aW9uIGdldEZ0bURhdGEoKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goVVJMLCB7XHJcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgICAgfSxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKS50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICB9KSk7XHJcbn1cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldERhdGEoKSB7XHJcbiAgICByZXR1cm4gYXdhaXQgZ2V0RnRtRGF0YSgpO1xyXG59XHJcbiIsImV4cG9ydCBjb25zdCBjdXN0b21Gb250cyA9IHtcclxuICAgIGRlZmF1bHQ6IFwiQXRtYS1TZW1pQm9sZFwiLFxyXG4gICAgZW5nbGlzaDogXCJBdG1hLVNlbWlCb2xkXCIsXHJcbiAgICBzd2FoaWxpOiBcIkF0bWEtU2VtaUJvbGRcIixcclxuICAgIHdvbG9mOiBcIkF0bWEtU2VtaUJvbGRcIixcclxuICAgIHRhamlrOiBcIkF0bWEtU2VtaUJvbGRcIixcclxuICAgIG1hcmF0aGk6IFwiQXRtYS1TZW1pQm9sZFwiLFxyXG4gICAgYW1oYXJpYzogXCJBdG1hLVNlbWlCb2xkXCIsXHJcbiAgICBwdW5qYWJpOiBcIkF0bWEtU2VtaUJvbGRcIixcclxuICAgIHRhbWlsOiBcIkF0bWEtU2VtaUJvbGRcIixcclxuICAgIHNlcGVkaTogXCJBdG1hLVNlbWlCb2xkXCIsXHJcbiAgICBndWphcmF0aTogXCJBdG1hLVNlbWlCb2xkXCIsXHJcbiAgICB0ZWx1Z3U6IFwiQXRtYS1TZW1pQm9sZFwiLFxyXG4gICAgdHNvbmdhOiBcIkF0bWEtU2VtaUJvbGRcIixcclxuICAgIG1hbGF5OiBcIkF0bWEtU2VtaUJvbGRcIixcclxuICAgIG5kZWJlbGU6IFwiQXRtYS1TZW1pQm9sZFwiLFxyXG4gICAgdmVuZGE6IFwiQXRtYS1TZW1pQm9sZFwiLFxyXG4gICAgc2lzd2F0aTogXCJBdG1hLVNlbWlCb2xkXCIsXHJcbiAgICB0c3dhbmE6IFwiQXRtYS1TZW1pQm9sZFwiLFxyXG4gICAgdGhhaTogXCJBdG1hLVNlbWlCb2xkXCIsXHJcbiAgICBmdWxhOiBcIkF0bWEtU2VtaUJvbGRcIixcclxuICAgIGZhcnNpOiBcIkF0bWEtU2VtaUJvbGRcIixcclxuICAgIGJ1cm1lc2U6IFwiQXRtYS1TZW1pQm9sZFwiLFxyXG4gICAgYmVuZ2FsaTogXCJBdG1hLVNlbWlCb2xkXCIsXHJcbiAgICBBemVyYmFpamFuaTogXCJBdG1hLVNlbWlCb2xkXCIsXHJcbiAgICBTZXNvdGhvOiBcIkF0bWEtU2VtaUJvbGRcIixcclxuICAgIEdlb3JnaWFuOiBcIkF0bWEtU2VtaUJvbGRcIixcclxuICAgIEJyYXppbGlhblBvcnR1Z3Vlc2U6IFwiQXRtYS1TZW1pQm9sZFwiLFxyXG4gICAgU29tYWxpOiBcIkF0bWEtU2VtaUJvbGRcIixcclxuICAgIEhhdXNhOiBcIkF0bWEtU2VtaUJvbGRcIixcclxuICAgIElnYm86IFwiQXRtYS1TZW1pQm9sZFwiLFxyXG4gICAgSGF0aWFuQ3Jlb2xlOiBcIkF0bWEtU2VtaUJvbGRcIixcclxuICAgIE9yb21vOiBcIkF0bWEtU2VtaUJvbGRcIixcclxuICAgIEx1Z2FuZGE6IFwiQXRtYS1TZW1pQm9sZFwiLFxyXG4gICAgWW9ydWJhOiBcIkF0bWEtU2VtaUJvbGRcIixcclxuICAgIEtobWVyOiBcIkF0bWEtU2VtaUJvbGRcIixcclxuICAgIEphdmFuZXNlOiBcIkF0bWEtU2VtaUJvbGRcIixcclxuICAgIFVyZHU6IFwiQXRtYS1TZW1pQm9sZFwiLFxyXG4gICAgS2lueWFyd2FuZGE6IFwiQXRtYS1TZW1pQm9sZFwiLFxyXG4gICAgU2hvbmE6IFwiQXRtYS1TZW1pQm9sZFwiLFxyXG4gICAgS3VyZGlzaDogXCJBdG1hLVNlbWlCb2xkXCIsXHJcbiAgICBGcmVuY2g6IFwiQXRtYS1TZW1pQm9sZFwiLFxyXG4gICAgaXNpWGhvc2E6IFwiQXRtYS1TZW1pQm9sZFwiLFxyXG4gICAgQWZyaWthYW5zOiBcIkF0bWEtU2VtaUJvbGRcIixcclxuICAgIE5lcGFsaTogXCJBdG1hLVNlbWlCb2xkXCIsXHJcbiAgICBVa3JhaW5pYW46IFwiQXRtYS1TZW1pQm9sZFwiLFxyXG4gICAgSGluZGk6IFwiQXRtYS1TZW1pQm9sZFwiLFxyXG4gICAgVGFnYWxvZzogXCJBdG1hLVNlbWlCb2xkXCIsXHJcbiAgICBWaWV0bmFtZXNlOiBcIkF0bWEtU2VtaUJvbGRcIixcclxuICAgIFBhc2h0bzogXCJBdG1hLVNlbWlCb2xkXCIsXHJcbiAgICBUd2k6IFwiQXRtYS1TZW1pQm9sZFwiLFxyXG4gICAgQXJhYmljOiBcIkF0bWEtU2VtaUJvbGRcIixcclxufTtcclxuIiwiZXhwb3J0IGNsYXNzIERhdGFNb2RhbCB7XHJcbiAgICB0aXRsZTtcclxuICAgIG90aGVyQXVkaW9zO1xyXG4gICAgbGV2ZWxzO1xyXG4gICAgRmVlZGJhY2tUZXh0cztcclxuICAgIEZlZWRiYWNrQXVkaW9zO1xyXG4gICAgcmlnaHRUb0xlZnQ7XHJcbiAgICBtYWpWZXJzaW9uO1xyXG4gICAgbWluVmVyc2lvbjtcclxuICAgIHZlcnNpb247XHJcbiAgICBjb25zdHJ1Y3Rvcih0aXRsZSwgb3RoZXJBdWRpb3MsIGxldmVscywgZmVlZGJhY2tUZXh0cywgcmlnaHRUb0xlZnQsIGZlZWRiYWNrQXVkaW9zLCBtYWpWZXJzaW9uLCBtaW5WZXJzaW9uLCB2ZXJzaW9uKSB7XHJcbiAgICAgICAgdGhpcy50aXRsZSA9IHRpdGxlO1xyXG4gICAgICAgIHRoaXMub3RoZXJBdWRpb3MgPSBuZXcgT3RoZXJBdWRpb3Mob3RoZXJBdWRpb3MpO1xyXG4gICAgICAgIHRoaXMubGV2ZWxzID0gdGhpcy5nZXRMZXZlbHMobGV2ZWxzKTtcclxuICAgICAgICB0aGlzLkZlZWRiYWNrVGV4dHMgPSBuZXcgRmVlZGJhY2tUZXh0cyhmZWVkYmFja1RleHRzKTtcclxuICAgICAgICB0aGlzLkZlZWRiYWNrQXVkaW9zID0gbmV3IEZlZWRiYWNrQXVkaW9zKGZlZWRiYWNrQXVkaW9zKTtcclxuICAgICAgICB0aGlzLnJpZ2h0VG9MZWZ0ID0gcmlnaHRUb0xlZnQ7XHJcbiAgICAgICAgdGhpcy5tYWpWZXJzaW9uID0gbWFqVmVyc2lvbjtcclxuICAgICAgICB0aGlzLm1pblZlcnNpb24gPSBtaW5WZXJzaW9uO1xyXG4gICAgICAgIHRoaXMudmVyc2lvbiA9IHZlcnNpb247XHJcbiAgICB9XHJcbiAgICBnZXRMZXZlbHMobGV2ZWxzKSB7XHJcbiAgICAgICAgbGV0IGxldmVsQXJyYXkgPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxldmVscy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXZlbEFycmF5LnB1c2gobmV3IExldmVscyhsZXZlbHNbaV0pKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGxldmVsQXJyYXk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGNsYXNzIE90aGVyQXVkaW9zIHtcclxuICAgIHNlbGN0WW91clBsYXllcjtcclxuICAgIHdhdGNoTWVHcm93O1xyXG4gICAgYXJlWW91U3VyZTtcclxuICAgIGNvbnN0cnVjdG9yKG90aGVyQXVkaW9zKSB7XHJcbiAgICAgICAgdGhpcy5zZWxjdFlvdXJQbGF5ZXIgPSBvdGhlckF1ZGlvc1tcIlNlbGVjdCB5b3VyIHBsYXllclwiXTtcclxuICAgICAgICB0aGlzLndhdGNoTWVHcm93ID0gb3RoZXJBdWRpb3NbXCJXYXRjaCBtZSBncm93XCJdO1xyXG4gICAgICAgIHRoaXMuYXJlWW91U3VyZSA9IG90aGVyQXVkaW9zW1wiQXJlIHlvdSBzdXJlXCJdO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBjbGFzcyBGZWVkYmFja1RleHRzIHtcclxuICAgIGZhbnRhc3RpYztcclxuICAgIGdyZWF0O1xyXG4gICAgYW1hemluZztcclxuICAgIGNvbnN0cnVjdG9yKGZlZWRiYWNrVGV4dHMpIHtcclxuICAgICAgICBpZiAoZmVlZGJhY2tUZXh0cy5sZW5ndGggPj0gMSkge1xyXG4gICAgICAgICAgICB0aGlzLmZhbnRhc3RpYyA9IGZlZWRiYWNrVGV4dHNbMF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChmZWVkYmFja1RleHRzLmxlbmd0aCA+PSAyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ3JlYXQgPSBmZWVkYmFja1RleHRzWzFdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZmVlZGJhY2tUZXh0cy5sZW5ndGggPj0gMykge1xyXG4gICAgICAgICAgICB0aGlzLmFtYXppbmcgPSBmZWVkYmFja1RleHRzWzJdO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnQgY2xhc3MgRmVlZGJhY2tBdWRpb3Mge1xyXG4gICAgZmFudGFzdGljO1xyXG4gICAgZ3JlYXQ7XHJcbiAgICBhbWF6aW5nO1xyXG4gICAgY29uc3RydWN0b3IoZmVlZGJhY2tBdWRpb3MpIHtcclxuICAgICAgICBpZiAoZmVlZGJhY2tBdWRpb3MubGVuZ3RoID49IDEpIHtcclxuICAgICAgICAgICAgdGhpcy5mYW50YXN0aWMgPSBmZWVkYmFja0F1ZGlvc1swXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGZlZWRiYWNrQXVkaW9zLmxlbmd0aCA+PSAyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ3JlYXQgPSBmZWVkYmFja0F1ZGlvc1sxXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGZlZWRiYWNrQXVkaW9zLmxlbmd0aCA+PSAzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYW1hemluZyA9IGZlZWRiYWNrQXVkaW9zWzJdO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnQgY2xhc3MgTGV2ZWxzIHtcclxuICAgIHB1enpsZXM7XHJcbiAgICBsZXZlbE1ldGE7XHJcbiAgICBsZXZlbE51bWJlcjtcclxuICAgIGNvbnN0cnVjdG9yKGxldmVscykge1xyXG4gICAgICAgIHRoaXMucHV6emxlcyA9IHRoaXMuZ2V0UHV6emxlRGF0YShsZXZlbHMpO1xyXG4gICAgICAgIHRoaXMubGV2ZWxNZXRhID0gbmV3IExldmVsTWV0YShsZXZlbHMuTGV2ZWxNZXRhKTtcclxuICAgICAgICB0aGlzLmxldmVsTnVtYmVyID0gbGV2ZWxzLkxldmVsTnVtYmVyO1xyXG4gICAgfVxyXG4gICAgZ2V0UHV6emxlRGF0YShsZXZlbHMpIHtcclxuICAgICAgICBsZXQgcHV6emxlT2JqZWN0cyA9IFtdO1xyXG4gICAgICAgIGxldmVscy5QdXp6bGVzLm1hcCgocHV6emxlRGF0YSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgcHV6emxlT2JqZWN0cy5wdXNoKG5ldyBQdXp6bGVzKHB1enpsZURhdGEpKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gcHV6emxlT2JqZWN0cztcclxuICAgIH1cclxufVxyXG5leHBvcnQgY2xhc3MgUHV6emxlcyB7XHJcbiAgICBzZWdtZW50TnVtYmVyO1xyXG4gICAgcHJvbXB0O1xyXG4gICAgZm9pbFN0b25lcztcclxuICAgIHRhcmdldFN0b25lcztcclxuICAgIGNvbnN0cnVjdG9yKHB1enpsZSkge1xyXG4gICAgICAgIHRoaXMuc2VnbWVudE51bWJlciA9IHB1enpsZS5TZWdtZW50TnVtYmVyO1xyXG4gICAgICAgIHRoaXMucHJvbXB0ID0gbmV3IFByb21wdChwdXp6bGUucHJvbXB0KTtcclxuICAgICAgICB0aGlzLmZvaWxTdG9uZXMgPSB0aGlzLmdldEZvaWxTdG9uZXMocHV6emxlKTtcclxuICAgICAgICB0aGlzLnRhcmdldFN0b25lcyA9IHRoaXMuZ2V0VGFyZ2V0U3RvbmVzKHB1enpsZSk7XHJcbiAgICB9XHJcbiAgICBnZXRGb2lsU3RvbmVzKHB1enpsZSkge1xyXG4gICAgICAgIGxldCBmb2lsU3RvbmVBcnJheSA9IFtdO1xyXG4gICAgICAgIHB1enpsZS5mb2lsc3RvbmVzLm1hcCgoc3RvbmVzLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICBmb2lsU3RvbmVBcnJheS5wdXNoKHN0b25lcy5TdG9uZVRleHQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBmb2lsU3RvbmVBcnJheTtcclxuICAgIH1cclxuICAgIGdldFRhcmdldFN0b25lcyhwdXp6bGUpIHtcclxuICAgICAgICBsZXQgdGFyZ2V0U3RvbmVBcnJheSA9IFtdO1xyXG4gICAgICAgIHB1enpsZS50YXJnZXRzdG9uZXMubWFwKChzdG9uZXMsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIHRhcmdldFN0b25lQXJyYXkucHVzaChzdG9uZXMuU3RvbmVUZXh0KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGFyZ2V0U3RvbmVBcnJheTtcclxuICAgIH1cclxufVxyXG5leHBvcnQgY2xhc3MgRm9pbFN0b25lIHtcclxuICAgIHN0b25lVGV4dDtcclxuICAgIGNvbnN0cnVjdG9yKHN0b25lVGV4dCkge1xyXG4gICAgICAgIHRoaXMuc3RvbmVUZXh0ID0gc3RvbmVUZXh0O1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBjbGFzcyBUYXJnZXRTdG9uZSB7XHJcbiAgICBzdG9uZVRleHQ7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnN0b25lVGV4dDtcclxuICAgIH1cclxufVxyXG5leHBvcnQgY2xhc3MgUHJvbXB0IHtcclxuICAgIHByb21wdFRleHQ7XHJcbiAgICBwcm9tcHRBdWRpbztcclxuICAgIGNvbnN0cnVjdG9yKHByb21wdCkge1xyXG4gICAgICAgIHRoaXMucHJvbXB0VGV4dCA9IHByb21wdC5Qcm9tcHRUZXh0O1xyXG4gICAgICAgIHRoaXMucHJvbXB0QXVkaW8gPSBwcm9tcHQuUHJvbXB0QXVkaW87XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGNsYXNzIExldmVsTWV0YSB7XHJcbiAgICBwcm9tcHRGYWRlT3V0O1xyXG4gICAgbGV0dGVyR3JvdXA7XHJcbiAgICBsZXZlbE51bWJlcjtcclxuICAgIHByb3RvVHlwZTtcclxuICAgIGxldmVsVHlwZTtcclxuICAgIGNvbnN0cnVjdG9yKGxldmVsTWV0YSkge1xyXG4gICAgICAgIHRoaXMucHJvbXB0RmFkZU91dCA9IGxldmVsTWV0YS5Qcm9tcHRGYWRlb3V0O1xyXG4gICAgICAgIHRoaXMubGV0dGVyR3JvdXAgPSBsZXZlbE1ldGEuTGV0dGVyR3JvdXA7XHJcbiAgICAgICAgdGhpcy5sZXZlbE51bWJlciA9IGxldmVsTWV0YS5MZXZlbE51bWJlcjtcclxuICAgICAgICB0aGlzLnByb3RvVHlwZSA9IGxldmVsTWV0YS5Qcm9tcHRUeXBlO1xyXG4gICAgICAgIHRoaXMubGV2ZWxUeXBlID0gbGV2ZWxNZXRhLkxldmVsVHlwZTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBEZWJ1Z2dlciwgbGFuZyB9IGZyb20gXCJAY29tbW9uXCI7XHJcbmV4cG9ydCBjbGFzcyBHYW1lU2NvcmUge1xyXG4gICAgc3RhdGljIGN1cnJlbnRsYW5ndWFnZSA9IGxhbmc7XHJcbiAgICBzdGF0aWMgc2V0R2FtZUxldmVsU2NvcmUoY3VycmVudExldmVsSW5mbywgc2NvcmUpIHtcclxuICAgICAgICBsZXQgc3RhcnNHYWluZWQgPSB0aGlzLmNhbGN1bGF0ZVN0YXJDb3VudChzY29yZSk7XHJcbiAgICAgICAgbGV0IGxldmVsUGxheWVkSW5mbyA9IHtcclxuICAgICAgICAgICAgbGV2ZWxOYW1lOiBjdXJyZW50TGV2ZWxJbmZvLmxldmVsTWV0YS5sZXZlbFR5cGUsXHJcbiAgICAgICAgICAgIGxldmVsTnVtYmVyOiBjdXJyZW50TGV2ZWxJbmZvLmxldmVsTWV0YS5sZXZlbE51bWJlcixcclxuICAgICAgICAgICAgc2NvcmU6IHNjb3JlLFxyXG4gICAgICAgICAgICBzdGFyQ291bnQ6IHN0YXJzR2FpbmVkLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5zZXRUb3RhbFN0YXJDb3VudChzdGFyc0dhaW5lZCk7XHJcbiAgICAgICAgbGV0IGFsbEdhbWVsZXZlbEluZm8gPSB0aGlzLmdldEFsbEdhbWVMZXZlbEluZm8oKTtcclxuICAgICAgICBsZXQgaW5kZXggPSAtMTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFsbEdhbWVsZXZlbEluZm8ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGFsbEdhbWVsZXZlbEluZm9baV0ubGV2ZWxOdW1iZXIgPT09IGxldmVsUGxheWVkSW5mby5sZXZlbE51bWJlcikge1xyXG4gICAgICAgICAgICAgICAgaW5kZXggPSBpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSAmJiBsZXZlbFBsYXllZEluZm8uc2NvcmUgPiBhbGxHYW1lbGV2ZWxJbmZvW2luZGV4XS5zY29yZSkge1xyXG4gICAgICAgICAgICBhbGxHYW1lbGV2ZWxJbmZvW2luZGV4XSA9IGxldmVsUGxheWVkSW5mbztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGFsbEdhbWVsZXZlbEluZm8ucHVzaChsZXZlbFBsYXllZEluZm8pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0aGlzLmN1cnJlbnRsYW5ndWFnZSArIFwiZ2FtZVBsYXllZEluZm9cIiwgSlNPTi5zdHJpbmdpZnkoYWxsR2FtZWxldmVsSW5mbykpO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIGdldEFsbEdhbWVMZXZlbEluZm8oKSB7XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMuY3VycmVudGxhbmd1YWdlICsgXCJnYW1lUGxheWVkSW5mb1wiKTtcclxuICAgICAgICByZXR1cm4gZGF0YSA9PSB1bmRlZmluZWQgPyBbXSA6IEpTT04ucGFyc2UoZGF0YSk7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgc2V0VG90YWxTdGFyQ291bnQoc3RhcnNHYWluZWQpIHtcclxuICAgICAgICBsZXQgc3RhckNvdW50ID0gdGhpcy5nZXRUb3RhbFN0YXJDb3VudCgpO1xyXG4gICAgICAgIGxldCB0b3RhbFN0YXJDb3VudCA9IHN0YXJDb3VudCArIHN0YXJzR2FpbmVkO1xyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHRoaXMuY3VycmVudGxhbmd1YWdlICsgXCJ0b3RhbFN0YXJDb3VudFwiLCB0b3RhbFN0YXJDb3VudCk7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgZ2V0VG90YWxTdGFyQ291bnQoKSB7XHJcbiAgICAgICAgY29uc3Qgc3RhckNvdW50ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0odGhpcy5jdXJyZW50bGFuZ3VhZ2UgKyBcInRvdGFsU3RhckNvdW50XCIpO1xyXG4gICAgICAgIHJldHVybiBzdGFyQ291bnQgPT0gdW5kZWZpbmVkID8gMCA6IHBhcnNlSW50KHN0YXJDb3VudCk7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgY2FsY3VsYXRlU3RhckNvdW50KHNjb3JlKSB7XHJcbiAgICAgICAgcmV0dXJuIHNjb3JlID09IDIwMFxyXG4gICAgICAgICAgICA/IDFcclxuICAgICAgICAgICAgOiBzY29yZSA9PSAzMDBcclxuICAgICAgICAgICAgICAgID8gMlxyXG4gICAgICAgICAgICAgICAgOiBzY29yZSA9PSA0MDBcclxuICAgICAgICAgICAgICAgICAgICA/IDJcclxuICAgICAgICAgICAgICAgICAgICA6IHNjb3JlID09IDUwMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IDNcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiAwO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIGdldERhdGFmcm9tU3RvcmFnZSgpIHtcclxuICAgICAgICBjb25zdCBkYXRhID0gRGVidWdnZXIuRGVidWdNb2RlXHJcbiAgICAgICAgICAgID8gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShsYW5nICsgXCJQcm9maWxlRGVidWdcIikgfHwgXCJ7fVwiKVxyXG4gICAgICAgICAgICA6IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0obGFuZyArIFwiUHJvZmlsZVwiKSB8fCBcInt9XCIpO1xyXG4gICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCBjb25zdCBsYW5ndWFnZUZvbnRNYXBwaW5nID0ge1xyXG4gICAgZW5nbGlzaDogXCJDb25zb2xhc1wiLFxyXG4gICAgc3dhaGlsaTogXCJDb25zb2xhc1wiLFxyXG4gICAgd29sb2Y6IFwiQ29uc29sYXNcIixcclxuICAgIHRhamlrOiBcIkNvbnNvbGFzXCIsXHJcbiAgICBtYXJhdGhpOiBcIkNvbnNvbGFzXCIsXHJcbiAgICBhbWhhcmljOiBcIkNvbnNvbGFzXCIsXHJcbiAgICBwdW5qYWJpOiBcIkNvbnNvbGFzXCIsXHJcbiAgICB0YW1pbDogXCJDb25zb2xhc1wiLFxyXG4gICAgc2VwZWRpOiBcIkNvbnNvbGFzXCIsXHJcbiAgICBndWphcmF0aTogXCJDb25zb2xhc1wiLFxyXG4gICAgdGVsdWd1OiBcIkNvbnNvbGFzXCIsXHJcbiAgICB0c29uZ2E6IFwiQ29uc29sYXNcIixcclxuICAgIG1hbGF5OiBcIkNvbnNvbGFzXCIsXHJcbiAgICBuZGViZWxlOiBcIkNvbnNvbGFzXCIsXHJcbiAgICB2ZW5kYTogXCJOb3RvU2Fucy1SZWd1bGFyXCIsXHJcbiAgICBzaXN3YXRpOiBcIkNvbnNvbGFzXCIsXHJcbiAgICB0c3dhbmE6IFwiQ29uc29sYXNcIixcclxuICAgIHRoYWk6IFwiQ29uc29sYXNcIixcclxuICAgIGZ1bGE6IFwiQ29uc29sYXNcIixcclxuICAgIGZhcnNpOiBcIkNvbnNvbGFzXCIsXHJcbiAgICBidXJtZXNlOiBcIkNvbnNvbGFzXCIsXHJcbiAgICBiZW5nYWxpOiBcIkNvbnNvbGFzXCIsXHJcbiAgICBBemVyYmFpamFuaTogXCJOb3RvU2Fucy1SZWd1bGFyXCIsXHJcbiAgICBTZXNvdGhvOiBcIkNvbnNvbGFzXCIsXHJcbiAgICBHZW9yZ2lhbjogXCJDb25zb2xhc1wiLFxyXG4gICAgQnJhemlsaWFuUG9ydHVndWVzZTogXCJDb25zb2xhc1wiLFxyXG4gICAgU29tYWxpOiBcIkNvbnNvbGFzXCIsXHJcbiAgICBIYXVzYTogXCJOb3RvU2Fucy1SZWd1bGFyXCIsXHJcbiAgICBJZ2JvOiBcIkNvbnNvbGFzXCIsXHJcbiAgICBIYXRpYW5DcmVvbGU6IFwiQ29uc29sYXNcIixcclxuICAgIE9yb21vOiBcIkNvbnNvbGFzXCIsXHJcbiAgICBMdWdhbmRhOiBcIkNvbnNvbGFzXCIsXHJcbiAgICBZb3J1YmE6IFwiQ29uc29sYXNcIixcclxuICAgIEtobWVyOiBcIkNvbnNvbGFzXCIsXHJcbiAgICBKYXZhbmVzZTogXCJDb25zb2xhc1wiLFxyXG4gICAgVXJkdTogXCJDb25zb2xhc1wiLFxyXG4gICAgS2lueWFyd2FuZGE6IFwiQ29uc29sYXNcIixcclxuICAgIFNob25hOiBcIkNvbnNvbGFzXCIsXHJcbiAgICBLdXJkaXNoOiBcIkNvbnNvbGFzXCIsXHJcbiAgICBGcmVuY2g6IFwiQ29uc29sYXNcIixcclxuICAgIGlzaVhob3NhOiBcIkNvbnNvbGFzXCIsXHJcbiAgICBBZnJpa2FhbnM6IFwiQ29uc29sYXNcIixcclxuICAgIE5lcGFsaTogXCJDb25zb2xhc1wiLFxyXG4gICAgVWtyYWluaWFuOiBcIkNvbnNvbGFzXCIsXHJcbiAgICBIaW5kaTogXCJDb25zb2xhc1wiLFxyXG4gICAgVGFnYWxvZzogXCJDb25zb2xhc1wiLFxyXG4gICAgVmlldG5hbWVzZTogXCJOb3RvU2Fucy1SZWd1bGFyXCIsXHJcbiAgICBQYXNodG86IFwiQ29uc29sYXNcIixcclxuICAgIFR3aTogXCJOb3RvU2Fucy1SZWd1bGFyXCIsXHJcbiAgICBBcmFiaWM6IFwiQWRvYmUtQXJhYmljLUJvbGRcIlxyXG59O1xyXG4iLCJpbXBvcnQgeyBMT0FEUFVaWkxFLCBTVE9ORURST1AgfSBmcm9tIFwiQGNvbW1vblwiO1xyXG5leHBvcnQgY2xhc3MgRXZlbnRNYW5hZ2VyIHtcclxuICAgIGhhbmRsZXI7XHJcbiAgICBzdG9uZURyb3BDYWxsYmFja0hhbmRsZXI7XHJcbiAgICBsb2FkUHV6emxlQ2FsbGJhY2tIYW5kbGVyO1xyXG4gICAgY29uc3RydWN0b3IoaGFuZGxlcikge1xyXG4gICAgICAgIHRoaXMuaGFuZGxlciA9IGhhbmRsZXI7XHJcbiAgICAgICAgdGhpcy5zdG9uZURyb3BDYWxsYmFja0hhbmRsZXIgPSBoYW5kbGVyLnN0b25lRHJvcENhbGxiYWNrSGFuZGxlcjtcclxuICAgICAgICB0aGlzLmxvYWRQdXp6bGVDYWxsYmFja0hhbmRsZXIgPSBoYW5kbGVyLmxvYWRQdXp6bGVDYWxsYmFja0hhbmRsZXI7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihTVE9ORURST1AsIHRoaXMuaGFuZGxlU3RvbmVEcm9wcGVkRXZlbnQsIGZhbHNlKTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKExPQURQVVpaTEUsIHRoaXMuaGFuZGxlTG9hZFB1enpsZUV2ZW50LCBmYWxzZSk7XHJcbiAgICB9XHJcbiAgICBoYW5kbGVTdG9uZURyb3BwZWRFdmVudCA9IChldmVudCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc3RvbmVEcm9wQ2FsbGJhY2tIYW5kbGVyKGV2ZW50KTtcclxuICAgIH07XHJcbiAgICBoYW5kbGVMb2FkUHV6emxlRXZlbnQgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICB0aGlzLmxvYWRQdXp6bGVDYWxsYmFja0hhbmRsZXIoZXZlbnQpO1xyXG4gICAgfTtcclxuICAgIHVucmVnaXN0ZXJFdmVudExpc3RlbmVyID0gKCkgPT4ge1xyXG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoU1RPTkVEUk9QLCB0aGlzLmhhbmRsZVN0b25lRHJvcHBlZEV2ZW50LCBmYWxzZSk7XHJcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihMT0FEUFVaWkxFLCB0aGlzLmhhbmRsZUxvYWRQdXp6bGVFdmVudCwgZmFsc2UpO1xyXG4gICAgfTtcclxufVxyXG4iLCIvKipcclxuICogUHViU3ViLnRzXHJcbiAqXHJcbiAqIFRoaXMgY2xhc3MgaW1wbGVtZW50cyB0aGUgUHVibGlzaC1TdWJzY3JpYmUgKFB1Yi9TdWIpIHBhdHRlcm4sXHJcbiAqIHByb3ZpZGluZyBhIGFzeW5jaHJvbm91cyBldmVudC1kcml2ZW4gY29tbXVuaWNhdGlvbiB3aXRoaW4gdGhlIGFwcGxpY2FpdG9uLlxyXG4gKiBJdCBpbmNsdWRlcyBtZXRob2RzIGZvciBzdWJzY3JpYmluZyB0byBldmVudHMsIHB1Ymxpc2hpbmcgZXZlbnRzIHRvXHJcbiAqIHBhc3MgdGhlIG5ldy91cGRhdGVkIGRhdGEgYW5kIG5vdGlmaXkgc3Vic2NyaWJlcnMsIGFuZCB1bi1zdWJzY3JpYmluZyBmcm9tIGV2ZW50c1xyXG4gKiB0byBwcmV2ZW50IG1lbW9yeSBsZWFrcy4gVGhpcyBwYXR0ZXJuIHByb21vdGVzIGxvb3NlIGNvdXBsaW5nIGJldHdlZW4gY29tcG9uZW50cyxcclxuICogYWxsb3dpbmcgZ3JlYXRlciBzY2FsYWJpbGl0eSBhbmQgbWFpbnRhaW5hYmlsaXR5IGV2ZW50IGhhbmRsaW5nLlxyXG4qL1xyXG5leHBvcnQgY2xhc3MgUHViU3ViIHtcclxuICAgIHN1YnNjcmliZXJzO1xyXG4gICAgRVZFTlRTO1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVycyA9IHt9O1xyXG4gICAgICAgIHRoaXMuRVZFTlRTID0ge1xyXG4gICAgICAgICAgICBTQ0VORV9OQU1FX0VWRU5UOiAnU0NFTkVfTkFNRV9FVkVOVCcsXHJcbiAgICAgICAgICAgIEdBTUVQTEFZX0RBVEFfRVZFTlQ6ICdHQU1FUExBWV9EQVRBX0VWRU5UJyxcclxuICAgICAgICAgICAgR0FNRV9QQVVTRV9TVEFUVVNfRVZFTlQ6ICdHQU1FX1BBVVNFX1NUQVRVU19FVkVOVCcsXHJcbiAgICAgICAgICAgIEdBTUVfVFJBSUxfRUZGRUNUX1RPR0dMRV9FVkVOVDogJ0dBTUVfVFJBSUxfRUZGRUNUX1RPR0dMRV9FVkVOVCdcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgdGVzdENoZWNrU3Vic2NyaWJlcnMoKSB7XHJcbiAgICAgICAgLy9UbyBEbyAtIFRoaXMgd2lsbCBiZSByZW1vdmUgYWZ0ZXIgZGV2ZWxvcGluZyBGTS0yODVcclxuICAgICAgICBjb25zb2xlLmxvZygndGhpcy5zdWJzY3JpYmVycyAnLCB0aGlzLnN1YnNjcmliZXJzKTtcclxuICAgIH1cclxuICAgIHN1YnNjcmliZShldmVudCwgZm4pIHtcclxuICAgICAgICBjb25zdCBpc0V2ZW50SGFzRnVuY3Rpb25zID0gQXJyYXkuaXNBcnJheSh0aGlzLnN1YnNjcmliZXJzW2V2ZW50XSk7XHJcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVyc1tldmVudF0gPSBpc0V2ZW50SGFzRnVuY3Rpb25zID8gWy4uLnRoaXMuc3Vic2NyaWJlcnNbZXZlbnRdLCBmbl0gOiBbZm5dO1xyXG4gICAgfVxyXG4gICAgdW5zdWJzY3JpYmUoZXZlbnQsIGxpc3RlbmVyKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnN1YnNjcmliZXJzW2V2ZW50XSlcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIC8vUmVtb3ZlIGZ1bmN0aW9uIGxpc3RlZCBpbiB0aGUgZXZlbnQuXHJcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVyc1tldmVudF0gPSB0aGlzLnN1YnNjcmliZXJzW2V2ZW50XS5maWx0ZXIoZm4gPT4gZm4gIT09IGxpc3RlbmVyKTtcclxuICAgIH1cclxuICAgIHB1Ymxpc2goZXZlbnQsIGRhdGEpIHtcclxuICAgICAgICBpZiAoIXRoaXMuc3Vic2NyaWJlcnNbZXZlbnRdKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVyc1tldmVudF0uZm9yRWFjaChldmVudEZ1bmMgPT4ge1xyXG4gICAgICAgICAgICBldmVudEZ1bmMoZGF0YSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIiwiLyoqXHJcbiAqIGRhdGEtYWNjZXNzLW9iamVjdHMudHNcclxuICpcclxuICogVGhpcyBmaWxlIGNvbnRhaW5zIGZ1bmN0aW9ucyB0aGF0IHNlcnZlIGFzIERhdGEgQWNjZXNzIE9iamVjdCAoREFPcylcclxuICogZGVzaWduZWQgdG8gcmV0cmlldmUgaW5pdGlhbCB2YWx1ZXMgZnJvbSB0aGUgZ2FtZSBzdGF0ZS5cclxuICogVGhpcyBwcm92aWRlcyBhIHNldCBvZiBnZXR0ZXJzIGZvciBhY2Nlc3NpbmcgdGhlIHVuZGVybHlpbmcgZGF0YSxcclxuICogdGhhdCB3aWxsIGJlIHVzZWQgd2hlbiBpbml0aWF0aW5nIG9yIGNyZWF0aW5nIGFueSBjb21wb25lbnQgY2xhc3Mgb3Igc2NlbmUgY2xhc3MuXHJcbiAqXHJcbiAqIE5vdGU6IERBT3Mgd2lsbCByZXR1cm4gYSBuZXcgb2JqZWN0IHRvIGVuc3VyZSB0aGF0IGl0IGlzIGEgUkVBRC1PTkxZIGRhdGFcclxuICogYW5kIHRvIGF2b2lkIGFueSBkYXRhIG1hbnVwdWxhdGlvbiB0aHJvdWdoIHBhc3MtYnktcmVmZXJlbmNlLlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUdhbWVwbGF5U2NlbmVEQU8gPSAoZ2FtZURhdGEpID0+IHtcclxuICAgIGNvbnN0IHZlcnNpb25OdW1iZXIgPSAhIWdhbWVEYXRhLm1halZlcnNpb24gJiYgISFnYW1lRGF0YS5taW5WZXJzaW9uXHJcbiAgICAgICAgPyBnYW1lRGF0YS5tYWpWZXJzaW9uLnRvU3RyaW5nKCkgK1xyXG4gICAgICAgICAgICBcIi5cIiArXHJcbiAgICAgICAgICAgIGdhbWVEYXRhLm1pblZlcnNpb24udG9TdHJpbmcoKVxyXG4gICAgICAgIDogXCJcIjtcclxuICAgIC8vUmV0dXJucyBhIHJlYWQgb25seSBkYXRhIG9mIHRoZSB2YWx1ZXMgKGV4Y2VwdCBmb3IgY2FudmFzIG9iamVjdCkgbmVlZGVkIGZvciBnYW1lcGxheSBzY2VuZS5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgY2FudmFzOiBnYW1lRGF0YS5jYW52YXMsXHJcbiAgICAgICAgd2lkdGg6IGdhbWVEYXRhLndpZHRoLFxyXG4gICAgICAgIGhlaWdodDogZ2FtZURhdGEuaGVpZ2h0LFxyXG4gICAgICAgIGNhbmF2c0VsZW1lbnQ6IGdhbWVEYXRhLmNhbmF2c0VsZW1lbnQsXHJcbiAgICAgICAgZ2FtZUNhbnZhc0NvbnRleHQ6IGdhbWVEYXRhLmdhbWVDYW52YXNDb250ZXh0LFxyXG4gICAgICAgIGxldmVsRGF0YTogeyAuLi5nYW1lRGF0YS5nYW1lUGxheURhdGEuY3VycmVudExldmVsRGF0YSB9LFxyXG4gICAgICAgIGxldmVsTnVtYmVyOiBnYW1lRGF0YS5nYW1lUGxheURhdGEuc2VsZWN0ZWRMZXZlbE51bWJlcixcclxuICAgICAgICBmZWVkQmFja1RleHRzOiB7IC4uLmdhbWVEYXRhLmZlZWRiYWNrVGV4dHMgfSxcclxuICAgICAgICByaWdodFRvTGVmdDogZ2FtZURhdGE/LnJpZ2h0VG9MZWZ0LFxyXG4gICAgICAgIGpzb25WZXJzaW9uTnVtYmVyOiB2ZXJzaW9uTnVtYmVyLFxyXG4gICAgICAgIGZlZWRiYWNrQXVkaW9zOiB7IC4uLmdhbWVEYXRhLmZlZWRiYWNrQXVkaW9zIH0sXHJcbiAgICAgICAgaXNHYW1lUGF1c2VkOiBnYW1lRGF0YS5pc0dhbWVQYXVzZWRcclxuICAgIH07XHJcbn07XHJcbi8vQWRkIG1vcmUgZGF0YSBhY2Nlc3Mgb2JqZWN0cyBiZWxvdyBoZXJlLlxyXG4iLCJpbXBvcnQgeyBTQ0VORV9OQU1FX1NUQVJUIH0gZnJvbSBcIkBjb25zdGFudHNcIjtcclxuZXhwb3J0IGNsYXNzIEdhbWVEYXRhIHtcclxuICAgIGRhdGE7XHJcbiAgICBjYW52YXM7XHJcbiAgICB3aWR0aDtcclxuICAgIGhlaWdodDtcclxuICAgIGNhbmF2c0VsZW1lbnQ7XHJcbiAgICBjb250ZXh0O1xyXG4gICAgZ2FtZUNhbnZhc0NvbnRleHQ7XHJcbiAgICBpc0dhbWVQYXVzZWQ7XHJcbiAgICBjdXJyZW50U2NlbmU7XHJcbiAgICBwcmV2aW91c1NjZW5lO1xyXG4gICAgZ2FtZVBsYXlEYXRhO1xyXG4gICAgZmVlZGJhY2tUZXh0cztcclxuICAgIHJpZ2h0VG9MZWZ0O1xyXG4gICAgbWFqVmVyc2lvbjtcclxuICAgIG1pblZlcnNpb247XHJcbiAgICBmZWVkYmFja0F1ZGlvcztcclxuICAgIGNsaWNrVHJhaWxUb2dnbGU7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmRhdGEgPSBudWxsO1xyXG4gICAgICAgIC8qIENhbnZhcyBTdGF0ZXMgKi9cclxuICAgICAgICB0aGlzLmNhbnZhcyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy53aWR0aCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuY2FuYXZzRWxlbWVudCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gbnVsbDtcclxuICAgICAgICB0aGlzLmdhbWVDYW52YXNDb250ZXh0ID0gbnVsbDtcclxuICAgICAgICAvKiBTY2VuZSBIYW5kbGVyIFN0YXRlcyAqL1xyXG4gICAgICAgIHRoaXMuY3VycmVudFNjZW5lID0gU0NFTkVfTkFNRV9TVEFSVDtcclxuICAgICAgICB0aGlzLnByZXZpb3VzU2NlbmUgPSAnJztcclxuICAgICAgICAvKiBHYW1lcGxheSBTdGF0ZXMgKi9cclxuICAgICAgICB0aGlzLmlzR2FtZVBhdXNlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZ2FtZVBsYXlEYXRhID0gbnVsbDtcclxuICAgICAgICB0aGlzLmZlZWRiYWNrQXVkaW9zID0gbnVsbDtcclxuICAgICAgICB0aGlzLmZlZWRiYWNrVGV4dHMgPSBudWxsO1xyXG4gICAgICAgIHRoaXMucmlnaHRUb0xlZnQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLm1halZlcnNpb24gPSBudWxsO1xyXG4gICAgICAgIHRoaXMubWluVmVyc2lvbiA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5jbGlja1RyYWlsVG9nZ2xlID0gZmFsc2U7XHJcbiAgICB9XHJcbn1cclxuO1xyXG4iLCJpbXBvcnQgeyBQdWJTdWIgfSBmcm9tICcuLi9ldmVudHMvcHViLXN1Yi1ldmVudHMnO1xyXG5pbXBvcnQgeyBHYW1lRGF0YSB9IGZyb20gJy4vZ2FtZS1kYXRhJztcclxuaW1wb3J0IHsgY3JlYXRlR2FtZXBsYXlTY2VuZURBTyB9IGZyb20gJy4vZGF0YS1hY2Nlc3Mtb2JqZWN0cyc7XHJcbmV4cG9ydCBjbGFzcyBHYW1lU3RhdGVTZXJ2aWNlIGV4dGVuZHMgUHViU3ViIHtcclxuICAgIGdhbWVEYXRhO1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmdhbWVEYXRhID0gbmV3IEdhbWVEYXRhKCk7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGVTZXRTY2VuZUxpc3RlbmVyID0gdGhpcy5nYW1lU3RhdGVTZXRTY2VuZUxpc3RlbmVyLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGVHYW1lUGxheURhdGFMaXN0ZW5lciA9IHRoaXMuZ2FtZVN0YXRlR2FtZVBsYXlEYXRhTGlzdGVuZXIuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZUdhbWVQYXVzZUFjdGl2aXR5ID0gdGhpcy51cGRhdGVHYW1lUGF1c2VBY3Rpdml0eS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlR2FtZVRyYWlsVG9nZ2xlID0gdGhpcy51cGRhdGVHYW1lVHJhaWxUb2dnbGUuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLmluaXRMaXN0ZW5lcnMoKTtcclxuICAgIH1cclxuICAgIGluaXRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgLyogTGlzdGVuZXJzIHRvIHVwZGF0ZSBnYW1lIHN0YXRlIHZhbHVlcy4gKi9cclxuICAgICAgICB0aGlzLnN1YnNjcmliZSh0aGlzLkVWRU5UUy5TQ0VORV9OQU1FX0VWRU5ULCB0aGlzLmdhbWVTdGF0ZVNldFNjZW5lTGlzdGVuZXIpO1xyXG4gICAgICAgIHRoaXMuc3Vic2NyaWJlKHRoaXMuRVZFTlRTLkdBTUVQTEFZX0RBVEFfRVZFTlQsIHRoaXMuZ2FtZVN0YXRlR2FtZVBsYXlEYXRhTGlzdGVuZXIpO1xyXG4gICAgICAgIHRoaXMuc3Vic2NyaWJlKHRoaXMuRVZFTlRTLkdBTUVfUEFVU0VfU1RBVFVTX0VWRU5ULCB0aGlzLnVwZGF0ZUdhbWVQYXVzZUFjdGl2aXR5KTtcclxuICAgICAgICB0aGlzLnN1YnNjcmliZSh0aGlzLkVWRU5UUy5HQU1FX1RSQUlMX0VGRkVDVF9UT0dHTEVfRVZFTlQsIHRoaXMudXBkYXRlR2FtZVRyYWlsVG9nZ2xlKTtcclxuICAgIH1cclxuICAgIGdhbWVTdGF0ZVNldFNjZW5lTGlzdGVuZXIobmV4dFNjZW5lKSB7XHJcbiAgICAgICAgLy9UTyBET1xyXG4gICAgICAgIC8vTm90ZTogVGhpcyBpcyBub3QgcHJvcGVybHkgaG9va2VkIHVwIGFzIGhhbmRsaW5nIHRoZSBzdGF0ZXMgZm9yIHNjZW5lcyBhcmUgcXVpdGUgYmlnLlxyXG4gICAgICAgIC8vIHRoaXMuZ2FtZURhdGEuY3VycmVudFNjZW5lID0gbmV4dFNjZW5lO1xyXG4gICAgICAgIC8vIGlmIChuZXh0U2NlbmUgPT09IFNDRU5FX05BTUVfTEVWRUxfU0VMRUNUKSB7XHJcbiAgICAgICAgLy8gICAgIHRoaXMuZ2FtZURhdGEucHJldmlvdXNTY2VuZSA9IFNDRU5FX05BTUVfU1RBUlQ7XHJcbiAgICAgICAgLy8gICAgIC8vIFRvIERvIC0gU2NlbmFyaW8gaXMgRlJPTSBHQU1FIFBMQVkgVE8gU0NFTkVfTkFNRV9MRVZFTF9TRUxFQ1RcclxuICAgICAgICAvLyB9IGVsc2UgaWYgKG5leHRTY2VuZSA9PT0gU0NFTkVfTkFNRV9HQU1FX1BMQVkpIHtcclxuICAgICAgICAvLyAgICAgdGhpcy5nYW1lRGF0YS5wcmV2aW91c1NjZW5lID0gU0NFTkVfTkFNRV9MRVZFTF9TRUxFQ1RcclxuICAgICAgICAvLyB9IGVsc2UgaWYgKG5leHRTY2VuZSA9PT0gU0NFTkVfTkFNRV9MRVZFTF9FTkQpIHtcclxuICAgICAgICAvLyAgICAgdGhpcy5nYW1lRGF0YS5wcmV2aW91c1NjZW5lID0gU0NFTkVfTkFNRV9HQU1FX1BMQVk7XHJcbiAgICAgICAgLy8gfSAvLyBUbyBEbyAtIEFkZCB0aGUgb3RoZXIgbG9naWMgaGVyZSB3aGVuIHN3aXRjaGluZyBzY2VuZXMgZnJvbSBlbmQgbGV2ZWxcclxuICAgICAgICAvLyBjb25zdCBzY2VuZXMgPSB7XHJcbiAgICAgICAgLy8gICAgIGN1cnJlbnRTY2VuZTogdGhpcy5nYW1lRGF0YS5jdXJyZW50U2NlbmUsXHJcbiAgICAgICAgLy8gICAgIHByZXZpb3VzU2NlbmU6IHRoaXMuZ2FtZURhdGEucHJldmlvdXNTY2VuZVxyXG4gICAgICAgIC8vIH1cclxuICAgICAgICAvLyB0aGlzLm5vdGlmeVN1YnNjcmliZXJzKFVQREFURURfQ1VSUkVOVF9TQ0VORV9FVkVOVCwgc2NlbmVzKTtcclxuICAgIH1cclxuICAgIGdhbWVTdGF0ZUdhbWVQbGF5RGF0YUxpc3RlbmVyKHVwZGF0ZWRHYW1lUGxheURhdGEpIHtcclxuICAgICAgICAvL1VwZGF0ZWQgZ2FtZVBsYXlEYXRhIGNvbWVzIGZyb20gbGV2ZWwtc2VsZWN0aW9uIGFuZCBsZXZlbC1lbmQgc2NlbmUuXHJcbiAgICAgICAgdGhpcy5nYW1lRGF0YS5nYW1lUGxheURhdGEgPSB1cGRhdGVkR2FtZVBsYXlEYXRhO1xyXG4gICAgICAgIHRoaXMuZ2FtZURhdGEuaXNHYW1lUGF1c2VkID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICB1cGRhdGVHYW1lUGF1c2VBY3Rpdml0eShpc1BhdXNlZCkge1xyXG4gICAgICAgIHRoaXMuZ2FtZURhdGEuaXNHYW1lUGF1c2VkID0gaXNQYXVzZWQ7XHJcbiAgICB9XHJcbiAgICB1cGRhdGVHYW1lVHJhaWxUb2dnbGUoaXNUcmFpbEVmZmVjdE9uKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lRGF0YS5jbGlja1RyYWlsVG9nZ2xlID0gaXNUcmFpbEVmZmVjdE9uO1xyXG4gICAgfVxyXG4gICAgc2V0RGVmYXVsdEdhbWVTdGF0ZVZhbHVlcyhkYXRhLCBjYW52YXMsIGNhbmF2c0VsZW1lbnQpIHtcclxuICAgICAgICAvL09yaWdpbmFsIGdhbWUgZGF0YSBmcm9tIEZlZWRUaGVNb25zdGVyLnRzLlxyXG4gICAgICAgIHRoaXMuZ2FtZURhdGEuZGF0YSA9IGRhdGE7XHJcbiAgICAgICAgLy9IVE1MIGFuZCBDYW52YXMgc3RhdGUgdmFsdWVzLlxyXG4gICAgICAgIHRoaXMuZ2FtZURhdGEuY2FudmFzID0gY2FudmFzO1xyXG4gICAgICAgIHRoaXMuZ2FtZURhdGEud2lkdGggPSBjYW52YXMud2lkdGg7XHJcbiAgICAgICAgdGhpcy5nYW1lRGF0YS5oZWlnaHQgPSBjYW52YXMuaGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuZ2FtZURhdGEuY2FuYXZzRWxlbWVudCA9IGNhbmF2c0VsZW1lbnQ7XHJcbiAgICAgICAgdGhpcy5nYW1lRGF0YS5jb250ZXh0ID0gY2FuYXZzRWxlbWVudC5nZXRDb250ZXh0KFwiMmRcIik7XHJcbiAgICAgICAgdGhpcy5nYW1lRGF0YS5nYW1lQ2FudmFzQ29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIiwgeyB3aWxsUmVhZEZyZXF1ZW50bHk6IHRydWUgfSk7XHJcbiAgICAgICAgLy9HYW1lIHN0YXRlIHZhbHVlcyAtIFNjZW5lIEhhbmRsZXIgRGF0YSAtIFRvIERvIEFkZCBCZWxvdyBIZXJlXHJcbiAgICAgICAgLy9HYW1lIHN0YXRlIHZhbHVlcyAtIFN0YXJ0IFNjZW5lIERhdGEgLSBUbyBEbyBBZGQgQmVsb3cgSGVyZVxyXG4gICAgICAgIC8vR2FtZSBzdGF0ZSB2YWx1ZXMgLSBMZXZlbCBTZWxlY3Rpb24gU2NlbmUgRGF0YSAtIFRvIERvIEFkZCBCZWxvdyBIZXJlXHJcbiAgICAgICAgLyogR2FtZSBzdGF0ZSB2YWx1ZXMgLSBHYW1lcGxheSBTY2VuZSBEYXRhICovXHJcbiAgICAgICAgdGhpcy5nYW1lRGF0YS5mZWVkYmFja1RleHRzID0gZGF0YS5GZWVkYmFja1RleHRzO1xyXG4gICAgICAgIHRoaXMuZ2FtZURhdGEuZmVlZGJhY2tBdWRpb3MgPSBkYXRhLkZlZWRiYWNrQXVkaW9zO1xyXG4gICAgICAgIHRoaXMuZ2FtZURhdGEucmlnaHRUb0xlZnQgPSBkYXRhLnJpZ2h0VG9MZWZ0O1xyXG4gICAgICAgIHRoaXMuZ2FtZURhdGEubWFqVmVyc2lvbiA9IGRhdGEubWFqVmVyc2lvbjtcclxuICAgICAgICB0aGlzLmdhbWVEYXRhLm1pblZlcnNpb24gPSBkYXRhLm1pblZlcnNpb247XHJcbiAgICAgICAgLy9HYW1lIHN0YXRlIHZhbHVlcyAtIExldmVsIEVuZCBTY2VuZSBEYXRhIC0gVG8gRG8gQWRkIEJlbG93IEhlcmVcclxuICAgIH1cclxuICAgIGdldEdhbWVQbGF5U2NlbmVEZXRhaWxzKCkge1xyXG4gICAgICAgIHJldHVybiBjcmVhdGVHYW1lcGxheVNjZW5lREFPKHRoaXMuZ2FtZURhdGEpO1xyXG4gICAgfVxyXG59XHJcbjtcclxuY29uc3QgZ2FtZVN0YXRlU2VydmljZUluc3RhbmNlID0gbmV3IEdhbWVTdGF0ZVNlcnZpY2UoKTtcclxuZXhwb3J0IGRlZmF1bHQgZ2FtZVN0YXRlU2VydmljZUluc3RhbmNlO1xyXG4iLCJpbXBvcnQgZ2FtZVN0YXRlU2VydmljZSBmcm9tICcuL2dhbWUtc3RhdGUtc2VydmljZSc7XHJcbmV4cG9ydCBkZWZhdWx0IGdhbWVTdGF0ZVNlcnZpY2U7XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFdvcmRQdXp6bGVMb2dpYyB7XHJcbiAgICAvKipcclxuICAgICAgICBwdXp6bGVOdW1iZXIgLSBQdXp6bGUgc3RhZ2UgbGV2ZWwgb2YgY3VycmVudCAoVXAgdG8gNSBzdGFnZSBsZXZlbHMpIGdhbWUgbGV2ZWwuXHJcbiAgICAgICAgZ3JvdXBlZExldHRlcnMgLSBTdHJpbmcgc2VxdWVuY2Ugb2YgbGV0dGVycyB3aGVuIHBlcmZvcm1pbmcgdGhlIG11bHRpLWxldHRlciBzZWxlY2l0b24uXHJcbiAgICAgICAgZHJvcHBlZExldHRlcnMgLSBTdHJpbmcgc2VxdWVuY2Ugb2YgbGV0dGVycyB3aGVuIGdyb3VwIG9mIGxldHRlcnMgd2FzIGZlZCB0byB0aGUgbW9uc3Rlci5cclxuICAgICAgICBncm91cGVkT2JqIC0gT2JqZWN0IHdpdGgga2V5IHByb3BlcnRpZXMgb2Ygc3RvbmUgbGV0dGVyIGluZGV4LCB1c2VkIGZvciB2YWxpZGF0aW5nIGR1cGxpY2F0ZSBsZXR0ZXJzIHdoaWxlIGhvdmVyaW5nLlxyXG4gICAgICAgIGRyb3BwZWRIaXN0b3J5IC0gT2JqZWN0IHdpdGgga2V5IHByb3BlcnRpZXMgb2Ygc3RvbmUgbGV0dGVyIGluZGV4IHRoYXQgd2FzIGZlZCB0byB0aGUgbW9uc3Rlci5cclxuICAgICAgICAgICAgICAgICAgICAgICAgVXNlZCB0byBwcmVzZXJ2ZSB0aGUgbGlzdCBmb3IgaGlkaW5nIHRoZSBzdG9uZSBsZXR0ZXJzLlxyXG4gICAgICAgIGhpZGVMaXN0T2JqIC0gT2JqZWN0IHdpdGgga2V5IHByb3BlcnRpZXMgb2Ygc3RvbmUgbGV0dGVyIGluZGV4LlxyXG4gICAgICAgICAgICAgICAgICAgIFVzZWQgdG8gaGlkZSBzdG9uZXMgdGhhdCBpcyBwYXJ0IG9mIHRoZSBncm91cCBvciBzdG9uZXMgdGhhdCB3YXMgYWxyZWFkeSBmZWQgdG8gdGhlIG1vbnN0ZXIuXHJcbiAgICAqKi9cclxuICAgIGxldmVsRGF0YTtcclxuICAgIHB1enpsZU51bWJlcjtcclxuICAgIGdyb3VwZWRMZXR0ZXJzO1xyXG4gICAgZHJvcHBlZExldHRlcnM7XHJcbiAgICBncm91cGVkT2JqO1xyXG4gICAgZHJvcHBlZEhpc3Rvcnk7XHJcbiAgICBoaWRlTGlzdE9iajtcclxuICAgIGNvbnN0cnVjdG9yKGxldmVsRGF0YSwgcHV6emxlTnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5sZXZlbERhdGEgPSBsZXZlbERhdGE7XHJcbiAgICAgICAgdGhpcy5wdXp6bGVOdW1iZXIgPSBwdXp6bGVOdW1iZXI7XHJcbiAgICAgICAgdGhpcy5ncm91cGVkTGV0dGVycyA9ICcnO1xyXG4gICAgICAgIHRoaXMuZHJvcHBlZExldHRlcnMgPSAnJztcclxuICAgICAgICB0aGlzLmdyb3VwZWRPYmogPSB7fTtcclxuICAgICAgICB0aGlzLmRyb3BwZWRIaXN0b3J5ID0ge307XHJcbiAgICAgICAgdGhpcy5oaWRlTGlzdE9iaiA9IHt9O1xyXG4gICAgfVxyXG4gICAgZ2V0VGFyZ2V0V29yZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5sZXZlbERhdGEucHV6emxlc1t0aGlzLnB1enpsZU51bWJlcl0/LnByb21wdD8ucHJvbXB0VGV4dDtcclxuICAgIH1cclxuICAgIGdldFZhbHVlcygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBncm91cGVkTGV0dGVyczogdGhpcy5ncm91cGVkTGV0dGVycyxcclxuICAgICAgICAgICAgZHJvcHBlZExldHRlcnM6IHRoaXMuZHJvcHBlZExldHRlcnMsXHJcbiAgICAgICAgICAgIGdyb3VwZWRPYmo6IHsgLi4udGhpcy5ncm91cGVkT2JqIH0sXHJcbiAgICAgICAgICAgIGRyb3BwZWRIaXN0b3J5OiB7IC4uLnRoaXMuZHJvcHBlZEhpc3RvcnkgfSxcclxuICAgICAgICAgICAgaGlkZUxpc3RPYmo6IHsgLi4udGhpcy5oaWRlTGlzdE9iaiB9LFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBjaGVja0lzV29yZFB1enpsZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5sZXZlbERhdGE/LmxldmVsTWV0YT8ubGV2ZWxUeXBlID09PSAnV29yZCc7XHJcbiAgICB9XHJcbiAgICB1cGRhdGVQdXp6bGVMZXZlbChwdXp6bGVOdW1iZXIpIHtcclxuICAgICAgICB0aGlzLmNsZWFyQWxsVmFsdWVzKCk7XHJcbiAgICAgICAgdGhpcy5wdXp6bGVOdW1iZXIgPSBwdXp6bGVOdW1iZXI7XHJcbiAgICB9XHJcbiAgICBjbGVhclBpY2tlZFVwKCkge1xyXG4gICAgICAgIHRoaXMuZ3JvdXBlZExldHRlcnMgPSAnJztcclxuICAgICAgICB0aGlzLmdyb3VwZWRPYmogPSB7fTtcclxuICAgICAgICB0aGlzLmhpZGVMaXN0T2JqID0geyAuLi50aGlzLmRyb3BwZWRIaXN0b3J5IH07XHJcbiAgICB9XHJcbiAgICBjbGVhckFsbFZhbHVlcygpIHtcclxuICAgICAgICB0aGlzLmdyb3VwZWRMZXR0ZXJzID0gJyc7XHJcbiAgICAgICAgdGhpcy5kcm9wcGVkTGV0dGVycyA9ICcnO1xyXG4gICAgICAgIHRoaXMuZ3JvdXBlZE9iaiA9IHt9O1xyXG4gICAgICAgIHRoaXMuZHJvcHBlZEhpc3RvcnkgPSB7fTtcclxuICAgICAgICB0aGlzLmhpZGVMaXN0T2JqID0ge307XHJcbiAgICAgICAgdGhpcy5wdXp6bGVOdW1iZXIgPSAwO1xyXG4gICAgfVxyXG4gICAgdmFsaWRhdGVTaG91bGRIaWRlTGV0dGVyKGZvaWxTdG9uZUluZGV4KSB7XHJcbiAgICAgICAgLy9JZiBzdG9uZSBrZXkgaW5kZXggaXMgbGlzdGVkIGluIGhpZGVMaXN0T2JqIGl0IHNob3VsZCBub3QgYmUgZHJhd24uXHJcbiAgICAgICAgcmV0dXJuICF0aGlzLmhpZGVMaXN0T2JqW2ZvaWxTdG9uZUluZGV4XTtcclxuICAgIH1cclxuICAgIGhhbmRsZUNoZWNrSG92ZXJlZFN0b25lKGZvaWxTdG9uZVRleHQsIGZvaWxTdG9uZUluZGV4KSB7XHJcbiAgICAgICAgY29uc3QgY29tYmluZWRMZXR0ZXJzID0gdGhpcy5ncm91cGVkTGV0dGVycztcclxuICAgICAgICBjb25zdCB0YXJnZXRXb3JkID0gdGhpcy5nZXRUYXJnZXRXb3JkKCk7XHJcbiAgICAgICAgLyogR29lcyBpbnNpZGUgaGVyZSBpZiB0aGVyZSBhcmUgbm8gcHJldmlvdXMgbGV0dGVyKHMpIHdlcmUgZHJvcHBlZFxyXG4gICAgICAgIGFuZCBncm91cGluZyBvZiBsZXR0ZXJzIHN0YXJ0cyBpbiBhIGluY29ycmVjdCBsZXR0ZXIuICovXHJcbiAgICAgICAgaWYgKCghdGhpcy5kcm9wcGVkTGV0dGVycy5sZW5ndGggJiYgdGFyZ2V0V29yZFswXSAhPT0gY29tYmluZWRMZXR0ZXJzWzBdKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qXHJcbiAgICAgICAgaXNMZXR0ZXJBbHJlYWR5QWRkZWQgLSBJZiB0aGUgbmV3IHN0b25lIHRleHQgaXMgTk9UIGFscmVhZHkgaW5jbHVkZWRcclxuICAgICAgICBpc1NhbWVMZXR0ZXJVbmlxdWUgLUlmIHRoZXJlIGlzIGFscmVhZHkgb2YgdGhlIHNhbWUgbGV0dGVyIGV4aXN0IGluIGdyb3VwLCB2YWxpZGF0ZSB1c2luZyB1bmlxZSBpZGVudGlmaWVyIHdoaWNoIGlzIHRoZSBhcnJheSBpbmRleCBrZXkgaW4gZ3JvdXAgb2JqZWN0LlxyXG4gICAgICAgICovXHJcbiAgICAgICAgY29uc3QgaXNMZXR0ZXJBbHJlYWR5QWRkZWQgPSAhY29tYmluZWRMZXR0ZXJzLmluY2x1ZGVzKGZvaWxTdG9uZVRleHQpO1xyXG4gICAgICAgIGNvbnN0IGlzU2FtZUxldHRlclVuaXF1ZSA9ICF0aGlzLmdyb3VwZWRPYmpbZm9pbFN0b25lSW5kZXhdO1xyXG4gICAgICAgIGNvbnN0IGlzTWF0Y2hUYXJnZXRXb3JkID0gdGFyZ2V0V29yZC5pbmNsdWRlcyhgJHt0aGlzLmRyb3BwZWRMZXR0ZXJzfSR7Y29tYmluZWRMZXR0ZXJzfSR7Zm9pbFN0b25lVGV4dH1gKTtcclxuICAgICAgICByZXR1cm4gaXNNYXRjaFRhcmdldFdvcmQgJiYgKGlzTGV0dGVyQWxyZWFkeUFkZGVkIHx8IGlzU2FtZUxldHRlclVuaXF1ZSk7XHJcbiAgICB9XHJcbiAgICB2YWxpZGF0ZUZlZExldHRlcnMoKSB7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0V29yZCA9IHRoaXMuZ2V0VGFyZ2V0V29yZCgpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRyb3BwZWRMZXR0ZXJzID09PSB0YXJnZXRXb3JkLnN1YnN0cmluZygwLCB0aGlzLmRyb3BwZWRMZXR0ZXJzLmxlbmd0aCk7XHJcbiAgICB9XHJcbiAgICB2YWxpZGF0ZVdvcmRQdXp6bGUoKSB7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0V29yZCA9IHRoaXMuZ2V0VGFyZ2V0V29yZCgpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRyb3BwZWRMZXR0ZXJzID09PSB0YXJnZXRXb3JkO1xyXG4gICAgfVxyXG4gICAgc2V0R3JvdXBUb0Ryb3BwZWQoKSB7XHJcbiAgICAgICAgdGhpcy5kcm9wcGVkTGV0dGVycyA9IGAke3RoaXMuZHJvcHBlZExldHRlcnN9JHt0aGlzLmdyb3VwZWRMZXR0ZXJzfWA7XHJcbiAgICAgICAgdGhpcy5kcm9wcGVkSGlzdG9yeSA9IHtcclxuICAgICAgICAgICAgLi4udGhpcy5kcm9wcGVkSGlzdG9yeSxcclxuICAgICAgICAgICAgLi4udGhpcy5ncm91cGVkT2JqXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIHNldFBpY2tVcExldHRlcihsZXR0ZXIsIGFyckZvaWxTdG9uZUluZGV4KSB7XHJcbiAgICAgICAgdGhpcy5oaWRlTGlzdE9iaiA9IHtcclxuICAgICAgICAgICAgLi4udGhpcy5oaWRlTGlzdE9iaixcclxuICAgICAgICAgICAgLi4udGhpcy5ncm91cGVkT2JqXHJcbiAgICAgICAgfTsgLy9IaWRlIHRoZSBwcmV2aW91cyBsZXR0ZXJzIGV4Y2VwdCB0aGUgbmV3IG9uZS5cclxuICAgICAgICB0aGlzLmdyb3VwZWRMZXR0ZXJzID0gYCR7dGhpcy5ncm91cGVkTGV0dGVyc30ke2xldHRlcn1gO1xyXG4gICAgICAgIHRoaXMuZ3JvdXBlZE9ialthcnJGb2lsU3RvbmVJbmRleF0gPSBsZXR0ZXI7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgU3RhcnRTY2VuZSwgTGV2ZWxTZWxlY3Rpb25TY3JlZW4sIEdhbWVwbGF5U2NlbmUsIExvYWRpbmdTY2VuZSwgTGV2ZWxFbmRTY2VuZSwgfSBmcm9tIFwiQHNjZW5lc1wiO1xyXG5pbXBvcnQgeyBHYW1lU2NvcmUgfSBmcm9tIFwiQGRhdGFcIjtcclxuaW1wb3J0IHsgRGVidWdnZXIgfSBmcm9tIFwiQGNvbW1vblwiO1xyXG5pbXBvcnQgeyBTQ0VORV9OQU1FX1NUQVJULCBTQ0VORV9OQU1FX0xFVkVMX1NFTEVDVCwgU0NFTkVfTkFNRV9HQU1FX1BMQVksIFNDRU5FX05BTUVfTEVWRUxfRU5ELCBQV0FJbnN0YWxsU3RhdHVzLCB9IGZyb20gXCJAY29uc3RhbnRzXCI7XHJcbmltcG9ydCBnYW1lU3RhdGVTZXJ2aWNlIGZyb20gJ0BnYW1lU3RhdGVTZXJ2aWNlJztcclxuZXhwb3J0IGNsYXNzIFNjZW5lSGFuZGxlciB7XHJcbiAgICBjYW52YXM7XHJcbiAgICBkYXRhO1xyXG4gICAgd2lkdGg7XHJcbiAgICBoZWlnaHQ7XHJcbiAgICBzdGFydFNjZW5lO1xyXG4gICAgbGV2ZWxTZWxlY3Rpb25TY2VuZTtcclxuICAgIGdhbWVwbGF5U2NlbmU7XHJcbiAgICBsZXZlbEVuZFNjZW5lO1xyXG4gICAgY2FuYXZzRWxlbWVudDtcclxuICAgIGNvbnRleHQ7XHJcbiAgICBzdGF0aWMgU2NlbmVOYW1lO1xyXG4gICAgbG9hZGluZ1NjcmVlbjtcclxuICAgIGxvYWRpbmcgPSBmYWxzZTtcclxuICAgIGxhc3RUaW1lID0gMDtcclxuICAgIHRvZ2dsZUJ0bjtcclxuICAgIHRpdGxlVGV4dEVsZW1lbnQ7XHJcbiAgICBjb25zdHJ1Y3RvcihjYW52YXMsIGRhdGEpIHtcclxuICAgICAgICBnYW1lU3RhdGVTZXJ2aWNlLnNldERlZmF1bHRHYW1lU3RhdGVWYWx1ZXMoZGF0YSwgY2FudmFzLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbnZhc1wiKSk7XHJcbiAgICAgICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XHJcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcclxuICAgICAgICB0aGlzLndpZHRoID0gY2FudmFzLndpZHRoO1xyXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gY2FudmFzLmhlaWdodDtcclxuICAgICAgICB0aGlzLmNhbmF2c0VsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbnZhc1wiKTtcclxuICAgICAgICB0aGlzLnRvZ2dsZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidG9nZ2xlLWJ0blwiKTtcclxuICAgICAgICB0aGlzLnRpdGxlVGV4dEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRpdGxlXCIpO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiYmVmb3JlaW5zdGFsbHByb21wdFwiLCB0aGlzLmhhbmRsZUluc3RhbGxQcm9tcHQpO1xyXG4gICAgICAgIHRoaXMuY29udGV4dCA9IHRoaXMuY2FuYXZzRWxlbWVudC5nZXRDb250ZXh0KFwiMmRcIik7XHJcbiAgICAgICAgdGhpcy5zdGFydFNjZW5lID0gbmV3IFN0YXJ0U2NlbmUoY2FudmFzLCBkYXRhLCB0aGlzLnN3aXRjaFNjZW5lVG9MZXZlbFNlbGVjdGlvbik7XHJcbiAgICAgICAgU2NlbmVIYW5kbGVyLlNjZW5lTmFtZSA9IFNDRU5FX05BTUVfU1RBUlQ7XHJcbiAgICAgICAgdGhpcy5sb2FkaW5nU2NyZWVuID0gbmV3IExvYWRpbmdTY2VuZSh0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgdGhpcy5yZW1vdmVMb2FkaW5nKTtcclxuICAgICAgICB0aGlzLnN0YXJ0QW5pbWF0aW9uTG9vcCgpO1xyXG4gICAgfVxyXG4gICAgc3RhcnRBbmltYXRpb25Mb29wKCkge1xyXG4gICAgICAgIGNvbnN0IGFuaW1hdGUgPSAodGltZVN0YW1wKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uKHRpbWVTdGFtcCk7XHJcbiAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTtcclxuICAgIH1cclxuICAgIGRldlRvZ2dsZSgpIHtcclxuICAgICAgICB0aGlzLnRvZ2dsZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZUJ0bi5jbGFzc0xpc3QudG9nZ2xlKFwib25cIik7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRvZ2dsZUJ0bi5jbGFzc0xpc3QuY29udGFpbnMoXCJvblwiKSkge1xyXG4gICAgICAgICAgICAgICAgRGVidWdnZXIuRGVidWdNb2RlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlQnRuLmlubmVyVGV4dCA9IFwiRGV2XCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBEZWJ1Z2dlci5EZWJ1Z01vZGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlQnRuLmlubmVyVGV4dCA9IFwiRGV2XCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGNoZWNrTW9uc3RlclBoYXNlVXBkYXRpb24oKSB7XHJcbiAgICAgICAgbGV0IHRvdGFsU3RhckNvdW50ID0gR2FtZVNjb3JlLmdldFRvdGFsU3RhckNvdW50KCk7XHJcbiAgICAgICAgbGV0IG1vbnN0ZXJQaGFzZU51bWJlciA9IE1hdGguZmxvb3IodG90YWxTdGFyQ291bnQgLyAxMikgKyAxIHx8IDE7XHJcbiAgICAgICAgcmV0dXJuIG1vbnN0ZXJQaGFzZU51bWJlciA8PSA0ID8gbW9uc3RlclBoYXNlTnVtYmVyIDogNDtcclxuICAgIH1cclxuICAgIGFuaW1hdGlvbiA9ICh0aW1lU3RhbXApID0+IHtcclxuICAgICAgICBsZXQgZGVsdGFUaW1lID0gdGltZVN0YW1wIC0gdGhpcy5sYXN0VGltZTtcclxuICAgICAgICB0aGlzLmxhc3RUaW1lID0gdGltZVN0YW1wO1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xyXG4gICAgICAgIHRoaXMubG9hZGluZyA/IHRoaXMubG9hZGluZ1NjcmVlbi5kcmF3KGRlbHRhVGltZSkgOiBudWxsO1xyXG4gICAgICAgIGlmIChTY2VuZUhhbmRsZXIuU2NlbmVOYW1lID09PSBTQ0VORV9OQU1FX1NUQVJUKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhcnRTY2VuZS5hbmltYXRpb24oZGVsdGFUaW1lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoU2NlbmVIYW5kbGVyLlNjZW5lTmFtZSA9PT0gU0NFTkVfTkFNRV9MRVZFTF9TRUxFQ1QpIHtcclxuICAgICAgICAgICAgdGhpcy5sZXZlbFNlbGVjdGlvblNjZW5lLmRyYXdMZXZlbFNlbGVjdGlvbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChTY2VuZUhhbmRsZXIuU2NlbmVOYW1lID09PSBTQ0VORV9OQU1FX0dBTUVfUExBWSkge1xyXG4gICAgICAgICAgICB0aGlzLmdhbWVwbGF5U2NlbmUuZHJhdyhkZWx0YVRpbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChTY2VuZUhhbmRsZXIuU2NlbmVOYW1lID09PSBTQ0VORV9OQU1FX0xFVkVMX0VORCkge1xyXG4gICAgICAgICAgICB0aGlzLmxldmVsRW5kU2NlbmUuZHJhdyhkZWx0YVRpbWUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBzd2l0Y2hTY2VuZVRvR2FtZXBsYXkgPSAoY2hhbmdlU2NlbmVSZXF1ZXN0RnJvbSkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2hvd0xvYWRpbmcoKTtcclxuICAgICAgICB0aGlzLmRpc3Bvc2UoY2hhbmdlU2NlbmVSZXF1ZXN0RnJvbSk7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZXBsYXlTY2VuZSA9IG5ldyBHYW1lcGxheVNjZW5lKHtcclxuICAgICAgICAgICAgICAgIG1vbnN0ZXJQaGFzZU51bWJlcjogdGhpcy5jaGVja01vbnN0ZXJQaGFzZVVwZGF0aW9uKCksXHJcbiAgICAgICAgICAgICAgICBzd2l0Y2hTY2VuZVRvRW5kOiB0aGlzLnN3aXRjaFNjZW5lVG9FbmRMZXZlbCxcclxuICAgICAgICAgICAgICAgIHN3aXRjaFRvTGV2ZWxTZWxlY3Rpb246ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN3aXRjaFNjZW5lVG9MZXZlbFNlbGVjdGlvbihTQ0VORV9OQU1FX0dBTUVfUExBWSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgcmVsb2FkU2NlbmU6IHRoaXMuc3dpdGNoU2NlbmVUb0dhbWVwbGF5XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBTY2VuZUhhbmRsZXIuU2NlbmVOYW1lID0gU0NFTkVfTkFNRV9HQU1FX1BMQVk7XHJcbiAgICAgICAgfSwgODAwKTtcclxuICAgIH07XHJcbiAgICBzd2l0Y2hTY2VuZVRvRW5kTGV2ZWwgPSAoc3RhckNvdW50LCBtb25zdGVyUGhhc2VOdW1iZXIsIGN1cnJlbnRMZXZlbE51bWJlciwgaXNUaW1lckVuZGVkKSA9PiB7XHJcbiAgICAgICAgdGhpcy5sb2FkaW5nU2NyZWVuLmluaXRDbG91ZCgpO1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmRpc3Bvc2UoU0NFTkVfTkFNRV9HQU1FX1BMQVkpO1xyXG4gICAgICAgICAgICB0aGlzLmxldmVsRW5kU2NlbmUgPSBuZXcgTGV2ZWxFbmRTY2VuZSh0aGlzLmNhbnZhcywgdGhpcy5oZWlnaHQsIHRoaXMud2lkdGgsIHRoaXMuY29udGV4dCwgc3RhckNvdW50LCBjdXJyZW50TGV2ZWxOdW1iZXIsIHRoaXMuc3dpdGNoU2NlbmVUb0dhbWVwbGF5LCB0aGlzLnN3aXRjaFNjZW5lVG9MZXZlbFNlbGVjdGlvbiwgdGhpcy5kYXRhLCBtb25zdGVyUGhhc2VOdW1iZXIpO1xyXG4gICAgICAgICAgICBTY2VuZUhhbmRsZXIuU2NlbmVOYW1lID0gU0NFTkVfTkFNRV9MRVZFTF9FTkQ7XHJcbiAgICAgICAgfSwgaXNUaW1lckVuZGVkID8gMCA6IDQwMDApO1xyXG4gICAgfTtcclxuICAgIHN3aXRjaFNjZW5lVG9MZXZlbFNlbGVjdGlvbiA9IChjaGFuZ2VTY2VuZVJlcXVlc3RGcm9tKSA9PiB7XHJcbiAgICAgICAgZ2FtZVN0YXRlU2VydmljZS50ZXN0Q2hlY2tTdWJzY3JpYmVycygpO1xyXG4gICAgICAgIHRoaXMuc2hvd0xvYWRpbmcoKTtcclxuICAgICAgICB0aGlzLmRpc3Bvc2UoY2hhbmdlU2NlbmVSZXF1ZXN0RnJvbSk7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMubGV2ZWxTZWxlY3Rpb25TY2VuZSA9IG5ldyBMZXZlbFNlbGVjdGlvblNjcmVlbih0aGlzLmNhbnZhcywgdGhpcy5kYXRhLCB0aGlzLnN3aXRjaFNjZW5lVG9HYW1lcGxheSk7XHJcbiAgICAgICAgICAgIFNjZW5lSGFuZGxlci5TY2VuZU5hbWUgPSBTQ0VORV9OQU1FX0xFVkVMX1NFTEVDVDtcclxuICAgICAgICAgICAgdGhpcy50aXRsZVRleHRFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgICB9LCA4MDApO1xyXG4gICAgfTtcclxuICAgIGRpc3Bvc2UgPSAobGFzdFNjZW5lTmFtZSkgPT4ge1xyXG4gICAgICAgIGlmIChsYXN0U2NlbmVOYW1lID09IFNDRU5FX05BTUVfTEVWRUxfU0VMRUNUKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGV2ZWxTZWxlY3Rpb25TY2VuZS5kaXNwb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGxhc3RTY2VuZU5hbWUgPT09IFNDRU5FX05BTUVfR0FNRV9QTEFZKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZXBsYXlTY2VuZS5kaXNwb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGxhc3RTY2VuZU5hbWUgPT09IFNDRU5FX05BTUVfU1RBUlQpIHtcclxuICAgICAgICAgICAgdGhpcy5zdGFydFNjZW5lLmRpc3Bvc2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobGFzdFNjZW5lTmFtZSA9PSBTQ0VORV9OQU1FX0xFVkVMX0VORCkge1xyXG4gICAgICAgICAgICB0aGlzLmxldmVsRW5kU2NlbmUuZGlzcG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBzaG93TG9hZGluZyA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmxvYWRpbmdTY3JlZW4uaW5pdENsb3VkKCk7XHJcbiAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxvYWRpbmdcIikuc3R5bGUuekluZGV4ID0gXCIzXCI7XHJcbiAgICB9O1xyXG4gICAgcmVtb3ZlTG9hZGluZyA9ICgpID0+IHtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxvYWRpbmdcIikuc3R5bGUuekluZGV4ID0gXCItMVwiO1xyXG4gICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xyXG4gICAgfTtcclxuICAgIGhhbmRsZUluc3RhbGxQcm9tcHQgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICAvL2N1cnJlbnRseSBub3QgaW4gdXNlXHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShQV0FJbnN0YWxsU3RhdHVzLCBcImZhbHNlXCIpO1xyXG4gICAgfTtcclxufVxyXG4iLCJpbXBvcnQgeyBNb25zdGVyLCBUaW1lclRpY2tpbmcsIFByb21wdFRleHQsIFBhdXNlQnV0dG9uLCBMZXZlbEluZGljYXRvcnMsIFN0b25lSGFuZGxlciwgVHV0b3JpYWwsIEZlZWRiYWNrVGV4dEVmZmVjdHMsIEF1ZGlvUGxheWVyLCBUcmFpbEVmZmVjdCwgfSBmcm9tIFwiQGNvbXBvbmVudHNcIjtcclxuaW1wb3J0IFBhdXNlUG9wVXAgZnJvbSBcIkBwb3B1cHMvcGF1c2UtcG9wdXBcIjtcclxuaW1wb3J0IHsgbG9hZEltYWdlcywgQ0xJQ0ssIExPQURQVVpaTEUsIE1PVVNFRE9XTiwgTU9VU0VNT1ZFLCBNT1VTRVVQLCBTVE9ORURST1AsIFRPVUNIRU5ELCBUT1VDSE1PVkUsIFRPVUNIU1RBUlQsIFZJU0lCSUxJVFlfQ0hBTkdFLCBEZWJ1Z2dlciwgbGFuZywgcHNldWRvSWQsIH0gZnJvbSBcIkBjb21tb25cIjtcclxuaW1wb3J0IHsgR2FtZVNjb3JlIH0gZnJvbSBcIkBkYXRhXCI7XHJcbmltcG9ydCB7IEZpcmViYXNlSW50ZWdyYXRpb24gfSBmcm9tIFwiLi4vRmlyZWJhc2UvZmlyZWJhc2UtaW50ZWdyYXRpb25cIjtcclxuaW1wb3J0IHsgQVVESU9fUEFUSF9PTl9EUkFHLCBBU1NFVFNfUEFUSF9NT05TVEVSX0lETEUsIFByZXZpb3VzUGxheWVkTGV2ZWwsIH0gZnJvbSBcIkBjb25zdGFudHNcIjtcclxuaW1wb3J0IHsgQkFDS0dST1VORF9BU1NFVF9MSVNULCBjcmVhdGVCYWNrZ3JvdW5kLCBsb2FkRHluYW1pY0JnQXNzZXRzLCB9IGZyb20gXCJAY29tcG9zaXRpb25zXCI7XHJcbmltcG9ydCB7IFdvcmRQdXp6bGVMb2dpYyB9IGZyb20gJ0BnYW1lcHV6emxlcyc7XHJcbmltcG9ydCBnYW1lU3RhdGVTZXJ2aWNlIGZyb20gJ0BnYW1lU3RhdGVTZXJ2aWNlJztcclxuZXhwb3J0IGNsYXNzIEdhbWVwbGF5U2NlbmUge1xyXG4gICAgd2lkdGg7XHJcbiAgICBoZWlnaHQ7XHJcbiAgICBtb25zdGVyO1xyXG4gICAganNvblZlcnNpb25OdW1iZXI7XHJcbiAgICBjYW52YXM7XHJcbiAgICBsZXZlbERhdGE7XHJcbiAgICB0aW1lclRpY2tpbmc7XHJcbiAgICBwcm9tcHRUZXh0O1xyXG4gICAgcGF1c2VCdXR0b247XHJcbiAgICB0dXRvcmlhbDtcclxuICAgIGlkO1xyXG4gICAgY29udGV4dDtcclxuICAgIGxldmVsSW5kaWNhdG9ycztcclxuICAgIHN0b25lc0NvdW50ID0gMTtcclxuICAgIG1vbnN0ZXJQaGFzZU51bWJlcjtcclxuICAgIHBpY2tlZFN0b25lO1xyXG4gICAgcHV6emxlU3RhcnRUaW1lO1xyXG4gICAgc2hvd1R1dG9yaWFsO1xyXG4gICAgZmVlZEJhY2tUZXh0cztcclxuICAgIGlzUHV6emxlQ29tcGxldGVkO1xyXG4gICAgcmlnaHRUb0xlZnQ7XHJcbiAgICBpbWFnZXNMb2FkZWQgPSBmYWxzZTtcclxuICAgIHN3aXRjaFNjZW5lVG9FbmQ7XHJcbiAgICBsZXZlbE51bWJlcjtcclxuICAgIGxvYWRlZEltYWdlcztcclxuICAgIHN0b25lSGFuZGxlcjtcclxuICAgIGNvdW50ZXIgPSAwO1xyXG4gICAgaW1hZ2VzO1xyXG4gICAgaGFuZGxlcjtcclxuICAgIHBpY2tlZFN0b25lT2JqZWN0O1xyXG4gICAgcGF1c2VQb3B1cDtcclxuICAgIGlzUGF1c2VCdXR0b25DbGlja2VkO1xyXG4gICAgYmFja2dyb3VuZDtcclxuICAgIGZlZWRCYWNrVGV4dENhbmF2c0VsZW1lbnQ7XHJcbiAgICBmZWVkYmFja1RleHRFZmZlY3RzO1xyXG4gICAgaXNHYW1lU3RhcnRlZCA9IGZhbHNlO1xyXG4gICAgdGltZSA9IDA7XHJcbiAgICBzY29yZSA9IDA7XHJcbiAgICBzd2l0Y2hUb0xldmVsU2VsZWN0aW9uO1xyXG4gICAgcmVsb2FkU2NlbmU7XHJcbiAgICBhdWRpb1BsYXllcjtcclxuICAgIGZpcmViYXNlSW50ZWdyYXRpb247XHJcbiAgICBzdGFydFRpbWU7XHJcbiAgICBwdXp6bGVUaW1lO1xyXG4gICAgaXNEaXNwb3Npbmc7XHJcbiAgICByZXNldEFuaW1hdGlvbklEO1xyXG4gICAgdHJhaWxQYXJ0aWNsZXM7XHJcbiAgICBoYXNGZWQ7XHJcbiAgICB3b3JkUHV6emxlTG9naWM7XHJcbiAgICBjb25zdHJ1Y3Rvcih7IG1vbnN0ZXJQaGFzZU51bWJlciwgc3dpdGNoU2NlbmVUb0VuZCwgc3dpdGNoVG9MZXZlbFNlbGVjdGlvbiwgcmVsb2FkU2NlbmUgfSkge1xyXG4gICAgICAgIGNvbnN0IGdhbWVQbGF5RGF0YSA9IGdhbWVTdGF0ZVNlcnZpY2UuZ2V0R2FtZVBsYXlTY2VuZURldGFpbHMoKTtcclxuICAgICAgICB0aGlzLmlzUGF1c2VCdXR0b25DbGlja2VkID0gZ2FtZVBsYXlEYXRhPy5pc0dhbWVQYXVzZWQ7XHJcbiAgICAgICAgdGhpcy53aWR0aCA9IGdhbWVQbGF5RGF0YS53aWR0aDtcclxuICAgICAgICB0aGlzLmhlaWdodCA9IGdhbWVQbGF5RGF0YS5oZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5yaWdodFRvTGVmdCA9IGdhbWVQbGF5RGF0YS5yaWdodFRvTGVmdDtcclxuICAgICAgICB0aGlzLmNhbnZhcyA9IGdhbWVQbGF5RGF0YS5jYW52YXM7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gZ2FtZVBsYXlEYXRhLmdhbWVDYW52YXNDb250ZXh0O1xyXG4gICAgICAgIHRoaXMubGV2ZWxEYXRhID0gZ2FtZVBsYXlEYXRhLmxldmVsRGF0YTtcclxuICAgICAgICB0aGlzLmxldmVsTnVtYmVyID0gZ2FtZVBsYXlEYXRhLmxldmVsTnVtYmVyO1xyXG4gICAgICAgIHRoaXMuanNvblZlcnNpb25OdW1iZXIgPSBnYW1lUGxheURhdGEuanNvblZlcnNpb25OdW1iZXI7XHJcbiAgICAgICAgdGhpcy5mZWVkQmFja1RleHRzID0gZ2FtZVBsYXlEYXRhLmZlZWRCYWNrVGV4dHM7XHJcbiAgICAgICAgdGhpcy5tb25zdGVyUGhhc2VOdW1iZXIgPSBtb25zdGVyUGhhc2VOdW1iZXIgfHwgMTtcclxuICAgICAgICB0aGlzLnN3aXRjaFNjZW5lVG9FbmQgPSBzd2l0Y2hTY2VuZVRvRW5kO1xyXG4gICAgICAgIHRoaXMuc3dpdGNoVG9MZXZlbFNlbGVjdGlvbiA9IHN3aXRjaFRvTGV2ZWxTZWxlY3Rpb247XHJcbiAgICAgICAgdGhpcy5yZWxvYWRTY2VuZSA9IHJlbG9hZFNjZW5lO1xyXG4gICAgICAgIHRoaXMuaGFuZGxlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FudmFzXCIpO1xyXG4gICAgICAgIHRoaXMuaXNEaXNwb3NpbmcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnRyYWlsUGFydGljbGVzID0gbmV3IFRyYWlsRWZmZWN0KHRoaXMuY2FudmFzKTtcclxuICAgICAgICB0aGlzLnBhdXNlQnV0dG9uID0gbmV3IFBhdXNlQnV0dG9uKHRoaXMuY29udGV4dCwgdGhpcy5jYW52YXMpO1xyXG4gICAgICAgIHRoaXMudGltZXJUaWNraW5nID0gbmV3IFRpbWVyVGlja2luZyh0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgdGhpcy5sb2FkUHV6emxlKTtcclxuICAgICAgICB0aGlzLnN0b25lSGFuZGxlciA9IG5ldyBTdG9uZUhhbmRsZXIodGhpcy5jb250ZXh0LCB0aGlzLmNhbnZhcywgdGhpcy5jb3VudGVyLCB0aGlzLmxldmVsRGF0YSwgZ2FtZVBsYXlEYXRhLmZlZWRiYWNrQXVkaW9zLCB0aGlzLnRpbWVyVGlja2luZyk7XHJcbiAgICAgICAgdGhpcy50dXRvcmlhbCA9IG5ldyBUdXRvcmlhbCh0aGlzLmNvbnRleHQsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcclxuICAgICAgICB0aGlzLnByb21wdFRleHQgPSBuZXcgUHJvbXB0VGV4dCh0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgdGhpcy5sZXZlbERhdGEucHV6emxlc1t0aGlzLmNvdW50ZXJdLCB0aGlzLmxldmVsRGF0YSwgdGhpcy5yaWdodFRvTGVmdCk7XHJcbiAgICAgICAgdGhpcy5sZXZlbEluZGljYXRvcnMgPSBuZXcgTGV2ZWxJbmRpY2F0b3JzKHRoaXMuY29udGV4dCwgdGhpcy5jYW52YXMsIDApO1xyXG4gICAgICAgIHRoaXMubGV2ZWxJbmRpY2F0b3JzLnNldEluZGljYXRvcnModGhpcy5jb3VudGVyKTtcclxuICAgICAgICB0aGlzLm1vbnN0ZXIgPSBuZXcgTW9uc3Rlcih0aGlzLmNhbnZhcywgdGhpcy5tb25zdGVyUGhhc2VOdW1iZXIpO1xyXG4gICAgICAgIHRoaXMucGF1c2VQb3B1cCA9IG5ldyBQYXVzZVBvcFVwKHRoaXMuY2FudmFzLCB0aGlzLnJlc3VtZUdhbWUsIHRoaXMuc3dpdGNoVG9MZXZlbFNlbGVjdGlvbiwgdGhpcy5yZWxvYWRTY2VuZSwge1xyXG4gICAgICAgICAgICBjdXJyZW50TGV2ZWxEYXRhOiB0aGlzLmxldmVsRGF0YSxcclxuICAgICAgICAgICAgc2VsZWN0ZWRMZXZlbE51bWJlcjogdGhpcy5sZXZlbE51bWJlcixcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKiBUaGVzZSBjb2RlcyB3aWxsIG5vIGxvbmdlciBiZSBuZWVkZWQgaWYgUml2ZSBNb25zdGVyIGNvbWVzLiAqL1xyXG4gICAgICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuICAgICAgICB0aGlzLmltYWdlcyA9IHtcclxuICAgICAgICAgICAgcHJvZmlsZU1vbnN0ZXI6IEFTU0VUU19QQVRIX01PTlNURVJfSURMRSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMucmVzZXRBbmltYXRpb25JRCA9IDA7IC8vVGhpcyB3aWxsIG5vIGxvbmdlciBiZSBuZWVkZWQgaWYgUml2ZSBNb25zdGVyIGNvbWVzLlxyXG4gICAgICAgIGxvYWRJbWFnZXModGhpcy5pbWFnZXMsIChpbWFnZXMpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5sb2FkZWRJbWFnZXMgPSBPYmplY3QuYXNzaWduKHt9LCBpbWFnZXMpO1xyXG4gICAgICAgICAgICB0aGlzLmltYWdlc0xvYWRlZCA9IHRydWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5oYXNGZWQgPSBmYWxzZTsgLy9UaGlzIHdpbGwgbm8gbG9uZ2VyIGJlIG5lZWRlZCBpZiBSaXZlIE1vbnN0ZXIgY29tZXMuXHJcbiAgICAgICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG4gICAgICAgIHZhciBwcmV2aW91c1BsYXllZExldmVsID0gdGhpcy5sZXZlbERhdGEubGV2ZWxNZXRhLmxldmVsTnVtYmVyO1xyXG4gICAgICAgIERlYnVnZ2VyLkRlYnVnTW9kZVxyXG4gICAgICAgICAgICA/IGxvY2FsU3RvcmFnZS5zZXRJdGVtKFByZXZpb3VzUGxheWVkTGV2ZWwgKyBsYW5nICsgXCJEZWJ1Z1wiLCBwcmV2aW91c1BsYXllZExldmVsKVxyXG4gICAgICAgICAgICA6IGxvY2FsU3RvcmFnZS5zZXRJdGVtKFByZXZpb3VzUGxheWVkTGV2ZWwgKyBsYW5nLCBwcmV2aW91c1BsYXllZExldmVsKTtcclxuICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICAgICAgdGhpcy5zZXR1cEJnKCk7XHJcbiAgICAgICAgdGhpcy5zdGFydEdhbWVUaW1lKCk7XHJcbiAgICAgICAgdGhpcy5zdGFydFB1enpsZVRpbWUoKTtcclxuICAgICAgICB0aGlzLmZpcmViYXNlSW50ZWdyYXRpb24gPSBuZXcgRmlyZWJhc2VJbnRlZ3JhdGlvbigpO1xyXG4gICAgICAgIHRoaXMuZmVlZGJhY2tUZXh0RWZmZWN0cyA9IG5ldyBGZWVkYmFja1RleHRFZmZlY3RzKCk7XHJcbiAgICAgICAgdGhpcy5hdWRpb1BsYXllciA9IG5ldyBBdWRpb1BsYXllcigpO1xyXG4gICAgICAgIHRoaXMud29yZFB1enpsZUxvZ2ljID0gbmV3IFdvcmRQdXp6bGVMb2dpYyh0aGlzLmxldmVsRGF0YSwgdGhpcy5jb3VudGVyKTtcclxuICAgICAgICB0aGlzLmdhbWVwbGF5UGF1c2VMaXN0ZW5lciA9IHRoaXMuZ2FtZXBsYXlQYXVzZUxpc3RlbmVyLmJpbmQodGhpcyk7XHJcbiAgICAgICAgZ2FtZVN0YXRlU2VydmljZS5zdWJzY3JpYmUoZ2FtZVN0YXRlU2VydmljZS5FVkVOVFMuR0FNRV9QQVVTRV9TVEFUVVNfRVZFTlQsIHRoaXMuZ2FtZXBsYXlQYXVzZUxpc3RlbmVyKTtcclxuICAgICAgICBnYW1lU3RhdGVTZXJ2aWNlLnRlc3RDaGVja1N1YnNjcmliZXJzKCk7IC8vZm9yIHRlc3RpbmdcclxuICAgIH1cclxuICAgIGdhbWVwbGF5UGF1c2VMaXN0ZW5lcihpc1BhdXNlKSB7XHJcbiAgICAgICAgdGhpcy5pc1BhdXNlQnV0dG9uQ2xpY2tlZCA9IGlzUGF1c2U7XHJcbiAgICB9XHJcbiAgICBzZXR1cEJnID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHsgQkdfR1JPVVBfSU1HUywgZHJhdyB9ID0gbG9hZER5bmFtaWNCZ0Fzc2V0cyh0aGlzLmxldmVsRGF0YS5sZXZlbE51bWJlciwgQkFDS0dST1VORF9BU1NFVF9MSVNUKTtcclxuICAgICAgICB0aGlzLmJhY2tncm91bmQgPSBhd2FpdCBjcmVhdGVCYWNrZ3JvdW5kKHRoaXMuY29udGV4dCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIEJHX0dST1VQX0lNR1MsIGRyYXcpO1xyXG4gICAgfTtcclxuICAgIHJlc3VtZUdhbWUgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVycygpO1xyXG4gICAgICAgIHRoaXMucGF1c2VQb3B1cC5kaXNwb3NlKCk7XHJcbiAgICB9O1xyXG4gICAgZ2V0UmFuZG9tRmVlZEJhY2tUZXh0KHJhbmRvbUluZGV4KSB7XHJcbiAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHRoaXMuZmVlZEJhY2tUZXh0cyk7XHJcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRLZXkgPSBrZXlzW3JhbmRvbUluZGV4XTtcclxuICAgICAgICByZXR1cm4gdGhpcy5mZWVkQmFja1RleHRzW3NlbGVjdGVkS2V5XTtcclxuICAgIH1cclxuICAgIGdldFJhbmRvbUludChtaW4sIG1heCkge1xyXG4gICAgICAgIGNvbnN0IGZlZWRiYWNrVmFsdWVzID0gT2JqZWN0LnZhbHVlcyh0aGlzLmZlZWRCYWNrVGV4dHMpO1xyXG4gICAgICAgIGNvbnN0IGRlZmluZWRWYWx1ZXNNYXhDb3VudCA9IGZlZWRiYWNrVmFsdWVzLmZpbHRlcigodmFsdWUpID0+IHZhbHVlICE9IHVuZGVmaW5lZCkubGVuZ3RoIC0gMTtcclxuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGRlZmluZWRWYWx1ZXNNYXhDb3VudCAtIG1pbiArIDEpKSArIG1pbjtcclxuICAgIH1cclxuICAgIGhhbmRsZU1vdXNlVXAgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICAvLyBSZW1vdmUgdW5uZWNlc3NhcnkgbG9nZ2luZ1xyXG4gICAgICAgIGxldCByZWN0ID0gdGhpcy5jYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgY29uc3QgeCA9IGV2ZW50LmNsaWVudFggLSByZWN0LmxlZnQ7XHJcbiAgICAgICAgY29uc3QgeSA9IGV2ZW50LmNsaWVudFkgLSByZWN0LnRvcDtcclxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgY2xpY2sgaXMgd2l0aGluIHJhbmdlIG9mIHRoZSBtb25zdGVyXHJcbiAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLnNxcnQoKHggLSB0aGlzLm1vbnN0ZXIueCAtIHRoaXMuY2FudmFzLndpZHRoIC8gNCkgKiogMiArXHJcbiAgICAgICAgICAgICh5IC0gdGhpcy5tb25zdGVyLnkgLSB0aGlzLmNhbnZhcy5oZWlnaHQgLyAyLjIpICoqIDIpO1xyXG4gICAgICAgIGlmIChkaXN0YW5jZSA8PSAxMDAgJiYgdGhpcy5waWNrZWRTdG9uZSkge1xyXG4gICAgICAgICAgICBjb25zdCB7IHRleHQgfSA9IHRoaXMucGlja2VkU3RvbmU7IC8vIFVzZSBkZXN0cnVjdHVyaW5nIGZvciBjbGFyaXR5XHJcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5sZXZlbERhdGEubGV2ZWxNZXRhLmxldmVsVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIkxldHRlck9ubHlcIjpcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJMZXR0ZXJJbldvcmRcIjpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxldHRlclB1enpsZSh0ZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJXb3JkXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiU291bmRXb3JkXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53b3JkUHV6emxlKHRoaXMucGlja2VkU3RvbmUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvKlxyXG4gICAgICAgICAgICAgIE5vdGU6IFRPIERPOiBTaG91bGQgdXNlIHN0b25lLWhhbmRsZXIudHMgbWV0aG9kIHJlc2V0U3RvbmVQb3NpdGlvbi5cclxuICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgaWYgKHRoaXMucGlja2VkU3RvbmUgJiZcclxuICAgICAgICAgICAgICAgIHRoaXMucGlja2VkU3RvbmVPYmplY3QgJiZcclxuICAgICAgICAgICAgICAgIHRoaXMucGlja2VkU3RvbmUudGV4dCAmJlxyXG4gICAgICAgICAgICAgICAgdHlwZW9mIHRoaXMucGlja2VkU3RvbmVPYmplY3Qub3JpZ3ggPT09IFwibnVtYmVyXCIgJiZcclxuICAgICAgICAgICAgICAgIHR5cGVvZiB0aGlzLnBpY2tlZFN0b25lT2JqZWN0Lm9yaWd5ID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB4TGltaXQgPSA1MDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGhhbGZXaWR0aCA9IHRoaXMud2lkdGggLyAyO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5waWNrZWRTdG9uZS54ID1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBpY2tlZFN0b25lLnRleHQubGVuZ3RoIDw9IDMgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5waWNrZWRTdG9uZU9iamVjdC5vcmlneCA8IHhMaW1pdCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBpY2tlZFN0b25lT2JqZWN0Lm9yaWd4IDwgaGFsZldpZHRoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gdGhpcy5waWNrZWRTdG9uZU9iamVjdC5vcmlneCArIDI1XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogdGhpcy5waWNrZWRTdG9uZU9iamVjdC5vcmlneDtcclxuICAgICAgICAgICAgICAgIHRoaXMucGlja2VkU3RvbmUueSA9IHRoaXMucGlja2VkU3RvbmVPYmplY3Qub3JpZ3k7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5waWNrZWRTdG9uZSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy53b3JkUHV6emxlTG9naWMuY2xlYXJQaWNrZWRVcCgpO1xyXG4gICAgICAgIC8vdGhpcy5jbGlja1RyYWlsVG9nZ2xlID0gZmFsc2U7XHJcbiAgICAgICAgZ2FtZVN0YXRlU2VydmljZS5wdWJsaXNoKGdhbWVTdGF0ZVNlcnZpY2UuRVZFTlRTLkdBTUVfVFJBSUxfRUZGRUNUX1RPR0dMRV9FVkVOVCwgZmFsc2UpO1xyXG4gICAgfTtcclxuICAgIC8vIEV2ZW50IHRvIGlkZW50aWZ5IG1vdXNlIG1vdmVkIGRvd24gb24gdGhlIGNhbnZhc1xyXG4gICAgaGFuZGxlTW91c2VEb3duID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgbGV0IHJlY3QgPSB0aGlzLmNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICBjb25zdCB4ID0gZXZlbnQuY2xpZW50WCAtIHJlY3QubGVmdDtcclxuICAgICAgICBjb25zdCB5ID0gZXZlbnQuY2xpZW50WSAtIHJlY3QudG9wO1xyXG4gICAgICAgIGlmICghdGhpcy53b3JkUHV6emxlTG9naWMuY2hlY2tJc1dvcmRQdXp6bGUoKSkge1xyXG4gICAgICAgICAgICAvKlRvIERvOiBNb3ZlIGFsbCBsb2dpYyByZWxhdGluZyB0byBzdG9uZSBoYW5kbGluZyBpbmNsdWRpbmcgdXBkYXRpbmcgaXRzIGNvb3JkbmF0ZXMgdG8gc3RvbmUtaGFuZGxlci50c1xyXG4gICAgICAgICAgICAgIE5vdGU6IFdpbGwgaGF2ZSB0byBldmVudHVhbGx5IHJlbW92ZSB0aGlzIGFuZCB1c2UgdGhlIGhhbmRsZVBpY2tTdG9uZVVwIGluIHN0b25lLWhhbmRsZXIudHNcclxuICAgICAgICAgICAgICBXaWxsIGxlYXZlIHRoaXMgZm9yIG5vdyB0byBhdm9pZCBhZmZlY3RpbmcgTGV0dGVyIE9ubHkgcHV6emxlcyB3aXRoIFdvcmQgcGxheSBwdXp6bGVzIGltcGxlbWVudGF0aW9uIG9mIG11bHRpLWxldHRlciBmZWF0dXJlLlxyXG4gICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBmb3IgKGxldCBzYyBvZiB0aGlzLnN0b25lSGFuZGxlci5mb2lsU3RvbmVzKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkaXN0YW5jZSA9IE1hdGguc3FydCgoeCAtIHNjLngpICoqIDIgKyAoeSAtIHNjLnkpICoqIDIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlIDw9IDQwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5waWNrZWRTdG9uZU9iamVjdCA9IHNjO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGlja2VkU3RvbmUgPSBzYztcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1ZGlvUGxheWVyLnBsYXlBdWRpbyhBVURJT19QQVRIX09OX0RSQUcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnNldFBpY2tlZFVwKHgsIHkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL3RoaXMuY2xpY2tUcmFpbFRvZ2dsZSA9IHRydWU7XHJcbiAgICAgICAgZ2FtZVN0YXRlU2VydmljZS5wdWJsaXNoKGdhbWVTdGF0ZVNlcnZpY2UuRVZFTlRTLkdBTUVfVFJBSUxfRUZGRUNUX1RPR0dMRV9FVkVOVCwgdHJ1ZSk7XHJcbiAgICB9O1xyXG4gICAgc2V0UGlja2VkVXAoeCwgeSkge1xyXG4gICAgICAgIGNvbnN0IHN0b25lTGV0dGVyID0gdGhpcy5zdG9uZUhhbmRsZXIuaGFuZGxlUGlja1N0b25lVXAoeCwgeSk7XHJcbiAgICAgICAgaWYgKHN0b25lTGV0dGVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGlja2VkU3RvbmVPYmplY3QgPSBzdG9uZUxldHRlcjtcclxuICAgICAgICAgICAgdGhpcy5waWNrZWRTdG9uZSA9IHN0b25lTGV0dGVyO1xyXG4gICAgICAgICAgICB0aGlzLmF1ZGlvUGxheWVyLnBsYXlBdWRpbyhBVURJT19QQVRIX09OX0RSQUcpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5sZXZlbERhdGE/LmxldmVsTWV0YT8ubGV2ZWxUeXBlID09PSAnV29yZCcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMud29yZFB1enpsZUxvZ2ljLnNldFBpY2tVcExldHRlcihzdG9uZUxldHRlcj8udGV4dCwgc3RvbmVMZXR0ZXI/LmZvaWxTdG9uZUluZGV4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGhhbmRsZU1vdXNlTW92ZSA9IChldmVudCkgPT4ge1xyXG4gICAgICAgIGxldCB0cmFpbFggPSBldmVudC5jbGllbnRYO1xyXG4gICAgICAgIGxldCB0cmFpbFkgPSBldmVudC5jbGllbnRZO1xyXG4gICAgICAgIGlmICh0aGlzLnBpY2tlZFN0b25lKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy53b3JkUHV6emxlTG9naWMuY2hlY2tJc1dvcmRQdXp6bGUoKSkge1xyXG4gICAgICAgICAgICAgICAgLypUbyBEbzogTW92ZSBhbGwgbG9naWMgcmVsYXRpbmcgdG8gc3RvbmUgaGFuZGxpbmcgaW5jbHVkaW5nIHVwZGF0aW5nIGl0cyBjb29yZG5hdGVzIHRvIHN0b25lLWhhbmRsZXIudHNcclxuICAgICAgICAgICAgICAgICBOb3RlOiBXaWxsIGhhdmUgdG8gZXZlbnR1YWxseSByZW1vdmUgdGhpcyBhbmQgdXNlIHRoZSBoYW5kbGVNb3ZpbmdTdG9uZUxldHRlciBpbiBzdG9uZS1oYW5kbGVyLnRzXHJcbiAgICAgICAgICAgICAgICAgV2lsbCBsZWF2ZSB0aGlzIGZvciBub3cgdG8gYXZvaWQgYWZmZWN0aW5nIExldHRlciBPbmx5IHB1enpsZXMgd2l0aCBXb3JkIHBsYXkgcHV6emxlcyBpbXBsZW1lbnRhdGlvbiBvZiBtdWx0aS1sZXR0ZXIgZmVhdHVyZS5cclxuICAgICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgICAgIGxldCByZWN0ID0gdGhpcy5jYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB4ID0gZXZlbnQuY2xpZW50WCAtIHJlY3QubGVmdDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHkgPSBldmVudC5jbGllbnRZIC0gcmVjdC50b3A7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1vbnN0ZXIuY2hhbmdlVG9EcmFnQW5pbWF0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBpY2tlZFN0b25lLnggPSB4O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5waWNrZWRTdG9uZS55ID0geTtcclxuICAgICAgICAgICAgICAgIHRyYWlsWCA9IHg7XHJcbiAgICAgICAgICAgICAgICB0cmFpbFkgPSB5O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3U3RvbmVDb29yZGluYXRlcyA9IHRoaXMuc3RvbmVIYW5kbGVyLmhhbmRsZU1vdmluZ1N0b25lTGV0dGVyKHRoaXMucGlja2VkU3RvbmUsIGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5waWNrZWRTdG9uZSA9IG5ld1N0b25lQ29vcmRpbmF0ZXM7XHJcbiAgICAgICAgICAgICAgICB0cmFpbFggPSBuZXdTdG9uZUNvb3JkaW5hdGVzLng7XHJcbiAgICAgICAgICAgICAgICB0cmFpbFkgPSBuZXdTdG9uZUNvb3JkaW5hdGVzLnk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy53b3JkUHV6emxlTG9naWMuY2hlY2tJc1dvcmRQdXp6bGUoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld1N0b25lTGV0dGVyID0gdGhpcy5zdG9uZUhhbmRsZXIuaGFuZGxlSG92ZXJpbmdUb0Fub3RoZXJTdG9uZSh0cmFpbFgsIHRyYWlsWSwgKGZvaWxTdG9uZVRleHQsIGZvaWxTdG9uZUluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLndvcmRQdXp6bGVMb2dpYy5oYW5kbGVDaGVja0hvdmVyZWRTdG9uZShmb2lsU3RvbmVUZXh0LCBmb2lsU3RvbmVJbmRleCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1N0b25lTGV0dGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud29yZFB1enpsZUxvZ2ljLnNldFBpY2tVcExldHRlcihuZXdTdG9uZUxldHRlcj8udGV4dCwgbmV3U3RvbmVMZXR0ZXI/LmZvaWxTdG9uZUluZGV4KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5waWNrZWRTdG9uZSA9IHRoaXMuc3RvbmVIYW5kbGVyLnJlc2V0U3RvbmVQb3NpdGlvbih0aGlzLndpZHRoLCB0aGlzLnBpY2tlZFN0b25lLCB0aGlzLnBpY2tlZFN0b25lT2JqZWN0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9BZnRlciByZXNldHRpbmcgaXRzIG9yaWdpbmFsIHBvc2l0aW9uIHJlcGxhY2UgaXQgd2l0aCB0aGUgbmV3IGxldHRlci5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5waWNrZWRTdG9uZU9iamVjdCA9IG5ld1N0b25lTGV0dGVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBpY2tlZFN0b25lID0gbmV3U3RvbmVMZXR0ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMubW9uc3Rlci5jaGFuZ2VUb0RyYWdBbmltYXRpb24oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy50cmFpbFBhcnRpY2xlcz8uYWRkVHJhaWxQYXJ0aWNsZXNPbk1vdmUodHJhaWxYLCB0cmFpbFkpO1xyXG4gICAgfTtcclxuICAgIGhhbmRsZU1vdXNlQ2xpY2sgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICBsZXQgcmVjdCA9IHRoaXMuY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgIGNvbnN0IHggPSBldmVudC5jbGllbnRYIC0gcmVjdC5sZWZ0O1xyXG4gICAgICAgIGNvbnN0IHkgPSBldmVudC5jbGllbnRZIC0gcmVjdC50b3A7XHJcbiAgICAgICAgaWYgKHRoaXMubW9uc3Rlci5vbkNsaWNrKHgsIHkpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNHYW1lU3RhcnRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMudGltZSA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMudHV0b3JpYWwuc2V0UGxheU1vbnN0ZXJDbGlja0FuaW1hdGlvbihmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnBhdXNlQnV0dG9uLm9uQ2xpY2soeCwgeSkpIHtcclxuICAgICAgICAgICAgdGhpcy5hdWRpb1BsYXllci5wbGF5QnV0dG9uQ2xpY2tTb3VuZCgpO1xyXG4gICAgICAgICAgICB0aGlzLnBhdXNlR2FtZVBsYXkoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMucHJvbXB0VGV4dC5vbkNsaWNrKHgsIHkpKSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvbXB0VGV4dC5wbGF5U291bmQoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLy8gRXZlbnQgdG8gaWRlbnRpZnkgdG91Y2ggb24gdGhlIGNhbnZhc1xyXG4gICAgaGFuZGxlVG91Y2hTdGFydCA9IChldmVudCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHRvdWNoID0gZXZlbnQudG91Y2hlc1swXTtcclxuICAgICAgICB0aGlzLmhhbmRsZU1vdXNlRG93bih7IGNsaWVudFg6IHRvdWNoLmNsaWVudFgsIGNsaWVudFk6IHRvdWNoLmNsaWVudFkgfSk7XHJcbiAgICAgICAgdGhpcy50cmFpbFBhcnRpY2xlcz8ucmVzZXRQYXJ0aWNsZXMoKTtcclxuICAgIH07XHJcbiAgICBoYW5kbGVUb3VjaE1vdmUgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICBjb25zdCB0b3VjaCA9IGV2ZW50LnRvdWNoZXNbMF07XHJcbiAgICAgICAgdGhpcy5oYW5kbGVNb3VzZU1vdmUoeyBjbGllbnRYOiB0b3VjaC5jbGllbnRYLCBjbGllbnRZOiB0b3VjaC5jbGllbnRZIH0pO1xyXG4gICAgICAgIHRoaXMudHJhaWxQYXJ0aWNsZXM/LmFkZFRyYWlsUGFydGljbGVzT25Nb3ZlKHRvdWNoLmNsaWVudFgsIHRvdWNoLmNsaWVudFkpO1xyXG4gICAgfTtcclxuICAgIGhhbmRsZVRvdWNoRW5kID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgY29uc3QgdG91Y2ggPSBldmVudC5jaGFuZ2VkVG91Y2hlc1swXTtcclxuICAgICAgICB0aGlzLmhhbmRsZU1vdXNlVXAoeyBjbGllbnRYOiB0b3VjaC5jbGllbnRYLCBjbGllbnRZOiB0b3VjaC5jbGllbnRZIH0pO1xyXG4gICAgICAgIGlmICghdGhpcy5oYXNGZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5tb25zdGVyLmNoYW5nZVRvSWRsZUFuaW1hdGlvbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnRyYWlsUGFydGljbGVzPy5yZXNldFBhcnRpY2xlcygpO1xyXG4gICAgfTtcclxuICAgIGRyYXcoZGVsdGFUaW1lKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzR2FtZVN0YXJ0ZWQgJiYgIXRoaXMuaXNQYXVzZUJ1dHRvbkNsaWNrZWQpIHtcclxuICAgICAgICAgICAgdGhpcy50aW1lID0gdGhpcy50aW1lICsgZGVsdGFUaW1lO1xyXG4gICAgICAgICAgICBpZiAodGhpcy50aW1lID49IDUwMDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNHYW1lU3RhcnRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRpbWUgPSAwO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50dXRvcmlhbC5zZXRQbGF5TW9uc3RlckNsaWNrQW5pbWF0aW9uKGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pbWFnZXNMb2FkZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5iYWNrZ3JvdW5kPy5kcmF3KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucGF1c2VCdXR0b24uZHJhdygpO1xyXG4gICAgICAgIHRoaXMubGV2ZWxJbmRpY2F0b3JzLmRyYXcoKTtcclxuICAgICAgICB0aGlzLnByb21wdFRleHQuZHJhdyhkZWx0YVRpbWUpO1xyXG4gICAgICAgIHRoaXMubW9uc3Rlci51cGRhdGUoZGVsdGFUaW1lKTtcclxuICAgICAgICB0aGlzLnRpbWVyVGlja2luZy5kcmF3KCk7XHJcbiAgICAgICAgdGhpcy50cmFpbFBhcnRpY2xlcz8uZHJhdygpO1xyXG4gICAgICAgIGlmICh0aGlzLmlzUGF1c2VCdXR0b25DbGlja2VkICYmIHRoaXMuaXNHYW1lU3RhcnRlZCkge1xyXG4gICAgICAgICAgICB0aGlzLmhhbmRsZVN0b25lTGV0dGVyRHJhd2luZyhkZWx0YVRpbWUpO1xyXG4gICAgICAgICAgICB0aGlzLnBhdXNlUG9wdXAuZHJhdygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMuaXNQYXVzZUJ1dHRvbkNsaWNrZWQgJiYgIXRoaXMuaXNHYW1lU3RhcnRlZCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvdW50ZXIgPT0gMFxyXG4gICAgICAgICAgICAgICAgPyB0aGlzLnR1dG9yaWFsLmNsaWNrT25Nb25zdGVyVHV0b3JpYWwoZGVsdGFUaW1lKVxyXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlzUGF1c2VCdXR0b25DbGlja2VkICYmICF0aGlzLmlzR2FtZVN0YXJ0ZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5wYXVzZVBvcHVwLmRyYXcoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzUGF1c2VCdXR0b25DbGlja2VkICYmIHRoaXMuaXNHYW1lU3RhcnRlZCkge1xyXG4gICAgICAgICAgICB0aGlzLmhhbmRsZVN0b25lTGV0dGVyRHJhd2luZyhkZWx0YVRpbWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGhhbmRsZVN0b25lTGV0dGVyRHJhd2luZyhkZWx0YVRpbWUpIHtcclxuICAgICAgICBpZiAodGhpcy53b3JkUHV6emxlTG9naWMuY2hlY2tJc1dvcmRQdXp6bGUoKSkge1xyXG4gICAgICAgICAgICBjb25zdCB7IGdyb3VwZWRPYmogfSA9IHRoaXMud29yZFB1enpsZUxvZ2ljLmdldFZhbHVlcygpO1xyXG4gICAgICAgICAgICB0aGlzLnN0b25lSGFuZGxlci5kcmF3V29yZFB1enpsZUxldHRlcnMoZGVsdGFUaW1lLCAoZm9pbFN0b25lSW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLndvcmRQdXp6bGVMb2dpYy52YWxpZGF0ZVNob3VsZEhpZGVMZXR0ZXIoZm9pbFN0b25lSW5kZXgpO1xyXG4gICAgICAgICAgICB9LCBncm91cGVkT2JqKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RvbmVIYW5kbGVyLmRyYXcoZGVsdGFUaW1lKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBhZGRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLmhhbmRsZXIuYWRkRXZlbnRMaXN0ZW5lcihNT1VTRVVQLCB0aGlzLmhhbmRsZU1vdXNlVXAsIGZhbHNlKTtcclxuICAgICAgICB0aGlzLmhhbmRsZXIuYWRkRXZlbnRMaXN0ZW5lcihNT1VTRU1PVkUsIHRoaXMuaGFuZGxlTW91c2VNb3ZlLCBmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVyLmFkZEV2ZW50TGlzdGVuZXIoTU9VU0VET1dOLCB0aGlzLmhhbmRsZU1vdXNlRG93biwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuaGFuZGxlci5hZGRFdmVudExpc3RlbmVyKFRPVUNIU1RBUlQsIHRoaXMuaGFuZGxlVG91Y2hTdGFydCwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuaGFuZGxlci5hZGRFdmVudExpc3RlbmVyKFRPVUNITU9WRSwgdGhpcy5oYW5kbGVUb3VjaE1vdmUsIGZhbHNlKTtcclxuICAgICAgICB0aGlzLmhhbmRsZXIuYWRkRXZlbnRMaXN0ZW5lcihUT1VDSEVORCwgdGhpcy5oYW5kbGVUb3VjaEVuZCwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuaGFuZGxlci5hZGRFdmVudExpc3RlbmVyKENMSUNLLCB0aGlzLmhhbmRsZU1vdXNlQ2xpY2ssIGZhbHNlKTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFZJU0lCSUxJVFlfQ0hBTkdFLCB0aGlzLmhhbmRsZVZpc2liaWxpdHlDaGFuZ2UsIGZhbHNlKTtcclxuICAgIH1cclxuICAgIHJlbW92ZUV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIC8vIFJlbW92ZSBldmVudCBsaXN0ZW5lcnMgdXNpbmcgdGhlIGRlZmluZWQgZnVuY3Rpb25zXHJcbiAgICAgICAgdGhpcy5oYW5kbGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoQ0xJQ0ssIHRoaXMuaGFuZGxlTW91c2VDbGljaywgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuaGFuZGxlci5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLmhhbmRsZU1vdXNlVXAsIGZhbHNlKTtcclxuICAgICAgICB0aGlzLmhhbmRsZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLmhhbmRsZU1vdXNlTW92ZSwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuaGFuZGxlci5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMuaGFuZGxlTW91c2VEb3duLCBmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIHRoaXMuaGFuZGxlVG91Y2hTdGFydCwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuaGFuZGxlci5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsIHRoaXMuaGFuZGxlVG91Y2hNb3ZlLCBmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCB0aGlzLmhhbmRsZVRvdWNoRW5kLCBmYWxzZSk7XHJcbiAgICB9XHJcbiAgICBsb2FkUHV6emxlID0gKGlzVGltZXJFbmRlZCkgPT4ge1xyXG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgICAgICB0aGlzLnN0b25lc0NvdW50ID0gMTtcclxuICAgICAgICBjb25zdCB0aW1lckVuZGVkID0gQm9vbGVhbihpc1RpbWVyRW5kZWQpO1xyXG4gICAgICAgIGlmICh0aW1lckVuZGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nUHV6emxlRW5kRmlyZWJhc2VFdmVudChmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY291bnRlciArPSAxOyAvL2luY3JlbWVudCBQdXp6bGVcclxuICAgICAgICB0aGlzLmlzR2FtZVN0YXJ0ZWQgPSBmYWxzZTtcclxuICAgICAgICBpZiAodGhpcy5jb3VudGVyID09PSB0aGlzLmxldmVsRGF0YS5wdXp6bGVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLmxldmVsSW5kaWNhdG9ycy5zZXRJbmRpY2F0b3JzKHRoaXMuY291bnRlcik7XHJcbiAgICAgICAgICAgIHRoaXMubG9nTGV2ZWxFbmRGaXJlYmFzZUV2ZW50KCk7XHJcbiAgICAgICAgICAgIEdhbWVTY29yZS5zZXRHYW1lTGV2ZWxTY29yZSh0aGlzLmxldmVsRGF0YSwgdGhpcy5zY29yZSk7XHJcbiAgICAgICAgICAgIHRoaXMuc3dpdGNoU2NlbmVUb0VuZChHYW1lU2NvcmUuY2FsY3VsYXRlU3RhckNvdW50KHRoaXMuc2NvcmUpLCB0aGlzLm1vbnN0ZXJQaGFzZU51bWJlciwgdGhpcy5sZXZlbE51bWJlciwgdGltZXJFbmRlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCBsb2FkUHV6emxlRXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoTE9BRFBVWlpMRSwge1xyXG4gICAgICAgICAgICAgICAgZGV0YWlsOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY291bnRlcjogdGhpcy5jb3VudGVyLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzRGlzcG9zaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbml0TmV3UHV6emxlKGxvYWRQdXp6bGVFdmVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHRpbWVyRW5kZWQgPyAwIDogNDUwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGRpc3Bvc2UgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy50cmFpbFBhcnRpY2xlcy5jbGVhclRyYWlsU3Vic2NyaXB0aW9uKCk7XHJcbiAgICAgICAgZ2FtZVN0YXRlU2VydmljZS51bnN1YnNjcmliZShnYW1lU3RhdGVTZXJ2aWNlLkVWRU5UUy5HQU1FX1BBVVNFX1NUQVRVU19FVkVOVCwgdGhpcy5nYW1lcGxheVBhdXNlTGlzdGVuZXIpO1xyXG4gICAgICAgIHRoaXMuaXNEaXNwb3NpbmcgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuYXVkaW9QbGF5ZXIuc3RvcEFsbEF1ZGlvcygpO1xyXG4gICAgICAgIHRoaXMubW9uc3Rlci5kaXNwb3NlKCk7IC8vVGhpcyB3aWxsIG5vIGxvbmdlciBiZSBuZWVkZWQgaWYgUml2ZSBNb25zdGVyIGNvbWVzLlxyXG4gICAgICAgIHRoaXMudGltZXJUaWNraW5nLmRpc3Bvc2UoKTtcclxuICAgICAgICB0aGlzLmxldmVsSW5kaWNhdG9ycy5kaXNwb3NlKCk7XHJcbiAgICAgICAgdGhpcy5zdG9uZUhhbmRsZXIuZGlzcG9zZSgpO1xyXG4gICAgICAgIHRoaXMucHJvbXB0VGV4dC5kaXNwb3NlKCk7XHJcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihWSVNJQklMSVRZX0NIQU5HRSwgdGhpcy5oYW5kbGVWaXNpYmlsaXR5Q2hhbmdlLCBmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVycygpO1xyXG4gICAgfTtcclxuICAgIGNoZWNrU3RvbmVEcm9wcGVkKHN0b25lLCBmZWVkQmFja0luZGV4LCBpc1dvcmQgPSBmYWxzZSkge1xyXG4gICAgICAgIHRoaXMuaGFzRmVkID0gdHJ1ZTsgLy9UbyBwcmV2ZW50IGlkbGUgYW5pbWF0aW9uIGZyb20gZmlyaW5nIHdoZW4gc3RvbmUgaXMgZHJvcHBlZC5cclxuICAgICAgICByZXR1cm4gdGhpcy5zdG9uZUhhbmRsZXIuaXNTdG9uZUxldHRlckRyb3BDb3JyZWN0KHN0b25lLCBmZWVkQmFja0luZGV4LCBpc1dvcmQpO1xyXG4gICAgfVxyXG4gICAgbGV0dGVyUHV6emxlKGRyb3BwZWRTdG9uZSkge1xyXG4gICAgICAgIGNvbnN0IGZlZWRCYWNrSW5kZXggPSB0aGlzLmdldFJhbmRvbUludCgwLCAxKTtcclxuICAgICAgICBjb25zdCBpc0NvcnJlY3QgPSB0aGlzLmNoZWNrU3RvbmVEcm9wcGVkKGRyb3BwZWRTdG9uZSwgZmVlZEJhY2tJbmRleCk7XHJcbiAgICAgICAgaWYgKGlzQ29ycmVjdCkge1xyXG4gICAgICAgICAgICB0aGlzLmhhbmRsZUNvcnJlY3RTdG9uZURyb3AoZmVlZEJhY2tJbmRleCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaGFuZGxlU3RvbmVEcm9wRW5kKGlzQ29ycmVjdCk7XHJcbiAgICB9XHJcbiAgICB3b3JkUHV6emxlKGRyb3BwZWRTdG9uZUluc3RhbmNlKSB7XHJcbiAgICAgICAgdGhpcy5hdWRpb1BsYXllci5zdG9wRmVlZGJhY2tBdWRpbygpO1xyXG4gICAgICAgIGRyb3BwZWRTdG9uZUluc3RhbmNlLnggPSAtOTk5O1xyXG4gICAgICAgIGRyb3BwZWRTdG9uZUluc3RhbmNlLnkgPSAtOTk5O1xyXG4gICAgICAgIGNvbnN0IGZlZWRCYWNrSW5kZXggPSB0aGlzLmdldFJhbmRvbUludCgwLCAxKTtcclxuICAgICAgICB0aGlzLmhhc0ZlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy53b3JkUHV6emxlTG9naWMuc2V0R3JvdXBUb0Ryb3BwZWQoKTtcclxuICAgICAgICBjb25zdCB7IGRyb3BwZWRMZXR0ZXJzIH0gPSB0aGlzLndvcmRQdXp6bGVMb2dpYy5nZXRWYWx1ZXMoKTtcclxuICAgICAgICBjb25zdCBpc0NvcnJlY3QgPSB0aGlzLndvcmRQdXp6bGVMb2dpYy52YWxpZGF0ZUZlZExldHRlcnMoKTtcclxuICAgICAgICB0aGlzLnN0b25lSGFuZGxlci5wcm9jZXNzTGV0dGVyRHJvcEZlZWRiYWNrQXVkaW8oZmVlZEJhY2tJbmRleCwgaXNDb3JyZWN0LCB0cnVlLCBkcm9wcGVkTGV0dGVycyk7XHJcbiAgICAgICAgaWYgKGlzQ29ycmVjdCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy53b3JkUHV6emxlTG9naWMudmFsaWRhdGVXb3JkUHV6emxlKCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlQ29ycmVjdFN0b25lRHJvcChmZWVkQmFja0luZGV4KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlU3RvbmVEcm9wRW5kKGlzQ29ycmVjdCwgXCJXb3JkXCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdG9uZXNDb3VudCA9IDE7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy50aW1lclRpY2tpbmcuc3RhcnRUaW1lcigpO1xyXG4gICAgICAgICAgICB0aGlzLm1vbnN0ZXIuY2hhbmdlVG9FYXRBbmltYXRpb24oKTtcclxuICAgICAgICAgICAgdGhpcy5wcm9tcHRUZXh0LmRyb3BwZWRTdG9uZUluZGV4KGxhbmcgPT0gXCJhcmFiaWNcIlxyXG4gICAgICAgICAgICAgICAgPyB0aGlzLnN0b25lc0NvdW50XHJcbiAgICAgICAgICAgICAgICA6IGRyb3BwZWRMZXR0ZXJzLmxlbmd0aCk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RvbmVzQ291bnQrKztcclxuICAgICAgICAgICAgdGhpcy5yZXNldFRvSWRsZUFuaW1hdGlvbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1vbnN0ZXIuY2hhbmdlVG9JZGxlQW5pbWF0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhc0ZlZCA9IGZhbHNlOyAvL3JlLWVuYWJsZXMgaWRsZSByZXNldCB3aGVuIHN0b25lcyBhcmUgbm90IGZlZC5cclxuICAgICAgICAgICAgfSwgMjAwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmhhbmRsZVN0b25lRHJvcEVuZChpc0NvcnJlY3QsIFwiV29yZFwiKTtcclxuICAgICAgICAgICAgdGhpcy5zdG9uZXNDb3VudCA9IDE7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmVzZXRUb0lkbGVBbmltYXRpb24oY2FsbGJhY2ssIGRlbGF5KSB7XHJcbiAgICAgICAgaWYgKHRoaXMucmVzZXRBbmltYXRpb25JRCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnJlc2V0QW5pbWF0aW9uSUQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnJlc2V0QW5pbWF0aW9uSUQgPSBzZXRUaW1lb3V0KGNhbGxiYWNrLCBkZWxheSk7XHJcbiAgICB9XHJcbiAgICBoYW5kbGVTdG9uZURyb3BFbmQoaXNDb3JyZWN0LCBwdXp6bGVUeXBlID0gbnVsbCkge1xyXG4gICAgICAgIHRoaXMubG9nUHV6emxlRW5kRmlyZWJhc2VFdmVudChpc0NvcnJlY3QsIHB1enpsZVR5cGUpO1xyXG4gICAgICAgIHRoaXMuZGlzcGF0Y2hTdG9uZURyb3BFdmVudChpc0NvcnJlY3QpO1xyXG4gICAgICAgIHRoaXMubG9hZFB1enpsZSgpO1xyXG4gICAgfVxyXG4gICAgaGFuZGxlQ29ycmVjdFN0b25lRHJvcCA9IChmZWVkYmFja0luZGV4KSA9PiB7XHJcbiAgICAgICAgdGhpcy5zY29yZSArPSAxMDA7XHJcbiAgICAgICAgdGhpcy5mZWVkYmFja1RleHRFZmZlY3RzLndyYXBUZXh0KHRoaXMuZ2V0UmFuZG9tRmVlZEJhY2tUZXh0KGZlZWRiYWNrSW5kZXgpKTtcclxuICAgIH07XHJcbiAgICBkaXNwYXRjaFN0b25lRHJvcEV2ZW50KGlzQ29ycmVjdCkge1xyXG4gICAgICAgIGNvbnN0IGRyb3BTdG9uZUV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KFNUT05FRFJPUCwge1xyXG4gICAgICAgICAgICBkZXRhaWw6IHsgaXNDb3JyZWN0OiBpc0NvcnJlY3QgfSxcclxuICAgICAgICB9KTtcclxuICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGRyb3BTdG9uZUV2ZW50KTtcclxuICAgIH1cclxuICAgIGluaXROZXdQdXp6bGUobG9hZFB1enpsZUV2ZW50KSB7XHJcbiAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVycygpO1xyXG4gICAgICAgIHRoaXMuaXNHYW1lU3RhcnRlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudGltZSA9IDA7XHJcbiAgICAgICAgdGhpcy53b3JkUHV6emxlTG9naWMudXBkYXRlUHV6emxlTGV2ZWwobG9hZFB1enpsZUV2ZW50Py5kZXRhaWw/LmNvdW50ZXIpO1xyXG4gICAgICAgIHRoaXMucGlja2VkU3RvbmUgPSBudWxsO1xyXG4gICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobG9hZFB1enpsZUV2ZW50KTtcclxuICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICAgICAgdGhpcy5hdWRpb1BsYXllci5zdG9wQWxsQXVkaW9zKCk7XHJcbiAgICAgICAgdGhpcy5zdGFydFB1enpsZVRpbWUoKTtcclxuICAgICAgICB0aGlzLmhhc0ZlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgbG9nUHV6emxlRW5kRmlyZWJhc2VFdmVudChpc0NvcnJlY3QsIHB1enpsZVR5cGUpIHtcclxuICAgICAgICBsZXQgZW5kVGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgICAgY29uc3QgeyBkcm9wcGVkTGV0dGVycyB9ID0gdGhpcy53b3JkUHV6emxlTG9naWMuZ2V0VmFsdWVzKCk7XHJcbiAgICAgICAgY29uc3QgcHV6emxlQ29tcGxldGVkRGF0YSA9IHtcclxuICAgICAgICAgICAgY3JfdXNlcl9pZDogcHNldWRvSWQsXHJcbiAgICAgICAgICAgIGZ0bV9sYW5ndWFnZTogbGFuZyxcclxuICAgICAgICAgICAgcHJvZmlsZV9udW1iZXI6IDAsXHJcbiAgICAgICAgICAgIHZlcnNpb25fbnVtYmVyOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInZlcnNpb24taW5mby1pZFwiKS5pbm5lckhUTUwsXHJcbiAgICAgICAgICAgIGpzb25fdmVyc2lvbl9udW1iZXI6IHRoaXMuanNvblZlcnNpb25OdW1iZXIsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3Nfb3JfZmFpbHVyZTogaXNDb3JyZWN0ID8gXCJzdWNjZXNzXCIgOiBcImZhaWx1cmVcIixcclxuICAgICAgICAgICAgbGV2ZWxfbnVtYmVyOiB0aGlzLmxldmVsRGF0YS5sZXZlbE1ldGEubGV2ZWxOdW1iZXIsXHJcbiAgICAgICAgICAgIHB1enpsZV9udW1iZXI6IHRoaXMuY291bnRlcixcclxuICAgICAgICAgICAgaXRlbV9zZWxlY3RlZDogcHV6emxlVHlwZSA9PSBcIldvcmRcIlxyXG4gICAgICAgICAgICAgICAgPyBkcm9wcGVkTGV0dGVycyA9PSBudWxsIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgZHJvcHBlZExldHRlcnMgPT0gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgICAgICAgICAgPyBcIlRJTUVPVVRcIlxyXG4gICAgICAgICAgICAgICAgICAgIDogZHJvcHBlZExldHRlcnNcclxuICAgICAgICAgICAgICAgIDogdGhpcy5waWNrZWRTdG9uZSA9PSBudWxsIHx8IHRoaXMucGlja2VkU3RvbmUgPT0gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgICAgICAgICAgPyBcIlRJTUVPVVRcIlxyXG4gICAgICAgICAgICAgICAgICAgIDogdGhpcy5waWNrZWRTdG9uZT8udGV4dCxcclxuICAgICAgICAgICAgdGFyZ2V0OiB0aGlzLnN0b25lSGFuZGxlci5nZXRDb3JyZWN0VGFyZ2V0U3RvbmUoKSxcclxuICAgICAgICAgICAgZm9pbHM6IHRoaXMuc3RvbmVIYW5kbGVyLmdldEZvaWxTdG9uZXMoKSxcclxuICAgICAgICAgICAgcmVzcG9uc2VfdGltZTogKGVuZFRpbWUgLSB0aGlzLnB1enpsZVRpbWUpIC8gMTAwMCxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuZmlyZWJhc2VJbnRlZ3JhdGlvbi5zZW5kUHV6emxlQ29tcGxldGVkRXZlbnQocHV6emxlQ29tcGxldGVkRGF0YSk7XHJcbiAgICB9XHJcbiAgICBsb2dMZXZlbEVuZEZpcmViYXNlRXZlbnQoKSB7XHJcbiAgICAgICAgbGV0IGVuZFRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIGNvbnN0IGxldmVsQ29tcGxldGVkRGF0YSA9IHtcclxuICAgICAgICAgICAgY3JfdXNlcl9pZDogcHNldWRvSWQsXHJcbiAgICAgICAgICAgIGZ0bV9sYW5ndWFnZTogbGFuZyxcclxuICAgICAgICAgICAgcHJvZmlsZV9udW1iZXI6IDAsXHJcbiAgICAgICAgICAgIHZlcnNpb25fbnVtYmVyOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInZlcnNpb24taW5mby1pZFwiKS5pbm5lckhUTUwsXHJcbiAgICAgICAgICAgIGpzb25fdmVyc2lvbl9udW1iZXI6IHRoaXMuanNvblZlcnNpb25OdW1iZXIsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3Nfb3JfZmFpbHVyZTogR2FtZVNjb3JlLmNhbGN1bGF0ZVN0YXJDb3VudCh0aGlzLnNjb3JlKSA+PSAzID8gXCJzdWNjZXNzXCIgOiBcImZhaWx1cmVcIixcclxuICAgICAgICAgICAgbnVtYmVyX29mX3N1Y2Nlc3NmdWxfcHV6emxlczogdGhpcy5zY29yZSAvIDEwMCxcclxuICAgICAgICAgICAgbGV2ZWxfbnVtYmVyOiB0aGlzLmxldmVsRGF0YS5sZXZlbE1ldGEubGV2ZWxOdW1iZXIsXHJcbiAgICAgICAgICAgIGR1cmF0aW9uOiAoZW5kVGltZSAtIHRoaXMuc3RhcnRUaW1lKSAvIDEwMDAsXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmZpcmViYXNlSW50ZWdyYXRpb24uc2VuZExldmVsQ29tcGxldGVkRXZlbnQobGV2ZWxDb21wbGV0ZWREYXRhKTtcclxuICAgIH1cclxuICAgIHN0YXJ0R2FtZVRpbWUoKSB7XHJcbiAgICAgICAgdGhpcy5zdGFydFRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgfVxyXG4gICAgc3RhcnRQdXp6bGVUaW1lKCkge1xyXG4gICAgICAgIHRoaXMucHV6emxlVGltZSA9IERhdGUubm93KCk7XHJcbiAgICB9XHJcbiAgICBwYXVzZUdhbWVQbGF5ID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgICAgICB0aGlzLnBhdXNlUG9wdXAuYWRkTGlzdG5lcigpO1xyXG4gICAgICAgIHRoaXMuYXVkaW9QbGF5ZXIuc3RvcEFsbEF1ZGlvcygpO1xyXG4gICAgfTtcclxuICAgIGhhbmRsZVZpc2liaWxpdHlDaGFuZ2UgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5hdWRpb1BsYXllci5zdG9wQWxsQXVkaW9zKCk7XHJcbiAgICAgICAgZ2FtZVN0YXRlU2VydmljZS5wdWJsaXNoKGdhbWVTdGF0ZVNlcnZpY2UuRVZFTlRTLkdBTUVfUEFVU0VfU1RBVFVTX0VWRU5ULCB0cnVlKTtcclxuICAgICAgICB0aGlzLnBhdXNlR2FtZVBsYXkoKTtcclxuICAgIH07XHJcbn1cclxuIiwiaW1wb3J0IHsgRGVidWdnZXIsIGxhbmcsIHBzZXVkb0lkLCBsb2FkSW1hZ2VzLCB9IGZyb20gXCJAY29tbW9uXCI7XHJcbmltcG9ydCB7IEF1ZGlvUGxheWVyIH0gZnJvbSBcIkBjb21wb25lbnRzXCI7XHJcbmltcG9ydCB7IGdldERhdGEsIEdhbWVTY29yZSB9IGZyb20gXCJAZGF0YVwiO1xyXG5pbXBvcnQgeyBGaXJlYmFzZUludGVncmF0aW9uIH0gZnJvbSBcIi4uL0ZpcmViYXNlL2ZpcmViYXNlLWludGVncmF0aW9uXCI7XHJcbmltcG9ydCB7IGNyZWF0ZUJhY2tncm91bmQsIGxldmVsU2VsZWN0QmdEcmF3aW5nLCBjcmVhdGVMZXZlbE9iamVjdCwgZ2V0ZGVmYXVsdENsb3VkQnRuc1BvcywgbG9hZExldmVsSW1hZ2VzIH0gZnJvbSBcIkBjb21wb3NpdGlvbnNcIjtcclxuaW1wb3J0IHsgUHJldmlvdXNQbGF5ZWRMZXZlbCwgTEVWRUxfU0VMRUNUSU9OX0JBQ0tHUk9VTkQsIE5FWFRfQlROX0lNRywgQkFDS19CVE5fSU1HLCBBVURJT19JTlRSTywgU0NFTkVfTkFNRV9MRVZFTF9TRUxFQ1QsIH0gZnJvbSBcIkBjb25zdGFudHNcIjtcclxuaW1wb3J0IHsgTGV2ZWxCbG9vbkJ1dHRvbiB9IGZyb20gJ0BidXR0b25zJztcclxuaW1wb3J0IGdhbWVTdGF0ZVNlcnZpY2UgZnJvbSAnQGdhbWVTdGF0ZVNlcnZpY2UnO1xyXG5leHBvcnQgY2xhc3MgTGV2ZWxTZWxlY3Rpb25TY3JlZW4ge1xyXG4gICAgY2FudmFzO1xyXG4gICAgZGF0YTtcclxuICAgIHdpZHRoO1xyXG4gICAgaGVpZ2h0O1xyXG4gICAgY2FudmFzRWxlbWVudDtcclxuICAgIGNvbnRleHQ7XHJcbiAgICBsZXZlbHM7XHJcbiAgICBnYW1lTGV2ZWxEYXRhO1xyXG4gICAgY2FsbEJhY2s7XHJcbiAgICBhdWRpb1BsYXllcjtcclxuICAgIGltYWdlcztcclxuICAgIGxvYWRlZEltYWdlcztcclxuICAgIGltYWdlc0xvYWRlZCA9IGZhbHNlO1xyXG4gICAgeERvd247XHJcbiAgICB5RG93bjtcclxuICAgIHByZXZpb3VzUGxheWVkTGV2ZWxOdW1iZXI7XHJcbiAgICBsZXZlbFNlbGVjdGlvblBhZ2VJbmRleCA9IDA7XHJcbiAgICBsZXZlbE51bWJlcjtcclxuICAgIGxldmVsc1NlY3Rpb25Db3VudDtcclxuICAgIHVubG9ja0xldmVsSW5kZXg7XHJcbiAgICBtYWpWZXJzaW9uO1xyXG4gICAgbWluVmVyc2lvbjtcclxuICAgIGZpcmViYXNlSW50ZWdyYXRpb247XHJcbiAgICBiYWNrZ3JvdW5kO1xyXG4gICAgcmlnaHRCdG5TaXplO1xyXG4gICAgcmlnaHRCdG5YO1xyXG4gICAgcmlnaHRCdG5ZO1xyXG4gICAgbGVmdEJ0blNpemU7XHJcbiAgICBsZWZ0QnRuWDtcclxuICAgIGxlZnRCdG5ZO1xyXG4gICAgbGV2ZWxCdXR0b25zO1xyXG4gICAgY29uc3RydWN0b3IoY2FudmFzLCBkYXRhLCBjYWxsQmFjaykge1xyXG4gICAgICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xyXG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XHJcbiAgICAgICAgdGhpcy53aWR0aCA9IGNhbnZhcy53aWR0aDtcclxuICAgICAgICB0aGlzLmhlaWdodCA9IGNhbnZhcy5oZWlnaHQ7XHJcbiAgICAgICAgbGV0IHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuY2FsbEJhY2sgPSBjYWxsQmFjaztcclxuICAgICAgICB0aGlzLmxldmVsc1NlY3Rpb25Db3VudCA9XHJcbiAgICAgICAgICAgIHNlbGYuZGF0YS5sZXZlbHMubGVuZ3RoIC8gMTAgPiBNYXRoLmZsb29yKHNlbGYuZGF0YS5sZXZlbHMubGVuZ3RoIC8gMTApXHJcbiAgICAgICAgICAgICAgICA/IE1hdGguZmxvb3Ioc2VsZi5kYXRhLmxldmVscy5sZW5ndGggLyAxMCkgKyAxXHJcbiAgICAgICAgICAgICAgICA6IE1hdGguZmxvb3Ioc2VsZi5kYXRhLmxldmVscy5sZW5ndGggLyAxMCk7XHJcbiAgICAgICAgdGhpcy5sZXZlbHMgPSBbXTtcclxuICAgICAgICB0aGlzLmZpcmViYXNlSW50ZWdyYXRpb24gPSBuZXcgRmlyZWJhc2VJbnRlZ3JhdGlvbigpO1xyXG4gICAgICAgIHRoaXMuaW5pdCgpO1xyXG4gICAgICAgIHRoaXMuY2FudmFzRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FudmFzXCIpO1xyXG4gICAgICAgIHRoaXMuY29udGV4dCA9IHRoaXMuY2FudmFzRWxlbWVudC5nZXRDb250ZXh0KFwiMmRcIik7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVMZXZlbEJ1dHRvbnMoKTtcclxuICAgICAgICB0aGlzLmdhbWVMZXZlbERhdGEgPSBHYW1lU2NvcmUuZ2V0QWxsR2FtZUxldmVsSW5mbygpO1xyXG4gICAgICAgIHRoaXMuYXVkaW9QbGF5ZXIgPSBuZXcgQXVkaW9QbGF5ZXIoKTtcclxuICAgICAgICB0aGlzLnVubG9ja0xldmVsSW5kZXggPSAtMTtcclxuICAgICAgICB0aGlzLnByZXZpb3VzUGxheWVkTGV2ZWxOdW1iZXIgPVxyXG4gICAgICAgICAgICBwYXJzZUludChEZWJ1Z2dlci5EZWJ1Z01vZGVcclxuICAgICAgICAgICAgICAgID8gbG9jYWxTdG9yYWdlLmdldEl0ZW0oUHJldmlvdXNQbGF5ZWRMZXZlbCArIGxhbmcgKyBcIkRlYnVnXCIpXHJcbiAgICAgICAgICAgICAgICA6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFByZXZpb3VzUGxheWVkTGV2ZWwgKyBsYW5nKSkgfCAwO1xyXG4gICAgICAgIGlmICh0aGlzLnByZXZpb3VzUGxheWVkTGV2ZWxOdW1iZXIgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLmxldmVsU2VsZWN0aW9uUGFnZUluZGV4ID1cclxuICAgICAgICAgICAgICAgIDEwICogTWF0aC5mbG9vcih0aGlzLnByZXZpb3VzUGxheWVkTGV2ZWxOdW1iZXIgLyAxMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2V0dXBCZygpO1xyXG4gICAgICAgIHRoaXMuaW1hZ2VzID0ge1xyXG4gICAgICAgICAgICBuZXh0YnRuOiBORVhUX0JUTl9JTUcsXHJcbiAgICAgICAgICAgIGJhY2tidG46IEJBQ0tfQlROX0lNRyxcclxuICAgICAgICB9O1xyXG4gICAgICAgIGxvYWRJbWFnZXModGhpcy5pbWFnZXMsIChpbWFnZXMpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5sb2FkZWRJbWFnZXMgPSBPYmplY3QuYXNzaWduKHt9LCBpbWFnZXMpO1xyXG4gICAgICAgICAgICB0aGlzLmltYWdlc0xvYWRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmIChkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09IFwidmlzaWJsZVwiKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmF1ZGlvUGxheWVyLnBsYXlBdWRpbyhBVURJT19JTlRSTyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFkZExpc3RlbmVycygpO1xyXG4gICAgICAgIHRoaXMucmlnaHRCdG5TaXplID0gMTA7XHJcbiAgICAgICAgdGhpcy5yaWdodEJ0blggPSAwLjczO1xyXG4gICAgICAgIHRoaXMucmlnaHRCdG5ZID0gMS4zO1xyXG4gICAgICAgIHRoaXMubGVmdEJ0blNpemUgPSAxMDtcclxuICAgICAgICB0aGlzLmxlZnRCdG5YID0gMTA7XHJcbiAgICAgICAgdGhpcy5sZWZ0QnRuWSA9IDEuMztcclxuICAgIH1cclxuICAgIGFzeW5jIGluaXQoKSB7XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IGdldERhdGEoKTtcclxuICAgICAgICB0aGlzLm1halZlcnNpb24gPSBkYXRhLm1hanZlcnNpb247XHJcbiAgICAgICAgdGhpcy5taW5WZXJzaW9uID0gZGF0YS5taW52ZXJzaW9uO1xyXG4gICAgfVxyXG4gICAgc2V0dXBCZyA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICB0aGlzLmJhY2tncm91bmQgPSBhd2FpdCBjcmVhdGVCYWNrZ3JvdW5kKHRoaXMuY29udGV4dCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIHsgTEVWRUxfU0VMRUNUSU9OX0JBQ0tHUk9VTkQgfSwgbGV2ZWxTZWxlY3RCZ0RyYXdpbmcpO1xyXG4gICAgfTtcclxuICAgIGFzeW5jIGNyZWF0ZUxldmVsQnV0dG9ucygpIHtcclxuICAgICAgICBjb25zdCBpbWFnZXMgPSBhd2FpdCBsb2FkTGV2ZWxJbWFnZXMoKTtcclxuICAgICAgICBjb25zdCBwb3NzID0gZ2V0ZGVmYXVsdENsb3VkQnRuc1Bvcyh0aGlzLmNhbnZhcyk7XHJcbiAgICAgICAgY29uc3QgbGV2ZWxzQXJyID0gcG9zc1swXS5tYXAoKGNvb3JkaW5hdGVzLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlTGV2ZWxPYmplY3QoY29vcmRpbmF0ZXNbMF0sIGNvb3JkaW5hdGVzWzFdLCBpbmRleCArIDEsIGltYWdlcyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5sZXZlbHMgPSBhd2FpdCBQcm9taXNlLmFsbChsZXZlbHNBcnIpO1xyXG4gICAgICAgIHRoaXMubGV2ZWxCdXR0b25zID0gdGhpcy5sZXZlbHMubWFwKGJ0bkNvb3JkaW5hdGVzID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBMZXZlbEJsb29uQnV0dG9uKHRoaXMuY2FudmFzLCB0aGlzLmNvbnRleHQsIHsgLi4uYnRuQ29vcmRpbmF0ZXMgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBhZGRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgLy8gbmV4dCBwcmV2IGJ1dHRvbiBsaXN0bmVyICMxXHJcbiAgICAgICAgZG9jdW1lbnRcclxuICAgICAgICAgICAgLmdldEVsZW1lbnRCeUlkKFwiY2FudmFzXCIpXHJcbiAgICAgICAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMuaGFuZGxlTW91c2VEb3duLCBmYWxzZSk7XHJcbiAgICAgICAgLy8gd2hlbiBhcHAgZ29lcyBiYWNrZ3JvdW5kICMyXHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgdGhpcy5wYXVzZVBsYXlBdWRpb3MsIGZhbHNlKTtcclxuICAgICAgICAvLy8gc3dpcGUgbGlzdGVuZXIgIzNcclxuICAgICAgICBkb2N1bWVudFxyXG4gICAgICAgICAgICAuZ2V0RWxlbWVudEJ5SWQoXCJjYW52YXNcIilcclxuICAgICAgICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIHRoaXMuaGFuZGxlVG91Y2hTdGFydCwgZmFsc2UpO1xyXG4gICAgICAgIC8vICM0XHJcbiAgICAgICAgZG9jdW1lbnRcclxuICAgICAgICAgICAgLmdldEVsZW1lbnRCeUlkKFwiY2FudmFzXCIpXHJcbiAgICAgICAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsIHRoaXMuaGFuZGxlVG91Y2hNb3ZlLCBmYWxzZSk7XHJcbiAgICB9XHJcbiAgICBwYXVzZVBsYXlBdWRpb3MgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gXCJ2aXNpYmxlXCIpIHtcclxuICAgICAgICAgICAgdGhpcy5hdWRpb1BsYXllci5wbGF5QXVkaW8oQVVESU9fSU5UUk8pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5hdWRpb1BsYXllci5zdG9wQWxsQXVkaW9zKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGdldFRvdWNoZXMoZXZ0KSB7XHJcbiAgICAgICAgcmV0dXJuIChldnQudG91Y2hlcyB8fCAvLyBicm93c2VyIEFQSVxyXG4gICAgICAgICAgICBldnQub3JpZ2luYWxFdmVudC50b3VjaGVzKTsgLy8galF1ZXJ5XHJcbiAgICB9XHJcbiAgICBoYW5kbGVUb3VjaFN0YXJ0ID0gKGV2dCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGZpcnN0VG91Y2ggPSB0aGlzLmdldFRvdWNoZXMoZXZ0KVswXTtcclxuICAgICAgICB0aGlzLnhEb3duID0gZmlyc3RUb3VjaC5jbGllbnRYO1xyXG4gICAgICAgIHRoaXMueURvd24gPSBmaXJzdFRvdWNoLmNsaWVudFk7XHJcbiAgICB9O1xyXG4gICAgaGFuZGxlVG91Y2hNb3ZlID0gKGV2dCkgPT4ge1xyXG4gICAgICAgIGlmICghdGhpcy54RG93biB8fCAhdGhpcy55RG93bikge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCB4VXAgPSBldnQudG91Y2hlc1swXS5jbGllbnRYO1xyXG4gICAgICAgIGxldCB5VXAgPSBldnQudG91Y2hlc1swXS5jbGllbnRZO1xyXG4gICAgICAgIGxldCB4RGlmZiA9IHRoaXMueERvd24gLSB4VXA7XHJcbiAgICAgICAgbGV0IHlEaWZmID0gdGhpcy55RG93biAtIHlVcDtcclxuICAgICAgICBpZiAoTWF0aC5hYnMoeERpZmYpID4gTWF0aC5hYnMoeURpZmYpKSB7XHJcbiAgICAgICAgICAgIC8qbW9zdCBzaWduaWZpY2FudCovXHJcbiAgICAgICAgICAgIGlmICh4RGlmZiA+IDApIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmxldmVsU2VsZWN0aW9uUGFnZUluZGV4ICE9IHRoaXMubGV2ZWxzU2VjdGlvbkNvdW50ICogMTAgLSAxMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGV2ZWxTZWxlY3Rpb25QYWdlSW5kZXggPSB0aGlzLmxldmVsU2VsZWN0aW9uUGFnZUluZGV4ICsgMTA7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb3duQnV0dG9uKHRoaXMubGV2ZWxTZWxlY3Rpb25QYWdlSW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLyogcmlnaHQgc3dpcGUgKi9cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmxldmVsU2VsZWN0aW9uUGFnZUluZGV4ICE9IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxldmVsU2VsZWN0aW9uUGFnZUluZGV4ID0gdGhpcy5sZXZlbFNlbGVjdGlvblBhZ2VJbmRleCAtIDEwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5kb3duQnV0dG9uKHRoaXMubGV2ZWxTZWxlY3Rpb25QYWdlSW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgLyogbGVmdCBzd2lwZSAqL1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qIHJlc2V0IHZhbHVlcyAqL1xyXG4gICAgICAgIHRoaXMueERvd24gPSBudWxsO1xyXG4gICAgICAgIHRoaXMueURvd24gPSBudWxsO1xyXG4gICAgfTtcclxuICAgIGhhbmRsZU1vdXNlRG93biA9IChldmVudCkgPT4ge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgbGV0IHJlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbnZhc1wiKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICBjb25zdCB4ID0gZXZlbnQuY2xpZW50WCAtIHJlY3QubGVmdDtcclxuICAgICAgICBjb25zdCB5ID0gZXZlbnQuY2xpZW50WSAtIHJlY3QudG9wO1xyXG4gICAgICAgIGNvbnN0IGlzV2l0aGluQnV0dG9uQXJlYSA9IChidG5YLCBidG5ZID0gMS4zKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiAoeCA+PSBidG5YICYmXHJcbiAgICAgICAgICAgICAgICB4IDwgYnRuWCArIHRoaXMuY2FudmFzLmhlaWdodCAvIDEwICYmXHJcbiAgICAgICAgICAgICAgICB5ID4gdGhpcy5jYW52YXMuaGVpZ2h0IC8gYnRuWSAmJlxyXG4gICAgICAgICAgICAgICAgeSA8IHRoaXMuY2FudmFzLmhlaWdodCAvIGJ0blkgKyB0aGlzLmNhbnZhcy5oZWlnaHQgLyAxMCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCBpc1JpZ2h0ID0gaXNXaXRoaW5CdXR0b25BcmVhKHRoaXMuY2FudmFzLndpZHRoICogMC43KTtcclxuICAgICAgICBjb25zdCBpc0xlZnQgPSBpc1dpdGhpbkJ1dHRvbkFyZWEodGhpcy5jYW52YXMud2lkdGggLyAxMCk7XHJcbiAgICAgICAgaWYgKGlzTGVmdCB8fCBpc1JpZ2h0KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhZ2VJbmRleCA9IHRoaXMubGV2ZWxTZWxlY3Rpb25QYWdlSW5kZXg7XHJcbiAgICAgICAgICAgIGlmIChpc1JpZ2h0ICYmIHBhZ2VJbmRleCAhPSB0aGlzLmxldmVsc1NlY3Rpb25Db3VudCAqIDEwIC0gMTApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYXVkaW9QbGF5ZXIucGxheUJ1dHRvbkNsaWNrU291bmQoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubGV2ZWxTZWxlY3Rpb25QYWdlSW5kZXggPSBwYWdlSW5kZXggKyAxMDtcclxuICAgICAgICAgICAgICAgIHRoaXMucmlnaHRCdG5TaXplID0gMTAuNTtcclxuICAgICAgICAgICAgICAgIHRoaXMucmlnaHRCdG5ZID0gMS4yOTk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaXNMZWZ0ICYmIHBhZ2VJbmRleCAhPSAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmF1ZGlvUGxheWVyLnBsYXlCdXR0b25DbGlja1NvdW5kKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxldmVsU2VsZWN0aW9uUGFnZUluZGV4ID0gcGFnZUluZGV4IC0gMTA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxlZnRCdG5TaXplID0gMTAuMztcclxuICAgICAgICAgICAgICAgIHRoaXMubGVmdEJ0blkgPSAxLjI5OTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmRvd25CdXR0b24odGhpcy5sZXZlbFNlbGVjdGlvblBhZ2VJbmRleCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAobGV0IGJ0biBvZiB0aGlzLmxldmVsQnV0dG9ucykge1xyXG4gICAgICAgICAgICBidG4ub25DbGljayh4LCB5LCB0aGlzLmxldmVsU2VsZWN0aW9uUGFnZUluZGV4IC0gMSwgdGhpcy51bmxvY2tMZXZlbEluZGV4ICsgMSwgKGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmF1ZGlvUGxheWVyLnBsYXlCdXR0b25DbGlja1NvdW5kKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxldmVsTnVtYmVyID0gaW5kZXggKyB0aGlzLmxldmVsU2VsZWN0aW9uUGFnZUluZGV4IC0gMTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRHYW1lKHRoaXMubGV2ZWxOdW1iZXIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgZHJhd0xldmVsKGxldmVsQnRuLCBnYW1lTGV2ZWxEYXRhKSB7XHJcbiAgICAgICAgY29uc3QgY3VycmVudExldmVsSW5kZXggPSBsZXZlbEJ0bi5sZXZlbERhdGEuaW5kZXggKyB0aGlzLmxldmVsU2VsZWN0aW9uUGFnZUluZGV4O1xyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRMZXZlbCA9IGN1cnJlbnRMZXZlbEluZGV4IC0gMTtcclxuICAgICAgICBjb25zdCBuZXh0TGV2ZWxQbGF5ID0gdGhpcy51bmxvY2tMZXZlbEluZGV4ICsgMTtcclxuICAgICAgICBpZiAobmV4dExldmVsUGxheSA9PT0gY3VycmVudExldmVsKSB7XHJcbiAgICAgICAgICAgIGxldmVsQnRuLmFwcGx5UHVsc2VFZmZlY3QoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGN1cnJlbnRMZXZlbEluZGV4IDw9IHRoaXMuZGF0YS5sZXZlbHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2hlY2tVbmxvY2tlZExldmVsKGdhbWVMZXZlbERhdGEpO1xyXG4gICAgICAgICAgICBsZXZlbEJ0bi5kcmF3KHRoaXMubGV2ZWxTZWxlY3Rpb25QYWdlSW5kZXgsIHRoaXMudW5sb2NrTGV2ZWxJbmRleCwgZ2FtZUxldmVsRGF0YSwgdGhpcy5kYXRhLmxldmVscy5sZW5ndGgpO1xyXG4gICAgICAgICAgICBEZWJ1Z2dlci5EZWJ1Z01vZGVcclxuICAgICAgICAgICAgICAgID8gdGhpcy5jb250ZXh0LmZpbGxUZXh0KHRoaXMuZGF0YS5sZXZlbHNbY3VycmVudExldmVsSW5kZXggLSAxXVxyXG4gICAgICAgICAgICAgICAgICAgIC5sZXZlbE1ldGEubGV2ZWxUeXBlLCBsZXZlbEJ0bi5sZXZlbERhdGEueCArIGxldmVsQnRuLmJ0blNpemUgLyAzLjUsIGxldmVsQnRuLmxldmVsRGF0YS55ICsgbGV2ZWxCdG4uYnRuU2l6ZSAvIDEuMylcclxuICAgICAgICAgICAgICAgIDogbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBkcmF3KCkge1xyXG4gICAgICAgIGZvciAobGV0IGxldmVsQnRuIG9mIHRoaXMubGV2ZWxCdXR0b25zKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZHJhd0xldmVsKGxldmVsQnRuLCB0aGlzLmdhbWVMZXZlbERhdGEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGRvd25CdXR0b24obGV2ZWwpIHtcclxuICAgICAgICBpZiAobGV2ZWwgIT0gdGhpcy5sZXZlbHNTZWN0aW9uQ291bnQgKiAxMCAtIDEwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5sb2FkZWRJbWFnZXMubmV4dGJ0biwgdGhpcy5jYW52YXMud2lkdGggKiB0aGlzLnJpZ2h0QnRuWCwgdGhpcy5jYW52YXMuaGVpZ2h0IC8gdGhpcy5yaWdodEJ0blksIHRoaXMuY2FudmFzLmhlaWdodCAvIHRoaXMucmlnaHRCdG5TaXplLCB0aGlzLmNhbnZhcy5oZWlnaHQgLyB0aGlzLnJpZ2h0QnRuU2l6ZSk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnJpZ2h0QnRuU2l6ZSA+IDEwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJpZ2h0QnRuU2l6ZSA9IHRoaXMucmlnaHRCdG5TaXplIC0gMC4wMjU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5yaWdodEJ0blkgPSB0aGlzLnJpZ2h0QnRuU2l6ZSA+IDEwID8gMS4yOTkgOiAxLjM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnJpZ2h0QnRuU2l6ZSA9IDEwO1xyXG4gICAgICAgICAgICB0aGlzLnJpZ2h0QnRuWCA9IDAuNztcclxuICAgICAgICAgICAgdGhpcy5yaWdodEJ0blkgPSAxLjM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChsZXZlbCAhPSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5sb2FkZWRJbWFnZXMuYmFja2J0biwgdGhpcy5jYW52YXMud2lkdGggLyB0aGlzLmxlZnRCdG5YLCB0aGlzLmNhbnZhcy5oZWlnaHQgLyB0aGlzLmxlZnRCdG5ZLCB0aGlzLmNhbnZhcy5oZWlnaHQgLyB0aGlzLmxlZnRCdG5TaXplLCB0aGlzLmNhbnZhcy5oZWlnaHQgLyB0aGlzLmxlZnRCdG5TaXplKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMubGVmdEJ0blNpemUgPiAxMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sZWZ0QnRuU2l6ZSA9IHRoaXMubGVmdEJ0blNpemUgLSAwLjAyNTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmxlZnRCdG5ZID0gdGhpcy5sZWZ0QnRuU2l6ZSA+IDEwID8gMS4yOTkgOiAxLjM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmxlZnRCdG5TaXplID0gMTA7XHJcbiAgICAgICAgICAgIHRoaXMubGVmdEJ0blggPSAxMDtcclxuICAgICAgICAgICAgdGhpcy5sZWZ0QnRuWSA9IDEuMztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjaGVja1VubG9ja2VkTGV2ZWwoZ2FtZUxldmVsRGF0YSkge1xyXG4gICAgICAgIGlmIChnYW1lTGV2ZWxEYXRhLmxlbmd0aCAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgZ2FtZSBvZiBnYW1lTGV2ZWxEYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy51bmxvY2tMZXZlbEluZGV4IDwgcGFyc2VJbnQoZ2FtZS5sZXZlbE51bWJlcikpIHtcclxuICAgICAgICAgICAgICAgICAgICBnYW1lLnN0YXJDb3VudCA+PSAyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gKHRoaXMudW5sb2NrTGV2ZWxJbmRleCA9IHBhcnNlSW50KGdhbWUubGV2ZWxOdW1iZXIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzdGFydEdhbWUobGV2ZWxfbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5kaXNwb3NlKCk7XHJcbiAgICAgICAgdGhpcy5hdWRpb1BsYXllci5zdG9wQWxsQXVkaW9zKCk7XHJcbiAgICAgICAgY29uc3QgZ2FtZVBsYXlEYXRhID0ge1xyXG4gICAgICAgICAgICBjdXJyZW50TGV2ZWxEYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAuLi50aGlzLmRhdGEubGV2ZWxzW2xldmVsX251bWJlcl0sXHJcbiAgICAgICAgICAgICAgICBsZXZlbE51bWJlcjogbGV2ZWxfbnVtYmVyLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZWxlY3RlZExldmVsTnVtYmVyOiBsZXZlbF9udW1iZXIsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBnYW1lU3RhdGVTZXJ2aWNlLnB1Ymxpc2goZ2FtZVN0YXRlU2VydmljZS5FVkVOVFMuR0FNRVBMQVlfREFUQV9FVkVOVCwgZ2FtZVBsYXlEYXRhKTtcclxuICAgICAgICB0aGlzLmxvZ1NlbGVjdGVkTGV2ZWxFdmVudCgpO1xyXG4gICAgICAgIHRoaXMuY2FsbEJhY2soU0NFTkVfTkFNRV9MRVZFTF9TRUxFQ1QpO1xyXG4gICAgfVxyXG4gICAgbG9nU2VsZWN0ZWRMZXZlbEV2ZW50KCkge1xyXG4gICAgICAgIGNvbnN0IHNlbGVjdGVkTGV2ZWx0RGF0YSA9IHtcclxuICAgICAgICAgICAgY3JfdXNlcl9pZDogcHNldWRvSWQsXHJcbiAgICAgICAgICAgIGZ0bV9sYW5ndWFnZTogbGFuZyxcclxuICAgICAgICAgICAgcHJvZmlsZV9udW1iZXI6IDAsXHJcbiAgICAgICAgICAgIHZlcnNpb25fbnVtYmVyOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInZlcnNpb24taW5mby1pZFwiKS5pbm5lckhUTUwsXHJcbiAgICAgICAgICAgIGpzb25fdmVyc2lvbl9udW1iZXI6ICEhdGhpcy5tYWpWZXJzaW9uICYmICEhdGhpcy5taW5WZXJzaW9uXHJcbiAgICAgICAgICAgICAgICA/IHRoaXMubWFqVmVyc2lvbi50b1N0cmluZygpICsgXCIuXCIgKyB0aGlzLm1pblZlcnNpb24udG9TdHJpbmcoKVxyXG4gICAgICAgICAgICAgICAgOiBcIlwiLFxyXG4gICAgICAgICAgICBsZXZlbF9zZWxlY3RlZDogdGhpcy5sZXZlbE51bWJlcixcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuZmlyZWJhc2VJbnRlZ3JhdGlvbi5zZW5kU2VsZWN0ZWRMZXZlbEV2ZW50KHNlbGVjdGVkTGV2ZWx0RGF0YSk7XHJcbiAgICB9XHJcbiAgICBkcmF3TGV2ZWxTZWxlY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW1hZ2VzTG9hZGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYmFja2dyb3VuZD8uZHJhdygpO1xyXG4gICAgICAgICAgICB0aGlzLmRyYXcoKTtcclxuICAgICAgICAgICAgdGhpcy5kb3duQnV0dG9uKHRoaXMubGV2ZWxTZWxlY3Rpb25QYWdlSW5kZXgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGRpc3Bvc2UoKSB7XHJcbiAgICAgICAgdGhpcy5hdWRpb1BsYXllci5zdG9wQWxsQXVkaW9zKCk7XHJcbiAgICAgICAgZG9jdW1lbnRcclxuICAgICAgICAgICAgLmdldEVsZW1lbnRCeUlkKFwiY2FudmFzXCIpXHJcbiAgICAgICAgICAgIC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMuaGFuZGxlTW91c2VEb3duLCBmYWxzZSk7XHJcbiAgICAgICAgLy8gd2hlbiBhcHAgZ29lcyBiYWNrZ3JvdW5kICMyXHJcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgdGhpcy5wYXVzZVBsYXlBdWRpb3MsIGZhbHNlKTtcclxuICAgICAgICAvLy8gc3dpcGUgbGlzdGVuZXIgIzNcclxuICAgICAgICBkb2N1bWVudFxyXG4gICAgICAgICAgICAuZ2V0RWxlbWVudEJ5SWQoXCJjYW52YXNcIilcclxuICAgICAgICAgICAgLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIHRoaXMuaGFuZGxlVG91Y2hTdGFydCwgZmFsc2UpO1xyXG4gICAgICAgIC8vICM0XHJcbiAgICAgICAgZG9jdW1lbnRcclxuICAgICAgICAgICAgLmdldEVsZW1lbnRCeUlkKFwiY2FudmFzXCIpXHJcbiAgICAgICAgICAgIC5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsIHRoaXMuaGFuZGxlVG91Y2hNb3ZlLCBmYWxzZSk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgbG9hZEltYWdlcywgQ0xJQ0ssIGlzRG9jdW1lbnRWaXNpYmxlIH0gZnJvbSBcIkBjb21tb25cIjtcclxuaW1wb3J0IHsgQXVkaW9QbGF5ZXIsIE1vbnN0ZXIgfSBmcm9tIFwiQGNvbXBvbmVudHNcIjtcclxuaW1wb3J0IHsgQ2xvc2VCdXR0b24sIE5leHRCdXR0b24sIFJldHJ5QnV0dG9uIH0gZnJvbSBcIkBidXR0b25zXCI7XHJcbmltcG9ydCB7IEJBQ0tHUk9VTkRfQVNTRVRfTElTVCwgY3JlYXRlQmFja2dyb3VuZCwgbG9hZER5bmFtaWNCZ0Fzc2V0cywgfSBmcm9tIFwiQGNvbXBvc2l0aW9uc1wiO1xyXG5pbXBvcnQgeyBBVURJT19JTlRSTywgQVVESU9fTEVWRUxfTE9TRSwgQVVESU9fTEVWRUxfV0lOLCBERUZBVUxUX0JBQ0tHUk9VTkRfMSwgUElOX1NUQVJfMSwgUElOX1NUQVJfMiwgUElOX1NUQVJfMywgV0lOX0JHLCBTQ0VORV9OQU1FX0xFVkVMX0VORCwgfSBmcm9tIFwiQGNvbnN0YW50c1wiO1xyXG5pbXBvcnQgZ2FtZVN0YXRlU2VydmljZSBmcm9tICdAZ2FtZVN0YXRlU2VydmljZSc7XHJcbmV4cG9ydCBjbGFzcyBMZXZlbEVuZFNjZW5lIHtcclxuICAgIGNhbnZhcztcclxuICAgIGhlaWdodDtcclxuICAgIHdpZHRoO1xyXG4gICAgaW1hZ2VzO1xyXG4gICAgbG9hZGVkSW1hZ2VzO1xyXG4gICAgaW1hZ2VzTG9hZGVkO1xyXG4gICAgaWQ7XHJcbiAgICBjb250ZXh0O1xyXG4gICAgbW9uc3RlcjtcclxuICAgIGNsb3NlQnV0dG9uO1xyXG4gICAgcmV0cnlCdXR0b247XHJcbiAgICBuZXh0QnV0dG9uO1xyXG4gICAgc3RhckNvdW50O1xyXG4gICAgY3VycmVudExldmVsO1xyXG4gICAgc3dpdGNoVG9HYW1lcGxheUNCO1xyXG4gICAgc3dpdGNoVG9MZXZlbFNlbGVjdGlvbkNCO1xyXG4gICAgZGF0YTtcclxuICAgIGJhY2tncm91bmQ7XHJcbiAgICBhdWRpb1BsYXllcjtcclxuICAgIHRpbWVvdXRzO1xyXG4gICAgc3RhckRyYXduQ291bnQ7XHJcbiAgICBpc0xhc3RMZXZlbDtcclxuICAgIGNvbnN0cnVjdG9yKGNhbnZhcywgaGVpZ2h0LCB3aWR0aCwgY29udGV4dCwgc3RhckNvdW50LCBjdXJyZW50TGV2ZWwsIHN3aXRjaFRvR2FtZXBsYXlDQiwgc3dpdGNoVG9MZXZlbFNlbGVjdGlvbkNCLCBkYXRhLCBtb25zdGVyUGhhc2VOdW1iZXIpIHtcclxuICAgICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcclxuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcclxuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcclxuICAgICAgICB0aGlzLm1vbnN0ZXIgPSBuZXcgTW9uc3Rlcih0aGlzLmNhbnZhcywgbW9uc3RlclBoYXNlTnVtYmVyLCB0aGlzLnN3aXRjaFRvUmVhY3Rpb25BbmltYXRpb24pO1xyXG4gICAgICAgIHRoaXMuc3dpdGNoVG9HYW1lcGxheUNCID0gc3dpdGNoVG9HYW1lcGxheUNCO1xyXG4gICAgICAgIHRoaXMuc3dpdGNoVG9MZXZlbFNlbGVjdGlvbkNCID0gc3dpdGNoVG9MZXZlbFNlbGVjdGlvbkNCO1xyXG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XHJcbiAgICAgICAgdGhpcy5zdGFyRHJhd25Db3VudCA9IDA7XHJcbiAgICAgICAgdGhpcy5jbG9zZUJ1dHRvbiA9IG5ldyBDbG9zZUJ1dHRvbihjb250ZXh0LCBjYW52YXMsIHRoaXMud2lkdGggKiAwLjIgLSAodGhpcy53aWR0aCAqIDAuMTkpIC8gMiwgdGhpcy5oZWlnaHQgLyAxLjI1KTtcclxuICAgICAgICB0aGlzLnJldHJ5QnV0dG9uID0gbmV3IFJldHJ5QnV0dG9uKHRoaXMuY29udGV4dCwgdGhpcy5jYW52YXMsIHRoaXMud2lkdGggKiAwLjUgLSAodGhpcy53aWR0aCAqIDAuMTkpIC8gMiwgdGhpcy5oZWlnaHQgLyAxLjI1KTtcclxuICAgICAgICB0aGlzLm5leHRCdXR0b24gPSBuZXcgTmV4dEJ1dHRvbih0aGlzLmNvbnRleHQsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCB0aGlzLndpZHRoICogMC44IC0gKHRoaXMud2lkdGggKiAwLjE5KSAvIDIsIHRoaXMuaGVpZ2h0IC8gMS4yNSk7XHJcbiAgICAgICAgdGhpcy5hdWRpb1BsYXllciA9IG5ldyBBdWRpb1BsYXllcigpO1xyXG4gICAgICAgIHRoaXMuc3RhckNvdW50ID0gc3RhckNvdW50O1xyXG4gICAgICAgIHRoaXMuY3VycmVudExldmVsID0gY3VycmVudExldmVsO1xyXG4gICAgICAgIHRoaXMuaW1hZ2VzID0ge1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kSW1nOiBXSU5fQkcsXHJcbiAgICAgICAgICAgIHN0YXIxSW1nOiBQSU5fU1RBUl8xLFxyXG4gICAgICAgICAgICBzdGFyMkltZzogUElOX1NUQVJfMixcclxuICAgICAgICAgICAgc3RhcjNJbWc6IFBJTl9TVEFSXzMsXHJcbiAgICAgICAgICAgIHdpbkJhY2tncm91bmRJbWc6IERFRkFVTFRfQkFDS0dST1VORF8xLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgbG9hZEltYWdlcyh0aGlzLmltYWdlcywgKGltYWdlcykgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRlZEltYWdlcyA9IE9iamVjdC5hc3NpZ24oe30sIGltYWdlcyk7XHJcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VzTG9hZGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5zdGFyQW5pbWF0aW9uKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCk7XHJcbiAgICAgICAgdGhpcy5hdWRpb1BsYXllciA9IG5ldyBBdWRpb1BsYXllcigpO1xyXG4gICAgICAgIHRoaXMuc2V0dXBCZygpO1xyXG4gICAgICAgIHRoaXMuaXNMYXN0TGV2ZWwgPVxyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRMZXZlbCAhPT1cclxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5sZXZlbHNbdGhpcy5kYXRhLmxldmVscy5sZW5ndGggLSAxXS5sZXZlbE1ldGEubGV2ZWxOdW1iZXIgJiZcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhckNvdW50ID49IDI7XHJcbiAgICB9XHJcbiAgICBzZXR1cEJnID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHsgQkdfR1JPVVBfSU1HUywgZHJhdyB9ID0gbG9hZER5bmFtaWNCZ0Fzc2V0cyh0aGlzLmN1cnJlbnRMZXZlbCwgQkFDS0dST1VORF9BU1NFVF9MSVNUKTtcclxuICAgICAgICB0aGlzLmJhY2tncm91bmQgPSBhd2FpdCBjcmVhdGVCYWNrZ3JvdW5kKHRoaXMuY29udGV4dCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIEJHX0dST1VQX0lNR1MsIGRyYXcpO1xyXG4gICAgfTtcclxuICAgIHN3aXRjaFRvUmVhY3Rpb25BbmltYXRpb24gPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3RhckNvdW50IDw9IDEpIHtcclxuICAgICAgICAgICAgaWYgKGlzRG9jdW1lbnRWaXNpYmxlKCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYXVkaW9QbGF5ZXIucGxheUF1ZGlvKEFVRElPX0xFVkVMX0xPU0UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMubW9uc3Rlci5jaGFuZ2VUb1NwaXRBbmltYXRpb24oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChpc0RvY3VtZW50VmlzaWJsZSgpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmF1ZGlvUGxheWVyLnBsYXlBdWRpbyhBVURJT19MRVZFTF9XSU4pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hdWRpb1BsYXllci5wbGF5QXVkaW8oQVVESU9fSU5UUk8pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMubW9uc3Rlci5jaGFuZ2VUb0VhdEFuaW1hdGlvbigpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBkcmF3KGRlbHRhVGltZSkge1xyXG4gICAgICAgIHRoaXMuYmFja2dyb3VuZD8uZHJhdygpO1xyXG4gICAgICAgIGlmICh0aGlzLmltYWdlc0xvYWRlZCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMubG9hZGVkSW1hZ2VzLmJhY2tncm91bmRJbWcsIDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0ICsgdGhpcy5oZWlnaHQgKiAwLjEyKTtcclxuICAgICAgICAgICAgdGhpcy5kcmF3U3RhcnMoKTtcclxuICAgICAgICAgICAgdGhpcy5tb25zdGVyLnVwZGF0ZShkZWx0YVRpbWUpO1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlQnV0dG9uLmRyYXcoKTtcclxuICAgICAgICAgICAgdGhpcy5yZXRyeUJ1dHRvbi5kcmF3KCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzTGFzdExldmVsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5leHRCdXR0b24uZHJhdygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc3RhckFuaW1hdGlvbigpIHtcclxuICAgICAgICBjb25zdCBhbmltYXRpb25zID0gW1xyXG4gICAgICAgICAgICB7IGRlbGF5OiA1MDAsIGNvdW50OiAxIH0sXHJcbiAgICAgICAgICAgIHsgZGVsYXk6IDEwMDAsIGNvdW50OiAyIH0sXHJcbiAgICAgICAgICAgIHsgZGVsYXk6IDE1MDAsIGNvdW50OiAzIH0sXHJcbiAgICAgICAgXTtcclxuICAgICAgICB0aGlzLnRpbWVvdXRzID0gYW5pbWF0aW9ucy5tYXAoKGFuaW1hdGlvbikgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJEcmF3bkNvdW50ID0gYW5pbWF0aW9uLmNvdW50O1xyXG4gICAgICAgICAgICB9LCBhbmltYXRpb24uZGVsYXkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZHJhd1N0YXJzKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXJDb3VudCA+PSAxICYmIHRoaXMuc3RhckRyYXduQ291bnQgPj0gMSkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMubG9hZGVkSW1hZ2VzLnN0YXIxSW1nLCB0aGlzLndpZHRoICogMC4yIC0gKHRoaXMud2lkdGggKiAwLjE5KSAvIDIsIHRoaXMuaGVpZ2h0ICogMC4yLCB0aGlzLndpZHRoICogMC4xOSwgdGhpcy53aWR0aCAqIDAuMTkpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zdGFyQ291bnQgPD0gMyAmJlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGFyQ291bnQgPiAxICYmXHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJEcmF3bkNvdW50IDw9IDMgJiZcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhckRyYXduQ291bnQgPiAxKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMubG9hZGVkSW1hZ2VzLnN0YXIySW1nLCB0aGlzLndpZHRoICogMC41IC0gKHRoaXMud2lkdGggKiAwLjE5KSAvIDIsIHRoaXMuaGVpZ2h0ICogMC4xNSwgdGhpcy53aWR0aCAqIDAuMTksIHRoaXMud2lkdGggKiAwLjE5KTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXJDb3VudCA+PSAzICYmIHRoaXMuc3RhckRyYXduQ291bnQgPj0gMykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5sb2FkZWRJbWFnZXMuc3RhcjNJbWcsIHRoaXMud2lkdGggKiAwLjgyIC0gKHRoaXMud2lkdGggKiAwLjE5KSAvIDIsIHRoaXMuaGVpZ2h0ICogMC4yLCB0aGlzLndpZHRoICogMC4xOSwgdGhpcy53aWR0aCAqIDAuMTkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgYWRkRXZlbnRMaXN0ZW5lcigpIHtcclxuICAgICAgICBkb2N1bWVudFxyXG4gICAgICAgICAgICAuZ2V0RWxlbWVudEJ5SWQoXCJjYW52YXNcIilcclxuICAgICAgICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoQ0xJQ0ssIHRoaXMuaGFuZGxlTW91c2VDbGljaywgZmFsc2UpO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsIHRoaXMucGF1c2VBdWRpb3MsIGZhbHNlKTtcclxuICAgIH1cclxuICAgIGhhbmRsZU1vdXNlQ2xpY2sgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICBjb25zdCBzZWxmRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FudmFzXCIpO1xyXG4gICAgICAgIHZhciByZWN0ID0gc2VsZkVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgY29uc3QgeCA9IGV2ZW50LmNsaWVudFggLSByZWN0LmxlZnQ7XHJcbiAgICAgICAgY29uc3QgeSA9IGV2ZW50LmNsaWVudFkgLSByZWN0LnRvcDtcclxuICAgICAgICBpZiAodGhpcy5jbG9zZUJ1dHRvbi5vbkNsaWNrKHgsIHkpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYXVkaW9QbGF5ZXIucGxheUJ1dHRvbkNsaWNrU291bmQoKTtcclxuICAgICAgICAgICAgdGhpcy5zd2l0Y2hUb0xldmVsU2VsZWN0aW9uQ0IoU0NFTkVfTkFNRV9MRVZFTF9FTkQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5yZXRyeUJ1dHRvbi5vbkNsaWNrKHgsIHkpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYXVkaW9QbGF5ZXIucGxheUJ1dHRvbkNsaWNrU291bmQoKTtcclxuICAgICAgICAgICAgY29uc3QgZ2FtZVBsYXlEYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgY3VycmVudExldmVsRGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgIC4uLnRoaXMuZGF0YS5sZXZlbHNbdGhpcy5jdXJyZW50TGV2ZWxdLFxyXG4gICAgICAgICAgICAgICAgICAgIGxldmVsTnVtYmVyOiB0aGlzLmN1cnJlbnRMZXZlbCxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZExldmVsTnVtYmVyOiB0aGlzLmN1cnJlbnRMZXZlbCxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy8gcGFzcyBzYW1lIGRhdGEgYXMgbGV2ZWwgaXMgc2FtZVxyXG4gICAgICAgICAgICBnYW1lU3RhdGVTZXJ2aWNlLnB1Ymxpc2goZ2FtZVN0YXRlU2VydmljZS5FVkVOVFMuR0FNRVBMQVlfREFUQV9FVkVOVCwgZ2FtZVBsYXlEYXRhKTtcclxuICAgICAgICAgICAgdGhpcy5zd2l0Y2hUb0dhbWVwbGF5Q0IoU0NFTkVfTkFNRV9MRVZFTF9FTkQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pc0xhc3RMZXZlbCAmJlxyXG4gICAgICAgICAgICB0aGlzLm5leHRCdXR0b24ub25DbGljayh4LCB5KSkge1xyXG4gICAgICAgICAgICB0aGlzLmF1ZGlvUGxheWVyLnBsYXlCdXR0b25DbGlja1NvdW5kKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG5leHQgPSBOdW1iZXIodGhpcy5jdXJyZW50TGV2ZWwpICsgMTtcclxuICAgICAgICAgICAgY29uc3QgZ2FtZVBsYXlEYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgY3VycmVudExldmVsRGF0YTogeyAuLi50aGlzLmRhdGEubGV2ZWxzW25leHRdLCBsZXZlbE51bWJlcjogbmV4dCB9LFxyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRMZXZlbE51bWJlcjogbmV4dCxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgZ2FtZVN0YXRlU2VydmljZS5wdWJsaXNoKGdhbWVTdGF0ZVNlcnZpY2UuRVZFTlRTLkdBTUVQTEFZX0RBVEFfRVZFTlQsIGdhbWVQbGF5RGF0YSk7XHJcbiAgICAgICAgICAgIHRoaXMuc3dpdGNoVG9HYW1lcGxheUNCKFNDRU5FX05BTUVfTEVWRUxfRU5EKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcGF1c2VBdWRpb3MgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKGlzRG9jdW1lbnRWaXNpYmxlKCkpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhckNvdW50ID49IDIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYXVkaW9QbGF5ZXIucGxheUF1ZGlvKEFVRElPX0lOVFJPKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5hdWRpb1BsYXllci5zdG9wQWxsQXVkaW9zKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGRpc3Bvc2UgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5tb25zdGVyLmRpc3Bvc2UoKTtcclxuICAgICAgICB0aGlzLmF1ZGlvUGxheWVyLnN0b3BBbGxBdWRpb3MoKTtcclxuICAgICAgICB0aGlzLnRpbWVvdXRzLmZvckVhY2goKHRpbWVvdXQpID0+IGNsZWFyVGltZW91dCh0aW1lb3V0KSk7XHJcbiAgICAgICAgZG9jdW1lbnRcclxuICAgICAgICAgICAgLmdldEVsZW1lbnRCeUlkKFwiY2FudmFzXCIpXHJcbiAgICAgICAgICAgIC5yZW1vdmVFdmVudExpc3RlbmVyKENMSUNLLCB0aGlzLmhhbmRsZU1vdXNlQ2xpY2ssIGZhbHNlKTtcclxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLCB0aGlzLnBhdXNlQXVkaW9zLCBmYWxzZSk7XHJcbiAgICB9O1xyXG59XHJcbiIsImltcG9ydCB7IGxvYWRJbWFnZXMgfSBmcm9tIFwiQGNvbW1vblwiO1xyXG5pbXBvcnQgeyBDTE9VRF82LCBDTE9VRF83LCBDTE9VRF84IH0gZnJvbSBcIkBjb25zdGFudHNcIjtcclxuZXhwb3J0IGNsYXNzIExvYWRpbmdTY2VuZSB7XHJcbiAgICBjYW52YXM7XHJcbiAgICBoZWlnaHQ7XHJcbiAgICB3aWR0aDtcclxuICAgIGNvbnRleHQ7XHJcbiAgICBpbWFnZXM7XHJcbiAgICBsb2FkZWRJbWFnZXM7XHJcbiAgICBpbWFnZXNMb2FkZWQ7XHJcbiAgICBjbG91ZFhQb3NpdGlvbiA9IC01MDA7XHJcbiAgICBzdG9wQ2xvdWRNb3ZpbmcgPSBmYWxzZTtcclxuICAgIGNsb3VkTW92aW5nVGltZU91dCA9IDA7XHJcbiAgICByZW1vdmVMb2FkaW5nO1xyXG4gICAgY29uc3RydWN0b3Iod2lkdGgsIGhlaWdodCwgcmVtb3ZlTG9hZGluZykge1xyXG4gICAgICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsb2FkaW5nXCIpO1xyXG4gICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IGhlaWdodDtcclxuICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHdpZHRoO1xyXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcclxuICAgICAgICB0aGlzLnJlbW92ZUxvYWRpbmcgPSByZW1vdmVMb2FkaW5nO1xyXG4gICAgICAgIHRoaXMuY29udGV4dCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuICAgICAgICB0aGlzLmltYWdlcyA9IHtcclxuICAgICAgICAgICAgY2xvdWQ2OiBDTE9VRF82LFxyXG4gICAgICAgICAgICBjbG91ZDc6IENMT1VEXzcsXHJcbiAgICAgICAgICAgIGNsb3VkODogQ0xPVURfOCxcclxuICAgICAgICB9O1xyXG4gICAgICAgIGxvYWRJbWFnZXModGhpcy5pbWFnZXMsIChpbWFnZXMpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5sb2FkZWRJbWFnZXMgPSBPYmplY3QuYXNzaWduKHt9LCBpbWFnZXMpO1xyXG4gICAgICAgICAgICB0aGlzLmltYWdlc0xvYWRlZCA9IHRydWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBkcmF3KGRlbHRhVGltZSkge1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xyXG4gICAgICAgIHRoaXMuY2xvdWRYUG9zaXRpb24gKz0gZGVsdGFUaW1lICogMC43NTtcclxuICAgICAgICB0aGlzLmNsb3VkTW92aW5nVGltZU91dCArPSBkZWx0YVRpbWU7XHJcbiAgICAgICAgaWYgKHRoaXMuY2xvdWRNb3ZpbmdUaW1lT3V0ID4gMjk4Mykge1xyXG4gICAgICAgICAgICB0aGlzLnJlbW92ZUxvYWRpbmcoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuY2xvdWRYUG9zaXRpb24gPj0gdGhpcy53aWR0aCAqIDAuNSAmJiAhdGhpcy5zdG9wQ2xvdWRNb3ZpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5jbG91ZE1vdmluZ1RpbWVPdXQgKz0gZGVsdGFUaW1lO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jbG91ZE1vdmluZ1RpbWVPdXQgPiAyMDAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3BDbG91ZE1vdmluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3VkWFBvc2l0aW9uID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pbWFnZXNMb2FkZWQpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLnN0b3BDbG91ZE1vdmluZykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZSh0aGlzLmxvYWRlZEltYWdlcy5jbG91ZDYsIHRoaXMuY2xvdWRYUG9zaXRpb24gPj0gMCA/IDAgOiB0aGlzLmNsb3VkWFBvc2l0aW9uLCB0aGlzLmhlaWdodCAqIDAuNiwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQgKiAwLjUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZSh0aGlzLmxvYWRlZEltYWdlcy5jbG91ZDYsIHRoaXMuY2xvdWRYUG9zaXRpb24gPj0gdGhpcy53aWR0aCAqIDAuNFxyXG4gICAgICAgICAgICAgICAgICAgID8gdGhpcy53aWR0aCAqIDAuNFxyXG4gICAgICAgICAgICAgICAgICAgIDogdGhpcy5jbG91ZFhQb3NpdGlvbiwgdGhpcy5oZWlnaHQgKiAwLjE1LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCAqIDAuNSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMubG9hZGVkSW1hZ2VzLmNsb3VkNywgdGhpcy5jbG91ZFhQb3NpdGlvbiA+PSAwID8gMCA6IHRoaXMuY2xvdWRYUG9zaXRpb24sIHRoaXMuaGVpZ2h0ICogMC4xNSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQgKiAwLjUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZSh0aGlzLmxvYWRlZEltYWdlcy5jbG91ZDgsIHRoaXMuY2xvdWRYUG9zaXRpb24gPj0gLXRoaXMud2lkdGggKiAwLjRcclxuICAgICAgICAgICAgICAgICAgICA/IC10aGlzLndpZHRoICogMC40XHJcbiAgICAgICAgICAgICAgICAgICAgOiB0aGlzLmNsb3VkWFBvc2l0aW9uLCAtdGhpcy5oZWlnaHQgKiAwLjE1LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCAqIDAuNSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMubG9hZGVkSW1hZ2VzLmNsb3VkOCwgdGhpcy5jbG91ZFhQb3NpdGlvbiA+PSB0aGlzLndpZHRoICogMC40XHJcbiAgICAgICAgICAgICAgICAgICAgPyB0aGlzLndpZHRoICogMC40XHJcbiAgICAgICAgICAgICAgICAgICAgOiB0aGlzLmNsb3VkWFBvc2l0aW9uLCAtdGhpcy5oZWlnaHQgKiAwLjE1LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCAqIDAuNSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMubG9hZGVkSW1hZ2VzLmNsb3VkOCwgdGhpcy5jbG91ZFhQb3NpdGlvbiA+PSB0aGlzLndpZHRoICogMC4wNVxyXG4gICAgICAgICAgICAgICAgICAgID8gdGhpcy53aWR0aCAqIDAuMDVcclxuICAgICAgICAgICAgICAgICAgICA6IHRoaXMuY2xvdWRYUG9zaXRpb24sIC10aGlzLmhlaWdodCAqIDAuMiwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQgKiAwLjUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZSh0aGlzLmxvYWRlZEltYWdlcy5jbG91ZDgsIHRoaXMuY2xvdWRYUG9zaXRpb24gPj0gLXRoaXMud2lkdGggKiAwLjZcclxuICAgICAgICAgICAgICAgICAgICA/IC10aGlzLndpZHRoICogMC42XHJcbiAgICAgICAgICAgICAgICAgICAgOiB0aGlzLmNsb3VkWFBvc2l0aW9uLCB0aGlzLmhlaWdodCAqIDAuMywgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQgKiAwLjUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZSh0aGlzLmxvYWRlZEltYWdlcy5jbG91ZDcsIHRoaXMuY2xvdWRYUG9zaXRpb24gPj0gdGhpcy53aWR0aCAqIDAuNVxyXG4gICAgICAgICAgICAgICAgICAgID8gdGhpcy53aWR0aCAqIDAuNVxyXG4gICAgICAgICAgICAgICAgICAgIDogdGhpcy5jbG91ZFhQb3NpdGlvbiwgdGhpcy5oZWlnaHQgKiAwLjQsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0ICogMC40KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5sb2FkZWRJbWFnZXMuY2xvdWQ3LCB0aGlzLmNsb3VkWFBvc2l0aW9uID49IC10aGlzLndpZHRoICogMC40XHJcbiAgICAgICAgICAgICAgICAgICAgPyAtdGhpcy53aWR0aCAqIDAuNFxyXG4gICAgICAgICAgICAgICAgICAgIDogdGhpcy5jbG91ZFhQb3NpdGlvbiwgdGhpcy5oZWlnaHQgKiAwLjcsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0ICogMC41KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5sb2FkZWRJbWFnZXMuY2xvdWQ4LCB0aGlzLmNsb3VkWFBvc2l0aW9uID49IHRoaXMud2lkdGggKiAwLjRcclxuICAgICAgICAgICAgICAgICAgICA/IHRoaXMud2lkdGggKiAwLjRcclxuICAgICAgICAgICAgICAgICAgICA6IHRoaXMuY2xvdWRYUG9zaXRpb24sIHRoaXMuaGVpZ2h0ICogMC43LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCAqIDAuNSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMubG9hZGVkSW1hZ2VzLmNsb3VkNiwgdGhpcy5jbG91ZFhQb3NpdGlvbiA+PSAtdGhpcy53aWR0aCAqIDAuMlxyXG4gICAgICAgICAgICAgICAgICAgID8gLXRoaXMud2lkdGggKiAwLjJcclxuICAgICAgICAgICAgICAgICAgICA6IHRoaXMuY2xvdWRYUG9zaXRpb24sIHRoaXMuaGVpZ2h0ICogMC4yLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCAqIDAuNSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMubG9hZGVkSW1hZ2VzLmNsb3VkNiwgMCArIHRoaXMuY2xvdWRYUG9zaXRpb24sIHRoaXMuaGVpZ2h0ICogMC42LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCAqIDAuNSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMubG9hZGVkSW1hZ2VzLmNsb3VkNiwgdGhpcy53aWR0aCAqIDAuNCArIHRoaXMuY2xvdWRYUG9zaXRpb24sIHRoaXMuaGVpZ2h0ICogMC4xNSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQgKiAwLjUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZSh0aGlzLmxvYWRlZEltYWdlcy5jbG91ZDcsIDAgKyB0aGlzLmNsb3VkWFBvc2l0aW9uLCB0aGlzLmhlaWdodCAqIDAuMTUsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0ICogMC41KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5sb2FkZWRJbWFnZXMuY2xvdWQ4LCAtdGhpcy53aWR0aCAqIDAuNCArIHRoaXMuY2xvdWRYUG9zaXRpb24sIC10aGlzLmhlaWdodCAqIDAuMTUsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0ICogMC41KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5sb2FkZWRJbWFnZXMuY2xvdWQ4LCB0aGlzLndpZHRoICogMC40ICsgdGhpcy5jbG91ZFhQb3NpdGlvbiwgLXRoaXMuaGVpZ2h0ICogMC4xNSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQgKiAwLjUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZSh0aGlzLmxvYWRlZEltYWdlcy5jbG91ZDgsIHRoaXMud2lkdGggKiAwLjA1ICsgdGhpcy5jbG91ZFhQb3NpdGlvbiwgLXRoaXMuaGVpZ2h0ICogMC4yLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCAqIDAuNSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMubG9hZGVkSW1hZ2VzLmNsb3VkOCwgLXRoaXMud2lkdGggKiAwLjYgKyB0aGlzLmNsb3VkWFBvc2l0aW9uLCB0aGlzLmhlaWdodCAqIDAuMywgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQgKiAwLjUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZSh0aGlzLmxvYWRlZEltYWdlcy5jbG91ZDcsIHRoaXMud2lkdGggKiAwLjUgKyB0aGlzLmNsb3VkWFBvc2l0aW9uLCB0aGlzLmhlaWdodCAqIDAuNCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQgKiAwLjQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZSh0aGlzLmxvYWRlZEltYWdlcy5jbG91ZDcsIC10aGlzLndpZHRoICogMC40ICsgdGhpcy5jbG91ZFhQb3NpdGlvbiwgdGhpcy5oZWlnaHQgKiAwLjcsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0ICogMC41KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5sb2FkZWRJbWFnZXMuY2xvdWQ4LCB0aGlzLndpZHRoICogMC40ICsgdGhpcy5jbG91ZFhQb3NpdGlvbiwgdGhpcy5oZWlnaHQgKiAwLjcsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0ICogMC41KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5sb2FkZWRJbWFnZXMuY2xvdWQ2LCAtdGhpcy53aWR0aCAqIDAuMiArIHRoaXMuY2xvdWRYUG9zaXRpb24sIHRoaXMuaGVpZ2h0ICogMC4yLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCAqIDAuNSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpbml0Q2xvdWQgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5jbG91ZFhQb3NpdGlvbiA9IC01MDA7XHJcbiAgICAgICAgdGhpcy5zdG9wQ2xvdWRNb3ZpbmcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmNsb3VkTW92aW5nVGltZU91dCA9IDA7XHJcbiAgICB9O1xyXG59XHJcbiIsImltcG9ydCB7IE1vbnN0ZXIsIEF1ZGlvUGxheWVyIH0gZnJvbSBcIkBjb21wb25lbnRzXCI7XHJcbmltcG9ydCB7IFBsYXlCdXR0b24gfSBmcm9tIFwiQGJ1dHRvbnNcIjtcclxuaW1wb3J0IHsgdG9nZ2xlRGVidWdNb2RlLCBVdGlscywgfSBmcm9tIFwiQGNvbW1vblwiO1xyXG5pbXBvcnQgeyBGaXJlYmFzZUludGVncmF0aW9uIH0gZnJvbSBcIi4uL0ZpcmViYXNlL2ZpcmViYXNlLWludGVncmF0aW9uXCI7XHJcbmltcG9ydCB7IGNyZWF0ZUJhY2tncm91bmQsIGRlZmF1bHRCZ0RyYXdpbmcgfSBmcm9tIFwiQGNvbXBvc2l0aW9uc1wiO1xyXG5pbXBvcnQgeyBGaXJlYmFzZVVzZXJDbGlja2VkLCBQV0FJbnN0YWxsU3RhdHVzLCBERUZBVUxUX0JHX0dST1VQX0lNR1MsIH0gZnJvbSBcIkBjb25zdGFudHNcIjtcclxuZXhwb3J0IGNsYXNzIFN0YXJ0U2NlbmUge1xyXG4gICAgY2FudmFzO1xyXG4gICAgZGF0YTtcclxuICAgIHdpZHRoO1xyXG4gICAgaGVpZ2h0O1xyXG4gICAgbW9uc3RlcjtcclxuICAgIHBpY2tlZFN0b25lO1xyXG4gICAgcHdhX3N0YXR1cztcclxuICAgIGZpcmViYXNlX2FuYWx5dGljcztcclxuICAgIGlkO1xyXG4gICAgY2FuYXZzRWxlbWVudDtcclxuICAgIGNvbnRleHQ7XHJcbiAgICBidXR0b25Db250ZXh0O1xyXG4gICAgcGxheUJ1dHRvbjtcclxuICAgIGltYWdlcztcclxuICAgIGxvYWRlZEltYWdlcztcclxuICAgIGltYWdlc0xvYWRlZCA9IGZhbHNlO1xyXG4gICAgaGFuZGxlcjtcclxuICAgIHN0YXRpYyBTY2VuZU5hbWU7XHJcbiAgICBzd2l0Y2hTY2VuZVRvTGV2ZWxTZWxlY3Rpb247XHJcbiAgICBiYWNrZ3JvdW5kO1xyXG4gICAgYXVkaW9QbGF5ZXI7XHJcbiAgICB0b2dnbGVCdG47XHJcbiAgICBwd2FfaW5zdGFsbF9zdGF0dXM7XHJcbiAgICB0aXRsZVRleHRFbGVtZW50O1xyXG4gICAgY29uc3RydWN0b3IoY2FudmFzLCBkYXRhLCBzd2l0Y2hTY2VuZVRvTGV2ZWxTZWxlY3Rpb24pIHtcclxuICAgICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcclxuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xyXG4gICAgICAgIHRoaXMud2lkdGggPSBjYW52YXMud2lkdGg7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBjYW52YXMuaGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuY2FuYXZzRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FudmFzXCIpO1xyXG4gICAgICAgIHRoaXMuY29udGV4dCA9IHRoaXMuY2FuYXZzRWxlbWVudC5nZXRDb250ZXh0KFwiMmRcIik7XHJcbiAgICAgICAgdGhpcy50b2dnbGVCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRvZ2dsZS1idG5cIik7XHJcbiAgICAgICAgdGhpcy5tb25zdGVyID0gbmV3IE1vbnN0ZXIodGhpcy5jYW52YXMsIDQpO1xyXG4gICAgICAgIHRoaXMuc3dpdGNoU2NlbmVUb0xldmVsU2VsZWN0aW9uID0gc3dpdGNoU2NlbmVUb0xldmVsU2VsZWN0aW9uO1xyXG4gICAgICAgIHRoaXMuYXVkaW9QbGF5ZXIgPSBuZXcgQXVkaW9QbGF5ZXIoKTtcclxuICAgICAgICB0aGlzLnB3YV9zdGF0dXMgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShQV0FJbnN0YWxsU3RhdHVzKTtcclxuICAgICAgICB0aGlzLmhhbmRsZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbnZhc1wiKTtcclxuICAgICAgICB0aGlzLmRldlRvZ2dsZSgpO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlUGxheUJ1dHRvbigpO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiYmVmb3JlaW5zdGFsbHByb21wdFwiLCB0aGlzLmhhbmRsZXJJbnN0YWxsUHJvbXB0KTtcclxuICAgICAgICB0aGlzLnNldHVwQmcoKTtcclxuICAgICAgICB0aGlzLnRpdGxlVGV4dEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRpdGxlXCIpO1xyXG4gICAgICAgIHRoaXMuZ2VuZXJhdGVHYW1lVGl0bGUoKTtcclxuICAgIH1cclxuICAgIHNldHVwQmcgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kID0gYXdhaXQgY3JlYXRlQmFja2dyb3VuZCh0aGlzLmNvbnRleHQsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCBERUZBVUxUX0JHX0dST1VQX0lNR1MsIGRlZmF1bHRCZ0RyYXdpbmcpO1xyXG4gICAgfTtcclxuICAgIGRldlRvZ2dsZSA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnRvZ2dsZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdG9nZ2xlRGVidWdNb2RlKHRoaXMudG9nZ2xlQnRuKSk7XHJcbiAgICB9O1xyXG4gICAgZ2VuZXJhdGVHYW1lVGl0bGUgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy50aXRsZVRleHRFbGVtZW50LnRleHRDb250ZW50ID0gdGhpcy5kYXRhLnRpdGxlO1xyXG4gICAgfTtcclxuICAgIGFuaW1hdGlvbiA9IChkZWx0YVRpbWUpID0+IHtcclxuICAgICAgICB0aGlzLmNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcclxuICAgICAgICB0aGlzLmJhY2tncm91bmQ/LmRyYXcoKTtcclxuICAgICAgICB0aGlzLm1vbnN0ZXIudXBkYXRlKGRlbHRhVGltZSk7XHJcbiAgICAgICAgdGhpcy5wbGF5QnV0dG9uLmRyYXcoKTtcclxuICAgIH07XHJcbiAgICBjcmVhdGVQbGF5QnV0dG9uKCkge1xyXG4gICAgICAgIHRoaXMucGxheUJ1dHRvbiA9IG5ldyBQbGF5QnV0dG9uKHRoaXMuY29udGV4dCwgdGhpcy5jYW52YXMsIHRoaXMuY2FudmFzLndpZHRoICogMC4zNSwgdGhpcy5jYW52YXMuaGVpZ2h0IC8gNyk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInNlbGVjdHN0YXJ0XCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmhhbmRsZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuaGFuZGxlTW91c2VDbGljaywgZmFsc2UpO1xyXG4gICAgfVxyXG4gICAgaGFuZGxlTW91c2VDbGljayA9IChldmVudCkgPT4ge1xyXG4gICAgICAgIGxldCBzZWxmID0gdGhpcztcclxuICAgICAgICBjb25zdCBzZWxmRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FudmFzXCIpO1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgdmFyIHJlY3QgPSBzZWxmRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICBjb25zdCB4ID0gZXZlbnQuY2xpZW50WCAtIHJlY3QubGVmdDtcclxuICAgICAgICBjb25zdCB5ID0gZXZlbnQuY2xpZW50WSAtIHJlY3QudG9wO1xyXG4gICAgICAgIGNvbnN0IHsgZXhjbHVkZVgsIGV4Y2x1ZGVZIH0gPSBVdGlscy5nZXRFeGNsdWRlZENvb3JkaW5hdGVzKHNlbGZFbGVtZW50LCAxNSk7XHJcbiAgICAgICAgaWYgKCEoeCA8IGV4Y2x1ZGVYICYmIHkgPCBleGNsdWRlWSkpIHtcclxuICAgICAgICAgICAgRmlyZWJhc2VJbnRlZ3JhdGlvbi5nZXRJbnN0YW5jZSgpLnNlbmRVc2VyQ2xpY2tlZE9uUGxheUV2ZW50KCk7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgZmJxKFwidHJhY2tDdXN0b21cIiwgRmlyZWJhc2VVc2VyQ2xpY2tlZCwge1xyXG4gICAgICAgICAgICAgICAgZXZlbnQ6IFwiY2xpY2tcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlQnRuLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgICAgICAgdGhpcy5hdWRpb1BsYXllci5wbGF5QnV0dG9uQ2xpY2tTb3VuZCgpO1xyXG4gICAgICAgICAgICBzZWxmLnN3aXRjaFNjZW5lVG9MZXZlbFNlbGVjdGlvbihcIlN0YXJ0U2NlbmVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGRpc3Bvc2UoKSB7XHJcbiAgICAgICAgdGhpcy5tb25zdGVyLmRpc3Bvc2UoKTtcclxuICAgICAgICB0aGlzLmF1ZGlvUGxheWVyLnN0b3BBbGxBdWRpb3MoKTtcclxuICAgICAgICB0aGlzLmhhbmRsZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuaGFuZGxlTW91c2VDbGljaywgZmFsc2UpO1xyXG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiYmVmb3JlaW5zdGFsbHByb21wdFwiLCB0aGlzLmhhbmRsZXJJbnN0YWxsUHJvbXB0LCBmYWxzZSk7XHJcbiAgICB9XHJcbiAgICBoYW5kbGVySW5zdGFsbFByb21wdCA9IChldmVudCkgPT4ge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgdGhpcy5wd2FfaW5zdGFsbF9zdGF0dXMgPSBldmVudDtcclxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShQV0FJbnN0YWxsU3RhdHVzLCBcImZhbHNlXCIpO1xyXG4gICAgfTtcclxufVxyXG4iLCJpbXBvcnQgeyBBU1NFVFNfUEFUSF9GRU5DRSwgQVNTRVRTX1BBVEhfSElMTCwgQVNTRVRTX1BBVEhfTU9OU1RFUl9JRExFLCBBU1NFVFNfUEFUSF9UT1RFTSwgREVGQVVMVF9CQUNLR1JPVU5EXzEsIEZpcmViYXNlVXNlckNsaWNrZWQsIFBXQUluc3RhbGxTdGF0dXMsIH0gZnJvbSBcIkBjb25zdGFudHNcIjtcclxuaW1wb3J0IHsgTGV2ZWxJbmRpY2F0b3JzLCBQcm9tcHRUZXh0LCBUaW1lclRpY2tpbmcsIFN0b25lSGFuZGxlciwgTW9uc3RlciwgfSBmcm9tIFwiQGNvbXBvbmVudHNcIjtcclxuaW1wb3J0IHsgUGxheUJ1dHRvbiB9IGZyb20gXCJAYnV0dG9uc1wiO1xyXG5pbXBvcnQgeyBsb2FkSW1hZ2VzLCB0b2dnbGVEZWJ1Z01vZGUgfSBmcm9tIFwiQGNvbW1vblwiO1xyXG5jb25zdCB0b2dnbGVCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRvZ2dsZS1idG5cIik7XHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiYmVmb3JlaW5zdGFsbHByb21wdFwiLCAoZSkgPT4ge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oUFdBSW5zdGFsbFN0YXR1cywgXCJmYWxzZVwiKTtcclxufSk7XHJcbmV4cG9ydCBjbGFzcyBUZXN0R2FtZXBsYXlTY2VuZSB7XHJcbiAgICBjYW52YXM7XHJcbiAgICBkYXRhO1xyXG4gICAgd2lkdGg7XHJcbiAgICBoZWlnaHQ7XHJcbiAgICBtb25zdGVyO1xyXG4gICAgbGV2ZWxJbmRpY2F0b3I7XHJcbiAgICBwcm9tcHRUZXh0O1xyXG4gICAgdGltZXJUaWNraW5nO1xyXG4gICAgc3RvbmVIYW5kbGVyO1xyXG4gICAgcGlja2VkU3RvbmU7XHJcbiAgICBwd2Ffc3RhdHVzO1xyXG4gICAgZmlyZWJhc2VfYW5hbHl0aWNzO1xyXG4gICAgaWQ7XHJcbiAgICBjYW5hdnNFbGVtZW50O1xyXG4gICAgY29udGV4dDtcclxuICAgIGJ1dHRvbkNvbnRleHQ7XHJcbiAgICBvdXRjb21lO1xyXG4gICAgcGxheUJ1dHRvbjtcclxuICAgIGxldmVsU2VsZWN0aW9uU2NlbmU7XHJcbiAgICBpbWFnZXM7XHJcbiAgICBsb2FkZWRJbWFnZXM7XHJcbiAgICBpbWFnZXNMb2FkZWQgPSBmYWxzZTtcclxuICAgIGhhbmRsZXI7XHJcbiAgICBzdGF0aWMgU2NlbmVOYW1lO1xyXG4gICAgc3dpdGNoU2NlbmVUb0xldmVsU2VsZWN0aW9uO1xyXG4gICAgY291bnRlciA9IDA7XHJcbiAgICB0dXRvcmlhbDtcclxuICAgIGNvbnN0cnVjdG9yKGNhbnZhcywgZGF0YSwgZmlyZWJhc2VfYW5hbHl0aWNzLCBzd2l0Y2hTY2VuZVRvTGV2ZWxTZWxlY3Rpb24pIHtcclxuICAgICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcclxuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xyXG4gICAgICAgIHRoaXMud2lkdGggPSBjYW52YXMud2lkdGg7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBjYW52YXMuaGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuY2FuYXZzRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FudmFzXCIpO1xyXG4gICAgICAgIHRoaXMuY29udGV4dCA9IHRoaXMuY2FuYXZzRWxlbWVudC5nZXRDb250ZXh0KFwiMmRcIik7XHJcbiAgICAgICAgdGhpcy5tb25zdGVyID0gbmV3IE1vbnN0ZXIodGhpcy5jYW52YXMsIDApO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKERhdGUubm93LCBcIiA6OjogXCIsIHBlcmZvcm1hbmNlLm5vdyk7XHJcbiAgICAgICAgdGhpcy5zd2l0Y2hTY2VuZVRvTGV2ZWxTZWxlY3Rpb24gPSBzd2l0Y2hTY2VuZVRvTGV2ZWxTZWxlY3Rpb247XHJcbiAgICAgICAgdGhpcy5zdG9uZUhhbmRsZXIgPSBuZXcgU3RvbmVIYW5kbGVyKHRoaXMuY29udGV4dCwgdGhpcy5jYW52YXMsIDIsIHRoaXMuZGF0YS5sZXZlbHNbOTJdLCB0aGlzLmRhdGEuZmVlZGJhY2tBdWRpb3MsIHRoaXMudGltZXJUaWNraW5nKTtcclxuICAgICAgICAvLy8gdGVzdGluZyBwcm9tcHRleHJcclxuICAgICAgICB0aGlzLnByb21wdFRleHQgPSBuZXcgUHJvbXB0VGV4dCh0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgdGhpcy5kYXRhLmxldmVsc1s5Ml0ucHV6emxlc1syXSwgdGhpcy5kYXRhLmxldmVsc1s5Ml0sIGZhbHNlKTtcclxuICAgICAgICB0aGlzLnRpbWVyVGlja2luZyA9IG5ldyBUaW1lclRpY2tpbmcodGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIHRoaXMudGltZU92ZXJDYWxsYmFjayk7XHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL2VuZFxyXG4gICAgICAgIHRoaXMubGV2ZWxJbmRpY2F0b3IgPSBuZXcgTGV2ZWxJbmRpY2F0b3JzKHRoaXMuY29udGV4dCwgdGhpcy5jYW52YXMsIDApO1xyXG4gICAgICAgIHRoaXMubGV2ZWxJbmRpY2F0b3Iuc2V0SW5kaWNhdG9ycygzKTtcclxuICAgICAgICB0aGlzLnR1dG9yaWFsLnVwZGF0ZVRhcmdldFN0b25lUG9zaXRpb25zKFsxMDAsIDEwMF0pO1xyXG4gICAgICAgIHRoaXMucHdhX3N0YXR1cyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFBXQUluc3RhbGxTdGF0dXMpO1xyXG4gICAgICAgIHRoaXMuaGFuZGxlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FudmFzXCIpO1xyXG4gICAgICAgIHRoaXMuZGV2VG9nZ2xlKCk7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVQbGF5QnV0dG9uKCk7XHJcbiAgICAgICAgdGhpcy5maXJlYmFzZV9hbmFseXRpY3MgPSBmaXJlYmFzZV9hbmFseXRpY3M7XHJcbiAgICAgICAgdGhpcy5hbmltYXRpb24oMCk7XHJcbiAgICAgICAgdGhpcy5pbWFnZXMgPSB7XHJcbiAgICAgICAgICAgIHBpbGxlckltZzogQVNTRVRTX1BBVEhfVE9URU0sXHJcbiAgICAgICAgICAgIGJnSW1nOiBERUZBVUxUX0JBQ0tHUk9VTkRfMSxcclxuICAgICAgICAgICAgaGlsbEltZzogQVNTRVRTX1BBVEhfSElMTCxcclxuICAgICAgICAgICAgZmVuY2hJbWc6IEFTU0VUU19QQVRIX0ZFTkNFLFxyXG4gICAgICAgICAgICBwcm9maWxlTW9uc3RlcjogQVNTRVRTX1BBVEhfTU9OU1RFUl9JRExFLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgbG9hZEltYWdlcyh0aGlzLmltYWdlcywgKGltYWdlcykgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRlZEltYWdlcyA9IE9iamVjdC5hc3NpZ24oe30sIGltYWdlcyk7XHJcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VzTG9hZGVkID0gdHJ1ZTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHRpbWVPdmVyQ2FsbGJhY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgLy8gdGltZSB0byBsb2FkIG5ldyBwdXp6bGVcclxuICAgICAgICB0aGlzLnRpbWVyVGlja2luZy5yZWFkeVRpbWVyKCk7XHJcbiAgICAgICAgdGhpcy50aW1lclRpY2tpbmcuc3RhcnRUaW1lcigpO1xyXG4gICAgICAgIHRoaXMudGltZXJUaWNraW5nLmlzTXlUaW1lck92ZXIgPSBmYWxzZTtcclxuICAgICAgICBpZiAodGhpcy5jb3VudGVyID09IDUpXHJcbiAgICAgICAgICAgIHRoaXMuY291bnRlciA9IDA7XHJcbiAgICAgICAgdGhpcy5sZXZlbEluZGljYXRvci5zZXRJbmRpY2F0b3JzKHRoaXMuY291bnRlcisrKTtcclxuICAgIH07XHJcbiAgICBkZXZUb2dnbGUgPSAoKSA9PiB7XHJcbiAgICAgICAgdG9nZ2xlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0b2dnbGVEZWJ1Z01vZGUodG9nZ2xlQnRuKSk7XHJcbiAgICB9O1xyXG4gICAgaGFuZGxlTW91c2VVcCA9IChldmVudCkgPT4ge1xyXG4gICAgICAgIGxldCBzZWxmID0gdGhpcztcclxuICAgICAgICBjb25zdCBzZWxmRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FudmFzXCIpO1xyXG4gICAgICAgIHZhciByZWN0ID0gc2VsZkVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgY29uc3QgeCA9IGV2ZW50LmNsaWVudFggLSByZWN0LmxlZnQ7XHJcbiAgICAgICAgY29uc3QgeSA9IGV2ZW50LmNsaWVudFkgLSByZWN0LnRvcDtcclxuICAgICAgICBpZiAoTWF0aC5zcXJ0KCh4IC0gc2VsZi5tb25zdGVyLnggLSBzZWxmLmNhbnZhcy53aWR0aCAvIDQpICpcclxuICAgICAgICAgICAgKHggLSBzZWxmLm1vbnN0ZXIueCAtIHNlbGYuY2FudmFzLndpZHRoIC8gNCkgK1xyXG4gICAgICAgICAgICAoeSAtIHNlbGYubW9uc3Rlci55IC0gc2VsZi5jYW52YXMuaGVpZ2h0IC8gMi43KSAqXHJcbiAgICAgICAgICAgICAgICAoeSAtIHNlbGYubW9uc3Rlci55IC0gc2VsZi5jYW52YXMuaGVpZ2h0IC8gMi43KSkgPD0gNjApIHtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHNlbGYubW9uc3Rlci5jaGFuZ2VUb0lkbGVBbmltYXRpb24oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2VsZi5waWNrZWRTdG9uZSA9IG51bGw7XHJcbiAgICB9O1xyXG4gICAgaGFuZGxlTW91c2VEb3duID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgbGV0IHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIGNvbnN0IHNlbGZFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW52YXNcIik7XHJcbiAgICAgICAgdmFyIHJlY3QgPSBzZWxmRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICBjb25zdCB4ID0gZXZlbnQuY2xpZW50WCAtIHJlY3QubGVmdDtcclxuICAgICAgICBjb25zdCB5ID0gZXZlbnQuY2xpZW50WSAtIHJlY3QudG9wO1xyXG4gICAgICAgIC8vLy8vLy8vLyBzZW5kaW5nIGRhdGEgdG8gc3RvbmUgY29uZmlnXHJcbiAgICAgICAgZm9yIChsZXQgc2Mgb2Ygc2VsZi5zdG9uZUhhbmRsZXIuZm9pbFN0b25lcykge1xyXG4gICAgICAgICAgICBpZiAoTWF0aC5zcXJ0KCh4IC0gc2MueCkgKiAoeCAtIHNjLngpICsgKHkgLSBzYy55KSAqICh5IC0gc2MueSkpIDw9IDQwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBpY2tlZFN0b25lID0gc2M7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8vLy8vLyBlbmQgb2Ygc3RvbmUgZGF0YSBzZW5kaW5nXHJcbiAgICB9O1xyXG4gICAgaGFuZGxlTW91c2VNb3ZlID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgbGV0IHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIGNvbnN0IHNlbGZFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW52YXNcIik7XHJcbiAgICAgICAgdmFyIHJlY3QgPSBzZWxmRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICBjb25zdCB4ID0gZXZlbnQuY2xpZW50WCAtIHJlY3QubGVmdDtcclxuICAgICAgICBjb25zdCB5ID0gZXZlbnQuY2xpZW50WSAtIHJlY3QudG9wO1xyXG4gICAgICAgIGlmIChzZWxmLnBpY2tlZFN0b25lKSB7XHJcbiAgICAgICAgICAgIHNlbGYubW9uc3Rlci5jaGFuZ2VUb0RyYWdBbmltYXRpb24oKTtcclxuICAgICAgICAgICAgc2VsZi5waWNrZWRTdG9uZS54ID0geDtcclxuICAgICAgICAgICAgc2VsZi5waWNrZWRTdG9uZS55ID0geTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgYW5pbWF0aW9uID0gKGRlbHRhVGltZSkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmltYWdlc0xvYWRlZCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMubG9hZGVkSW1hZ2VzLmJnSW1nLCAwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5sb2FkZWRJbWFnZXMucGlsbGVySW1nLCB0aGlzLndpZHRoICogMC42LCB0aGlzLmhlaWdodCAvIDYsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0IC8gMik7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5sb2FkZWRJbWFnZXMuZmVuY2hJbWcsIC10aGlzLndpZHRoICogMC40LCB0aGlzLmhlaWdodCAvIDMsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0IC8gMyk7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5sb2FkZWRJbWFnZXMuaGlsbEltZywgLXRoaXMud2lkdGggKiAwLjI1LCB0aGlzLmhlaWdodCAvIDIsIHRoaXMud2lkdGggKiAxLjUsIHRoaXMuaGVpZ2h0IC8gMik7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5mb250ID0gXCJib2xkIDQwcHggQXJpYWxcIjtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxTdHlsZSA9IFwid2hpdGVcIjtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5maWxsVGV4dChcIlRlc3RpbmcgR2FtZXBsYXlcIiwgdGhpcy53aWR0aCAqIDAuNSwgdGhpcy5oZWlnaHQgLyAxMCk7XHJcbiAgICAgICAgICAgIHRoaXMubW9uc3Rlci51cGRhdGUoZGVsdGFUaW1lKTtcclxuICAgICAgICAgICAgdGhpcy5wcm9tcHRUZXh0LmRyYXcoZGVsdGFUaW1lKTtcclxuICAgICAgICAgICAgdGhpcy5zdG9uZUhhbmRsZXIuZHJhdyhkZWx0YVRpbWUpO1xyXG4gICAgICAgICAgICB0aGlzLmxldmVsSW5kaWNhdG9yLmRyYXcoKTtcclxuICAgICAgICAgICAgdGhpcy50aW1lclRpY2tpbmcudXBkYXRlKGRlbHRhVGltZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGRyYXcoKSB7IH1cclxuICAgIGNyZWF0ZVBsYXlCdXR0b24gPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5wbGF5QnV0dG9uID0gbmV3IFBsYXlCdXR0b24odGhpcy5jb250ZXh0LCB0aGlzLmNhbnZhcywgdGhpcy5jYW52YXMud2lkdGggKiAwLjM1LCB0aGlzLmNhbnZhcy5oZWlnaHQgLyA3KTtcclxuICAgICAgICB0aGlzLmhhbmRsZXIuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5oYW5kbGVNb3VzZVVwLCBmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVyLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5oYW5kbGVNb3VzZU1vdmUsIGZhbHNlKTtcclxuICAgICAgICB0aGlzLmhhbmRsZXIuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLmhhbmRsZU1vdXNlRG93biwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuaGFuZGxlci5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICB2YXIgdG91Y2ggPSBlLnRvdWNoZXNbMF07XHJcbiAgICAgICAgICAgIHZhciBtb3VzZUV2ZW50ID0gbmV3IE1vdXNlRXZlbnQoXCJtb3VzZWRvd25cIiwge1xyXG4gICAgICAgICAgICAgICAgY2xpZW50WDogdG91Y2guY2xpZW50WCxcclxuICAgICAgICAgICAgICAgIGNsaWVudFk6IHRvdWNoLmNsaWVudFksXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbnZhc1wiKS5kaXNwYXRjaEV2ZW50KG1vdXNlRXZlbnQpO1xyXG4gICAgICAgIH0sIGZhbHNlKTtcclxuICAgICAgICB0aGlzLmhhbmRsZXIuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICB2YXIgdG91Y2ggPSBlLnRvdWNoZXNbMF07XHJcbiAgICAgICAgICAgIHZhciBtb3VzZUV2ZW50ID0gbmV3IE1vdXNlRXZlbnQoXCJtb3VzZW1vdmVcIiwge1xyXG4gICAgICAgICAgICAgICAgY2xpZW50WDogdG91Y2guY2xpZW50WCxcclxuICAgICAgICAgICAgICAgIGNsaWVudFk6IHRvdWNoLmNsaWVudFksXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbnZhc1wiKS5kaXNwYXRjaEV2ZW50KG1vdXNlRXZlbnQpO1xyXG4gICAgICAgIH0sIGZhbHNlKTtcclxuICAgICAgICB0aGlzLmhhbmRsZXIuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHZhciB0b3VjaCA9IGUuY2hhbmdlZFRvdWNoZXNbMF07XHJcbiAgICAgICAgICAgIHZhciBtb3VzZUV2ZW50ID0gbmV3IE1vdXNlRXZlbnQoXCJtb3VzZXVwXCIsIHtcclxuICAgICAgICAgICAgICAgIGNsaWVudFg6IHRvdWNoLmNsaWVudFgsXHJcbiAgICAgICAgICAgICAgICBjbGllbnRZOiB0b3VjaC5jbGllbnRZLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW52YXNcIikuZGlzcGF0Y2hFdmVudChtb3VzZUV2ZW50KTtcclxuICAgICAgICB9LCBmYWxzZSk7XHJcbiAgICB9O1xyXG4gICAgaGFuZGxlTW91c2VDbGljayA9IChldmVudCkgPT4ge1xyXG4gICAgICAgIGxldCBzZWxmID0gdGhpcztcclxuICAgICAgICBjb25zdCBzZWxmRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FudmFzXCIpO1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgdmFyIHJlY3QgPSBzZWxmRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICBjb25zdCB4ID0gZXZlbnQuY2xpZW50WCAtIHJlY3QubGVmdDtcclxuICAgICAgICBjb25zdCB5ID0gZXZlbnQuY2xpZW50WSAtIHJlY3QudG9wO1xyXG4gICAgICAgIGlmIChzZWxmLnBsYXlCdXR0b24ub25DbGljayh4LCB5KSkge1xyXG4gICAgICAgICAgICBzZWxmLmZpcmViYXNlX2FuYWx5dGljc1xyXG4gICAgICAgICAgICAgICAgPyBzZWxmLmZpcmViYXNlX2FuYWx5dGljcy5sb2dFdmVudChGaXJlYmFzZVVzZXJDbGlja2VkLCBcImNsaWNrXCIpXHJcbiAgICAgICAgICAgICAgICA6IG51bGw7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgZmJxKFwidHJhY2tDdXN0b21cIiwgRmlyZWJhc2VVc2VyQ2xpY2tlZCwge1xyXG4gICAgICAgICAgICAgICAgZXZlbnQ6IFwiY2xpY2tcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRvZ2dsZUJ0bi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgICAgICAgIHNlbGYuc3dpdGNoU2NlbmVUb0xldmVsU2VsZWN0aW9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGRpc3Bvc2UoKSB7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmhhbmRsZU1vdXNlQ2xpY2ssIGZhbHNlKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBfZ2V0UHJvdmlkZXIsIGdldEFwcCwgX3JlZ2lzdGVyQ29tcG9uZW50LCByZWdpc3RlclZlcnNpb24gfSBmcm9tICdAZmlyZWJhc2UvYXBwJztcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gJ0BmaXJlYmFzZS9sb2dnZXInO1xuaW1wb3J0IHsgRXJyb3JGYWN0b3J5LCBjYWxjdWxhdGVCYWNrb2ZmTWlsbGlzLCBGaXJlYmFzZUVycm9yLCBpc0luZGV4ZWREQkF2YWlsYWJsZSwgdmFsaWRhdGVJbmRleGVkREJPcGVuYWJsZSwgaXNCcm93c2VyRXh0ZW5zaW9uLCBhcmVDb29raWVzRW5hYmxlZCwgZ2V0TW9kdWxhckluc3RhbmNlLCBkZWVwRXF1YWwgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICdAZmlyZWJhc2UvY29tcG9uZW50JztcbmltcG9ydCAnQGZpcmViYXNlL2luc3RhbGxhdGlvbnMnO1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogVHlwZSBjb25zdGFudCBmb3IgRmlyZWJhc2UgQW5hbHl0aWNzLlxyXG4gKi9cclxuY29uc3QgQU5BTFlUSUNTX1RZUEUgPSAnYW5hbHl0aWNzJztcclxuLy8gS2V5IHRvIGF0dGFjaCBGSUQgdG8gaW4gZ3RhZyBwYXJhbXMuXHJcbmNvbnN0IEdBX0ZJRF9LRVkgPSAnZmlyZWJhc2VfaWQnO1xyXG5jb25zdCBPUklHSU5fS0VZID0gJ29yaWdpbic7XHJcbmNvbnN0IEZFVENIX1RJTUVPVVRfTUlMTElTID0gNjAgKiAxMDAwO1xyXG5jb25zdCBEWU5BTUlDX0NPTkZJR19VUkwgPSAnaHR0cHM6Ly9maXJlYmFzZS5nb29nbGVhcGlzLmNvbS92MWFscGhhL3Byb2plY3RzLy0vYXBwcy97YXBwLWlkfS93ZWJDb25maWcnO1xyXG5jb25zdCBHVEFHX1VSTCA9ICdodHRwczovL3d3dy5nb29nbGV0YWdtYW5hZ2VyLmNvbS9ndGFnL2pzJztcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcignQGZpcmViYXNlL2FuYWx5dGljcycpO1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5jb25zdCBFUlJPUlMgPSB7XHJcbiAgICBbXCJhbHJlYWR5LWV4aXN0c1wiIC8qIEFuYWx5dGljc0Vycm9yLkFMUkVBRFlfRVhJU1RTICovXTogJ0EgRmlyZWJhc2UgQW5hbHl0aWNzIGluc3RhbmNlIHdpdGggdGhlIGFwcElkIHskaWR9ICcgK1xyXG4gICAgICAgICcgYWxyZWFkeSBleGlzdHMuICcgK1xyXG4gICAgICAgICdPbmx5IG9uZSBGaXJlYmFzZSBBbmFseXRpY3MgaW5zdGFuY2UgY2FuIGJlIGNyZWF0ZWQgZm9yIGVhY2ggYXBwSWQuJyxcclxuICAgIFtcImFscmVhZHktaW5pdGlhbGl6ZWRcIiAvKiBBbmFseXRpY3NFcnJvci5BTFJFQURZX0lOSVRJQUxJWkVEICovXTogJ2luaXRpYWxpemVBbmFseXRpY3MoKSBjYW5ub3QgYmUgY2FsbGVkIGFnYWluIHdpdGggZGlmZmVyZW50IG9wdGlvbnMgdGhhbiB0aG9zZSAnICtcclxuICAgICAgICAnaXQgd2FzIGluaXRpYWxseSBjYWxsZWQgd2l0aC4gSXQgY2FuIGJlIGNhbGxlZCBhZ2FpbiB3aXRoIHRoZSBzYW1lIG9wdGlvbnMgdG8gJyArXHJcbiAgICAgICAgJ3JldHVybiB0aGUgZXhpc3RpbmcgaW5zdGFuY2UsIG9yIGdldEFuYWx5dGljcygpIGNhbiBiZSB1c2VkICcgK1xyXG4gICAgICAgICd0byBnZXQgYSByZWZlcmVuY2UgdG8gdGhlIGFscmVhZHktaW50aWFsaXplZCBpbnN0YW5jZS4nLFxyXG4gICAgW1wiYWxyZWFkeS1pbml0aWFsaXplZC1zZXR0aW5nc1wiIC8qIEFuYWx5dGljc0Vycm9yLkFMUkVBRFlfSU5JVElBTElaRURfU0VUVElOR1MgKi9dOiAnRmlyZWJhc2UgQW5hbHl0aWNzIGhhcyBhbHJlYWR5IGJlZW4gaW5pdGlhbGl6ZWQuJyArXHJcbiAgICAgICAgJ3NldHRpbmdzKCkgbXVzdCBiZSBjYWxsZWQgYmVmb3JlIGluaXRpYWxpemluZyBhbnkgQW5hbHl0aWNzIGluc3RhbmNlJyArXHJcbiAgICAgICAgJ29yIGl0IHdpbGwgaGF2ZSBubyBlZmZlY3QuJyxcclxuICAgIFtcImludGVyb3AtY29tcG9uZW50LXJlZy1mYWlsZWRcIiAvKiBBbmFseXRpY3NFcnJvci5JTlRFUk9QX0NPTVBPTkVOVF9SRUdfRkFJTEVEICovXTogJ0ZpcmViYXNlIEFuYWx5dGljcyBJbnRlcm9wIENvbXBvbmVudCBmYWlsZWQgdG8gaW5zdGFudGlhdGU6IHskcmVhc29ufScsXHJcbiAgICBbXCJpbnZhbGlkLWFuYWx5dGljcy1jb250ZXh0XCIgLyogQW5hbHl0aWNzRXJyb3IuSU5WQUxJRF9BTkFMWVRJQ1NfQ09OVEVYVCAqL106ICdGaXJlYmFzZSBBbmFseXRpY3MgaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGVudmlyb25tZW50LiAnICtcclxuICAgICAgICAnV3JhcCBpbml0aWFsaXphdGlvbiBvZiBhbmFseXRpY3MgaW4gYW5hbHl0aWNzLmlzU3VwcG9ydGVkKCkgJyArXHJcbiAgICAgICAgJ3RvIHByZXZlbnQgaW5pdGlhbGl6YXRpb24gaW4gdW5zdXBwb3J0ZWQgZW52aXJvbm1lbnRzLiBEZXRhaWxzOiB7JGVycm9ySW5mb30nLFxyXG4gICAgW1wiaW5kZXhlZGRiLXVuYXZhaWxhYmxlXCIgLyogQW5hbHl0aWNzRXJyb3IuSU5ERVhFRERCX1VOQVZBSUxBQkxFICovXTogJ0luZGV4ZWREQiB1bmF2YWlsYWJsZSBvciByZXN0cmljdGVkIGluIHRoaXMgZW52aXJvbm1lbnQuICcgK1xyXG4gICAgICAgICdXcmFwIGluaXRpYWxpemF0aW9uIG9mIGFuYWx5dGljcyBpbiBhbmFseXRpY3MuaXNTdXBwb3J0ZWQoKSAnICtcclxuICAgICAgICAndG8gcHJldmVudCBpbml0aWFsaXphdGlvbiBpbiB1bnN1cHBvcnRlZCBlbnZpcm9ubWVudHMuIERldGFpbHM6IHskZXJyb3JJbmZvfScsXHJcbiAgICBbXCJmZXRjaC10aHJvdHRsZVwiIC8qIEFuYWx5dGljc0Vycm9yLkZFVENIX1RIUk9UVExFICovXTogJ1RoZSBjb25maWcgZmV0Y2ggcmVxdWVzdCB0aW1lZCBvdXQgd2hpbGUgaW4gYW4gZXhwb25lbnRpYWwgYmFja29mZiBzdGF0ZS4nICtcclxuICAgICAgICAnIFVuaXggdGltZXN0YW1wIGluIG1pbGxpc2Vjb25kcyB3aGVuIGZldGNoIHJlcXVlc3QgdGhyb3R0bGluZyBlbmRzOiB7JHRocm90dGxlRW5kVGltZU1pbGxpc30uJyxcclxuICAgIFtcImNvbmZpZy1mZXRjaC1mYWlsZWRcIiAvKiBBbmFseXRpY3NFcnJvci5DT05GSUdfRkVUQ0hfRkFJTEVEICovXTogJ0R5bmFtaWMgY29uZmlnIGZldGNoIGZhaWxlZDogW3skaHR0cFN0YXR1c31dIHskcmVzcG9uc2VNZXNzYWdlfScsXHJcbiAgICBbXCJuby1hcGkta2V5XCIgLyogQW5hbHl0aWNzRXJyb3IuTk9fQVBJX0tFWSAqL106ICdUaGUgXCJhcGlLZXlcIiBmaWVsZCBpcyBlbXB0eSBpbiB0aGUgbG9jYWwgRmlyZWJhc2UgY29uZmlnLiBGaXJlYmFzZSBBbmFseXRpY3MgcmVxdWlyZXMgdGhpcyBmaWVsZCB0bycgK1xyXG4gICAgICAgICdjb250YWluIGEgdmFsaWQgQVBJIGtleS4nLFxyXG4gICAgW1wibm8tYXBwLWlkXCIgLyogQW5hbHl0aWNzRXJyb3IuTk9fQVBQX0lEICovXTogJ1RoZSBcImFwcElkXCIgZmllbGQgaXMgZW1wdHkgaW4gdGhlIGxvY2FsIEZpcmViYXNlIGNvbmZpZy4gRmlyZWJhc2UgQW5hbHl0aWNzIHJlcXVpcmVzIHRoaXMgZmllbGQgdG8nICtcclxuICAgICAgICAnY29udGFpbiBhIHZhbGlkIGFwcCBJRC4nLFxyXG4gICAgW1wibm8tY2xpZW50LWlkXCIgLyogQW5hbHl0aWNzRXJyb3IuTk9fQ0xJRU5UX0lEICovXTogJ1RoZSBcImNsaWVudF9pZFwiIGZpZWxkIGlzIGVtcHR5LicsXHJcbiAgICBbXCJpbnZhbGlkLWd0YWctcmVzb3VyY2VcIiAvKiBBbmFseXRpY3NFcnJvci5JTlZBTElEX0dUQUdfUkVTT1VSQ0UgKi9dOiAnVHJ1c3RlZCBUeXBlcyBkZXRlY3RlZCBhbiBpbnZhbGlkIGd0YWcgcmVzb3VyY2U6IHskZ3RhZ1VSTH0uJ1xyXG59O1xyXG5jb25zdCBFUlJPUl9GQUNUT1JZID0gbmV3IEVycm9yRmFjdG9yeSgnYW5hbHl0aWNzJywgJ0FuYWx5dGljcycsIEVSUk9SUyk7XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBWZXJpZmllcyBhbmQgY3JlYXRlcyBhIFRydXN0ZWRTY3JpcHRVUkwuXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVHdGFnVHJ1c3RlZFR5cGVzU2NyaXB0VVJMKHVybCkge1xyXG4gICAgaWYgKCF1cmwuc3RhcnRzV2l0aChHVEFHX1VSTCkpIHtcclxuICAgICAgICBjb25zdCBlcnIgPSBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcImludmFsaWQtZ3RhZy1yZXNvdXJjZVwiIC8qIEFuYWx5dGljc0Vycm9yLklOVkFMSURfR1RBR19SRVNPVVJDRSAqLywge1xyXG4gICAgICAgICAgICBndGFnVVJMOiB1cmxcclxuICAgICAgICB9KTtcclxuICAgICAgICBsb2dnZXIud2FybihlcnIubWVzc2FnZSk7XHJcbiAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHVybDtcclxufVxyXG4vKipcclxuICogTWFrZXNoaWZ0IHBvbHlmaWxsIGZvciBQcm9taXNlLmFsbFNldHRsZWQoKS4gUmVzb2x2ZXMgd2hlbiBhbGwgcHJvbWlzZXNcclxuICogaGF2ZSBlaXRoZXIgcmVzb2x2ZWQgb3IgcmVqZWN0ZWQuXHJcbiAqXHJcbiAqIEBwYXJhbSBwcm9taXNlcyBBcnJheSBvZiBwcm9taXNlcyB0byB3YWl0IGZvci5cclxuICovXHJcbmZ1bmN0aW9uIHByb21pc2VBbGxTZXR0bGVkKHByb21pc2VzKSB7XHJcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMubWFwKHByb21pc2UgPT4gcHJvbWlzZS5jYXRjaChlID0+IGUpKSk7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBUcnVzdGVkVHlwZVBvbGljeSBvYmplY3QgdGhhdCBpbXBsZW1lbnRzIHRoZSBydWxlcyBwYXNzZWQgYXMgcG9saWN5T3B0aW9ucy5cclxuICpcclxuICogQHBhcmFtIHBvbGljeU5hbWUgQSBzdHJpbmcgY29udGFpbmluZyB0aGUgbmFtZSBvZiB0aGUgcG9saWN5XHJcbiAqIEBwYXJhbSBwb2xpY3lPcHRpb25zIE9iamVjdCBjb250YWluaW5nIGltcGxlbWVudGF0aW9ucyBvZiBpbnN0YW5jZSBtZXRob2RzIGZvciBUcnVzdGVkVHlwZXNQb2xpY3ksIHNlZSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1RydXN0ZWRUeXBlUG9saWN5I2luc3RhbmNlX21ldGhvZHNcclxuICogfCB0aGUgVHJ1c3RlZFR5cGVQb2xpY3kgcmVmZXJlbmNlIGRvY3VtZW50YXRpb259LlxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlVHJ1c3RlZFR5cGVzUG9saWN5KHBvbGljeU5hbWUsIHBvbGljeU9wdGlvbnMpIHtcclxuICAgIC8vIENyZWF0ZSBhIFRydXN0ZWRUeXBlcyBwb2xpY3kgdGhhdCB3ZSBjYW4gdXNlIGZvciB1cGRhdGluZyBzcmNcclxuICAgIC8vIHByb3BlcnRpZXNcclxuICAgIGxldCB0cnVzdGVkVHlwZXNQb2xpY3k7XHJcbiAgICBpZiAod2luZG93LnRydXN0ZWRUeXBlcykge1xyXG4gICAgICAgIHRydXN0ZWRUeXBlc1BvbGljeSA9IHdpbmRvdy50cnVzdGVkVHlwZXMuY3JlYXRlUG9saWN5KHBvbGljeU5hbWUsIHBvbGljeU9wdGlvbnMpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydXN0ZWRUeXBlc1BvbGljeTtcclxufVxyXG4vKipcclxuICogSW5zZXJ0cyBndGFnIHNjcmlwdCB0YWcgaW50byB0aGUgcGFnZSB0byBhc3luY2hyb25vdXNseSBkb3dubG9hZCBndGFnLlxyXG4gKiBAcGFyYW0gZGF0YUxheWVyTmFtZSBOYW1lIG9mIGRhdGFsYXllciAobW9zdCBvZnRlbiB0aGUgZGVmYXVsdCwgXCJfZGF0YUxheWVyXCIpLlxyXG4gKi9cclxuZnVuY3Rpb24gaW5zZXJ0U2NyaXB0VGFnKGRhdGFMYXllck5hbWUsIG1lYXN1cmVtZW50SWQpIHtcclxuICAgIGNvbnN0IHRydXN0ZWRUeXBlc1BvbGljeSA9IGNyZWF0ZVRydXN0ZWRUeXBlc1BvbGljeSgnZmlyZWJhc2UtanMtc2RrLXBvbGljeScsIHtcclxuICAgICAgICBjcmVhdGVTY3JpcHRVUkw6IGNyZWF0ZUd0YWdUcnVzdGVkVHlwZXNTY3JpcHRVUkxcclxuICAgIH0pO1xyXG4gICAgY29uc3Qgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XHJcbiAgICAvLyBXZSBhcmUgbm90IHByb3ZpZGluZyBhbiBhbmFseXRpY3NJZCBpbiB0aGUgVVJMIGJlY2F1c2UgaXQgd291bGQgdHJpZ2dlciBhIGBwYWdlX3ZpZXdgXHJcbiAgICAvLyB3aXRob3V0IGZpZC4gV2Ugd2lsbCBpbml0aWFsaXplIGdhLWlkIHVzaW5nIGd0YWcgKGNvbmZpZykgY29tbWFuZCB0b2dldGhlciB3aXRoIGZpZC5cclxuICAgIGNvbnN0IGd0YWdTY3JpcHRVUkwgPSBgJHtHVEFHX1VSTH0/bD0ke2RhdGFMYXllck5hbWV9JmlkPSR7bWVhc3VyZW1lbnRJZH1gO1xyXG4gICAgc2NyaXB0LnNyYyA9IHRydXN0ZWRUeXBlc1BvbGljeVxyXG4gICAgICAgID8gdHJ1c3RlZFR5cGVzUG9saWN5ID09PSBudWxsIHx8IHRydXN0ZWRUeXBlc1BvbGljeSA9PT0gdm9pZCAwID8gdm9pZCAwIDogdHJ1c3RlZFR5cGVzUG9saWN5LmNyZWF0ZVNjcmlwdFVSTChndGFnU2NyaXB0VVJMKVxyXG4gICAgICAgIDogZ3RhZ1NjcmlwdFVSTDtcclxuICAgIHNjcmlwdC5hc3luYyA9IHRydWU7XHJcbiAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7XHJcbn1cclxuLyoqXHJcbiAqIEdldCByZWZlcmVuY2UgdG8sIG9yIGNyZWF0ZSwgZ2xvYmFsIGRhdGFsYXllci5cclxuICogQHBhcmFtIGRhdGFMYXllck5hbWUgTmFtZSBvZiBkYXRhbGF5ZXIgKG1vc3Qgb2Z0ZW4gdGhlIGRlZmF1bHQsIFwiX2RhdGFMYXllclwiKS5cclxuICovXHJcbmZ1bmN0aW9uIGdldE9yQ3JlYXRlRGF0YUxheWVyKGRhdGFMYXllck5hbWUpIHtcclxuICAgIC8vIENoZWNrIGZvciBleGlzdGluZyBkYXRhTGF5ZXIgYW5kIGNyZWF0ZSBpZiBuZWVkZWQuXHJcbiAgICBsZXQgZGF0YUxheWVyID0gW107XHJcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh3aW5kb3dbZGF0YUxheWVyTmFtZV0pKSB7XHJcbiAgICAgICAgZGF0YUxheWVyID0gd2luZG93W2RhdGFMYXllck5hbWVdO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgd2luZG93W2RhdGFMYXllck5hbWVdID0gZGF0YUxheWVyO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRhdGFMYXllcjtcclxufVxyXG4vKipcclxuICogV3JhcHBlZCBndGFnIGxvZ2ljIHdoZW4gZ3RhZyBpcyBjYWxsZWQgd2l0aCAnY29uZmlnJyBjb21tYW5kLlxyXG4gKlxyXG4gKiBAcGFyYW0gZ3RhZ0NvcmUgQmFzaWMgZ3RhZyBmdW5jdGlvbiB0aGF0IGp1c3QgYXBwZW5kcyB0byBkYXRhTGF5ZXIuXHJcbiAqIEBwYXJhbSBpbml0aWFsaXphdGlvblByb21pc2VzTWFwIE1hcCBvZiBhcHBJZHMgdG8gdGhlaXIgaW5pdGlhbGl6YXRpb24gcHJvbWlzZXMuXHJcbiAqIEBwYXJhbSBkeW5hbWljQ29uZmlnUHJvbWlzZXNMaXN0IEFycmF5IG9mIGR5bmFtaWMgY29uZmlnIGZldGNoIHByb21pc2VzLlxyXG4gKiBAcGFyYW0gbWVhc3VyZW1lbnRJZFRvQXBwSWQgTWFwIG9mIEdBIG1lYXN1cmVtZW50SURzIHRvIGNvcnJlc3BvbmRpbmcgRmlyZWJhc2UgYXBwSWQuXHJcbiAqIEBwYXJhbSBtZWFzdXJlbWVudElkIEdBIE1lYXN1cmVtZW50IElEIHRvIHNldCBjb25maWcgZm9yLlxyXG4gKiBAcGFyYW0gZ3RhZ1BhcmFtcyBHdGFnIGNvbmZpZyBwYXJhbXMgdG8gc2V0LlxyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gZ3RhZ09uQ29uZmlnKGd0YWdDb3JlLCBpbml0aWFsaXphdGlvblByb21pc2VzTWFwLCBkeW5hbWljQ29uZmlnUHJvbWlzZXNMaXN0LCBtZWFzdXJlbWVudElkVG9BcHBJZCwgbWVhc3VyZW1lbnRJZCwgZ3RhZ1BhcmFtcykge1xyXG4gICAgLy8gSWYgY29uZmlnIGlzIGFscmVhZHkgZmV0Y2hlZCwgd2Uga25vdyB0aGUgYXBwSWQgYW5kIGNhbiB1c2UgaXQgdG8gbG9vayB1cCB3aGF0IEZJRCBwcm9taXNlIHdlXHJcbiAgICAvLy8gYXJlIHdhaXRpbmcgZm9yLCBhbmQgd2FpdCBvbmx5IG9uIHRoYXQgb25lLlxyXG4gICAgY29uc3QgY29ycmVzcG9uZGluZ0FwcElkID0gbWVhc3VyZW1lbnRJZFRvQXBwSWRbbWVhc3VyZW1lbnRJZF07XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGlmIChjb3JyZXNwb25kaW5nQXBwSWQpIHtcclxuICAgICAgICAgICAgYXdhaXQgaW5pdGlhbGl6YXRpb25Qcm9taXNlc01hcFtjb3JyZXNwb25kaW5nQXBwSWRdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gSWYgY29uZmlnIGlzIG5vdCBmZXRjaGVkIHlldCwgd2FpdCBmb3IgYWxsIGNvbmZpZ3MgKHdlIGRvbid0IGtub3cgd2hpY2ggb25lIHdlIG5lZWQpIGFuZFxyXG4gICAgICAgICAgICAvLyBmaW5kIHRoZSBhcHBJZCAoaWYgYW55KSBjb3JyZXNwb25kaW5nIHRvIHRoaXMgbWVhc3VyZW1lbnRJZC4gSWYgdGhlcmUgaXMgb25lLCB3YWl0IG9uXHJcbiAgICAgICAgICAgIC8vIHRoYXQgYXBwSWQncyBpbml0aWFsaXphdGlvbiBwcm9taXNlLiBJZiB0aGVyZSBpcyBub25lLCBwcm9taXNlIHJlc29sdmVzIGFuZCBndGFnXHJcbiAgICAgICAgICAgIC8vIGNhbGwgZ29lcyB0aHJvdWdoLlxyXG4gICAgICAgICAgICBjb25zdCBkeW5hbWljQ29uZmlnUmVzdWx0cyA9IGF3YWl0IHByb21pc2VBbGxTZXR0bGVkKGR5bmFtaWNDb25maWdQcm9taXNlc0xpc3QpO1xyXG4gICAgICAgICAgICBjb25zdCBmb3VuZENvbmZpZyA9IGR5bmFtaWNDb25maWdSZXN1bHRzLmZpbmQoY29uZmlnID0+IGNvbmZpZy5tZWFzdXJlbWVudElkID09PSBtZWFzdXJlbWVudElkKTtcclxuICAgICAgICAgICAgaWYgKGZvdW5kQ29uZmlnKSB7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBpbml0aWFsaXphdGlvblByb21pc2VzTWFwW2ZvdW5kQ29uZmlnLmFwcElkXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgbG9nZ2VyLmVycm9yKGUpO1xyXG4gICAgfVxyXG4gICAgZ3RhZ0NvcmUoXCJjb25maWdcIiAvKiBHdGFnQ29tbWFuZC5DT05GSUcgKi8sIG1lYXN1cmVtZW50SWQsIGd0YWdQYXJhbXMpO1xyXG59XHJcbi8qKlxyXG4gKiBXcmFwcGVkIGd0YWcgbG9naWMgd2hlbiBndGFnIGlzIGNhbGxlZCB3aXRoICdldmVudCcgY29tbWFuZC5cclxuICpcclxuICogQHBhcmFtIGd0YWdDb3JlIEJhc2ljIGd0YWcgZnVuY3Rpb24gdGhhdCBqdXN0IGFwcGVuZHMgdG8gZGF0YUxheWVyLlxyXG4gKiBAcGFyYW0gaW5pdGlhbGl6YXRpb25Qcm9taXNlc01hcCBNYXAgb2YgYXBwSWRzIHRvIHRoZWlyIGluaXRpYWxpemF0aW9uIHByb21pc2VzLlxyXG4gKiBAcGFyYW0gZHluYW1pY0NvbmZpZ1Byb21pc2VzTGlzdCBBcnJheSBvZiBkeW5hbWljIGNvbmZpZyBmZXRjaCBwcm9taXNlcy5cclxuICogQHBhcmFtIG1lYXN1cmVtZW50SWQgR0EgTWVhc3VyZW1lbnQgSUQgdG8gbG9nIGV2ZW50IHRvLlxyXG4gKiBAcGFyYW0gZ3RhZ1BhcmFtcyBQYXJhbXMgdG8gbG9nIHdpdGggdGhpcyBldmVudC5cclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIGd0YWdPbkV2ZW50KGd0YWdDb3JlLCBpbml0aWFsaXphdGlvblByb21pc2VzTWFwLCBkeW5hbWljQ29uZmlnUHJvbWlzZXNMaXN0LCBtZWFzdXJlbWVudElkLCBndGFnUGFyYW1zKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGxldCBpbml0aWFsaXphdGlvblByb21pc2VzVG9XYWl0Rm9yID0gW107XHJcbiAgICAgICAgLy8gSWYgdGhlcmUncyBhICdzZW5kX3RvJyBwYXJhbSwgY2hlY2sgaWYgYW55IElEIHNwZWNpZmllZCBtYXRjaGVzXHJcbiAgICAgICAgLy8gYW4gaW5pdGlhbGl6ZUlkcygpIHByb21pc2Ugd2UgYXJlIHdhaXRpbmcgZm9yLlxyXG4gICAgICAgIGlmIChndGFnUGFyYW1zICYmIGd0YWdQYXJhbXNbJ3NlbmRfdG8nXSkge1xyXG4gICAgICAgICAgICBsZXQgZ2FTZW5kVG9MaXN0ID0gZ3RhZ1BhcmFtc1snc2VuZF90byddO1xyXG4gICAgICAgICAgICAvLyBNYWtlIGl0IGFuIGFycmF5IGlmIGlzIGlzbid0LCBzbyBpdCBjYW4gYmUgZGVhbHQgd2l0aCB0aGUgc2FtZSB3YXkuXHJcbiAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShnYVNlbmRUb0xpc3QpKSB7XHJcbiAgICAgICAgICAgICAgICBnYVNlbmRUb0xpc3QgPSBbZ2FTZW5kVG9MaXN0XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBDaGVja2luZyAnc2VuZF90bycgZmllbGRzIHJlcXVpcmVzIGhhdmluZyBhbGwgbWVhc3VyZW1lbnQgSUQgcmVzdWx0cyBiYWNrIGZyb21cclxuICAgICAgICAgICAgLy8gdGhlIGR5bmFtaWMgY29uZmlnIGZldGNoLlxyXG4gICAgICAgICAgICBjb25zdCBkeW5hbWljQ29uZmlnUmVzdWx0cyA9IGF3YWl0IHByb21pc2VBbGxTZXR0bGVkKGR5bmFtaWNDb25maWdQcm9taXNlc0xpc3QpO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHNlbmRUb0lkIG9mIGdhU2VuZFRvTGlzdCkge1xyXG4gICAgICAgICAgICAgICAgLy8gQW55IGZldGNoZWQgZHluYW1pYyBtZWFzdXJlbWVudCBJRCB0aGF0IG1hdGNoZXMgdGhpcyAnc2VuZF90bycgSURcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZvdW5kQ29uZmlnID0gZHluYW1pY0NvbmZpZ1Jlc3VsdHMuZmluZChjb25maWcgPT4gY29uZmlnLm1lYXN1cmVtZW50SWQgPT09IHNlbmRUb0lkKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGluaXRpYWxpemF0aW9uUHJvbWlzZSA9IGZvdW5kQ29uZmlnICYmIGluaXRpYWxpemF0aW9uUHJvbWlzZXNNYXBbZm91bmRDb25maWcuYXBwSWRdO1xyXG4gICAgICAgICAgICAgICAgaWYgKGluaXRpYWxpemF0aW9uUHJvbWlzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxpemF0aW9uUHJvbWlzZXNUb1dhaXRGb3IucHVzaChpbml0aWFsaXphdGlvblByb21pc2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRm91bmQgYW4gaXRlbSBpbiAnc2VuZF90bycgdGhhdCBpcyBub3QgYXNzb2NpYXRlZFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGRpcmVjdGx5IHdpdGggYW4gRklELCBwb3NzaWJseSBhIGdyb3VwLiAgRW1wdHkgdGhpcyBhcnJheSxcclxuICAgICAgICAgICAgICAgICAgICAvLyBleGl0IHRoZSBsb29wIGVhcmx5LCBhbmQgbGV0IGl0IGdldCBwb3B1bGF0ZWQgYmVsb3cuXHJcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbGl6YXRpb25Qcm9taXNlc1RvV2FpdEZvciA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFRoaXMgd2lsbCBiZSB1bnBvcHVsYXRlZCBpZiB0aGVyZSB3YXMgbm8gJ3NlbmRfdG8nIGZpZWxkICwgb3JcclxuICAgICAgICAvLyBpZiBub3QgYWxsIGVudHJpZXMgaW4gdGhlICdzZW5kX3RvJyBmaWVsZCBjb3VsZCBiZSBtYXBwZWQgdG9cclxuICAgICAgICAvLyBhIEZJRC4gSW4gdGhlc2UgY2FzZXMsIHdhaXQgb24gYWxsIHBlbmRpbmcgaW5pdGlhbGl6YXRpb24gcHJvbWlzZXMuXHJcbiAgICAgICAgaWYgKGluaXRpYWxpemF0aW9uUHJvbWlzZXNUb1dhaXRGb3IubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIGluaXRpYWxpemF0aW9uUHJvbWlzZXNUb1dhaXRGb3IgPSBPYmplY3QudmFsdWVzKGluaXRpYWxpemF0aW9uUHJvbWlzZXNNYXApO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBSdW4gY29yZSBndGFnIGZ1bmN0aW9uIHdpdGggYXJncyBhZnRlciBhbGwgcmVsZXZhbnQgaW5pdGlhbGl6YXRpb25cclxuICAgICAgICAvLyBwcm9taXNlcyBoYXZlIGJlZW4gcmVzb2x2ZWQuXHJcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoaW5pdGlhbGl6YXRpb25Qcm9taXNlc1RvV2FpdEZvcik7XHJcbiAgICAgICAgLy8gV29ya2Fyb3VuZCBmb3IgaHR0cDovL2IvMTQxMzcwNDQ5IC0gdGhpcmQgYXJndW1lbnQgY2Fubm90IGJlIHVuZGVmaW5lZC5cclxuICAgICAgICBndGFnQ29yZShcImV2ZW50XCIgLyogR3RhZ0NvbW1hbmQuRVZFTlQgKi8sIG1lYXN1cmVtZW50SWQsIGd0YWdQYXJhbXMgfHwge30pO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICBsb2dnZXIuZXJyb3IoZSk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIFdyYXBzIGEgc3RhbmRhcmQgZ3RhZyBmdW5jdGlvbiB3aXRoIGV4dHJhIGNvZGUgdG8gd2FpdCBmb3IgY29tcGxldGlvbiBvZlxyXG4gKiByZWxldmFudCBpbml0aWFsaXphdGlvbiBwcm9taXNlcyBiZWZvcmUgc2VuZGluZyByZXF1ZXN0cy5cclxuICpcclxuICogQHBhcmFtIGd0YWdDb3JlIEJhc2ljIGd0YWcgZnVuY3Rpb24gdGhhdCBqdXN0IGFwcGVuZHMgdG8gZGF0YUxheWVyLlxyXG4gKiBAcGFyYW0gaW5pdGlhbGl6YXRpb25Qcm9taXNlc01hcCBNYXAgb2YgYXBwSWRzIHRvIHRoZWlyIGluaXRpYWxpemF0aW9uIHByb21pc2VzLlxyXG4gKiBAcGFyYW0gZHluYW1pY0NvbmZpZ1Byb21pc2VzTGlzdCBBcnJheSBvZiBkeW5hbWljIGNvbmZpZyBmZXRjaCBwcm9taXNlcy5cclxuICogQHBhcmFtIG1lYXN1cmVtZW50SWRUb0FwcElkIE1hcCBvZiBHQSBtZWFzdXJlbWVudElEcyB0byBjb3JyZXNwb25kaW5nIEZpcmViYXNlIGFwcElkLlxyXG4gKi9cclxuZnVuY3Rpb24gd3JhcEd0YWcoZ3RhZ0NvcmUsIFxyXG4vKipcclxuICogQWxsb3dzIHdyYXBwZWQgZ3RhZyBjYWxscyB0byB3YWl0IG9uIHdoaWNoZXZlciBpbnRpYWxpemF0aW9uIHByb21pc2VzIGFyZSByZXF1aXJlZCxcclxuICogZGVwZW5kaW5nIG9uIHRoZSBjb250ZW50cyBvZiB0aGUgZ3RhZyBwYXJhbXMnIGBzZW5kX3RvYCBmaWVsZCwgaWYgYW55LlxyXG4gKi9cclxuaW5pdGlhbGl6YXRpb25Qcm9taXNlc01hcCwgXHJcbi8qKlxyXG4gKiBXcmFwcGVkIGd0YWcgY2FsbHMgc29tZXRpbWVzIHJlcXVpcmUgYWxsIGR5bmFtaWMgY29uZmlnIGZldGNoZXMgdG8gaGF2ZSByZXR1cm5lZFxyXG4gKiBiZWZvcmUgZGV0ZXJtaW5pbmcgd2hhdCBpbml0aWFsaXphdGlvbiBwcm9taXNlcyAod2hpY2ggaW5jbHVkZSBGSURzKSB0byB3YWl0IGZvci5cclxuICovXHJcbmR5bmFtaWNDb25maWdQcm9taXNlc0xpc3QsIFxyXG4vKipcclxuICogV3JhcHBlZCBndGFnIGNvbmZpZyBjYWxscyBjYW4gbmFycm93IGRvd24gd2hpY2ggaW5pdGlhbGl6YXRpb24gcHJvbWlzZSAod2l0aCBGSUQpXHJcbiAqIHRvIHdhaXQgZm9yIGlmIHRoZSBtZWFzdXJlbWVudElkIGlzIGFscmVhZHkgZmV0Y2hlZCwgYnkgZ2V0dGluZyB0aGUgY29ycmVzcG9uZGluZyBhcHBJZCxcclxuICogd2hpY2ggaXMgdGhlIGtleSBmb3IgdGhlIGluaXRpYWxpemF0aW9uIHByb21pc2VzIG1hcC5cclxuICovXHJcbm1lYXN1cmVtZW50SWRUb0FwcElkKSB7XHJcbiAgICAvKipcclxuICAgICAqIFdyYXBwZXIgYXJvdW5kIGd0YWcgdGhhdCBlbnN1cmVzIEZJRCBpcyBzZW50IHdpdGggZ3RhZyBjYWxscy5cclxuICAgICAqIEBwYXJhbSBjb21tYW5kIEd0YWcgY29tbWFuZCB0eXBlLlxyXG4gICAgICogQHBhcmFtIGlkT3JOYW1lT3JQYXJhbXMgTWVhc3VyZW1lbnQgSUQgaWYgY29tbWFuZCBpcyBFVkVOVC9DT05GSUcsIHBhcmFtcyBpZiBjb21tYW5kIGlzIFNFVC5cclxuICAgICAqIEBwYXJhbSBndGFnUGFyYW1zIFBhcmFtcyBpZiBldmVudCBpcyBFVkVOVC9DT05GSUcuXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGZ1bmN0aW9uIGd0YWdXcmFwcGVyKGNvbW1hbmQsIC4uLmFyZ3MpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBJZiBldmVudCwgY2hlY2sgdGhhdCByZWxldmFudCBpbml0aWFsaXphdGlvbiBwcm9taXNlcyBoYXZlIGNvbXBsZXRlZC5cclxuICAgICAgICAgICAgaWYgKGNvbW1hbmQgPT09IFwiZXZlbnRcIiAvKiBHdGFnQ29tbWFuZC5FVkVOVCAqLykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgW21lYXN1cmVtZW50SWQsIGd0YWdQYXJhbXNdID0gYXJncztcclxuICAgICAgICAgICAgICAgIC8vIElmIEVWRU5ULCBzZWNvbmQgYXJnIG11c3QgYmUgbWVhc3VyZW1lbnRJZC5cclxuICAgICAgICAgICAgICAgIGF3YWl0IGd0YWdPbkV2ZW50KGd0YWdDb3JlLCBpbml0aWFsaXphdGlvblByb21pc2VzTWFwLCBkeW5hbWljQ29uZmlnUHJvbWlzZXNMaXN0LCBtZWFzdXJlbWVudElkLCBndGFnUGFyYW1zKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChjb21tYW5kID09PSBcImNvbmZpZ1wiIC8qIEd0YWdDb21tYW5kLkNPTkZJRyAqLykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgW21lYXN1cmVtZW50SWQsIGd0YWdQYXJhbXNdID0gYXJncztcclxuICAgICAgICAgICAgICAgIC8vIElmIENPTkZJRywgc2Vjb25kIGFyZyBtdXN0IGJlIG1lYXN1cmVtZW50SWQuXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBndGFnT25Db25maWcoZ3RhZ0NvcmUsIGluaXRpYWxpemF0aW9uUHJvbWlzZXNNYXAsIGR5bmFtaWNDb25maWdQcm9taXNlc0xpc3QsIG1lYXN1cmVtZW50SWRUb0FwcElkLCBtZWFzdXJlbWVudElkLCBndGFnUGFyYW1zKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChjb21tYW5kID09PSBcImNvbnNlbnRcIiAvKiBHdGFnQ29tbWFuZC5DT05TRU5UICovKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBbZ3RhZ1BhcmFtc10gPSBhcmdzO1xyXG4gICAgICAgICAgICAgICAgZ3RhZ0NvcmUoXCJjb25zZW50XCIgLyogR3RhZ0NvbW1hbmQuQ09OU0VOVCAqLywgJ3VwZGF0ZScsIGd0YWdQYXJhbXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNvbW1hbmQgPT09IFwiZ2V0XCIgLyogR3RhZ0NvbW1hbmQuR0VUICovKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBbbWVhc3VyZW1lbnRJZCwgZmllbGROYW1lLCBjYWxsYmFja10gPSBhcmdzO1xyXG4gICAgICAgICAgICAgICAgZ3RhZ0NvcmUoXCJnZXRcIiAvKiBHdGFnQ29tbWFuZC5HRVQgKi8sIG1lYXN1cmVtZW50SWQsIGZpZWxkTmFtZSwgY2FsbGJhY2spO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNvbW1hbmQgPT09IFwic2V0XCIgLyogR3RhZ0NvbW1hbmQuU0VUICovKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBbY3VzdG9tUGFyYW1zXSA9IGFyZ3M7XHJcbiAgICAgICAgICAgICAgICAvLyBJZiBTRVQsIHNlY29uZCBhcmcgbXVzdCBiZSBwYXJhbXMuXHJcbiAgICAgICAgICAgICAgICBndGFnQ29yZShcInNldFwiIC8qIEd0YWdDb21tYW5kLlNFVCAqLywgY3VzdG9tUGFyYW1zKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGd0YWdDb3JlKGNvbW1hbmQsIC4uLmFyZ3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcihlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZ3RhZ1dyYXBwZXI7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZXMgZ2xvYmFsIGd0YWcgZnVuY3Rpb24gb3Igd3JhcHMgZXhpc3Rpbmcgb25lIGlmIGZvdW5kLlxyXG4gKiBUaGlzIHdyYXBwZWQgZnVuY3Rpb24gYXR0YWNoZXMgRmlyZWJhc2UgaW5zdGFuY2UgSUQgKEZJRCkgdG8gZ3RhZyAnY29uZmlnJyBhbmRcclxuICogJ2V2ZW50JyBjYWxscyB0aGF0IGJlbG9uZyB0byB0aGUgR0FJRCBhc3NvY2lhdGVkIHdpdGggdGhpcyBGaXJlYmFzZSBpbnN0YW5jZS5cclxuICpcclxuICogQHBhcmFtIGluaXRpYWxpemF0aW9uUHJvbWlzZXNNYXAgTWFwIG9mIGFwcElkcyB0byB0aGVpciBpbml0aWFsaXphdGlvbiBwcm9taXNlcy5cclxuICogQHBhcmFtIGR5bmFtaWNDb25maWdQcm9taXNlc0xpc3QgQXJyYXkgb2YgZHluYW1pYyBjb25maWcgZmV0Y2ggcHJvbWlzZXMuXHJcbiAqIEBwYXJhbSBtZWFzdXJlbWVudElkVG9BcHBJZCBNYXAgb2YgR0EgbWVhc3VyZW1lbnRJRHMgdG8gY29ycmVzcG9uZGluZyBGaXJlYmFzZSBhcHBJZC5cclxuICogQHBhcmFtIGRhdGFMYXllck5hbWUgTmFtZSBvZiBnbG9iYWwgR0EgZGF0YWxheWVyIGFycmF5LlxyXG4gKiBAcGFyYW0gZ3RhZ0Z1bmN0aW9uTmFtZSBOYW1lIG9mIGdsb2JhbCBndGFnIGZ1bmN0aW9uIChcImd0YWdcIiBpZiBub3QgdXNlci1zcGVjaWZpZWQpLlxyXG4gKi9cclxuZnVuY3Rpb24gd3JhcE9yQ3JlYXRlR3RhZyhpbml0aWFsaXphdGlvblByb21pc2VzTWFwLCBkeW5hbWljQ29uZmlnUHJvbWlzZXNMaXN0LCBtZWFzdXJlbWVudElkVG9BcHBJZCwgZGF0YUxheWVyTmFtZSwgZ3RhZ0Z1bmN0aW9uTmFtZSkge1xyXG4gICAgLy8gQ3JlYXRlIGEgYmFzaWMgY29yZSBndGFnIGZ1bmN0aW9uXHJcbiAgICBsZXQgZ3RhZ0NvcmUgPSBmdW5jdGlvbiAoLi4uX2FyZ3MpIHtcclxuICAgICAgICAvLyBNdXN0IHB1c2ggSUFyZ3VtZW50cyBvYmplY3QsIG5vdCBhbiBhcnJheS5cclxuICAgICAgICB3aW5kb3dbZGF0YUxheWVyTmFtZV0ucHVzaChhcmd1bWVudHMpO1xyXG4gICAgfTtcclxuICAgIC8vIFJlcGxhY2UgaXQgd2l0aCBleGlzdGluZyBvbmUgaWYgZm91bmRcclxuICAgIGlmICh3aW5kb3dbZ3RhZ0Z1bmN0aW9uTmFtZV0gJiZcclxuICAgICAgICB0eXBlb2Ygd2luZG93W2d0YWdGdW5jdGlvbk5hbWVdID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGd0YWdDb3JlID0gd2luZG93W2d0YWdGdW5jdGlvbk5hbWVdO1xyXG4gICAgfVxyXG4gICAgd2luZG93W2d0YWdGdW5jdGlvbk5hbWVdID0gd3JhcEd0YWcoZ3RhZ0NvcmUsIGluaXRpYWxpemF0aW9uUHJvbWlzZXNNYXAsIGR5bmFtaWNDb25maWdQcm9taXNlc0xpc3QsIG1lYXN1cmVtZW50SWRUb0FwcElkKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgZ3RhZ0NvcmUsXHJcbiAgICAgICAgd3JhcHBlZEd0YWc6IHdpbmRvd1tndGFnRnVuY3Rpb25OYW1lXVxyXG4gICAgfTtcclxufVxyXG4vKipcclxuICogUmV0dXJucyB0aGUgc2NyaXB0IHRhZyBpbiB0aGUgRE9NIG1hdGNoaW5nIGJvdGggdGhlIGd0YWcgdXJsIHBhdHRlcm5cclxuICogYW5kIHRoZSBwcm92aWRlZCBkYXRhIGxheWVyIG5hbWUuXHJcbiAqL1xyXG5mdW5jdGlvbiBmaW5kR3RhZ1NjcmlwdE9uUGFnZShkYXRhTGF5ZXJOYW1lKSB7XHJcbiAgICBjb25zdCBzY3JpcHRUYWdzID0gd2luZG93LmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKTtcclxuICAgIGZvciAoY29uc3QgdGFnIG9mIE9iamVjdC52YWx1ZXMoc2NyaXB0VGFncykpIHtcclxuICAgICAgICBpZiAodGFnLnNyYyAmJlxyXG4gICAgICAgICAgICB0YWcuc3JjLmluY2x1ZGVzKEdUQUdfVVJMKSAmJlxyXG4gICAgICAgICAgICB0YWcuc3JjLmluY2x1ZGVzKGRhdGFMYXllck5hbWUpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0YWc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIEJhY2tvZmYgZmFjdG9yIGZvciA1MDMgZXJyb3JzLCB3aGljaCB3ZSB3YW50IHRvIGJlIGNvbnNlcnZhdGl2ZSBhYm91dFxyXG4gKiB0byBhdm9pZCBvdmVybG9hZGluZyBzZXJ2ZXJzLiBFYWNoIHJldHJ5IGludGVydmFsIHdpbGwgYmVcclxuICogQkFTRV9JTlRFUlZBTF9NSUxMSVMgKiBMT05HX1JFVFJZX0ZBQ1RPUiBeIHJldHJ5Q291bnQsIHNvIHRoZSBzZWNvbmQgb25lXHJcbiAqIHdpbGwgYmUgfjMwIHNlY29uZHMgKHdpdGggZnV6emluZykuXHJcbiAqL1xyXG5jb25zdCBMT05HX1JFVFJZX0ZBQ1RPUiA9IDMwO1xyXG4vKipcclxuICogQmFzZSB3YWl0IGludGVydmFsIHRvIG11bHRpcGxpZWQgYnkgYmFja29mZkZhY3Rvcl5iYWNrb2ZmQ291bnQuXHJcbiAqL1xyXG5jb25zdCBCQVNFX0lOVEVSVkFMX01JTExJUyA9IDEwMDA7XHJcbi8qKlxyXG4gKiBTdHViYmFibGUgcmV0cnkgZGF0YSBzdG9yYWdlIGNsYXNzLlxyXG4gKi9cclxuY2xhc3MgUmV0cnlEYXRhIHtcclxuICAgIGNvbnN0cnVjdG9yKHRocm90dGxlTWV0YWRhdGEgPSB7fSwgaW50ZXJ2YWxNaWxsaXMgPSBCQVNFX0lOVEVSVkFMX01JTExJUykge1xyXG4gICAgICAgIHRoaXMudGhyb3R0bGVNZXRhZGF0YSA9IHRocm90dGxlTWV0YWRhdGE7XHJcbiAgICAgICAgdGhpcy5pbnRlcnZhbE1pbGxpcyA9IGludGVydmFsTWlsbGlzO1xyXG4gICAgfVxyXG4gICAgZ2V0VGhyb3R0bGVNZXRhZGF0YShhcHBJZCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRocm90dGxlTWV0YWRhdGFbYXBwSWRdO1xyXG4gICAgfVxyXG4gICAgc2V0VGhyb3R0bGVNZXRhZGF0YShhcHBJZCwgbWV0YWRhdGEpIHtcclxuICAgICAgICB0aGlzLnRocm90dGxlTWV0YWRhdGFbYXBwSWRdID0gbWV0YWRhdGE7XHJcbiAgICB9XHJcbiAgICBkZWxldGVUaHJvdHRsZU1ldGFkYXRhKGFwcElkKSB7XHJcbiAgICAgICAgZGVsZXRlIHRoaXMudGhyb3R0bGVNZXRhZGF0YVthcHBJZF07XHJcbiAgICB9XHJcbn1cclxuY29uc3QgZGVmYXVsdFJldHJ5RGF0YSA9IG5ldyBSZXRyeURhdGEoKTtcclxuLyoqXHJcbiAqIFNldCBHRVQgcmVxdWVzdCBoZWFkZXJzLlxyXG4gKiBAcGFyYW0gYXBpS2V5IEFwcCBBUEkga2V5LlxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0SGVhZGVycyhhcGlLZXkpIHtcclxuICAgIHJldHVybiBuZXcgSGVhZGVycyh7XHJcbiAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgJ3gtZ29vZy1hcGkta2V5JzogYXBpS2V5XHJcbiAgICB9KTtcclxufVxyXG4vKipcclxuICogRmV0Y2hlcyBkeW5hbWljIGNvbmZpZyBmcm9tIGJhY2tlbmQuXHJcbiAqIEBwYXJhbSBhcHAgRmlyZWJhc2UgYXBwIHRvIGZldGNoIGNvbmZpZyBmb3IuXHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiBmZXRjaER5bmFtaWNDb25maWcoYXBwRmllbGRzKSB7XHJcbiAgICB2YXIgX2E7XHJcbiAgICBjb25zdCB7IGFwcElkLCBhcGlLZXkgfSA9IGFwcEZpZWxkcztcclxuICAgIGNvbnN0IHJlcXVlc3QgPSB7XHJcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgICBoZWFkZXJzOiBnZXRIZWFkZXJzKGFwaUtleSlcclxuICAgIH07XHJcbiAgICBjb25zdCBhcHBVcmwgPSBEWU5BTUlDX0NPTkZJR19VUkwucmVwbGFjZSgne2FwcC1pZH0nLCBhcHBJZCk7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGFwcFVybCwgcmVxdWVzdCk7XHJcbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzICE9PSAyMDAgJiYgcmVzcG9uc2Uuc3RhdHVzICE9PSAzMDQpIHtcclxuICAgICAgICBsZXQgZXJyb3JNZXNzYWdlID0gJyc7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gVHJ5IHRvIGdldCBhbnkgZXJyb3IgbWVzc2FnZSB0ZXh0IGZyb20gc2VydmVyIHJlc3BvbnNlLlxyXG4gICAgICAgICAgICBjb25zdCBqc29uUmVzcG9uc2UgPSAoYXdhaXQgcmVzcG9uc2UuanNvbigpKTtcclxuICAgICAgICAgICAgaWYgKChfYSA9IGpzb25SZXNwb25zZS5lcnJvcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZSA9IGpzb25SZXNwb25zZS5lcnJvci5tZXNzYWdlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChfaWdub3JlZCkgeyB9XHJcbiAgICAgICAgdGhyb3cgRVJST1JfRkFDVE9SWS5jcmVhdGUoXCJjb25maWctZmV0Y2gtZmFpbGVkXCIgLyogQW5hbHl0aWNzRXJyb3IuQ09ORklHX0ZFVENIX0ZBSUxFRCAqLywge1xyXG4gICAgICAgICAgICBodHRwU3RhdHVzOiByZXNwb25zZS5zdGF0dXMsXHJcbiAgICAgICAgICAgIHJlc3BvbnNlTWVzc2FnZTogZXJyb3JNZXNzYWdlXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xyXG59XHJcbi8qKlxyXG4gKiBGZXRjaGVzIGR5bmFtaWMgY29uZmlnIGZyb20gYmFja2VuZCwgcmV0cnlpbmcgaWYgZmFpbGVkLlxyXG4gKiBAcGFyYW0gYXBwIEZpcmViYXNlIGFwcCB0byBmZXRjaCBjb25maWcgZm9yLlxyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hEeW5hbWljQ29uZmlnV2l0aFJldHJ5KGFwcCwgXHJcbi8vIHJldHJ5RGF0YSBhbmQgdGltZW91dE1pbGxpcyBhcmUgcGFyYW1ldGVyaXplZCB0byBhbGxvdyBwYXNzaW5nIGEgZGlmZmVyZW50IHZhbHVlIGZvciB0ZXN0aW5nLlxyXG5yZXRyeURhdGEgPSBkZWZhdWx0UmV0cnlEYXRhLCB0aW1lb3V0TWlsbGlzKSB7XHJcbiAgICBjb25zdCB7IGFwcElkLCBhcGlLZXksIG1lYXN1cmVtZW50SWQgfSA9IGFwcC5vcHRpb25zO1xyXG4gICAgaWYgKCFhcHBJZCkge1xyXG4gICAgICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwibm8tYXBwLWlkXCIgLyogQW5hbHl0aWNzRXJyb3IuTk9fQVBQX0lEICovKTtcclxuICAgIH1cclxuICAgIGlmICghYXBpS2V5KSB7XHJcbiAgICAgICAgaWYgKG1lYXN1cmVtZW50SWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIG1lYXN1cmVtZW50SWQsXHJcbiAgICAgICAgICAgICAgICBhcHBJZFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcIm5vLWFwaS1rZXlcIiAvKiBBbmFseXRpY3NFcnJvci5OT19BUElfS0VZICovKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHRocm90dGxlTWV0YWRhdGEgPSByZXRyeURhdGEuZ2V0VGhyb3R0bGVNZXRhZGF0YShhcHBJZCkgfHwge1xyXG4gICAgICAgIGJhY2tvZmZDb3VudDogMCxcclxuICAgICAgICB0aHJvdHRsZUVuZFRpbWVNaWxsaXM6IERhdGUubm93KClcclxuICAgIH07XHJcbiAgICBjb25zdCBzaWduYWwgPSBuZXcgQW5hbHl0aWNzQWJvcnRTaWduYWwoKTtcclxuICAgIHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIC8vIE5vdGUgYSB2ZXJ5IGxvdyBkZWxheSwgZWcgPCAxMG1zLCBjYW4gZWxhcHNlIGJlZm9yZSBsaXN0ZW5lcnMgYXJlIGluaXRpYWxpemVkLlxyXG4gICAgICAgIHNpZ25hbC5hYm9ydCgpO1xyXG4gICAgfSwgdGltZW91dE1pbGxpcyAhPT0gdW5kZWZpbmVkID8gdGltZW91dE1pbGxpcyA6IEZFVENIX1RJTUVPVVRfTUlMTElTKTtcclxuICAgIHJldHVybiBhdHRlbXB0RmV0Y2hEeW5hbWljQ29uZmlnV2l0aFJldHJ5KHsgYXBwSWQsIGFwaUtleSwgbWVhc3VyZW1lbnRJZCB9LCB0aHJvdHRsZU1ldGFkYXRhLCBzaWduYWwsIHJldHJ5RGF0YSk7XHJcbn1cclxuLyoqXHJcbiAqIFJ1bnMgb25lIHJldHJ5IGF0dGVtcHQuXHJcbiAqIEBwYXJhbSBhcHBGaWVsZHMgTmVjZXNzYXJ5IGFwcCBjb25maWcgZmllbGRzLlxyXG4gKiBAcGFyYW0gdGhyb3R0bGVNZXRhZGF0YSBPbmdvaW5nIG1ldGFkYXRhIHRvIGRldGVybWluZSB0aHJvdHRsaW5nIHRpbWVzLlxyXG4gKiBAcGFyYW0gc2lnbmFsIEFib3J0IHNpZ25hbC5cclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIGF0dGVtcHRGZXRjaER5bmFtaWNDb25maWdXaXRoUmV0cnkoYXBwRmllbGRzLCB7IHRocm90dGxlRW5kVGltZU1pbGxpcywgYmFja29mZkNvdW50IH0sIHNpZ25hbCwgcmV0cnlEYXRhID0gZGVmYXVsdFJldHJ5RGF0YSAvLyBmb3IgdGVzdGluZ1xyXG4pIHtcclxuICAgIHZhciBfYTtcclxuICAgIGNvbnN0IHsgYXBwSWQsIG1lYXN1cmVtZW50SWQgfSA9IGFwcEZpZWxkcztcclxuICAgIC8vIFN0YXJ0cyB3aXRoIGEgKHBvdGVudGlhbGx5IHplcm8pIHRpbWVvdXQgdG8gc3VwcG9ydCByZXN1bXB0aW9uIGZyb20gc3RvcmVkIHN0YXRlLlxyXG4gICAgLy8gRW5zdXJlcyB0aGUgdGhyb3R0bGUgZW5kIHRpbWUgaXMgaG9ub3JlZCBpZiB0aGUgbGFzdCBhdHRlbXB0IHRpbWVkIG91dC5cclxuICAgIC8vIE5vdGUgdGhlIFNESyB3aWxsIG5ldmVyIG1ha2UgYSByZXF1ZXN0IGlmIHRoZSBmZXRjaCB0aW1lb3V0IGV4cGlyZXMgYXQgdGhpcyBwb2ludC5cclxuICAgIHRyeSB7XHJcbiAgICAgICAgYXdhaXQgc2V0QWJvcnRhYmxlVGltZW91dChzaWduYWwsIHRocm90dGxlRW5kVGltZU1pbGxpcyk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgIGlmIChtZWFzdXJlbWVudElkKSB7XHJcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKGBUaW1lZCBvdXQgZmV0Y2hpbmcgdGhpcyBGaXJlYmFzZSBhcHAncyBtZWFzdXJlbWVudCBJRCBmcm9tIHRoZSBzZXJ2ZXIuYCArXHJcbiAgICAgICAgICAgICAgICBgIEZhbGxpbmcgYmFjayB0byB0aGUgbWVhc3VyZW1lbnQgSUQgJHttZWFzdXJlbWVudElkfWAgK1xyXG4gICAgICAgICAgICAgICAgYCBwcm92aWRlZCBpbiB0aGUgXCJtZWFzdXJlbWVudElkXCIgZmllbGQgaW4gdGhlIGxvY2FsIEZpcmViYXNlIGNvbmZpZy4gWyR7ZSA9PT0gbnVsbCB8fCBlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlLm1lc3NhZ2V9XWApO1xyXG4gICAgICAgICAgICByZXR1cm4geyBhcHBJZCwgbWVhc3VyZW1lbnRJZCB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aHJvdyBlO1xyXG4gICAgfVxyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoRHluYW1pY0NvbmZpZyhhcHBGaWVsZHMpO1xyXG4gICAgICAgIC8vIE5vdGUgdGhlIFNESyBvbmx5IGNsZWFycyB0aHJvdHRsZSBzdGF0ZSBpZiByZXNwb25zZSBpcyBzdWNjZXNzIG9yIG5vbi1yZXRyaWFibGUuXHJcbiAgICAgICAgcmV0cnlEYXRhLmRlbGV0ZVRocm90dGxlTWV0YWRhdGEoYXBwSWQpO1xyXG4gICAgICAgIHJldHVybiByZXNwb25zZTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgY29uc3QgZXJyb3IgPSBlO1xyXG4gICAgICAgIGlmICghaXNSZXRyaWFibGVFcnJvcihlcnJvcikpIHtcclxuICAgICAgICAgICAgcmV0cnlEYXRhLmRlbGV0ZVRocm90dGxlTWV0YWRhdGEoYXBwSWQpO1xyXG4gICAgICAgICAgICBpZiAobWVhc3VyZW1lbnRJZCkge1xyXG4gICAgICAgICAgICAgICAgbG9nZ2VyLndhcm4oYEZhaWxlZCB0byBmZXRjaCB0aGlzIEZpcmViYXNlIGFwcCdzIG1lYXN1cmVtZW50IElEIGZyb20gdGhlIHNlcnZlci5gICtcclxuICAgICAgICAgICAgICAgICAgICBgIEZhbGxpbmcgYmFjayB0byB0aGUgbWVhc3VyZW1lbnQgSUQgJHttZWFzdXJlbWVudElkfWAgK1xyXG4gICAgICAgICAgICAgICAgICAgIGAgcHJvdmlkZWQgaW4gdGhlIFwibWVhc3VyZW1lbnRJZFwiIGZpZWxkIGluIHRoZSBsb2NhbCBGaXJlYmFzZSBjb25maWcuIFske2Vycm9yID09PSBudWxsIHx8IGVycm9yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlcnJvci5tZXNzYWdlfV1gKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7IGFwcElkLCBtZWFzdXJlbWVudElkIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGJhY2tvZmZNaWxsaXMgPSBOdW1iZXIoKF9hID0gZXJyb3IgPT09IG51bGwgfHwgZXJyb3IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVycm9yLmN1c3RvbURhdGEpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5odHRwU3RhdHVzKSA9PT0gNTAzXHJcbiAgICAgICAgICAgID8gY2FsY3VsYXRlQmFja29mZk1pbGxpcyhiYWNrb2ZmQ291bnQsIHJldHJ5RGF0YS5pbnRlcnZhbE1pbGxpcywgTE9OR19SRVRSWV9GQUNUT1IpXHJcbiAgICAgICAgICAgIDogY2FsY3VsYXRlQmFja29mZk1pbGxpcyhiYWNrb2ZmQ291bnQsIHJldHJ5RGF0YS5pbnRlcnZhbE1pbGxpcyk7XHJcbiAgICAgICAgLy8gSW5jcmVtZW50cyBiYWNrb2ZmIHN0YXRlLlxyXG4gICAgICAgIGNvbnN0IHRocm90dGxlTWV0YWRhdGEgPSB7XHJcbiAgICAgICAgICAgIHRocm90dGxlRW5kVGltZU1pbGxpczogRGF0ZS5ub3coKSArIGJhY2tvZmZNaWxsaXMsXHJcbiAgICAgICAgICAgIGJhY2tvZmZDb3VudDogYmFja29mZkNvdW50ICsgMVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gUGVyc2lzdHMgc3RhdGUuXHJcbiAgICAgICAgcmV0cnlEYXRhLnNldFRocm90dGxlTWV0YWRhdGEoYXBwSWQsIHRocm90dGxlTWV0YWRhdGEpO1xyXG4gICAgICAgIGxvZ2dlci5kZWJ1ZyhgQ2FsbGluZyBhdHRlbXB0RmV0Y2ggYWdhaW4gaW4gJHtiYWNrb2ZmTWlsbGlzfSBtaWxsaXNgKTtcclxuICAgICAgICByZXR1cm4gYXR0ZW1wdEZldGNoRHluYW1pY0NvbmZpZ1dpdGhSZXRyeShhcHBGaWVsZHMsIHRocm90dGxlTWV0YWRhdGEsIHNpZ25hbCwgcmV0cnlEYXRhKTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogU3VwcG9ydHMgd2FpdGluZyBvbiBhIGJhY2tvZmYgYnk6XHJcbiAqXHJcbiAqIDx1bD5cclxuICogICA8bGk+UHJvbWlzaWZ5aW5nIHNldFRpbWVvdXQsIHNvIHdlIGNhbiBzZXQgYSB0aW1lb3V0IGluIG91ciBQcm9taXNlIGNoYWluPC9saT5cclxuICogICA8bGk+TGlzdGVuaW5nIG9uIGEgc2lnbmFsIGJ1cyBmb3IgYWJvcnQgZXZlbnRzLCBqdXN0IGxpa2UgdGhlIEZldGNoIEFQSTwvbGk+XHJcbiAqICAgPGxpPkZhaWxpbmcgaW4gdGhlIHNhbWUgd2F5IHRoZSBGZXRjaCBBUEkgZmFpbHMsIHNvIHRpbWluZyBvdXQgYSBsaXZlIHJlcXVlc3QgYW5kIGEgdGhyb3R0bGVkXHJcbiAqICAgICAgIHJlcXVlc3QgYXBwZWFyIHRoZSBzYW1lLjwvbGk+XHJcbiAqIDwvdWw+XHJcbiAqXHJcbiAqIDxwPlZpc2libGUgZm9yIHRlc3RpbmcuXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXRBYm9ydGFibGVUaW1lb3V0KHNpZ25hbCwgdGhyb3R0bGVFbmRUaW1lTWlsbGlzKSB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgIC8vIERlcml2ZXMgYmFja29mZiBmcm9tIGdpdmVuIGVuZCB0aW1lLCBub3JtYWxpemluZyBuZWdhdGl2ZSBudW1iZXJzIHRvIHplcm8uXHJcbiAgICAgICAgY29uc3QgYmFja29mZk1pbGxpcyA9IE1hdGgubWF4KHRocm90dGxlRW5kVGltZU1pbGxpcyAtIERhdGUubm93KCksIDApO1xyXG4gICAgICAgIGNvbnN0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KHJlc29sdmUsIGJhY2tvZmZNaWxsaXMpO1xyXG4gICAgICAgIC8vIEFkZHMgbGlzdGVuZXIsIHJhdGhlciB0aGFuIHNldHMgb25hYm9ydCwgYmVjYXVzZSBzaWduYWwgaXMgYSBzaGFyZWQgb2JqZWN0LlxyXG4gICAgICAgIHNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCgpID0+IHtcclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xyXG4gICAgICAgICAgICAvLyBJZiB0aGUgcmVxdWVzdCBjb21wbGV0ZXMgYmVmb3JlIHRoaXMgdGltZW91dCwgdGhlIHJlamVjdGlvbiBoYXMgbm8gZWZmZWN0LlxyXG4gICAgICAgICAgICByZWplY3QoRVJST1JfRkFDVE9SWS5jcmVhdGUoXCJmZXRjaC10aHJvdHRsZVwiIC8qIEFuYWx5dGljc0Vycm9yLkZFVENIX1RIUk9UVExFICovLCB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdHRsZUVuZFRpbWVNaWxsaXNcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUge0BsaW5rIEVycm9yfSBpbmRpY2F0ZXMgYSBmZXRjaCByZXF1ZXN0IG1heSBzdWNjZWVkIGxhdGVyLlxyXG4gKi9cclxuZnVuY3Rpb24gaXNSZXRyaWFibGVFcnJvcihlKSB7XHJcbiAgICBpZiAoIShlIGluc3RhbmNlb2YgRmlyZWJhc2VFcnJvcikgfHwgIWUuY3VzdG9tRGF0YSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIC8vIFVzZXMgc3RyaW5nIGluZGV4IGRlZmluZWQgYnkgRXJyb3JEYXRhLCB3aGljaCBGaXJlYmFzZUVycm9yIGltcGxlbWVudHMuXHJcbiAgICBjb25zdCBodHRwU3RhdHVzID0gTnVtYmVyKGUuY3VzdG9tRGF0YVsnaHR0cFN0YXR1cyddKTtcclxuICAgIHJldHVybiAoaHR0cFN0YXR1cyA9PT0gNDI5IHx8XHJcbiAgICAgICAgaHR0cFN0YXR1cyA9PT0gNTAwIHx8XHJcbiAgICAgICAgaHR0cFN0YXR1cyA9PT0gNTAzIHx8XHJcbiAgICAgICAgaHR0cFN0YXR1cyA9PT0gNTA0KTtcclxufVxyXG4vKipcclxuICogU2hpbXMgYSBtaW5pbWFsIEFib3J0U2lnbmFsIChjb3BpZWQgZnJvbSBSZW1vdGUgQ29uZmlnKS5cclxuICpcclxuICogPHA+QWJvcnRDb250cm9sbGVyJ3MgQWJvcnRTaWduYWwgY29udmVuaWVudGx5IGRlY291cGxlcyBmZXRjaCB0aW1lb3V0IGxvZ2ljIGZyb20gb3RoZXIgYXNwZWN0c1xyXG4gKiBvZiBuZXR3b3JraW5nLCBzdWNoIGFzIHJldHJpZXMuIEZpcmViYXNlIGRvZXNuJ3QgdXNlIEFib3J0Q29udHJvbGxlciBlbm91Z2ggdG8ganVzdGlmeSBhXHJcbiAqIHBvbHlmaWxsIHJlY29tbWVuZGF0aW9uLCBsaWtlIHdlIGRvIHdpdGggdGhlIEZldGNoIEFQSSwgYnV0IHRoaXMgbWluaW1hbCBzaGltIGNhbiBlYXNpbHkgYmVcclxuICogc3dhcHBlZCBvdXQgaWYvd2hlbiB3ZSBkby5cclxuICovXHJcbmNsYXNzIEFuYWx5dGljc0Fib3J0U2lnbmFsIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzID0gW107XHJcbiAgICB9XHJcbiAgICBhZGRFdmVudExpc3RlbmVyKGxpc3RlbmVyKSB7XHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcbiAgICB9XHJcbiAgICBhYm9ydCgpIHtcclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVyID0+IGxpc3RlbmVyKCkpO1xyXG4gICAgfVxyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBFdmVudCBwYXJhbWV0ZXJzIHRvIHNldCBvbiAnZ3RhZycgZHVyaW5nIGluaXRpYWxpemF0aW9uLlxyXG4gKi9cclxubGV0IGRlZmF1bHRFdmVudFBhcmFtZXRlcnNGb3JJbml0O1xyXG4vKipcclxuICogTG9ncyBhbiBhbmFseXRpY3MgZXZlbnQgdGhyb3VnaCB0aGUgRmlyZWJhc2UgU0RLLlxyXG4gKlxyXG4gKiBAcGFyYW0gZ3RhZ0Z1bmN0aW9uIFdyYXBwZWQgZ3RhZyBmdW5jdGlvbiB0aGF0IHdhaXRzIGZvciBmaWQgdG8gYmUgc2V0IGJlZm9yZSBzZW5kaW5nIGFuIGV2ZW50XHJcbiAqIEBwYXJhbSBldmVudE5hbWUgR29vZ2xlIEFuYWx5dGljcyBldmVudCBuYW1lLCBjaG9vc2UgZnJvbSBzdGFuZGFyZCBsaXN0IG9yIHVzZSBhIGN1c3RvbSBzdHJpbmcuXHJcbiAqIEBwYXJhbSBldmVudFBhcmFtcyBBbmFseXRpY3MgZXZlbnQgcGFyYW1ldGVycy5cclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIGxvZ0V2ZW50JDEoZ3RhZ0Z1bmN0aW9uLCBpbml0aWFsaXphdGlvblByb21pc2UsIGV2ZW50TmFtZSwgZXZlbnRQYXJhbXMsIG9wdGlvbnMpIHtcclxuICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuZ2xvYmFsKSB7XHJcbiAgICAgICAgZ3RhZ0Z1bmN0aW9uKFwiZXZlbnRcIiAvKiBHdGFnQ29tbWFuZC5FVkVOVCAqLywgZXZlbnROYW1lLCBldmVudFBhcmFtcyk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgY29uc3QgbWVhc3VyZW1lbnRJZCA9IGF3YWl0IGluaXRpYWxpemF0aW9uUHJvbWlzZTtcclxuICAgICAgICBjb25zdCBwYXJhbXMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGV2ZW50UGFyYW1zKSwgeyAnc2VuZF90byc6IG1lYXN1cmVtZW50SWQgfSk7XHJcbiAgICAgICAgZ3RhZ0Z1bmN0aW9uKFwiZXZlbnRcIiAvKiBHdGFnQ29tbWFuZC5FVkVOVCAqLywgZXZlbnROYW1lLCBwYXJhbXMpO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBTZXQgc2NyZWVuX25hbWUgcGFyYW1ldGVyIGZvciB0aGlzIEdvb2dsZSBBbmFseXRpY3MgSUQuXHJcbiAqXHJcbiAqIEBkZXByZWNhdGVkIFVzZSB7QGxpbmsgbG9nRXZlbnR9IHdpdGggYGV2ZW50TmFtZWAgYXMgJ3NjcmVlbl92aWV3JyBhbmQgYWRkIHJlbGV2YW50IGBldmVudFBhcmFtc2AuXHJcbiAqIFNlZSB7QGxpbmsgaHR0cHM6Ly9maXJlYmFzZS5nb29nbGUuY29tL2RvY3MvYW5hbHl0aWNzL3NjcmVlbnZpZXdzIHwgVHJhY2sgU2NyZWVudmlld3N9LlxyXG4gKlxyXG4gKiBAcGFyYW0gZ3RhZ0Z1bmN0aW9uIFdyYXBwZWQgZ3RhZyBmdW5jdGlvbiB0aGF0IHdhaXRzIGZvciBmaWQgdG8gYmUgc2V0IGJlZm9yZSBzZW5kaW5nIGFuIGV2ZW50XHJcbiAqIEBwYXJhbSBzY3JlZW5OYW1lIFNjcmVlbiBuYW1lIHN0cmluZyB0byBzZXQuXHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiBzZXRDdXJyZW50U2NyZWVuJDEoZ3RhZ0Z1bmN0aW9uLCBpbml0aWFsaXphdGlvblByb21pc2UsIHNjcmVlbk5hbWUsIG9wdGlvbnMpIHtcclxuICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuZ2xvYmFsKSB7XHJcbiAgICAgICAgZ3RhZ0Z1bmN0aW9uKFwic2V0XCIgLyogR3RhZ0NvbW1hbmQuU0VUICovLCB7ICdzY3JlZW5fbmFtZSc6IHNjcmVlbk5hbWUgfSk7XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgY29uc3QgbWVhc3VyZW1lbnRJZCA9IGF3YWl0IGluaXRpYWxpemF0aW9uUHJvbWlzZTtcclxuICAgICAgICBndGFnRnVuY3Rpb24oXCJjb25maWdcIiAvKiBHdGFnQ29tbWFuZC5DT05GSUcgKi8sIG1lYXN1cmVtZW50SWQsIHtcclxuICAgICAgICAgICAgdXBkYXRlOiB0cnVlLFxyXG4gICAgICAgICAgICAnc2NyZWVuX25hbWUnOiBzY3JlZW5OYW1lXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIFNldCB1c2VyX2lkIHBhcmFtZXRlciBmb3IgdGhpcyBHb29nbGUgQW5hbHl0aWNzIElELlxyXG4gKlxyXG4gKiBAcGFyYW0gZ3RhZ0Z1bmN0aW9uIFdyYXBwZWQgZ3RhZyBmdW5jdGlvbiB0aGF0IHdhaXRzIGZvciBmaWQgdG8gYmUgc2V0IGJlZm9yZSBzZW5kaW5nIGFuIGV2ZW50XHJcbiAqIEBwYXJhbSBpZCBVc2VyIElEIHN0cmluZyB0byBzZXRcclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIHNldFVzZXJJZCQxKGd0YWdGdW5jdGlvbiwgaW5pdGlhbGl6YXRpb25Qcm9taXNlLCBpZCwgb3B0aW9ucykge1xyXG4gICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5nbG9iYWwpIHtcclxuICAgICAgICBndGFnRnVuY3Rpb24oXCJzZXRcIiAvKiBHdGFnQ29tbWFuZC5TRVQgKi8sIHsgJ3VzZXJfaWQnOiBpZCB9KTtcclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBjb25zdCBtZWFzdXJlbWVudElkID0gYXdhaXQgaW5pdGlhbGl6YXRpb25Qcm9taXNlO1xyXG4gICAgICAgIGd0YWdGdW5jdGlvbihcImNvbmZpZ1wiIC8qIEd0YWdDb21tYW5kLkNPTkZJRyAqLywgbWVhc3VyZW1lbnRJZCwge1xyXG4gICAgICAgICAgICB1cGRhdGU6IHRydWUsXHJcbiAgICAgICAgICAgICd1c2VyX2lkJzogaWRcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogU2V0IGFsbCBvdGhlciB1c2VyIHByb3BlcnRpZXMgb3RoZXIgdGhhbiB1c2VyX2lkIGFuZCBzY3JlZW5fbmFtZS5cclxuICpcclxuICogQHBhcmFtIGd0YWdGdW5jdGlvbiBXcmFwcGVkIGd0YWcgZnVuY3Rpb24gdGhhdCB3YWl0cyBmb3IgZmlkIHRvIGJlIHNldCBiZWZvcmUgc2VuZGluZyBhbiBldmVudFxyXG4gKiBAcGFyYW0gcHJvcGVydGllcyBNYXAgb2YgdXNlciBwcm9wZXJ0aWVzIHRvIHNldFxyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gc2V0VXNlclByb3BlcnRpZXMkMShndGFnRnVuY3Rpb24sIGluaXRpYWxpemF0aW9uUHJvbWlzZSwgcHJvcGVydGllcywgb3B0aW9ucykge1xyXG4gICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5nbG9iYWwpIHtcclxuICAgICAgICBjb25zdCBmbGF0UHJvcGVydGllcyA9IHt9O1xyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHByb3BlcnRpZXMpKSB7XHJcbiAgICAgICAgICAgIC8vIHVzZSBkb3Qgbm90YXRpb24gZm9yIG1lcmdlIGJlaGF2aW9yIGluIGd0YWcuanNcclxuICAgICAgICAgICAgZmxhdFByb3BlcnRpZXNbYHVzZXJfcHJvcGVydGllcy4ke2tleX1gXSA9IHByb3BlcnRpZXNba2V5XTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZ3RhZ0Z1bmN0aW9uKFwic2V0XCIgLyogR3RhZ0NvbW1hbmQuU0VUICovLCBmbGF0UHJvcGVydGllcyk7XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgY29uc3QgbWVhc3VyZW1lbnRJZCA9IGF3YWl0IGluaXRpYWxpemF0aW9uUHJvbWlzZTtcclxuICAgICAgICBndGFnRnVuY3Rpb24oXCJjb25maWdcIiAvKiBHdGFnQ29tbWFuZC5DT05GSUcgKi8sIG1lYXN1cmVtZW50SWQsIHtcclxuICAgICAgICAgICAgdXBkYXRlOiB0cnVlLFxyXG4gICAgICAgICAgICAndXNlcl9wcm9wZXJ0aWVzJzogcHJvcGVydGllc1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBSZXRyaWV2ZXMgYSB1bmlxdWUgR29vZ2xlIEFuYWx5dGljcyBpZGVudGlmaWVyIGZvciB0aGUgd2ViIGNsaWVudC5cclxuICogU2VlIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9hbmFseXRpY3MvZGV2Z3VpZGVzL2NvbGxlY3Rpb24vZ2E0L3JlZmVyZW5jZS9jb25maWcjY2xpZW50X2lkIHwgY2xpZW50X2lkfS5cclxuICpcclxuICogQHBhcmFtIGd0YWdGdW5jdGlvbiBXcmFwcGVkIGd0YWcgZnVuY3Rpb24gdGhhdCB3YWl0cyBmb3IgZmlkIHRvIGJlIHNldCBiZWZvcmUgc2VuZGluZyBhbiBldmVudFxyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gaW50ZXJuYWxHZXRHb29nbGVBbmFseXRpY3NDbGllbnRJZChndGFnRnVuY3Rpb24sIGluaXRpYWxpemF0aW9uUHJvbWlzZSkge1xyXG4gICAgY29uc3QgbWVhc3VyZW1lbnRJZCA9IGF3YWl0IGluaXRpYWxpemF0aW9uUHJvbWlzZTtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgZ3RhZ0Z1bmN0aW9uKFwiZ2V0XCIgLyogR3RhZ0NvbW1hbmQuR0VUICovLCBtZWFzdXJlbWVudElkLCAnY2xpZW50X2lkJywgKGNsaWVudElkKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghY2xpZW50SWQpIHtcclxuICAgICAgICAgICAgICAgIHJlamVjdChFUlJPUl9GQUNUT1JZLmNyZWF0ZShcIm5vLWNsaWVudC1pZFwiIC8qIEFuYWx5dGljc0Vycm9yLk5PX0NMSUVOVF9JRCAqLykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlc29sdmUoY2xpZW50SWQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuLyoqXHJcbiAqIFNldCB3aGV0aGVyIGNvbGxlY3Rpb24gaXMgZW5hYmxlZCBmb3IgdGhpcyBJRC5cclxuICpcclxuICogQHBhcmFtIGVuYWJsZWQgSWYgdHJ1ZSwgY29sbGVjdGlvbiBpcyBlbmFibGVkIGZvciB0aGlzIElELlxyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gc2V0QW5hbHl0aWNzQ29sbGVjdGlvbkVuYWJsZWQkMShpbml0aWFsaXphdGlvblByb21pc2UsIGVuYWJsZWQpIHtcclxuICAgIGNvbnN0IG1lYXN1cmVtZW50SWQgPSBhd2FpdCBpbml0aWFsaXphdGlvblByb21pc2U7XHJcbiAgICB3aW5kb3dbYGdhLWRpc2FibGUtJHttZWFzdXJlbWVudElkfWBdID0gIWVuYWJsZWQ7XHJcbn1cclxuLyoqXHJcbiAqIENvbnNlbnQgcGFyYW1ldGVycyB0byBkZWZhdWx0IHRvIGR1cmluZyAnZ3RhZycgaW5pdGlhbGl6YXRpb24uXHJcbiAqL1xyXG5sZXQgZGVmYXVsdENvbnNlbnRTZXR0aW5nc0ZvckluaXQ7XHJcbi8qKlxyXG4gKiBTZXRzIHRoZSB2YXJpYWJsZSB7QGxpbmsgZGVmYXVsdENvbnNlbnRTZXR0aW5nc0ZvckluaXR9IGZvciB1c2UgaW4gdGhlIGluaXRpYWxpemF0aW9uIG9mXHJcbiAqIGFuYWx5dGljcy5cclxuICpcclxuICogQHBhcmFtIGNvbnNlbnRTZXR0aW5ncyBNYXBzIHRoZSBhcHBsaWNhYmxlIGVuZCB1c2VyIGNvbnNlbnQgc3RhdGUgZm9yIGd0YWcuanMuXHJcbiAqL1xyXG5mdW5jdGlvbiBfc2V0Q29uc2VudERlZmF1bHRGb3JJbml0KGNvbnNlbnRTZXR0aW5ncykge1xyXG4gICAgZGVmYXVsdENvbnNlbnRTZXR0aW5nc0ZvckluaXQgPSBjb25zZW50U2V0dGluZ3M7XHJcbn1cclxuLyoqXHJcbiAqIFNldHMgdGhlIHZhcmlhYmxlIGBkZWZhdWx0RXZlbnRQYXJhbWV0ZXJzRm9ySW5pdGAgZm9yIHVzZSBpbiB0aGUgaW5pdGlhbGl6YXRpb24gb2ZcclxuICogYW5hbHl0aWNzLlxyXG4gKlxyXG4gKiBAcGFyYW0gY3VzdG9tUGFyYW1zIEFueSBjdXN0b20gcGFyYW1zIHRoZSB1c2VyIG1heSBwYXNzIHRvIGd0YWcuanMuXHJcbiAqL1xyXG5mdW5jdGlvbiBfc2V0RGVmYXVsdEV2ZW50UGFyYW1ldGVyc0ZvckluaXQoY3VzdG9tUGFyYW1zKSB7XHJcbiAgICBkZWZhdWx0RXZlbnRQYXJhbWV0ZXJzRm9ySW5pdCA9IGN1c3RvbVBhcmFtcztcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiB2YWxpZGF0ZUluZGV4ZWREQigpIHtcclxuICAgIGlmICghaXNJbmRleGVkREJBdmFpbGFibGUoKSkge1xyXG4gICAgICAgIGxvZ2dlci53YXJuKEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwiaW5kZXhlZGRiLXVuYXZhaWxhYmxlXCIgLyogQW5hbHl0aWNzRXJyb3IuSU5ERVhFRERCX1VOQVZBSUxBQkxFICovLCB7XHJcbiAgICAgICAgICAgIGVycm9ySW5mbzogJ0luZGV4ZWREQiBpcyBub3QgYXZhaWxhYmxlIGluIHRoaXMgZW52aXJvbm1lbnQuJ1xyXG4gICAgICAgIH0pLm1lc3NhZ2UpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGF3YWl0IHZhbGlkYXRlSW5kZXhlZERCT3BlbmFibGUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgbG9nZ2VyLndhcm4oRVJST1JfRkFDVE9SWS5jcmVhdGUoXCJpbmRleGVkZGItdW5hdmFpbGFibGVcIiAvKiBBbmFseXRpY3NFcnJvci5JTkRFWEVEREJfVU5BVkFJTEFCTEUgKi8sIHtcclxuICAgICAgICAgICAgICAgIGVycm9ySW5mbzogZSA9PT0gbnVsbCB8fCBlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlLnRvU3RyaW5nKClcclxuICAgICAgICAgICAgfSkubWVzc2FnZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxyXG4vKipcclxuICogSW5pdGlhbGl6ZSB0aGUgYW5hbHl0aWNzIGluc3RhbmNlIGluIGd0YWcuanMgYnkgY2FsbGluZyBjb25maWcgY29tbWFuZCB3aXRoIGZpZC5cclxuICpcclxuICogTk9URTogV2UgY29tYmluZSBhbmFseXRpY3MgaW5pdGlhbGl6YXRpb24gYW5kIHNldHRpbmcgZmlkIHRvZ2V0aGVyIGJlY2F1c2Ugd2Ugd2FudCBmaWQgdG8gYmVcclxuICogcGFydCBvZiB0aGUgYHBhZ2Vfdmlld2AgZXZlbnQgdGhhdCdzIHNlbnQgZHVyaW5nIHRoZSBpbml0aWFsaXphdGlvblxyXG4gKiBAcGFyYW0gYXBwIEZpcmViYXNlIGFwcFxyXG4gKiBAcGFyYW0gZ3RhZ0NvcmUgVGhlIGd0YWcgZnVuY3Rpb24gdGhhdCdzIG5vdCB3cmFwcGVkLlxyXG4gKiBAcGFyYW0gZHluYW1pY0NvbmZpZ1Byb21pc2VzTGlzdCBBcnJheSBvZiBhbGwgZHluYW1pYyBjb25maWcgcHJvbWlzZXMuXHJcbiAqIEBwYXJhbSBtZWFzdXJlbWVudElkVG9BcHBJZCBNYXBzIG1lYXN1cmVtZW50SUQgdG8gYXBwSUQuXHJcbiAqIEBwYXJhbSBpbnN0YWxsYXRpb25zIF9GaXJlYmFzZUluc3RhbGxhdGlvbnNJbnRlcm5hbCBpbnN0YW5jZS5cclxuICpcclxuICogQHJldHVybnMgTWVhc3VyZW1lbnQgSUQuXHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiBfaW5pdGlhbGl6ZUFuYWx5dGljcyhhcHAsIGR5bmFtaWNDb25maWdQcm9taXNlc0xpc3QsIG1lYXN1cmVtZW50SWRUb0FwcElkLCBpbnN0YWxsYXRpb25zLCBndGFnQ29yZSwgZGF0YUxheWVyTmFtZSwgb3B0aW9ucykge1xyXG4gICAgdmFyIF9hO1xyXG4gICAgY29uc3QgZHluYW1pY0NvbmZpZ1Byb21pc2UgPSBmZXRjaER5bmFtaWNDb25maWdXaXRoUmV0cnkoYXBwKTtcclxuICAgIC8vIE9uY2UgZmV0Y2hlZCwgbWFwIG1lYXN1cmVtZW50SWRzIHRvIGFwcElkLCBmb3IgZWFzZSBvZiBsb29rdXAgaW4gd3JhcHBlZCBndGFnIGZ1bmN0aW9uLlxyXG4gICAgZHluYW1pY0NvbmZpZ1Byb21pc2VcclxuICAgICAgICAudGhlbihjb25maWcgPT4ge1xyXG4gICAgICAgIG1lYXN1cmVtZW50SWRUb0FwcElkW2NvbmZpZy5tZWFzdXJlbWVudElkXSA9IGNvbmZpZy5hcHBJZDtcclxuICAgICAgICBpZiAoYXBwLm9wdGlvbnMubWVhc3VyZW1lbnRJZCAmJlxyXG4gICAgICAgICAgICBjb25maWcubWVhc3VyZW1lbnRJZCAhPT0gYXBwLm9wdGlvbnMubWVhc3VyZW1lbnRJZCkge1xyXG4gICAgICAgICAgICBsb2dnZXIud2FybihgVGhlIG1lYXN1cmVtZW50IElEIGluIHRoZSBsb2NhbCBGaXJlYmFzZSBjb25maWcgKCR7YXBwLm9wdGlvbnMubWVhc3VyZW1lbnRJZH0pYCArXHJcbiAgICAgICAgICAgICAgICBgIGRvZXMgbm90IG1hdGNoIHRoZSBtZWFzdXJlbWVudCBJRCBmZXRjaGVkIGZyb20gdGhlIHNlcnZlciAoJHtjb25maWcubWVhc3VyZW1lbnRJZH0pLmAgK1xyXG4gICAgICAgICAgICAgICAgYCBUbyBlbnN1cmUgYW5hbHl0aWNzIGV2ZW50cyBhcmUgYWx3YXlzIHNlbnQgdG8gdGhlIGNvcnJlY3QgQW5hbHl0aWNzIHByb3BlcnR5LGAgK1xyXG4gICAgICAgICAgICAgICAgYCB1cGRhdGUgdGhlYCArXHJcbiAgICAgICAgICAgICAgICBgIG1lYXN1cmVtZW50IElEIGZpZWxkIGluIHRoZSBsb2NhbCBjb25maWcgb3IgcmVtb3ZlIGl0IGZyb20gdGhlIGxvY2FsIGNvbmZpZy5gKTtcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG4gICAgICAgIC5jYXRjaChlID0+IGxvZ2dlci5lcnJvcihlKSk7XHJcbiAgICAvLyBBZGQgdG8gbGlzdCB0byB0cmFjayBzdGF0ZSBvZiBhbGwgZHluYW1pYyBjb25maWcgcHJvbWlzZXMuXHJcbiAgICBkeW5hbWljQ29uZmlnUHJvbWlzZXNMaXN0LnB1c2goZHluYW1pY0NvbmZpZ1Byb21pc2UpO1xyXG4gICAgY29uc3QgZmlkUHJvbWlzZSA9IHZhbGlkYXRlSW5kZXhlZERCKCkudGhlbihlbnZJc1ZhbGlkID0+IHtcclxuICAgICAgICBpZiAoZW52SXNWYWxpZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gaW5zdGFsbGF0aW9ucy5nZXRJZCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIGNvbnN0IFtkeW5hbWljQ29uZmlnLCBmaWRdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xyXG4gICAgICAgIGR5bmFtaWNDb25maWdQcm9taXNlLFxyXG4gICAgICAgIGZpZFByb21pc2VcclxuICAgIF0pO1xyXG4gICAgLy8gRGV0ZWN0IGlmIHVzZXIgaGFzIGFscmVhZHkgcHV0IHRoZSBndGFnIDxzY3JpcHQ+IHRhZyBvbiB0aGlzIHBhZ2Ugd2l0aCB0aGUgcGFzc2VkIGluXHJcbiAgICAvLyBkYXRhIGxheWVyIG5hbWUuXHJcbiAgICBpZiAoIWZpbmRHdGFnU2NyaXB0T25QYWdlKGRhdGFMYXllck5hbWUpKSB7XHJcbiAgICAgICAgaW5zZXJ0U2NyaXB0VGFnKGRhdGFMYXllck5hbWUsIGR5bmFtaWNDb25maWcubWVhc3VyZW1lbnRJZCk7XHJcbiAgICB9XHJcbiAgICAvLyBEZXRlY3RzIGlmIHRoZXJlIGFyZSBjb25zZW50IHNldHRpbmdzIHRoYXQgbmVlZCB0byBiZSBjb25maWd1cmVkLlxyXG4gICAgaWYgKGRlZmF1bHRDb25zZW50U2V0dGluZ3NGb3JJbml0KSB7XHJcbiAgICAgICAgZ3RhZ0NvcmUoXCJjb25zZW50XCIgLyogR3RhZ0NvbW1hbmQuQ09OU0VOVCAqLywgJ2RlZmF1bHQnLCBkZWZhdWx0Q29uc2VudFNldHRpbmdzRm9ySW5pdCk7XHJcbiAgICAgICAgX3NldENvbnNlbnREZWZhdWx0Rm9ySW5pdCh1bmRlZmluZWQpO1xyXG4gICAgfVxyXG4gICAgLy8gVGhpcyBjb21tYW5kIGluaXRpYWxpemVzIGd0YWcuanMgYW5kIG9ubHkgbmVlZHMgdG8gYmUgY2FsbGVkIG9uY2UgZm9yIHRoZSBlbnRpcmUgd2ViIGFwcCxcclxuICAgIC8vIGJ1dCBzaW5jZSBpdCBpcyBpZGVtcG90ZW50LCB3ZSBjYW4gY2FsbCBpdCBtdWx0aXBsZSB0aW1lcy5cclxuICAgIC8vIFdlIGtlZXAgaXQgdG9nZXRoZXIgd2l0aCBvdGhlciBpbml0aWFsaXphdGlvbiBsb2dpYyBmb3IgYmV0dGVyIGNvZGUgc3RydWN0dXJlLlxyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxuICAgIGd0YWdDb3JlKCdqcycsIG5ldyBEYXRlKCkpO1xyXG4gICAgLy8gVXNlciBjb25maWcgYWRkZWQgZmlyc3QuIFdlIGRvbid0IHdhbnQgdXNlcnMgdG8gYWNjaWRlbnRhbGx5IG92ZXJ3cml0ZVxyXG4gICAgLy8gYmFzZSBGaXJlYmFzZSBjb25maWcgcHJvcGVydGllcy5cclxuICAgIGNvbnN0IGNvbmZpZ1Byb3BlcnRpZXMgPSAoX2EgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuY29uZmlnKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB7fTtcclxuICAgIC8vIGd1YXJkIGFnYWluc3QgZGV2ZWxvcGVycyBhY2NpZGVudGFsbHkgc2V0dGluZyBwcm9wZXJ0aWVzIHdpdGggcHJlZml4IGBmaXJlYmFzZV9gXHJcbiAgICBjb25maWdQcm9wZXJ0aWVzW09SSUdJTl9LRVldID0gJ2ZpcmViYXNlJztcclxuICAgIGNvbmZpZ1Byb3BlcnRpZXMudXBkYXRlID0gdHJ1ZTtcclxuICAgIGlmIChmaWQgIT0gbnVsbCkge1xyXG4gICAgICAgIGNvbmZpZ1Byb3BlcnRpZXNbR0FfRklEX0tFWV0gPSBmaWQ7XHJcbiAgICB9XHJcbiAgICAvLyBJdCBzaG91bGQgYmUgdGhlIGZpcnN0IGNvbmZpZyBjb21tYW5kIGNhbGxlZCBvbiB0aGlzIEdBLUlEXHJcbiAgICAvLyBJbml0aWFsaXplIHRoaXMgR0EtSUQgYW5kIHNldCBGSUQgb24gaXQgdXNpbmcgdGhlIGd0YWcgY29uZmlnIEFQSS5cclxuICAgIC8vIE5vdGU6IFRoaXMgd2lsbCB0cmlnZ2VyIGEgcGFnZV92aWV3IGV2ZW50IHVubGVzcyAnc2VuZF9wYWdlX3ZpZXcnIGlzIHNldCB0byBmYWxzZSBpblxyXG4gICAgLy8gYGNvbmZpZ1Byb3BlcnRpZXNgLlxyXG4gICAgZ3RhZ0NvcmUoXCJjb25maWdcIiAvKiBHdGFnQ29tbWFuZC5DT05GSUcgKi8sIGR5bmFtaWNDb25maWcubWVhc3VyZW1lbnRJZCwgY29uZmlnUHJvcGVydGllcyk7XHJcbiAgICAvLyBEZXRlY3RzIGlmIHRoZXJlIGlzIGRhdGEgdGhhdCB3aWxsIGJlIHNldCBvbiBldmVyeSBldmVudCBsb2dnZWQgZnJvbSB0aGUgU0RLLlxyXG4gICAgaWYgKGRlZmF1bHRFdmVudFBhcmFtZXRlcnNGb3JJbml0KSB7XHJcbiAgICAgICAgZ3RhZ0NvcmUoXCJzZXRcIiAvKiBHdGFnQ29tbWFuZC5TRVQgKi8sIGRlZmF1bHRFdmVudFBhcmFtZXRlcnNGb3JJbml0KTtcclxuICAgICAgICBfc2V0RGVmYXVsdEV2ZW50UGFyYW1ldGVyc0ZvckluaXQodW5kZWZpbmVkKTtcclxuICAgIH1cclxuICAgIHJldHVybiBkeW5hbWljQ29uZmlnLm1lYXN1cmVtZW50SWQ7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIEFuYWx5dGljcyBTZXJ2aWNlIGNsYXNzLlxyXG4gKi9cclxuY2xhc3MgQW5hbHl0aWNzU2VydmljZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihhcHApIHtcclxuICAgICAgICB0aGlzLmFwcCA9IGFwcDtcclxuICAgIH1cclxuICAgIF9kZWxldGUoKSB7XHJcbiAgICAgICAgZGVsZXRlIGluaXRpYWxpemF0aW9uUHJvbWlzZXNNYXBbdGhpcy5hcHAub3B0aW9ucy5hcHBJZF07XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBNYXBzIGFwcElkIHRvIGZ1bGwgaW5pdGlhbGl6YXRpb24gcHJvbWlzZS4gV3JhcHBlZCBndGFnIGNhbGxzIG11c3Qgd2FpdCBvblxyXG4gKiBhbGwgb3Igc29tZSBvZiB0aGVzZSwgZGVwZW5kaW5nIG9uIHRoZSBjYWxsJ3MgYHNlbmRfdG9gIHBhcmFtIGFuZCB0aGUgc3RhdHVzXHJcbiAqIG9mIHRoZSBkeW5hbWljIGNvbmZpZyBmZXRjaGVzIChzZWUgYmVsb3cpLlxyXG4gKi9cclxubGV0IGluaXRpYWxpemF0aW9uUHJvbWlzZXNNYXAgPSB7fTtcclxuLyoqXHJcbiAqIExpc3Qgb2YgZHluYW1pYyBjb25maWcgZmV0Y2ggcHJvbWlzZXMuIEluIGNlcnRhaW4gY2FzZXMsIHdyYXBwZWQgZ3RhZyBjYWxsc1xyXG4gKiB3YWl0IG9uIGFsbCB0aGVzZSB0byBiZSBjb21wbGV0ZSBpbiBvcmRlciB0byBkZXRlcm1pbmUgaWYgaXQgY2FuIHNlbGVjdGl2ZWx5XHJcbiAqIHdhaXQgZm9yIG9ubHkgY2VydGFpbiBpbml0aWFsaXphdGlvbiAoRklEKSBwcm9taXNlcyBvciBpZiBpdCBtdXN0IHdhaXQgZm9yIGFsbC5cclxuICovXHJcbmxldCBkeW5hbWljQ29uZmlnUHJvbWlzZXNMaXN0ID0gW107XHJcbi8qKlxyXG4gKiBNYXBzIGZldGNoZWQgbWVhc3VyZW1lbnRJZHMgdG8gYXBwSWQuIFBvcHVsYXRlZCB3aGVuIHRoZSBhcHAncyBkeW5hbWljIGNvbmZpZ1xyXG4gKiBmZXRjaCBjb21wbGV0ZXMuIElmIGFscmVhZHkgcG9wdWxhdGVkLCBndGFnIGNvbmZpZyBjYWxscyBjYW4gdXNlIHRoaXMgdG9cclxuICogc2VsZWN0aXZlbHkgd2FpdCBmb3Igb25seSB0aGlzIGFwcCdzIGluaXRpYWxpemF0aW9uIHByb21pc2UgKEZJRCkgaW5zdGVhZCBvZiBhbGxcclxuICogaW5pdGlhbGl6YXRpb24gcHJvbWlzZXMuXHJcbiAqL1xyXG5jb25zdCBtZWFzdXJlbWVudElkVG9BcHBJZCA9IHt9O1xyXG4vKipcclxuICogTmFtZSBmb3Igd2luZG93IGdsb2JhbCBkYXRhIGxheWVyIGFycmF5IHVzZWQgYnkgR0E6IGRlZmF1bHRzIHRvICdkYXRhTGF5ZXInLlxyXG4gKi9cclxubGV0IGRhdGFMYXllck5hbWUgPSAnZGF0YUxheWVyJztcclxuLyoqXHJcbiAqIE5hbWUgZm9yIHdpbmRvdyBnbG9iYWwgZ3RhZyBmdW5jdGlvbiB1c2VkIGJ5IEdBOiBkZWZhdWx0cyB0byAnZ3RhZycuXHJcbiAqL1xyXG5sZXQgZ3RhZ05hbWUgPSAnZ3RhZyc7XHJcbi8qKlxyXG4gKiBSZXByb2R1Y3Rpb24gb2Ygc3RhbmRhcmQgZ3RhZyBmdW5jdGlvbiBvciByZWZlcmVuY2UgdG8gZXhpc3RpbmdcclxuICogZ3RhZyBmdW5jdGlvbiBvbiB3aW5kb3cgb2JqZWN0LlxyXG4gKi9cclxubGV0IGd0YWdDb3JlRnVuY3Rpb247XHJcbi8qKlxyXG4gKiBXcmFwcGVyIGFyb3VuZCBndGFnIGZ1bmN0aW9uIHRoYXQgZW5zdXJlcyBGSUQgaXMgc2VudCB3aXRoIGFsbFxyXG4gKiByZWxldmFudCBldmVudCBhbmQgY29uZmlnIGNhbGxzLlxyXG4gKi9cclxubGV0IHdyYXBwZWRHdGFnRnVuY3Rpb247XHJcbi8qKlxyXG4gKiBGbGFnIHRvIGVuc3VyZSBwYWdlIGluaXRpYWxpemF0aW9uIHN0ZXBzIChjcmVhdGlvbiBvciB3cmFwcGluZyBvZlxyXG4gKiBkYXRhTGF5ZXIgYW5kIGd0YWcgc2NyaXB0KSBhcmUgb25seSBydW4gb25jZSBwZXIgcGFnZSBsb2FkLlxyXG4gKi9cclxubGV0IGdsb2JhbEluaXREb25lID0gZmFsc2U7XHJcbi8qKlxyXG4gKiBDb25maWd1cmVzIEZpcmViYXNlIEFuYWx5dGljcyB0byB1c2UgY3VzdG9tIGBndGFnYCBvciBgZGF0YUxheWVyYCBuYW1lcy5cclxuICogSW50ZW5kZWQgdG8gYmUgdXNlZCBpZiBgZ3RhZy5qc2Agc2NyaXB0IGhhcyBiZWVuIGluc3RhbGxlZCBvblxyXG4gKiB0aGlzIHBhZ2UgaW5kZXBlbmRlbnRseSBvZiBGaXJlYmFzZSBBbmFseXRpY3MsIGFuZCBpcyB1c2luZyBub24tZGVmYXVsdFxyXG4gKiBuYW1lcyBmb3IgZWl0aGVyIHRoZSBgZ3RhZ2AgZnVuY3Rpb24gb3IgZm9yIGBkYXRhTGF5ZXJgLlxyXG4gKiBNdXN0IGJlIGNhbGxlZCBiZWZvcmUgY2FsbGluZyBgZ2V0QW5hbHl0aWNzKClgIG9yIGl0IHdvbid0XHJcbiAqIGhhdmUgYW55IGVmZmVjdC5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKlxyXG4gKiBAcGFyYW0gb3B0aW9ucyAtIEN1c3RvbSBndGFnIGFuZCBkYXRhTGF5ZXIgbmFtZXMuXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXR0aW5ncyhvcHRpb25zKSB7XHJcbiAgICBpZiAoZ2xvYmFsSW5pdERvbmUpIHtcclxuICAgICAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcImFscmVhZHktaW5pdGlhbGl6ZWRcIiAvKiBBbmFseXRpY3NFcnJvci5BTFJFQURZX0lOSVRJQUxJWkVEICovKTtcclxuICAgIH1cclxuICAgIGlmIChvcHRpb25zLmRhdGFMYXllck5hbWUpIHtcclxuICAgICAgICBkYXRhTGF5ZXJOYW1lID0gb3B0aW9ucy5kYXRhTGF5ZXJOYW1lO1xyXG4gICAgfVxyXG4gICAgaWYgKG9wdGlvbnMuZ3RhZ05hbWUpIHtcclxuICAgICAgICBndGFnTmFtZSA9IG9wdGlvbnMuZ3RhZ05hbWU7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgdHJ1ZSBpZiBubyBlbnZpcm9ubWVudCBtaXNtYXRjaCBpcyBmb3VuZC5cclxuICogSWYgZW52aXJvbm1lbnQgbWlzbWF0Y2hlcyBhcmUgZm91bmQsIHRocm93cyBhbiBJTlZBTElEX0FOQUxZVElDU19DT05URVhUXHJcbiAqIGVycm9yIHRoYXQgYWxzbyBsaXN0cyBkZXRhaWxzIGZvciBlYWNoIG1pc21hdGNoIGZvdW5kLlxyXG4gKi9cclxuZnVuY3Rpb24gd2Fybk9uQnJvd3NlckNvbnRleHRNaXNtYXRjaCgpIHtcclxuICAgIGNvbnN0IG1pc21hdGNoZWRFbnZNZXNzYWdlcyA9IFtdO1xyXG4gICAgaWYgKGlzQnJvd3NlckV4dGVuc2lvbigpKSB7XHJcbiAgICAgICAgbWlzbWF0Y2hlZEVudk1lc3NhZ2VzLnB1c2goJ1RoaXMgaXMgYSBicm93c2VyIGV4dGVuc2lvbiBlbnZpcm9ubWVudC4nKTtcclxuICAgIH1cclxuICAgIGlmICghYXJlQ29va2llc0VuYWJsZWQoKSkge1xyXG4gICAgICAgIG1pc21hdGNoZWRFbnZNZXNzYWdlcy5wdXNoKCdDb29raWVzIGFyZSBub3QgYXZhaWxhYmxlLicpO1xyXG4gICAgfVxyXG4gICAgaWYgKG1pc21hdGNoZWRFbnZNZXNzYWdlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgY29uc3QgZGV0YWlscyA9IG1pc21hdGNoZWRFbnZNZXNzYWdlc1xyXG4gICAgICAgICAgICAubWFwKChtZXNzYWdlLCBpbmRleCkgPT4gYCgke2luZGV4ICsgMX0pICR7bWVzc2FnZX1gKVxyXG4gICAgICAgICAgICAuam9pbignICcpO1xyXG4gICAgICAgIGNvbnN0IGVyciA9IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwiaW52YWxpZC1hbmFseXRpY3MtY29udGV4dFwiIC8qIEFuYWx5dGljc0Vycm9yLklOVkFMSURfQU5BTFlUSUNTX0NPTlRFWFQgKi8sIHtcclxuICAgICAgICAgICAgZXJyb3JJbmZvOiBkZXRhaWxzXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbG9nZ2VyLndhcm4oZXJyLm1lc3NhZ2UpO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBBbmFseXRpY3MgaW5zdGFuY2UgZmFjdG9yeS5cclxuICogQGludGVybmFsXHJcbiAqL1xyXG5mdW5jdGlvbiBmYWN0b3J5KGFwcCwgaW5zdGFsbGF0aW9ucywgb3B0aW9ucykge1xyXG4gICAgd2Fybk9uQnJvd3NlckNvbnRleHRNaXNtYXRjaCgpO1xyXG4gICAgY29uc3QgYXBwSWQgPSBhcHAub3B0aW9ucy5hcHBJZDtcclxuICAgIGlmICghYXBwSWQpIHtcclxuICAgICAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcIm5vLWFwcC1pZFwiIC8qIEFuYWx5dGljc0Vycm9yLk5PX0FQUF9JRCAqLyk7XHJcbiAgICB9XHJcbiAgICBpZiAoIWFwcC5vcHRpb25zLmFwaUtleSkge1xyXG4gICAgICAgIGlmIChhcHAub3B0aW9ucy5tZWFzdXJlbWVudElkKSB7XHJcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKGBUaGUgXCJhcGlLZXlcIiBmaWVsZCBpcyBlbXB0eSBpbiB0aGUgbG9jYWwgRmlyZWJhc2UgY29uZmlnLiBUaGlzIGlzIG5lZWRlZCB0byBmZXRjaCB0aGUgbGF0ZXN0YCArXHJcbiAgICAgICAgICAgICAgICBgIG1lYXN1cmVtZW50IElEIGZvciB0aGlzIEZpcmViYXNlIGFwcC4gRmFsbGluZyBiYWNrIHRvIHRoZSBtZWFzdXJlbWVudCBJRCAke2FwcC5vcHRpb25zLm1lYXN1cmVtZW50SWR9YCArXHJcbiAgICAgICAgICAgICAgICBgIHByb3ZpZGVkIGluIHRoZSBcIm1lYXN1cmVtZW50SWRcIiBmaWVsZCBpbiB0aGUgbG9jYWwgRmlyZWJhc2UgY29uZmlnLmApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgRVJST1JfRkFDVE9SWS5jcmVhdGUoXCJuby1hcGkta2V5XCIgLyogQW5hbHl0aWNzRXJyb3IuTk9fQVBJX0tFWSAqLyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKGluaXRpYWxpemF0aW9uUHJvbWlzZXNNYXBbYXBwSWRdICE9IG51bGwpIHtcclxuICAgICAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcImFscmVhZHktZXhpc3RzXCIgLyogQW5hbHl0aWNzRXJyb3IuQUxSRUFEWV9FWElTVFMgKi8sIHtcclxuICAgICAgICAgICAgaWQ6IGFwcElkXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAoIWdsb2JhbEluaXREb25lKSB7XHJcbiAgICAgICAgLy8gU3RlcHMgaGVyZSBzaG91bGQgb25seSBiZSBkb25lIG9uY2UgcGVyIHBhZ2U6IGNyZWF0aW9uIG9yIHdyYXBwaW5nXHJcbiAgICAgICAgLy8gb2YgZGF0YUxheWVyIGFuZCBnbG9iYWwgZ3RhZyBmdW5jdGlvbi5cclxuICAgICAgICBnZXRPckNyZWF0ZURhdGFMYXllcihkYXRhTGF5ZXJOYW1lKTtcclxuICAgICAgICBjb25zdCB7IHdyYXBwZWRHdGFnLCBndGFnQ29yZSB9ID0gd3JhcE9yQ3JlYXRlR3RhZyhpbml0aWFsaXphdGlvblByb21pc2VzTWFwLCBkeW5hbWljQ29uZmlnUHJvbWlzZXNMaXN0LCBtZWFzdXJlbWVudElkVG9BcHBJZCwgZGF0YUxheWVyTmFtZSwgZ3RhZ05hbWUpO1xyXG4gICAgICAgIHdyYXBwZWRHdGFnRnVuY3Rpb24gPSB3cmFwcGVkR3RhZztcclxuICAgICAgICBndGFnQ29yZUZ1bmN0aW9uID0gZ3RhZ0NvcmU7XHJcbiAgICAgICAgZ2xvYmFsSW5pdERvbmUgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgLy8gQXN5bmMgYnV0IG5vbi1ibG9ja2luZy5cclxuICAgIC8vIFRoaXMgbWFwIHJlZmxlY3RzIHRoZSBjb21wbGV0aW9uIHN0YXRlIG9mIGFsbCBwcm9taXNlcyBmb3IgZWFjaCBhcHBJZC5cclxuICAgIGluaXRpYWxpemF0aW9uUHJvbWlzZXNNYXBbYXBwSWRdID0gX2luaXRpYWxpemVBbmFseXRpY3MoYXBwLCBkeW5hbWljQ29uZmlnUHJvbWlzZXNMaXN0LCBtZWFzdXJlbWVudElkVG9BcHBJZCwgaW5zdGFsbGF0aW9ucywgZ3RhZ0NvcmVGdW5jdGlvbiwgZGF0YUxheWVyTmFtZSwgb3B0aW9ucyk7XHJcbiAgICBjb25zdCBhbmFseXRpY3NJbnN0YW5jZSA9IG5ldyBBbmFseXRpY3NTZXJ2aWNlKGFwcCk7XHJcbiAgICByZXR1cm4gYW5hbHl0aWNzSW5zdGFuY2U7XHJcbn1cblxuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqL1xyXG4vKipcclxuICogUmV0dXJucyBhbiB7QGxpbmsgQW5hbHl0aWNzfSBpbnN0YW5jZSBmb3IgdGhlIGdpdmVuIGFwcC5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKlxyXG4gKiBAcGFyYW0gYXBwIC0gVGhlIHtAbGluayBAZmlyZWJhc2UvYXBwI0ZpcmViYXNlQXBwfSB0byB1c2UuXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRBbmFseXRpY3MoYXBwID0gZ2V0QXBwKCkpIHtcclxuICAgIGFwcCA9IGdldE1vZHVsYXJJbnN0YW5jZShhcHApO1xyXG4gICAgLy8gRGVwZW5kZW5jaWVzXHJcbiAgICBjb25zdCBhbmFseXRpY3NQcm92aWRlciA9IF9nZXRQcm92aWRlcihhcHAsIEFOQUxZVElDU19UWVBFKTtcclxuICAgIGlmIChhbmFseXRpY3NQcm92aWRlci5pc0luaXRpYWxpemVkKCkpIHtcclxuICAgICAgICByZXR1cm4gYW5hbHl0aWNzUHJvdmlkZXIuZ2V0SW1tZWRpYXRlKCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaW5pdGlhbGl6ZUFuYWx5dGljcyhhcHApO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIGFuIHtAbGluayBBbmFseXRpY3N9IGluc3RhbmNlIGZvciB0aGUgZ2l2ZW4gYXBwLlxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqXHJcbiAqIEBwYXJhbSBhcHAgLSBUaGUge0BsaW5rIEBmaXJlYmFzZS9hcHAjRmlyZWJhc2VBcHB9IHRvIHVzZS5cclxuICovXHJcbmZ1bmN0aW9uIGluaXRpYWxpemVBbmFseXRpY3MoYXBwLCBvcHRpb25zID0ge30pIHtcclxuICAgIC8vIERlcGVuZGVuY2llc1xyXG4gICAgY29uc3QgYW5hbHl0aWNzUHJvdmlkZXIgPSBfZ2V0UHJvdmlkZXIoYXBwLCBBTkFMWVRJQ1NfVFlQRSk7XHJcbiAgICBpZiAoYW5hbHl0aWNzUHJvdmlkZXIuaXNJbml0aWFsaXplZCgpKSB7XHJcbiAgICAgICAgY29uc3QgZXhpc3RpbmdJbnN0YW5jZSA9IGFuYWx5dGljc1Byb3ZpZGVyLmdldEltbWVkaWF0ZSgpO1xyXG4gICAgICAgIGlmIChkZWVwRXF1YWwob3B0aW9ucywgYW5hbHl0aWNzUHJvdmlkZXIuZ2V0T3B0aW9ucygpKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZXhpc3RpbmdJbnN0YW5jZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwiYWxyZWFkeS1pbml0aWFsaXplZFwiIC8qIEFuYWx5dGljc0Vycm9yLkFMUkVBRFlfSU5JVElBTElaRUQgKi8pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbnN0IGFuYWx5dGljc0luc3RhbmNlID0gYW5hbHl0aWNzUHJvdmlkZXIuaW5pdGlhbGl6ZSh7IG9wdGlvbnMgfSk7XHJcbiAgICByZXR1cm4gYW5hbHl0aWNzSW5zdGFuY2U7XHJcbn1cclxuLyoqXHJcbiAqIFRoaXMgaXMgYSBwdWJsaWMgc3RhdGljIG1ldGhvZCBwcm92aWRlZCB0byB1c2VycyB0aGF0IHdyYXBzIGZvdXIgZGlmZmVyZW50IGNoZWNrczpcclxuICpcclxuICogMS4gQ2hlY2sgaWYgaXQncyBub3QgYSBicm93c2VyIGV4dGVuc2lvbiBlbnZpcm9ubWVudC5cclxuICogMi4gQ2hlY2sgaWYgY29va2llcyBhcmUgZW5hYmxlZCBpbiBjdXJyZW50IGJyb3dzZXIuXHJcbiAqIDMuIENoZWNrIGlmIEluZGV4ZWREQiBpcyBzdXBwb3J0ZWQgYnkgdGhlIGJyb3dzZXIgZW52aXJvbm1lbnQuXHJcbiAqIDQuIENoZWNrIGlmIHRoZSBjdXJyZW50IGJyb3dzZXIgY29udGV4dCBpcyB2YWxpZCBmb3IgdXNpbmcgYEluZGV4ZWREQi5vcGVuKClgLlxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqXHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiBpc1N1cHBvcnRlZCgpIHtcclxuICAgIGlmIChpc0Jyb3dzZXJFeHRlbnNpb24oKSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGlmICghYXJlQ29va2llc0VuYWJsZWQoKSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGlmICghaXNJbmRleGVkREJBdmFpbGFibGUoKSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgaXNEQk9wZW5hYmxlID0gYXdhaXQgdmFsaWRhdGVJbmRleGVkREJPcGVuYWJsZSgpO1xyXG4gICAgICAgIHJldHVybiBpc0RCT3BlbmFibGU7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIFVzZSBndGFnIGBjb25maWdgIGNvbW1hbmQgdG8gc2V0IGBzY3JlZW5fbmFtZWAuXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICpcclxuICogQGRlcHJlY2F0ZWQgVXNlIHtAbGluayBsb2dFdmVudH0gd2l0aCBgZXZlbnROYW1lYCBhcyAnc2NyZWVuX3ZpZXcnIGFuZCBhZGQgcmVsZXZhbnQgYGV2ZW50UGFyYW1zYC5cclxuICogU2VlIHtAbGluayBodHRwczovL2ZpcmViYXNlLmdvb2dsZS5jb20vZG9jcy9hbmFseXRpY3Mvc2NyZWVudmlld3MgfCBUcmFjayBTY3JlZW52aWV3c30uXHJcbiAqXHJcbiAqIEBwYXJhbSBhbmFseXRpY3NJbnN0YW5jZSAtIFRoZSB7QGxpbmsgQW5hbHl0aWNzfSBpbnN0YW5jZS5cclxuICogQHBhcmFtIHNjcmVlbk5hbWUgLSBTY3JlZW4gbmFtZSB0byBzZXQuXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXRDdXJyZW50U2NyZWVuKGFuYWx5dGljc0luc3RhbmNlLCBzY3JlZW5OYW1lLCBvcHRpb25zKSB7XHJcbiAgICBhbmFseXRpY3NJbnN0YW5jZSA9IGdldE1vZHVsYXJJbnN0YW5jZShhbmFseXRpY3NJbnN0YW5jZSk7XHJcbiAgICBzZXRDdXJyZW50U2NyZWVuJDEod3JhcHBlZEd0YWdGdW5jdGlvbiwgaW5pdGlhbGl6YXRpb25Qcm9taXNlc01hcFthbmFseXRpY3NJbnN0YW5jZS5hcHAub3B0aW9ucy5hcHBJZF0sIHNjcmVlbk5hbWUsIG9wdGlvbnMpLmNhdGNoKGUgPT4gbG9nZ2VyLmVycm9yKGUpKTtcclxufVxyXG4vKipcclxuICogUmV0cmlldmVzIGEgdW5pcXVlIEdvb2dsZSBBbmFseXRpY3MgaWRlbnRpZmllciBmb3IgdGhlIHdlYiBjbGllbnQuXHJcbiAqIFNlZSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vYW5hbHl0aWNzL2Rldmd1aWRlcy9jb2xsZWN0aW9uL2dhNC9yZWZlcmVuY2UvY29uZmlnI2NsaWVudF9pZCB8IGNsaWVudF9pZH0uXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICpcclxuICogQHBhcmFtIGFwcCAtIFRoZSB7QGxpbmsgQGZpcmViYXNlL2FwcCNGaXJlYmFzZUFwcH0gdG8gdXNlLlxyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gZ2V0R29vZ2xlQW5hbHl0aWNzQ2xpZW50SWQoYW5hbHl0aWNzSW5zdGFuY2UpIHtcclxuICAgIGFuYWx5dGljc0luc3RhbmNlID0gZ2V0TW9kdWxhckluc3RhbmNlKGFuYWx5dGljc0luc3RhbmNlKTtcclxuICAgIHJldHVybiBpbnRlcm5hbEdldEdvb2dsZUFuYWx5dGljc0NsaWVudElkKHdyYXBwZWRHdGFnRnVuY3Rpb24sIGluaXRpYWxpemF0aW9uUHJvbWlzZXNNYXBbYW5hbHl0aWNzSW5zdGFuY2UuYXBwLm9wdGlvbnMuYXBwSWRdKTtcclxufVxyXG4vKipcclxuICogVXNlIGd0YWcgYGNvbmZpZ2AgY29tbWFuZCB0byBzZXQgYHVzZXJfaWRgLlxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqXHJcbiAqIEBwYXJhbSBhbmFseXRpY3NJbnN0YW5jZSAtIFRoZSB7QGxpbmsgQW5hbHl0aWNzfSBpbnN0YW5jZS5cclxuICogQHBhcmFtIGlkIC0gVXNlciBJRCB0byBzZXQuXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXRVc2VySWQoYW5hbHl0aWNzSW5zdGFuY2UsIGlkLCBvcHRpb25zKSB7XHJcbiAgICBhbmFseXRpY3NJbnN0YW5jZSA9IGdldE1vZHVsYXJJbnN0YW5jZShhbmFseXRpY3NJbnN0YW5jZSk7XHJcbiAgICBzZXRVc2VySWQkMSh3cmFwcGVkR3RhZ0Z1bmN0aW9uLCBpbml0aWFsaXphdGlvblByb21pc2VzTWFwW2FuYWx5dGljc0luc3RhbmNlLmFwcC5vcHRpb25zLmFwcElkXSwgaWQsIG9wdGlvbnMpLmNhdGNoKGUgPT4gbG9nZ2VyLmVycm9yKGUpKTtcclxufVxyXG4vKipcclxuICogVXNlIGd0YWcgYGNvbmZpZ2AgY29tbWFuZCB0byBzZXQgYWxsIHBhcmFtcyBzcGVjaWZpZWQuXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmZ1bmN0aW9uIHNldFVzZXJQcm9wZXJ0aWVzKGFuYWx5dGljc0luc3RhbmNlLCBwcm9wZXJ0aWVzLCBvcHRpb25zKSB7XHJcbiAgICBhbmFseXRpY3NJbnN0YW5jZSA9IGdldE1vZHVsYXJJbnN0YW5jZShhbmFseXRpY3NJbnN0YW5jZSk7XHJcbiAgICBzZXRVc2VyUHJvcGVydGllcyQxKHdyYXBwZWRHdGFnRnVuY3Rpb24sIGluaXRpYWxpemF0aW9uUHJvbWlzZXNNYXBbYW5hbHl0aWNzSW5zdGFuY2UuYXBwLm9wdGlvbnMuYXBwSWRdLCBwcm9wZXJ0aWVzLCBvcHRpb25zKS5jYXRjaChlID0+IGxvZ2dlci5lcnJvcihlKSk7XHJcbn1cclxuLyoqXHJcbiAqIFNldHMgd2hldGhlciBHb29nbGUgQW5hbHl0aWNzIGNvbGxlY3Rpb24gaXMgZW5hYmxlZCBmb3IgdGhpcyBhcHAgb24gdGhpcyBkZXZpY2UuXHJcbiAqIFNldHMgZ2xvYmFsIGB3aW5kb3dbJ2dhLWRpc2FibGUtYW5hbHl0aWNzSWQnXSA9IHRydWU7YFxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqXHJcbiAqIEBwYXJhbSBhbmFseXRpY3NJbnN0YW5jZSAtIFRoZSB7QGxpbmsgQW5hbHl0aWNzfSBpbnN0YW5jZS5cclxuICogQHBhcmFtIGVuYWJsZWQgLSBJZiB0cnVlLCBlbmFibGVzIGNvbGxlY3Rpb24sIGlmIGZhbHNlLCBkaXNhYmxlcyBpdC5cclxuICovXHJcbmZ1bmN0aW9uIHNldEFuYWx5dGljc0NvbGxlY3Rpb25FbmFibGVkKGFuYWx5dGljc0luc3RhbmNlLCBlbmFibGVkKSB7XHJcbiAgICBhbmFseXRpY3NJbnN0YW5jZSA9IGdldE1vZHVsYXJJbnN0YW5jZShhbmFseXRpY3NJbnN0YW5jZSk7XHJcbiAgICBzZXRBbmFseXRpY3NDb2xsZWN0aW9uRW5hYmxlZCQxKGluaXRpYWxpemF0aW9uUHJvbWlzZXNNYXBbYW5hbHl0aWNzSW5zdGFuY2UuYXBwLm9wdGlvbnMuYXBwSWRdLCBlbmFibGVkKS5jYXRjaChlID0+IGxvZ2dlci5lcnJvcihlKSk7XHJcbn1cclxuLyoqXHJcbiAqIEFkZHMgZGF0YSB0aGF0IHdpbGwgYmUgc2V0IG9uIGV2ZXJ5IGV2ZW50IGxvZ2dlZCBmcm9tIHRoZSBTREssIGluY2x1ZGluZyBhdXRvbWF0aWMgb25lcy5cclxuICogV2l0aCBndGFnJ3MgXCJzZXRcIiBjb21tYW5kLCB0aGUgdmFsdWVzIHBhc3NlZCBwZXJzaXN0IG9uIHRoZSBjdXJyZW50IHBhZ2UgYW5kIGFyZSBwYXNzZWQgd2l0aFxyXG4gKiBhbGwgc3Vic2VxdWVudCBldmVudHMuXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIGN1c3RvbVBhcmFtcyAtIEFueSBjdXN0b20gcGFyYW1zIHRoZSB1c2VyIG1heSBwYXNzIHRvIGd0YWcuanMuXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXREZWZhdWx0RXZlbnRQYXJhbWV0ZXJzKGN1c3RvbVBhcmFtcykge1xyXG4gICAgLy8gQ2hlY2sgaWYgcmVmZXJlbmNlIHRvIGV4aXN0aW5nIGd0YWcgZnVuY3Rpb24gb24gd2luZG93IG9iamVjdCBleGlzdHNcclxuICAgIGlmICh3cmFwcGVkR3RhZ0Z1bmN0aW9uKSB7XHJcbiAgICAgICAgd3JhcHBlZEd0YWdGdW5jdGlvbihcInNldFwiIC8qIEd0YWdDb21tYW5kLlNFVCAqLywgY3VzdG9tUGFyYW1zKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIF9zZXREZWZhdWx0RXZlbnRQYXJhbWV0ZXJzRm9ySW5pdChjdXN0b21QYXJhbXMpO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBTZW5kcyBhIEdvb2dsZSBBbmFseXRpY3MgZXZlbnQgd2l0aCBnaXZlbiBgZXZlbnRQYXJhbXNgLiBUaGlzIG1ldGhvZFxyXG4gKiBhdXRvbWF0aWNhbGx5IGFzc29jaWF0ZXMgdGhpcyBsb2dnZWQgZXZlbnQgd2l0aCB0aGlzIEZpcmViYXNlIHdlYlxyXG4gKiBhcHAgaW5zdGFuY2Ugb24gdGhpcyBkZXZpY2UuXHJcbiAqIExpc3Qgb2Ygb2ZmaWNpYWwgZXZlbnQgcGFyYW1ldGVycyBjYW4gYmUgZm91bmQgaW4gdGhlIGd0YWcuanNcclxuICogcmVmZXJlbmNlIGRvY3VtZW50YXRpb246XHJcbiAqIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9ndGFnanMvcmVmZXJlbmNlL2dhNC1ldmVudHNcclxuICogfCB0aGUgR0E0IHJlZmVyZW5jZSBkb2N1bWVudGF0aW9ufS5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZnVuY3Rpb24gbG9nRXZlbnQoYW5hbHl0aWNzSW5zdGFuY2UsIGV2ZW50TmFtZSwgZXZlbnRQYXJhbXMsIG9wdGlvbnMpIHtcclxuICAgIGFuYWx5dGljc0luc3RhbmNlID0gZ2V0TW9kdWxhckluc3RhbmNlKGFuYWx5dGljc0luc3RhbmNlKTtcclxuICAgIGxvZ0V2ZW50JDEod3JhcHBlZEd0YWdGdW5jdGlvbiwgaW5pdGlhbGl6YXRpb25Qcm9taXNlc01hcFthbmFseXRpY3NJbnN0YW5jZS5hcHAub3B0aW9ucy5hcHBJZF0sIGV2ZW50TmFtZSwgZXZlbnRQYXJhbXMsIG9wdGlvbnMpLmNhdGNoKGUgPT4gbG9nZ2VyLmVycm9yKGUpKTtcclxufVxyXG4vKipcclxuICogU2V0cyB0aGUgYXBwbGljYWJsZSBlbmQgdXNlciBjb25zZW50IHN0YXRlIGZvciB0aGlzIHdlYiBhcHAgYWNyb3NzIGFsbCBndGFnIHJlZmVyZW5jZXMgb25jZVxyXG4gKiBGaXJlYmFzZSBBbmFseXRpY3MgaXMgaW5pdGlhbGl6ZWQuXHJcbiAqXHJcbiAqIFVzZSB0aGUge0BsaW5rIENvbnNlbnRTZXR0aW5nc30gdG8gc3BlY2lmeSBpbmRpdmlkdWFsIGNvbnNlbnQgdHlwZSB2YWx1ZXMuIEJ5IGRlZmF1bHQgY29uc2VudFxyXG4gKiB0eXBlcyBhcmUgc2V0IHRvIFwiZ3JhbnRlZFwiLlxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSBjb25zZW50U2V0dGluZ3MgLSBNYXBzIHRoZSBhcHBsaWNhYmxlIGVuZCB1c2VyIGNvbnNlbnQgc3RhdGUgZm9yIGd0YWcuanMuXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXRDb25zZW50KGNvbnNlbnRTZXR0aW5ncykge1xyXG4gICAgLy8gQ2hlY2sgaWYgcmVmZXJlbmNlIHRvIGV4aXN0aW5nIGd0YWcgZnVuY3Rpb24gb24gd2luZG93IG9iamVjdCBleGlzdHNcclxuICAgIGlmICh3cmFwcGVkR3RhZ0Z1bmN0aW9uKSB7XHJcbiAgICAgICAgd3JhcHBlZEd0YWdGdW5jdGlvbihcImNvbnNlbnRcIiAvKiBHdGFnQ29tbWFuZC5DT05TRU5UICovLCAndXBkYXRlJywgY29uc2VudFNldHRpbmdzKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIF9zZXRDb25zZW50RGVmYXVsdEZvckluaXQoY29uc2VudFNldHRpbmdzKTtcclxuICAgIH1cclxufVxuXG5jb25zdCBuYW1lID0gXCJAZmlyZWJhc2UvYW5hbHl0aWNzXCI7XG5jb25zdCB2ZXJzaW9uID0gXCIwLjEwLjBcIjtcblxuLyoqXHJcbiAqIEZpcmViYXNlIEFuYWx5dGljc1xyXG4gKlxyXG4gKiBAcGFja2FnZURvY3VtZW50YXRpb25cclxuICovXHJcbmZ1bmN0aW9uIHJlZ2lzdGVyQW5hbHl0aWNzKCkge1xyXG4gICAgX3JlZ2lzdGVyQ29tcG9uZW50KG5ldyBDb21wb25lbnQoQU5BTFlUSUNTX1RZUEUsIChjb250YWluZXIsIHsgb3B0aW9uczogYW5hbHl0aWNzT3B0aW9ucyB9KSA9PiB7XHJcbiAgICAgICAgLy8gZ2V0SW1tZWRpYXRlIGZvciBGaXJlYmFzZUFwcCB3aWxsIGFsd2F5cyBzdWNjZWVkXHJcbiAgICAgICAgY29uc3QgYXBwID0gY29udGFpbmVyLmdldFByb3ZpZGVyKCdhcHAnKS5nZXRJbW1lZGlhdGUoKTtcclxuICAgICAgICBjb25zdCBpbnN0YWxsYXRpb25zID0gY29udGFpbmVyXHJcbiAgICAgICAgICAgIC5nZXRQcm92aWRlcignaW5zdGFsbGF0aW9ucy1pbnRlcm5hbCcpXHJcbiAgICAgICAgICAgIC5nZXRJbW1lZGlhdGUoKTtcclxuICAgICAgICByZXR1cm4gZmFjdG9yeShhcHAsIGluc3RhbGxhdGlvbnMsIGFuYWx5dGljc09wdGlvbnMpO1xyXG4gICAgfSwgXCJQVUJMSUNcIiAvKiBDb21wb25lbnRUeXBlLlBVQkxJQyAqLykpO1xyXG4gICAgX3JlZ2lzdGVyQ29tcG9uZW50KG5ldyBDb21wb25lbnQoJ2FuYWx5dGljcy1pbnRlcm5hbCcsIGludGVybmFsRmFjdG9yeSwgXCJQUklWQVRFXCIgLyogQ29tcG9uZW50VHlwZS5QUklWQVRFICovKSk7XHJcbiAgICByZWdpc3RlclZlcnNpb24obmFtZSwgdmVyc2lvbik7XHJcbiAgICAvLyBCVUlMRF9UQVJHRVQgd2lsbCBiZSByZXBsYWNlZCBieSB2YWx1ZXMgbGlrZSBlc201LCBlc20yMDE3LCBjanM1LCBldGMgZHVyaW5nIHRoZSBjb21waWxhdGlvblxyXG4gICAgcmVnaXN0ZXJWZXJzaW9uKG5hbWUsIHZlcnNpb24sICdlc20yMDE3Jyk7XHJcbiAgICBmdW5jdGlvbiBpbnRlcm5hbEZhY3RvcnkoY29udGFpbmVyKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgYW5hbHl0aWNzID0gY29udGFpbmVyLmdldFByb3ZpZGVyKEFOQUxZVElDU19UWVBFKS5nZXRJbW1lZGlhdGUoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGxvZ0V2ZW50OiAoZXZlbnROYW1lLCBldmVudFBhcmFtcywgb3B0aW9ucykgPT4gbG9nRXZlbnQoYW5hbHl0aWNzLCBldmVudE5hbWUsIGV2ZW50UGFyYW1zLCBvcHRpb25zKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcImludGVyb3AtY29tcG9uZW50LXJlZy1mYWlsZWRcIiAvKiBBbmFseXRpY3NFcnJvci5JTlRFUk9QX0NPTVBPTkVOVF9SRUdfRkFJTEVEICovLCB7XHJcbiAgICAgICAgICAgICAgICByZWFzb246IGVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbnJlZ2lzdGVyQW5hbHl0aWNzKCk7XG5cbmV4cG9ydCB7IGdldEFuYWx5dGljcywgZ2V0R29vZ2xlQW5hbHl0aWNzQ2xpZW50SWQsIGluaXRpYWxpemVBbmFseXRpY3MsIGlzU3VwcG9ydGVkLCBsb2dFdmVudCwgc2V0QW5hbHl0aWNzQ29sbGVjdGlvbkVuYWJsZWQsIHNldENvbnNlbnQsIHNldEN1cnJlbnRTY3JlZW4sIHNldERlZmF1bHRFdmVudFBhcmFtZXRlcnMsIHNldFVzZXJJZCwgc2V0VXNlclByb3BlcnRpZXMsIHNldHRpbmdzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lc20yMDE3LmpzLm1hcFxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBDb21wb25lbnRDb250YWluZXIgfSBmcm9tICdAZmlyZWJhc2UvY29tcG9uZW50JztcbmltcG9ydCB7IExvZ2dlciwgc2V0VXNlckxvZ0hhbmRsZXIsIHNldExvZ0xldmVsIGFzIHNldExvZ0xldmVsJDEgfSBmcm9tICdAZmlyZWJhc2UvbG9nZ2VyJztcbmltcG9ydCB7IEVycm9yRmFjdG9yeSwgZ2V0RGVmYXVsdEFwcENvbmZpZywgZGVlcEVxdWFsLCBGaXJlYmFzZUVycm9yLCBiYXNlNjR1cmxFbmNvZGVXaXRob3V0UGFkZGluZywgaXNJbmRleGVkREJBdmFpbGFibGUsIHZhbGlkYXRlSW5kZXhlZERCT3BlbmFibGUgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5leHBvcnQgeyBGaXJlYmFzZUVycm9yIH0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuaW1wb3J0IHsgb3BlbkRCIH0gZnJvbSAnaWRiJztcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuY2xhc3MgUGxhdGZvcm1Mb2dnZXJTZXJ2aWNlSW1wbCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihjb250YWluZXIpIHtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcclxuICAgIH1cclxuICAgIC8vIEluIGluaXRpYWwgaW1wbGVtZW50YXRpb24sIHRoaXMgd2lsbCBiZSBjYWxsZWQgYnkgaW5zdGFsbGF0aW9ucyBvblxyXG4gICAgLy8gYXV0aCB0b2tlbiByZWZyZXNoLCBhbmQgaW5zdGFsbGF0aW9ucyB3aWxsIHNlbmQgdGhpcyBzdHJpbmcuXHJcbiAgICBnZXRQbGF0Zm9ybUluZm9TdHJpbmcoKSB7XHJcbiAgICAgICAgY29uc3QgcHJvdmlkZXJzID0gdGhpcy5jb250YWluZXIuZ2V0UHJvdmlkZXJzKCk7XHJcbiAgICAgICAgLy8gTG9vcCB0aHJvdWdoIHByb3ZpZGVycyBhbmQgZ2V0IGxpYnJhcnkvdmVyc2lvbiBwYWlycyBmcm9tIGFueSB0aGF0IGFyZVxyXG4gICAgICAgIC8vIHZlcnNpb24gY29tcG9uZW50cy5cclxuICAgICAgICByZXR1cm4gcHJvdmlkZXJzXHJcbiAgICAgICAgICAgIC5tYXAocHJvdmlkZXIgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaXNWZXJzaW9uU2VydmljZVByb3ZpZGVyKHByb3ZpZGVyKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VydmljZSA9IHByb3ZpZGVyLmdldEltbWVkaWF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke3NlcnZpY2UubGlicmFyeX0vJHtzZXJ2aWNlLnZlcnNpb259YDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLmZpbHRlcihsb2dTdHJpbmcgPT4gbG9nU3RyaW5nKVxyXG4gICAgICAgICAgICAuam9pbignICcpO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKlxyXG4gKiBAcGFyYW0gcHJvdmlkZXIgY2hlY2sgaWYgdGhpcyBwcm92aWRlciBwcm92aWRlcyBhIFZlcnNpb25TZXJ2aWNlXHJcbiAqXHJcbiAqIE5PVEU6IFVzaW5nIFByb3ZpZGVyPCdhcHAtdmVyc2lvbic+IGlzIGEgaGFjayB0byBpbmRpY2F0ZSB0aGF0IHRoZSBwcm92aWRlclxyXG4gKiBwcm92aWRlcyBWZXJzaW9uU2VydmljZS4gVGhlIHByb3ZpZGVyIGlzIG5vdCBuZWNlc3NhcmlseSBhICdhcHAtdmVyc2lvbidcclxuICogcHJvdmlkZXIuXHJcbiAqL1xyXG5mdW5jdGlvbiBpc1ZlcnNpb25TZXJ2aWNlUHJvdmlkZXIocHJvdmlkZXIpIHtcclxuICAgIGNvbnN0IGNvbXBvbmVudCA9IHByb3ZpZGVyLmdldENvbXBvbmVudCgpO1xyXG4gICAgcmV0dXJuIChjb21wb25lbnQgPT09IG51bGwgfHwgY29tcG9uZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb21wb25lbnQudHlwZSkgPT09IFwiVkVSU0lPTlwiIC8qIENvbXBvbmVudFR5cGUuVkVSU0lPTiAqLztcclxufVxuXG5jb25zdCBuYW1lJG8gPSBcIkBmaXJlYmFzZS9hcHBcIjtcbmNvbnN0IHZlcnNpb24kMSA9IFwiMC45LjE1XCI7XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoJ0BmaXJlYmFzZS9hcHAnKTtcblxuY29uc3QgbmFtZSRuID0gXCJAZmlyZWJhc2UvYXBwLWNvbXBhdFwiO1xuXG5jb25zdCBuYW1lJG0gPSBcIkBmaXJlYmFzZS9hbmFseXRpY3MtY29tcGF0XCI7XG5cbmNvbnN0IG5hbWUkbCA9IFwiQGZpcmViYXNlL2FuYWx5dGljc1wiO1xuXG5jb25zdCBuYW1lJGsgPSBcIkBmaXJlYmFzZS9hcHAtY2hlY2stY29tcGF0XCI7XG5cbmNvbnN0IG5hbWUkaiA9IFwiQGZpcmViYXNlL2FwcC1jaGVja1wiO1xuXG5jb25zdCBuYW1lJGkgPSBcIkBmaXJlYmFzZS9hdXRoXCI7XG5cbmNvbnN0IG5hbWUkaCA9IFwiQGZpcmViYXNlL2F1dGgtY29tcGF0XCI7XG5cbmNvbnN0IG5hbWUkZyA9IFwiQGZpcmViYXNlL2RhdGFiYXNlXCI7XG5cbmNvbnN0IG5hbWUkZiA9IFwiQGZpcmViYXNlL2RhdGFiYXNlLWNvbXBhdFwiO1xuXG5jb25zdCBuYW1lJGUgPSBcIkBmaXJlYmFzZS9mdW5jdGlvbnNcIjtcblxuY29uc3QgbmFtZSRkID0gXCJAZmlyZWJhc2UvZnVuY3Rpb25zLWNvbXBhdFwiO1xuXG5jb25zdCBuYW1lJGMgPSBcIkBmaXJlYmFzZS9pbnN0YWxsYXRpb25zXCI7XG5cbmNvbnN0IG5hbWUkYiA9IFwiQGZpcmViYXNlL2luc3RhbGxhdGlvbnMtY29tcGF0XCI7XG5cbmNvbnN0IG5hbWUkYSA9IFwiQGZpcmViYXNlL21lc3NhZ2luZ1wiO1xuXG5jb25zdCBuYW1lJDkgPSBcIkBmaXJlYmFzZS9tZXNzYWdpbmctY29tcGF0XCI7XG5cbmNvbnN0IG5hbWUkOCA9IFwiQGZpcmViYXNlL3BlcmZvcm1hbmNlXCI7XG5cbmNvbnN0IG5hbWUkNyA9IFwiQGZpcmViYXNlL3BlcmZvcm1hbmNlLWNvbXBhdFwiO1xuXG5jb25zdCBuYW1lJDYgPSBcIkBmaXJlYmFzZS9yZW1vdGUtY29uZmlnXCI7XG5cbmNvbnN0IG5hbWUkNSA9IFwiQGZpcmViYXNlL3JlbW90ZS1jb25maWctY29tcGF0XCI7XG5cbmNvbnN0IG5hbWUkNCA9IFwiQGZpcmViYXNlL3N0b3JhZ2VcIjtcblxuY29uc3QgbmFtZSQzID0gXCJAZmlyZWJhc2Uvc3RvcmFnZS1jb21wYXRcIjtcblxuY29uc3QgbmFtZSQyID0gXCJAZmlyZWJhc2UvZmlyZXN0b3JlXCI7XG5cbmNvbnN0IG5hbWUkMSA9IFwiQGZpcmViYXNlL2ZpcmVzdG9yZS1jb21wYXRcIjtcblxuY29uc3QgbmFtZSA9IFwiZmlyZWJhc2VcIjtcbmNvbnN0IHZlcnNpb24gPSBcIjEwLjEuMFwiO1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogVGhlIGRlZmF1bHQgYXBwIG5hbWVcclxuICpcclxuICogQGludGVybmFsXHJcbiAqL1xyXG5jb25zdCBERUZBVUxUX0VOVFJZX05BTUUgPSAnW0RFRkFVTFRdJztcclxuY29uc3QgUExBVEZPUk1fTE9HX1NUUklORyA9IHtcclxuICAgIFtuYW1lJG9dOiAnZmlyZS1jb3JlJyxcclxuICAgIFtuYW1lJG5dOiAnZmlyZS1jb3JlLWNvbXBhdCcsXHJcbiAgICBbbmFtZSRsXTogJ2ZpcmUtYW5hbHl0aWNzJyxcclxuICAgIFtuYW1lJG1dOiAnZmlyZS1hbmFseXRpY3MtY29tcGF0JyxcclxuICAgIFtuYW1lJGpdOiAnZmlyZS1hcHAtY2hlY2snLFxyXG4gICAgW25hbWUka106ICdmaXJlLWFwcC1jaGVjay1jb21wYXQnLFxyXG4gICAgW25hbWUkaV06ICdmaXJlLWF1dGgnLFxyXG4gICAgW25hbWUkaF06ICdmaXJlLWF1dGgtY29tcGF0JyxcclxuICAgIFtuYW1lJGddOiAnZmlyZS1ydGRiJyxcclxuICAgIFtuYW1lJGZdOiAnZmlyZS1ydGRiLWNvbXBhdCcsXHJcbiAgICBbbmFtZSRlXTogJ2ZpcmUtZm4nLFxyXG4gICAgW25hbWUkZF06ICdmaXJlLWZuLWNvbXBhdCcsXHJcbiAgICBbbmFtZSRjXTogJ2ZpcmUtaWlkJyxcclxuICAgIFtuYW1lJGJdOiAnZmlyZS1paWQtY29tcGF0JyxcclxuICAgIFtuYW1lJGFdOiAnZmlyZS1mY20nLFxyXG4gICAgW25hbWUkOV06ICdmaXJlLWZjbS1jb21wYXQnLFxyXG4gICAgW25hbWUkOF06ICdmaXJlLXBlcmYnLFxyXG4gICAgW25hbWUkN106ICdmaXJlLXBlcmYtY29tcGF0JyxcclxuICAgIFtuYW1lJDZdOiAnZmlyZS1yYycsXHJcbiAgICBbbmFtZSQ1XTogJ2ZpcmUtcmMtY29tcGF0JyxcclxuICAgIFtuYW1lJDRdOiAnZmlyZS1nY3MnLFxyXG4gICAgW25hbWUkM106ICdmaXJlLWdjcy1jb21wYXQnLFxyXG4gICAgW25hbWUkMl06ICdmaXJlLWZzdCcsXHJcbiAgICBbbmFtZSQxXTogJ2ZpcmUtZnN0LWNvbXBhdCcsXHJcbiAgICAnZmlyZS1qcyc6ICdmaXJlLWpzJyxcclxuICAgIFtuYW1lXTogJ2ZpcmUtanMtYWxsJ1xyXG59O1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogQGludGVybmFsXHJcbiAqL1xyXG5jb25zdCBfYXBwcyA9IG5ldyBNYXAoKTtcclxuLyoqXHJcbiAqIFJlZ2lzdGVyZWQgY29tcG9uZW50cy5cclxuICpcclxuICogQGludGVybmFsXHJcbiAqL1xyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxyXG5jb25zdCBfY29tcG9uZW50cyA9IG5ldyBNYXAoKTtcclxuLyoqXHJcbiAqIEBwYXJhbSBjb21wb25lbnQgLSB0aGUgY29tcG9uZW50IGJlaW5nIGFkZGVkIHRvIHRoaXMgYXBwJ3MgY29udGFpbmVyXHJcbiAqXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cclxuZnVuY3Rpb24gX2FkZENvbXBvbmVudChhcHAsIGNvbXBvbmVudCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBhcHAuY29udGFpbmVyLmFkZENvbXBvbmVudChjb21wb25lbnQpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICBsb2dnZXIuZGVidWcoYENvbXBvbmVudCAke2NvbXBvbmVudC5uYW1lfSBmYWlsZWQgdG8gcmVnaXN0ZXIgd2l0aCBGaXJlYmFzZUFwcCAke2FwcC5uYW1lfWAsIGUpO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKlxyXG4gKiBAaW50ZXJuYWxcclxuICovXHJcbmZ1bmN0aW9uIF9hZGRPck92ZXJ3cml0ZUNvbXBvbmVudChhcHAsIGNvbXBvbmVudCkge1xyXG4gICAgYXBwLmNvbnRhaW5lci5hZGRPck92ZXJ3cml0ZUNvbXBvbmVudChjb21wb25lbnQpO1xyXG59XHJcbi8qKlxyXG4gKlxyXG4gKiBAcGFyYW0gY29tcG9uZW50IC0gdGhlIGNvbXBvbmVudCB0byByZWdpc3RlclxyXG4gKiBAcmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgY29tcG9uZW50IGlzIHJlZ2lzdGVyZWQgc3VjY2Vzc2Z1bGx5XHJcbiAqXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cclxuZnVuY3Rpb24gX3JlZ2lzdGVyQ29tcG9uZW50KGNvbXBvbmVudCkge1xyXG4gICAgY29uc3QgY29tcG9uZW50TmFtZSA9IGNvbXBvbmVudC5uYW1lO1xyXG4gICAgaWYgKF9jb21wb25lbnRzLmhhcyhjb21wb25lbnROYW1lKSkge1xyXG4gICAgICAgIGxvZ2dlci5kZWJ1ZyhgVGhlcmUgd2VyZSBtdWx0aXBsZSBhdHRlbXB0cyB0byByZWdpc3RlciBjb21wb25lbnQgJHtjb21wb25lbnROYW1lfS5gKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBfY29tcG9uZW50cy5zZXQoY29tcG9uZW50TmFtZSwgY29tcG9uZW50KTtcclxuICAgIC8vIGFkZCB0aGUgY29tcG9uZW50IHRvIGV4aXN0aW5nIGFwcCBpbnN0YW5jZXNcclxuICAgIGZvciAoY29uc3QgYXBwIG9mIF9hcHBzLnZhbHVlcygpKSB7XHJcbiAgICAgICAgX2FkZENvbXBvbmVudChhcHAsIGNvbXBvbmVudCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxyXG4vKipcclxuICpcclxuICogQHBhcmFtIGFwcCAtIEZpcmViYXNlQXBwIGluc3RhbmNlXHJcbiAqIEBwYXJhbSBuYW1lIC0gc2VydmljZSBuYW1lXHJcbiAqXHJcbiAqIEByZXR1cm5zIHRoZSBwcm92aWRlciBmb3IgdGhlIHNlcnZpY2Ugd2l0aCB0aGUgbWF0Y2hpbmcgbmFtZVxyXG4gKlxyXG4gKiBAaW50ZXJuYWxcclxuICovXHJcbmZ1bmN0aW9uIF9nZXRQcm92aWRlcihhcHAsIG5hbWUpIHtcclxuICAgIGNvbnN0IGhlYXJ0YmVhdENvbnRyb2xsZXIgPSBhcHAuY29udGFpbmVyXHJcbiAgICAgICAgLmdldFByb3ZpZGVyKCdoZWFydGJlYXQnKVxyXG4gICAgICAgIC5nZXRJbW1lZGlhdGUoeyBvcHRpb25hbDogdHJ1ZSB9KTtcclxuICAgIGlmIChoZWFydGJlYXRDb250cm9sbGVyKSB7XHJcbiAgICAgICAgdm9pZCBoZWFydGJlYXRDb250cm9sbGVyLnRyaWdnZXJIZWFydGJlYXQoKTtcclxuICAgIH1cclxuICAgIHJldHVybiBhcHAuY29udGFpbmVyLmdldFByb3ZpZGVyKG5hbWUpO1xyXG59XHJcbi8qKlxyXG4gKlxyXG4gKiBAcGFyYW0gYXBwIC0gRmlyZWJhc2VBcHAgaW5zdGFuY2VcclxuICogQHBhcmFtIG5hbWUgLSBzZXJ2aWNlIG5hbWVcclxuICogQHBhcmFtIGluc3RhbmNlSWRlbnRpZmllciAtIHNlcnZpY2UgaW5zdGFuY2UgaWRlbnRpZmllciBpbiBjYXNlIHRoZSBzZXJ2aWNlIHN1cHBvcnRzIG11bHRpcGxlIGluc3RhbmNlc1xyXG4gKlxyXG4gKiBAaW50ZXJuYWxcclxuICovXHJcbmZ1bmN0aW9uIF9yZW1vdmVTZXJ2aWNlSW5zdGFuY2UoYXBwLCBuYW1lLCBpbnN0YW5jZUlkZW50aWZpZXIgPSBERUZBVUxUX0VOVFJZX05BTUUpIHtcclxuICAgIF9nZXRQcm92aWRlcihhcHAsIG5hbWUpLmNsZWFySW5zdGFuY2UoaW5zdGFuY2VJZGVudGlmaWVyKTtcclxufVxyXG4vKipcclxuICogVGVzdCBvbmx5XHJcbiAqXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cclxuZnVuY3Rpb24gX2NsZWFyQ29tcG9uZW50cygpIHtcclxuICAgIF9jb21wb25lbnRzLmNsZWFyKCk7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuY29uc3QgRVJST1JTID0ge1xyXG4gICAgW1wibm8tYXBwXCIgLyogQXBwRXJyb3IuTk9fQVBQICovXTogXCJObyBGaXJlYmFzZSBBcHAgJ3skYXBwTmFtZX0nIGhhcyBiZWVuIGNyZWF0ZWQgLSBcIiArXHJcbiAgICAgICAgJ2NhbGwgaW5pdGlhbGl6ZUFwcCgpIGZpcnN0JyxcclxuICAgIFtcImJhZC1hcHAtbmFtZVwiIC8qIEFwcEVycm9yLkJBRF9BUFBfTkFNRSAqL106IFwiSWxsZWdhbCBBcHAgbmFtZTogJ3skYXBwTmFtZX1cIixcclxuICAgIFtcImR1cGxpY2F0ZS1hcHBcIiAvKiBBcHBFcnJvci5EVVBMSUNBVEVfQVBQICovXTogXCJGaXJlYmFzZSBBcHAgbmFtZWQgJ3skYXBwTmFtZX0nIGFscmVhZHkgZXhpc3RzIHdpdGggZGlmZmVyZW50IG9wdGlvbnMgb3IgY29uZmlnXCIsXHJcbiAgICBbXCJhcHAtZGVsZXRlZFwiIC8qIEFwcEVycm9yLkFQUF9ERUxFVEVEICovXTogXCJGaXJlYmFzZSBBcHAgbmFtZWQgJ3skYXBwTmFtZX0nIGFscmVhZHkgZGVsZXRlZFwiLFxyXG4gICAgW1wibm8tb3B0aW9uc1wiIC8qIEFwcEVycm9yLk5PX09QVElPTlMgKi9dOiAnTmVlZCB0byBwcm92aWRlIG9wdGlvbnMsIHdoZW4gbm90IGJlaW5nIGRlcGxveWVkIHRvIGhvc3RpbmcgdmlhIHNvdXJjZS4nLFxyXG4gICAgW1wiaW52YWxpZC1hcHAtYXJndW1lbnRcIiAvKiBBcHBFcnJvci5JTlZBTElEX0FQUF9BUkdVTUVOVCAqL106ICdmaXJlYmFzZS57JGFwcE5hbWV9KCkgdGFrZXMgZWl0aGVyIG5vIGFyZ3VtZW50IG9yIGEgJyArXHJcbiAgICAgICAgJ0ZpcmViYXNlIEFwcCBpbnN0YW5jZS4nLFxyXG4gICAgW1wiaW52YWxpZC1sb2ctYXJndW1lbnRcIiAvKiBBcHBFcnJvci5JTlZBTElEX0xPR19BUkdVTUVOVCAqL106ICdGaXJzdCBhcmd1bWVudCB0byBgb25Mb2dgIG11c3QgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLicsXHJcbiAgICBbXCJpZGItb3BlblwiIC8qIEFwcEVycm9yLklEQl9PUEVOICovXTogJ0Vycm9yIHRocm93biB3aGVuIG9wZW5pbmcgSW5kZXhlZERCLiBPcmlnaW5hbCBlcnJvcjogeyRvcmlnaW5hbEVycm9yTWVzc2FnZX0uJyxcclxuICAgIFtcImlkYi1nZXRcIiAvKiBBcHBFcnJvci5JREJfR0VUICovXTogJ0Vycm9yIHRocm93biB3aGVuIHJlYWRpbmcgZnJvbSBJbmRleGVkREIuIE9yaWdpbmFsIGVycm9yOiB7JG9yaWdpbmFsRXJyb3JNZXNzYWdlfS4nLFxyXG4gICAgW1wiaWRiLXNldFwiIC8qIEFwcEVycm9yLklEQl9XUklURSAqL106ICdFcnJvciB0aHJvd24gd2hlbiB3cml0aW5nIHRvIEluZGV4ZWREQi4gT3JpZ2luYWwgZXJyb3I6IHskb3JpZ2luYWxFcnJvck1lc3NhZ2V9LicsXHJcbiAgICBbXCJpZGItZGVsZXRlXCIgLyogQXBwRXJyb3IuSURCX0RFTEVURSAqL106ICdFcnJvciB0aHJvd24gd2hlbiBkZWxldGluZyBmcm9tIEluZGV4ZWREQi4gT3JpZ2luYWwgZXJyb3I6IHskb3JpZ2luYWxFcnJvck1lc3NhZ2V9LidcclxufTtcclxuY29uc3QgRVJST1JfRkFDVE9SWSA9IG5ldyBFcnJvckZhY3RvcnkoJ2FwcCcsICdGaXJlYmFzZScsIEVSUk9SUyk7XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbmNsYXNzIEZpcmViYXNlQXBwSW1wbCB7XHJcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zLCBjb25maWcsIGNvbnRhaW5lcikge1xyXG4gICAgICAgIHRoaXMuX2lzRGVsZXRlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKTtcclxuICAgICAgICB0aGlzLl9jb25maWcgPSBPYmplY3QuYXNzaWduKHt9LCBjb25maWcpO1xyXG4gICAgICAgIHRoaXMuX25hbWUgPSBjb25maWcubmFtZTtcclxuICAgICAgICB0aGlzLl9hdXRvbWF0aWNEYXRhQ29sbGVjdGlvbkVuYWJsZWQgPVxyXG4gICAgICAgICAgICBjb25maWcuYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkO1xyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IGNvbnRhaW5lcjtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5hZGRDb21wb25lbnQobmV3IENvbXBvbmVudCgnYXBwJywgKCkgPT4gdGhpcywgXCJQVUJMSUNcIiAvKiBDb21wb25lbnRUeXBlLlBVQkxJQyAqLykpO1xyXG4gICAgfVxyXG4gICAgZ2V0IGF1dG9tYXRpY0RhdGFDb2xsZWN0aW9uRW5hYmxlZCgpIHtcclxuICAgICAgICB0aGlzLmNoZWNrRGVzdHJveWVkKCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2F1dG9tYXRpY0RhdGFDb2xsZWN0aW9uRW5hYmxlZDtcclxuICAgIH1cclxuICAgIHNldCBhdXRvbWF0aWNEYXRhQ29sbGVjdGlvbkVuYWJsZWQodmFsKSB7XHJcbiAgICAgICAgdGhpcy5jaGVja0Rlc3Ryb3llZCgpO1xyXG4gICAgICAgIHRoaXMuX2F1dG9tYXRpY0RhdGFDb2xsZWN0aW9uRW5hYmxlZCA9IHZhbDtcclxuICAgIH1cclxuICAgIGdldCBuYW1lKCkge1xyXG4gICAgICAgIHRoaXMuY2hlY2tEZXN0cm95ZWQoKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbmFtZTtcclxuICAgIH1cclxuICAgIGdldCBvcHRpb25zKCkge1xyXG4gICAgICAgIHRoaXMuY2hlY2tEZXN0cm95ZWQoKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fb3B0aW9ucztcclxuICAgIH1cclxuICAgIGdldCBjb25maWcoKSB7XHJcbiAgICAgICAgdGhpcy5jaGVja0Rlc3Ryb3llZCgpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jb25maWc7XHJcbiAgICB9XHJcbiAgICBnZXQgY29udGFpbmVyKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jb250YWluZXI7XHJcbiAgICB9XHJcbiAgICBnZXQgaXNEZWxldGVkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pc0RlbGV0ZWQ7XHJcbiAgICB9XHJcbiAgICBzZXQgaXNEZWxldGVkKHZhbCkge1xyXG4gICAgICAgIHRoaXMuX2lzRGVsZXRlZCA9IHZhbDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBmdW5jdGlvbiB3aWxsIHRocm93IGFuIEVycm9yIGlmIHRoZSBBcHAgaGFzIGFscmVhZHkgYmVlbiBkZWxldGVkIC1cclxuICAgICAqIHVzZSBiZWZvcmUgcGVyZm9ybWluZyBBUEkgYWN0aW9ucyBvbiB0aGUgQXBwLlxyXG4gICAgICovXHJcbiAgICBjaGVja0Rlc3Ryb3llZCgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc0RlbGV0ZWQpIHtcclxuICAgICAgICAgICAgdGhyb3cgRVJST1JfRkFDVE9SWS5jcmVhdGUoXCJhcHAtZGVsZXRlZFwiIC8qIEFwcEVycm9yLkFQUF9ERUxFVEVEICovLCB7IGFwcE5hbWU6IHRoaXMuX25hbWUgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBUaGUgY3VycmVudCBTREsgdmVyc2lvbi5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cclxuY29uc3QgU0RLX1ZFUlNJT04gPSB2ZXJzaW9uO1xyXG5mdW5jdGlvbiBpbml0aWFsaXplQXBwKF9vcHRpb25zLCByYXdDb25maWcgPSB7fSkge1xyXG4gICAgbGV0IG9wdGlvbnMgPSBfb3B0aW9ucztcclxuICAgIGlmICh0eXBlb2YgcmF3Q29uZmlnICE9PSAnb2JqZWN0Jykge1xyXG4gICAgICAgIGNvbnN0IG5hbWUgPSByYXdDb25maWc7XHJcbiAgICAgICAgcmF3Q29uZmlnID0geyBuYW1lIH07XHJcbiAgICB9XHJcbiAgICBjb25zdCBjb25maWcgPSBPYmplY3QuYXNzaWduKHsgbmFtZTogREVGQVVMVF9FTlRSWV9OQU1FLCBhdXRvbWF0aWNEYXRhQ29sbGVjdGlvbkVuYWJsZWQ6IGZhbHNlIH0sIHJhd0NvbmZpZyk7XHJcbiAgICBjb25zdCBuYW1lID0gY29uZmlnLm5hbWU7XHJcbiAgICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnIHx8ICFuYW1lKSB7XHJcbiAgICAgICAgdGhyb3cgRVJST1JfRkFDVE9SWS5jcmVhdGUoXCJiYWQtYXBwLW5hbWVcIiAvKiBBcHBFcnJvci5CQURfQVBQX05BTUUgKi8sIHtcclxuICAgICAgICAgICAgYXBwTmFtZTogU3RyaW5nKG5hbWUpXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBvcHRpb25zIHx8IChvcHRpb25zID0gZ2V0RGVmYXVsdEFwcENvbmZpZygpKTtcclxuICAgIGlmICghb3B0aW9ucykge1xyXG4gICAgICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwibm8tb3B0aW9uc1wiIC8qIEFwcEVycm9yLk5PX09QVElPTlMgKi8pO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZXhpc3RpbmdBcHAgPSBfYXBwcy5nZXQobmFtZSk7XHJcbiAgICBpZiAoZXhpc3RpbmdBcHApIHtcclxuICAgICAgICAvLyByZXR1cm4gdGhlIGV4aXN0aW5nIGFwcCBpZiBvcHRpb25zIGFuZCBjb25maWcgZGVlcCBlcXVhbCB0aGUgb25lcyBpbiB0aGUgZXhpc3RpbmcgYXBwLlxyXG4gICAgICAgIGlmIChkZWVwRXF1YWwob3B0aW9ucywgZXhpc3RpbmdBcHAub3B0aW9ucykgJiZcclxuICAgICAgICAgICAgZGVlcEVxdWFsKGNvbmZpZywgZXhpc3RpbmdBcHAuY29uZmlnKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZXhpc3RpbmdBcHA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcImR1cGxpY2F0ZS1hcHBcIiAvKiBBcHBFcnJvci5EVVBMSUNBVEVfQVBQICovLCB7IGFwcE5hbWU6IG5hbWUgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29uc3QgY29udGFpbmVyID0gbmV3IENvbXBvbmVudENvbnRhaW5lcihuYW1lKTtcclxuICAgIGZvciAoY29uc3QgY29tcG9uZW50IG9mIF9jb21wb25lbnRzLnZhbHVlcygpKSB7XHJcbiAgICAgICAgY29udGFpbmVyLmFkZENvbXBvbmVudChjb21wb25lbnQpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgbmV3QXBwID0gbmV3IEZpcmViYXNlQXBwSW1wbChvcHRpb25zLCBjb25maWcsIGNvbnRhaW5lcik7XHJcbiAgICBfYXBwcy5zZXQobmFtZSwgbmV3QXBwKTtcclxuICAgIHJldHVybiBuZXdBcHA7XHJcbn1cclxuLyoqXHJcbiAqIFJldHJpZXZlcyBhIHtAbGluayBAZmlyZWJhc2UvYXBwI0ZpcmViYXNlQXBwfSBpbnN0YW5jZS5cclxuICpcclxuICogV2hlbiBjYWxsZWQgd2l0aCBubyBhcmd1bWVudHMsIHRoZSBkZWZhdWx0IGFwcCBpcyByZXR1cm5lZC4gV2hlbiBhbiBhcHAgbmFtZVxyXG4gKiBpcyBwcm92aWRlZCwgdGhlIGFwcCBjb3JyZXNwb25kaW5nIHRvIHRoYXQgbmFtZSBpcyByZXR1cm5lZC5cclxuICpcclxuICogQW4gZXhjZXB0aW9uIGlzIHRocm93biBpZiB0aGUgYXBwIGJlaW5nIHJldHJpZXZlZCBoYXMgbm90IHlldCBiZWVuXHJcbiAqIGluaXRpYWxpemVkLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIC8vIFJldHVybiB0aGUgZGVmYXVsdCBhcHBcclxuICogY29uc3QgYXBwID0gZ2V0QXBwKCk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIC8vIFJldHVybiBhIG5hbWVkIGFwcFxyXG4gKiBjb25zdCBvdGhlckFwcCA9IGdldEFwcChcIm90aGVyQXBwXCIpO1xyXG4gKiBgYGBcclxuICpcclxuICogQHBhcmFtIG5hbWUgLSBPcHRpb25hbCBuYW1lIG9mIHRoZSBhcHAgdG8gcmV0dXJuLiBJZiBubyBuYW1lIGlzXHJcbiAqICAgcHJvdmlkZWQsIHRoZSBkZWZhdWx0IGlzIGBcIltERUZBVUxUXVwiYC5cclxuICpcclxuICogQHJldHVybnMgVGhlIGFwcCBjb3JyZXNwb25kaW5nIHRvIHRoZSBwcm92aWRlZCBhcHAgbmFtZS5cclxuICogICBJZiBubyBhcHAgbmFtZSBpcyBwcm92aWRlZCwgdGhlIGRlZmF1bHQgYXBwIGlzIHJldHVybmVkLlxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRBcHAobmFtZSA9IERFRkFVTFRfRU5UUllfTkFNRSkge1xyXG4gICAgY29uc3QgYXBwID0gX2FwcHMuZ2V0KG5hbWUpO1xyXG4gICAgaWYgKCFhcHAgJiYgbmFtZSA9PT0gREVGQVVMVF9FTlRSWV9OQU1FICYmIGdldERlZmF1bHRBcHBDb25maWcoKSkge1xyXG4gICAgICAgIHJldHVybiBpbml0aWFsaXplQXBwKCk7XHJcbiAgICB9XHJcbiAgICBpZiAoIWFwcCkge1xyXG4gICAgICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwibm8tYXBwXCIgLyogQXBwRXJyb3IuTk9fQVBQICovLCB7IGFwcE5hbWU6IG5hbWUgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXBwO1xyXG59XHJcbi8qKlxyXG4gKiBBIChyZWFkLW9ubHkpIGFycmF5IG9mIGFsbCBpbml0aWFsaXplZCBhcHBzLlxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRBcHBzKCkge1xyXG4gICAgcmV0dXJuIEFycmF5LmZyb20oX2FwcHMudmFsdWVzKCkpO1xyXG59XHJcbi8qKlxyXG4gKiBSZW5kZXJzIHRoaXMgYXBwIHVudXNhYmxlIGFuZCBmcmVlcyB0aGUgcmVzb3VyY2VzIG9mIGFsbCBhc3NvY2lhdGVkXHJcbiAqIHNlcnZpY2VzLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIGRlbGV0ZUFwcChhcHApXHJcbiAqICAgLnRoZW4oZnVuY3Rpb24oKSB7XHJcbiAqICAgICBjb25zb2xlLmxvZyhcIkFwcCBkZWxldGVkIHN1Y2Nlc3NmdWxseVwiKTtcclxuICogICB9KVxyXG4gKiAgIC5jYXRjaChmdW5jdGlvbihlcnJvcikge1xyXG4gKiAgICAgY29uc29sZS5sb2coXCJFcnJvciBkZWxldGluZyBhcHA6XCIsIGVycm9yKTtcclxuICogICB9KTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIGRlbGV0ZUFwcChhcHApIHtcclxuICAgIGNvbnN0IG5hbWUgPSBhcHAubmFtZTtcclxuICAgIGlmIChfYXBwcy5oYXMobmFtZSkpIHtcclxuICAgICAgICBfYXBwcy5kZWxldGUobmFtZSk7XHJcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoYXBwLmNvbnRhaW5lclxyXG4gICAgICAgICAgICAuZ2V0UHJvdmlkZXJzKClcclxuICAgICAgICAgICAgLm1hcChwcm92aWRlciA9PiBwcm92aWRlci5kZWxldGUoKSkpO1xyXG4gICAgICAgIGFwcC5pc0RlbGV0ZWQgPSB0cnVlO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBSZWdpc3RlcnMgYSBsaWJyYXJ5J3MgbmFtZSBhbmQgdmVyc2lvbiBmb3IgcGxhdGZvcm0gbG9nZ2luZyBwdXJwb3Nlcy5cclxuICogQHBhcmFtIGxpYnJhcnkgLSBOYW1lIG9mIDFwIG9yIDNwIGxpYnJhcnkgKGUuZy4gZmlyZXN0b3JlLCBhbmd1bGFyZmlyZSlcclxuICogQHBhcmFtIHZlcnNpb24gLSBDdXJyZW50IHZlcnNpb24gb2YgdGhhdCBsaWJyYXJ5LlxyXG4gKiBAcGFyYW0gdmFyaWFudCAtIEJ1bmRsZSB2YXJpYW50LCBlLmcuLCBub2RlLCBybiwgZXRjLlxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5mdW5jdGlvbiByZWdpc3RlclZlcnNpb24obGlicmFyeUtleU9yTmFtZSwgdmVyc2lvbiwgdmFyaWFudCkge1xyXG4gICAgdmFyIF9hO1xyXG4gICAgLy8gVE9ETzogV2UgY2FuIHVzZSB0aGlzIGNoZWNrIHRvIHdoaXRlbGlzdCBzdHJpbmdzIHdoZW4vaWYgd2Ugc2V0IHVwXHJcbiAgICAvLyBhIGdvb2Qgd2hpdGVsaXN0IHN5c3RlbS5cclxuICAgIGxldCBsaWJyYXJ5ID0gKF9hID0gUExBVEZPUk1fTE9HX1NUUklOR1tsaWJyYXJ5S2V5T3JOYW1lXSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogbGlicmFyeUtleU9yTmFtZTtcclxuICAgIGlmICh2YXJpYW50KSB7XHJcbiAgICAgICAgbGlicmFyeSArPSBgLSR7dmFyaWFudH1gO1xyXG4gICAgfVxyXG4gICAgY29uc3QgbGlicmFyeU1pc21hdGNoID0gbGlicmFyeS5tYXRjaCgvXFxzfFxcLy8pO1xyXG4gICAgY29uc3QgdmVyc2lvbk1pc21hdGNoID0gdmVyc2lvbi5tYXRjaCgvXFxzfFxcLy8pO1xyXG4gICAgaWYgKGxpYnJhcnlNaXNtYXRjaCB8fCB2ZXJzaW9uTWlzbWF0Y2gpIHtcclxuICAgICAgICBjb25zdCB3YXJuaW5nID0gW1xyXG4gICAgICAgICAgICBgVW5hYmxlIHRvIHJlZ2lzdGVyIGxpYnJhcnkgXCIke2xpYnJhcnl9XCIgd2l0aCB2ZXJzaW9uIFwiJHt2ZXJzaW9ufVwiOmBcclxuICAgICAgICBdO1xyXG4gICAgICAgIGlmIChsaWJyYXJ5TWlzbWF0Y2gpIHtcclxuICAgICAgICAgICAgd2FybmluZy5wdXNoKGBsaWJyYXJ5IG5hbWUgXCIke2xpYnJhcnl9XCIgY29udGFpbnMgaWxsZWdhbCBjaGFyYWN0ZXJzICh3aGl0ZXNwYWNlIG9yIFwiL1wiKWApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobGlicmFyeU1pc21hdGNoICYmIHZlcnNpb25NaXNtYXRjaCkge1xyXG4gICAgICAgICAgICB3YXJuaW5nLnB1c2goJ2FuZCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodmVyc2lvbk1pc21hdGNoKSB7XHJcbiAgICAgICAgICAgIHdhcm5pbmcucHVzaChgdmVyc2lvbiBuYW1lIFwiJHt2ZXJzaW9ufVwiIGNvbnRhaW5zIGlsbGVnYWwgY2hhcmFjdGVycyAod2hpdGVzcGFjZSBvciBcIi9cIilgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbG9nZ2VyLndhcm4od2FybmluZy5qb2luKCcgJykpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIF9yZWdpc3RlckNvbXBvbmVudChuZXcgQ29tcG9uZW50KGAke2xpYnJhcnl9LXZlcnNpb25gLCAoKSA9PiAoeyBsaWJyYXJ5LCB2ZXJzaW9uIH0pLCBcIlZFUlNJT05cIiAvKiBDb21wb25lbnRUeXBlLlZFUlNJT04gKi8pKTtcclxufVxyXG4vKipcclxuICogU2V0cyBsb2cgaGFuZGxlciBmb3IgYWxsIEZpcmViYXNlIFNES3MuXHJcbiAqIEBwYXJhbSBsb2dDYWxsYmFjayAtIEFuIG9wdGlvbmFsIGN1c3RvbSBsb2cgaGFuZGxlciB0aGF0IGV4ZWN1dGVzIHVzZXIgY29kZSB3aGVuZXZlclxyXG4gKiB0aGUgRmlyZWJhc2UgU0RLIG1ha2VzIGEgbG9nZ2luZyBjYWxsLlxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5mdW5jdGlvbiBvbkxvZyhsb2dDYWxsYmFjaywgb3B0aW9ucykge1xyXG4gICAgaWYgKGxvZ0NhbGxiYWNrICE9PSBudWxsICYmIHR5cGVvZiBsb2dDYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwiaW52YWxpZC1sb2ctYXJndW1lbnRcIiAvKiBBcHBFcnJvci5JTlZBTElEX0xPR19BUkdVTUVOVCAqLyk7XHJcbiAgICB9XHJcbiAgICBzZXRVc2VyTG9nSGFuZGxlcihsb2dDYWxsYmFjaywgb3B0aW9ucyk7XHJcbn1cclxuLyoqXHJcbiAqIFNldHMgbG9nIGxldmVsIGZvciBhbGwgRmlyZWJhc2UgU0RLcy5cclxuICpcclxuICogQWxsIG9mIHRoZSBsb2cgdHlwZXMgYWJvdmUgdGhlIGN1cnJlbnQgbG9nIGxldmVsIGFyZSBjYXB0dXJlZCAoaS5lLiBpZlxyXG4gKiB5b3Ugc2V0IHRoZSBsb2cgbGV2ZWwgdG8gYGluZm9gLCBlcnJvcnMgYXJlIGxvZ2dlZCwgYnV0IGBkZWJ1Z2AgYW5kXHJcbiAqIGB2ZXJib3NlYCBsb2dzIGFyZSBub3QpLlxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXRMb2dMZXZlbChsb2dMZXZlbCkge1xyXG4gICAgc2V0TG9nTGV2ZWwkMShsb2dMZXZlbCk7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDIxIEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuY29uc3QgREJfTkFNRSA9ICdmaXJlYmFzZS1oZWFydGJlYXQtZGF0YWJhc2UnO1xyXG5jb25zdCBEQl9WRVJTSU9OID0gMTtcclxuY29uc3QgU1RPUkVfTkFNRSA9ICdmaXJlYmFzZS1oZWFydGJlYXQtc3RvcmUnO1xyXG5sZXQgZGJQcm9taXNlID0gbnVsbDtcclxuZnVuY3Rpb24gZ2V0RGJQcm9taXNlKCkge1xyXG4gICAgaWYgKCFkYlByb21pc2UpIHtcclxuICAgICAgICBkYlByb21pc2UgPSBvcGVuREIoREJfTkFNRSwgREJfVkVSU0lPTiwge1xyXG4gICAgICAgICAgICB1cGdyYWRlOiAoZGIsIG9sZFZlcnNpb24pID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIFdlIGRvbid0IHVzZSAnYnJlYWsnIGluIHRoaXMgc3dpdGNoIHN0YXRlbWVudCwgdGhlIGZhbGwtdGhyb3VnaFxyXG4gICAgICAgICAgICAgICAgLy8gYmVoYXZpb3IgaXMgd2hhdCB3ZSB3YW50LCBiZWNhdXNlIGlmIHRoZXJlIGFyZSBtdWx0aXBsZSB2ZXJzaW9ucyBiZXR3ZWVuXHJcbiAgICAgICAgICAgICAgICAvLyB0aGUgb2xkIHZlcnNpb24gYW5kIHRoZSBjdXJyZW50IHZlcnNpb24sIHdlIHdhbnQgQUxMIHRoZSBtaWdyYXRpb25zXHJcbiAgICAgICAgICAgICAgICAvLyB0aGF0IGNvcnJlc3BvbmQgdG8gdGhvc2UgdmVyc2lvbnMgdG8gcnVuLCBub3Qgb25seSB0aGUgbGFzdCBvbmUuXHJcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVmYXVsdC1jYXNlXHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKG9sZFZlcnNpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKFNUT1JFX05BTUUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSkuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwiaWRiLW9wZW5cIiAvKiBBcHBFcnJvci5JREJfT1BFTiAqLywge1xyXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxFcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiBkYlByb21pc2U7XHJcbn1cclxuYXN5bmMgZnVuY3Rpb24gcmVhZEhlYXJ0YmVhdHNGcm9tSW5kZXhlZERCKGFwcCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBkYiA9IGF3YWl0IGdldERiUHJvbWlzZSgpO1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRiXHJcbiAgICAgICAgICAgIC50cmFuc2FjdGlvbihTVE9SRV9OQU1FKVxyXG4gICAgICAgICAgICAub2JqZWN0U3RvcmUoU1RPUkVfTkFNRSlcclxuICAgICAgICAgICAgLmdldChjb21wdXRlS2V5KGFwcCkpO1xyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgIGlmIChlIGluc3RhbmNlb2YgRmlyZWJhc2VFcnJvcikge1xyXG4gICAgICAgICAgICBsb2dnZXIud2FybihlLm1lc3NhZ2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgaWRiR2V0RXJyb3IgPSBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcImlkYi1nZXRcIiAvKiBBcHBFcnJvci5JREJfR0VUICovLCB7XHJcbiAgICAgICAgICAgICAgICBvcmlnaW5hbEVycm9yTWVzc2FnZTogZSA9PT0gbnVsbCB8fCBlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlLm1lc3NhZ2VcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKGlkYkdldEVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5hc3luYyBmdW5jdGlvbiB3cml0ZUhlYXJ0YmVhdHNUb0luZGV4ZWREQihhcHAsIGhlYXJ0YmVhdE9iamVjdCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBkYiA9IGF3YWl0IGdldERiUHJvbWlzZSgpO1xyXG4gICAgICAgIGNvbnN0IHR4ID0gZGIudHJhbnNhY3Rpb24oU1RPUkVfTkFNRSwgJ3JlYWR3cml0ZScpO1xyXG4gICAgICAgIGNvbnN0IG9iamVjdFN0b3JlID0gdHgub2JqZWN0U3RvcmUoU1RPUkVfTkFNRSk7XHJcbiAgICAgICAgYXdhaXQgb2JqZWN0U3RvcmUucHV0KGhlYXJ0YmVhdE9iamVjdCwgY29tcHV0ZUtleShhcHApKTtcclxuICAgICAgICBhd2FpdCB0eC5kb25lO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIEZpcmViYXNlRXJyb3IpIHtcclxuICAgICAgICAgICAgbG9nZ2VyLndhcm4oZS5tZXNzYWdlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGlkYkdldEVycm9yID0gRVJST1JfRkFDVE9SWS5jcmVhdGUoXCJpZGItc2V0XCIgLyogQXBwRXJyb3IuSURCX1dSSVRFICovLCB7XHJcbiAgICAgICAgICAgICAgICBvcmlnaW5hbEVycm9yTWVzc2FnZTogZSA9PT0gbnVsbCB8fCBlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlLm1lc3NhZ2VcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKGlkYkdldEVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBjb21wdXRlS2V5KGFwcCkge1xyXG4gICAgcmV0dXJuIGAke2FwcC5uYW1lfSEke2FwcC5vcHRpb25zLmFwcElkfWA7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDIxIEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuY29uc3QgTUFYX0hFQURFUl9CWVRFUyA9IDEwMjQ7XHJcbi8vIDMwIGRheXNcclxuY29uc3QgU1RPUkVEX0hFQVJUQkVBVF9SRVRFTlRJT05fTUFYX01JTExJUyA9IDMwICogMjQgKiA2MCAqIDYwICogMTAwMDtcclxuY2xhc3MgSGVhcnRiZWF0U2VydmljZUltcGwge1xyXG4gICAgY29uc3RydWN0b3IoY29udGFpbmVyKSB7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSW4tbWVtb3J5IGNhY2hlIGZvciBoZWFydGJlYXRzLCB1c2VkIGJ5IGdldEhlYXJ0YmVhdHNIZWFkZXIoKSB0byBnZW5lcmF0ZVxyXG4gICAgICAgICAqIHRoZSBoZWFkZXIgc3RyaW5nLlxyXG4gICAgICAgICAqIFN0b3JlcyBvbmUgcmVjb3JkIHBlciBkYXRlLiBUaGlzIHdpbGwgYmUgY29uc29saWRhdGVkIGludG8gdGhlIHN0YW5kYXJkXHJcbiAgICAgICAgICogZm9ybWF0IG9mIG9uZSByZWNvcmQgcGVyIHVzZXIgYWdlbnQgc3RyaW5nIGJlZm9yZSBiZWluZyBzZW50IGFzIGEgaGVhZGVyLlxyXG4gICAgICAgICAqIFBvcHVsYXRlZCBmcm9tIGluZGV4ZWREQiB3aGVuIHRoZSBjb250cm9sbGVyIGlzIGluc3RhbnRpYXRlZCBhbmQgc2hvdWxkXHJcbiAgICAgICAgICogYmUga2VwdCBpbiBzeW5jIHdpdGggaW5kZXhlZERCLlxyXG4gICAgICAgICAqIExlYXZlIHB1YmxpYyBmb3IgZWFzaWVyIHRlc3RpbmcuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5faGVhcnRiZWF0c0NhY2hlID0gbnVsbDtcclxuICAgICAgICBjb25zdCBhcHAgPSB0aGlzLmNvbnRhaW5lci5nZXRQcm92aWRlcignYXBwJykuZ2V0SW1tZWRpYXRlKCk7XHJcbiAgICAgICAgdGhpcy5fc3RvcmFnZSA9IG5ldyBIZWFydGJlYXRTdG9yYWdlSW1wbChhcHApO1xyXG4gICAgICAgIHRoaXMuX2hlYXJ0YmVhdHNDYWNoZVByb21pc2UgPSB0aGlzLl9zdG9yYWdlLnJlYWQoKS50aGVuKHJlc3VsdCA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hlYXJ0YmVhdHNDYWNoZSA9IHJlc3VsdDtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ2FsbGVkIHRvIHJlcG9ydCBhIGhlYXJ0YmVhdC4gVGhlIGZ1bmN0aW9uIHdpbGwgZ2VuZXJhdGVcclxuICAgICAqIGEgSGVhcnRiZWF0c0J5VXNlckFnZW50IG9iamVjdCwgdXBkYXRlIGhlYXJ0YmVhdHNDYWNoZSwgYW5kIHBlcnNpc3QgaXRcclxuICAgICAqIHRvIEluZGV4ZWREQi5cclxuICAgICAqIE5vdGUgdGhhdCB3ZSBvbmx5IHN0b3JlIG9uZSBoZWFydGJlYXQgcGVyIGRheS4gU28gaWYgYSBoZWFydGJlYXQgZm9yIHRvZGF5IGlzXHJcbiAgICAgKiBhbHJlYWR5IGxvZ2dlZCwgc3Vic2VxdWVudCBjYWxscyB0byB0aGlzIGZ1bmN0aW9uIGluIHRoZSBzYW1lIGRheSB3aWxsIGJlIGlnbm9yZWQuXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHRyaWdnZXJIZWFydGJlYXQoKSB7XHJcbiAgICAgICAgY29uc3QgcGxhdGZvcm1Mb2dnZXIgPSB0aGlzLmNvbnRhaW5lclxyXG4gICAgICAgICAgICAuZ2V0UHJvdmlkZXIoJ3BsYXRmb3JtLWxvZ2dlcicpXHJcbiAgICAgICAgICAgIC5nZXRJbW1lZGlhdGUoKTtcclxuICAgICAgICAvLyBUaGlzIGlzIHRoZSBcIkZpcmViYXNlIHVzZXIgYWdlbnRcIiBzdHJpbmcgZnJvbSB0aGUgcGxhdGZvcm0gbG9nZ2VyXHJcbiAgICAgICAgLy8gc2VydmljZSwgbm90IHRoZSBicm93c2VyIHVzZXIgYWdlbnQuXHJcbiAgICAgICAgY29uc3QgYWdlbnQgPSBwbGF0Zm9ybUxvZ2dlci5nZXRQbGF0Zm9ybUluZm9TdHJpbmcoKTtcclxuICAgICAgICBjb25zdCBkYXRlID0gZ2V0VVRDRGF0ZVN0cmluZygpO1xyXG4gICAgICAgIGlmICh0aGlzLl9oZWFydGJlYXRzQ2FjaGUgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5faGVhcnRiZWF0c0NhY2hlID0gYXdhaXQgdGhpcy5faGVhcnRiZWF0c0NhY2hlUHJvbWlzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gRG8gbm90IHN0b3JlIGEgaGVhcnRiZWF0IGlmIG9uZSBpcyBhbHJlYWR5IHN0b3JlZCBmb3IgdGhpcyBkYXlcclxuICAgICAgICAvLyBvciBpZiBhIGhlYWRlciBoYXMgYWxyZWFkeSBiZWVuIHNlbnQgdG9kYXkuXHJcbiAgICAgICAgaWYgKHRoaXMuX2hlYXJ0YmVhdHNDYWNoZS5sYXN0U2VudEhlYXJ0YmVhdERhdGUgPT09IGRhdGUgfHxcclxuICAgICAgICAgICAgdGhpcy5faGVhcnRiZWF0c0NhY2hlLmhlYXJ0YmVhdHMuc29tZShzaW5nbGVEYXRlSGVhcnRiZWF0ID0+IHNpbmdsZURhdGVIZWFydGJlYXQuZGF0ZSA9PT0gZGF0ZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gVGhlcmUgaXMgbm8gZW50cnkgZm9yIHRoaXMgZGF0ZS4gQ3JlYXRlIG9uZS5cclxuICAgICAgICAgICAgdGhpcy5faGVhcnRiZWF0c0NhY2hlLmhlYXJ0YmVhdHMucHVzaCh7IGRhdGUsIGFnZW50IH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBSZW1vdmUgZW50cmllcyBvbGRlciB0aGFuIDMwIGRheXMuXHJcbiAgICAgICAgdGhpcy5faGVhcnRiZWF0c0NhY2hlLmhlYXJ0YmVhdHMgPSB0aGlzLl9oZWFydGJlYXRzQ2FjaGUuaGVhcnRiZWF0cy5maWx0ZXIoc2luZ2xlRGF0ZUhlYXJ0YmVhdCA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGhiVGltZXN0YW1wID0gbmV3IERhdGUoc2luZ2xlRGF0ZUhlYXJ0YmVhdC5kYXRlKS52YWx1ZU9mKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICAgIHJldHVybiBub3cgLSBoYlRpbWVzdGFtcCA8PSBTVE9SRURfSEVBUlRCRUFUX1JFVEVOVElPTl9NQVhfTUlMTElTO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zdG9yYWdlLm92ZXJ3cml0ZSh0aGlzLl9oZWFydGJlYXRzQ2FjaGUpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGEgYmFzZTY0IGVuY29kZWQgc3RyaW5nIHdoaWNoIGNhbiBiZSBhdHRhY2hlZCB0byB0aGUgaGVhcnRiZWF0LXNwZWNpZmljIGhlYWRlciBkaXJlY3RseS5cclxuICAgICAqIEl0IGFsc28gY2xlYXJzIGFsbCBoZWFydGJlYXRzIGZyb20gbWVtb3J5IGFzIHdlbGwgYXMgaW4gSW5kZXhlZERCLlxyXG4gICAgICpcclxuICAgICAqIE5PVEU6IENvbnN1bWluZyBwcm9kdWN0IFNES3Mgc2hvdWxkIG5vdCBzZW5kIHRoZSBoZWFkZXIgaWYgdGhpcyBtZXRob2RcclxuICAgICAqIHJldHVybnMgYW4gZW1wdHkgc3RyaW5nLlxyXG4gICAgICovXHJcbiAgICBhc3luYyBnZXRIZWFydGJlYXRzSGVhZGVyKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9oZWFydGJlYXRzQ2FjaGUgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5faGVhcnRiZWF0c0NhY2hlUHJvbWlzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gSWYgaXQncyBzdGlsbCBudWxsIG9yIHRoZSBhcnJheSBpcyBlbXB0eSwgdGhlcmUgaXMgbm8gZGF0YSB0byBzZW5kLlxyXG4gICAgICAgIGlmICh0aGlzLl9oZWFydGJlYXRzQ2FjaGUgPT09IG51bGwgfHxcclxuICAgICAgICAgICAgdGhpcy5faGVhcnRiZWF0c0NhY2hlLmhlYXJ0YmVhdHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZGF0ZSA9IGdldFVUQ0RhdGVTdHJpbmcoKTtcclxuICAgICAgICAvLyBFeHRyYWN0IGFzIG1hbnkgaGVhcnRiZWF0cyBmcm9tIHRoZSBjYWNoZSBhcyB3aWxsIGZpdCB1bmRlciB0aGUgc2l6ZSBsaW1pdC5cclxuICAgICAgICBjb25zdCB7IGhlYXJ0YmVhdHNUb1NlbmQsIHVuc2VudEVudHJpZXMgfSA9IGV4dHJhY3RIZWFydGJlYXRzRm9ySGVhZGVyKHRoaXMuX2hlYXJ0YmVhdHNDYWNoZS5oZWFydGJlYXRzKTtcclxuICAgICAgICBjb25zdCBoZWFkZXJTdHJpbmcgPSBiYXNlNjR1cmxFbmNvZGVXaXRob3V0UGFkZGluZyhKU09OLnN0cmluZ2lmeSh7IHZlcnNpb246IDIsIGhlYXJ0YmVhdHM6IGhlYXJ0YmVhdHNUb1NlbmQgfSkpO1xyXG4gICAgICAgIC8vIFN0b3JlIGxhc3Qgc2VudCBkYXRlIHRvIHByZXZlbnQgYW5vdGhlciBiZWluZyBsb2dnZWQvc2VudCBmb3IgdGhlIHNhbWUgZGF5LlxyXG4gICAgICAgIHRoaXMuX2hlYXJ0YmVhdHNDYWNoZS5sYXN0U2VudEhlYXJ0YmVhdERhdGUgPSBkYXRlO1xyXG4gICAgICAgIGlmICh1bnNlbnRFbnRyaWVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgLy8gU3RvcmUgYW55IHVuc2VudCBlbnRyaWVzIGlmIHRoZXkgZXhpc3QuXHJcbiAgICAgICAgICAgIHRoaXMuX2hlYXJ0YmVhdHNDYWNoZS5oZWFydGJlYXRzID0gdW5zZW50RW50cmllcztcclxuICAgICAgICAgICAgLy8gVGhpcyBzZWVtcyBtb3JlIGxpa2VseSB0aGFuIGVtcHR5aW5nIHRoZSBhcnJheSAoYmVsb3cpIHRvIGxlYWQgdG8gc29tZSBvZGQgc3RhdGVcclxuICAgICAgICAgICAgLy8gc2luY2UgdGhlIGNhY2hlIGlzbid0IGVtcHR5IGFuZCB0aGlzIHdpbGwgYmUgY2FsbGVkIGFnYWluIG9uIHRoZSBuZXh0IHJlcXVlc3QsXHJcbiAgICAgICAgICAgIC8vIGFuZCBpcyBwcm9iYWJseSBzYWZlc3QgaWYgd2UgYXdhaXQgaXQuXHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX3N0b3JhZ2Uub3ZlcndyaXRlKHRoaXMuX2hlYXJ0YmVhdHNDYWNoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9oZWFydGJlYXRzQ2FjaGUuaGVhcnRiZWF0cyA9IFtdO1xyXG4gICAgICAgICAgICAvLyBEbyBub3Qgd2FpdCBmb3IgdGhpcywgdG8gcmVkdWNlIGxhdGVuY3kuXHJcbiAgICAgICAgICAgIHZvaWQgdGhpcy5fc3RvcmFnZS5vdmVyd3JpdGUodGhpcy5faGVhcnRiZWF0c0NhY2hlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGhlYWRlclN0cmluZztcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBnZXRVVENEYXRlU3RyaW5nKCkge1xyXG4gICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpO1xyXG4gICAgLy8gUmV0dXJucyBkYXRlIGZvcm1hdCAnWVlZWS1NTS1ERCdcclxuICAgIHJldHVybiB0b2RheS50b0lTT1N0cmluZygpLnN1YnN0cmluZygwLCAxMCk7XHJcbn1cclxuZnVuY3Rpb24gZXh0cmFjdEhlYXJ0YmVhdHNGb3JIZWFkZXIoaGVhcnRiZWF0c0NhY2hlLCBtYXhTaXplID0gTUFYX0hFQURFUl9CWVRFUykge1xyXG4gICAgLy8gSGVhcnRiZWF0cyBncm91cGVkIGJ5IHVzZXIgYWdlbnQgaW4gdGhlIHN0YW5kYXJkIGZvcm1hdCB0byBiZSBzZW50IGluXHJcbiAgICAvLyB0aGUgaGVhZGVyLlxyXG4gICAgY29uc3QgaGVhcnRiZWF0c1RvU2VuZCA9IFtdO1xyXG4gICAgLy8gU2luZ2xlIGRhdGUgZm9ybWF0IGhlYXJ0YmVhdHMgdGhhdCBhcmUgbm90IHNlbnQuXHJcbiAgICBsZXQgdW5zZW50RW50cmllcyA9IGhlYXJ0YmVhdHNDYWNoZS5zbGljZSgpO1xyXG4gICAgZm9yIChjb25zdCBzaW5nbGVEYXRlSGVhcnRiZWF0IG9mIGhlYXJ0YmVhdHNDYWNoZSkge1xyXG4gICAgICAgIC8vIExvb2sgZm9yIGFuIGV4aXN0aW5nIGVudHJ5IHdpdGggdGhlIHNhbWUgdXNlciBhZ2VudC5cclxuICAgICAgICBjb25zdCBoZWFydGJlYXRFbnRyeSA9IGhlYXJ0YmVhdHNUb1NlbmQuZmluZChoYiA9PiBoYi5hZ2VudCA9PT0gc2luZ2xlRGF0ZUhlYXJ0YmVhdC5hZ2VudCk7XHJcbiAgICAgICAgaWYgKCFoZWFydGJlYXRFbnRyeSkge1xyXG4gICAgICAgICAgICAvLyBJZiBubyBlbnRyeSBmb3IgdGhpcyB1c2VyIGFnZW50IGV4aXN0cywgY3JlYXRlIG9uZS5cclxuICAgICAgICAgICAgaGVhcnRiZWF0c1RvU2VuZC5wdXNoKHtcclxuICAgICAgICAgICAgICAgIGFnZW50OiBzaW5nbGVEYXRlSGVhcnRiZWF0LmFnZW50LFxyXG4gICAgICAgICAgICAgICAgZGF0ZXM6IFtzaW5nbGVEYXRlSGVhcnRiZWF0LmRhdGVdXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAoY291bnRCeXRlcyhoZWFydGJlYXRzVG9TZW5kKSA+IG1heFNpemUpIHtcclxuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBoZWFkZXIgd291bGQgZXhjZWVkIG1heCBzaXplLCByZW1vdmUgdGhlIGFkZGVkIGhlYXJ0YmVhdFxyXG4gICAgICAgICAgICAgICAgLy8gZW50cnkgYW5kIHN0b3AgYWRkaW5nIHRvIHRoZSBoZWFkZXIuXHJcbiAgICAgICAgICAgICAgICBoZWFydGJlYXRzVG9TZW5kLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGhlYXJ0YmVhdEVudHJ5LmRhdGVzLnB1c2goc2luZ2xlRGF0ZUhlYXJ0YmVhdC5kYXRlKTtcclxuICAgICAgICAgICAgLy8gSWYgdGhlIGhlYWRlciB3b3VsZCBleGNlZWQgbWF4IHNpemUsIHJlbW92ZSB0aGUgYWRkZWQgZGF0ZVxyXG4gICAgICAgICAgICAvLyBhbmQgc3RvcCBhZGRpbmcgdG8gdGhlIGhlYWRlci5cclxuICAgICAgICAgICAgaWYgKGNvdW50Qnl0ZXMoaGVhcnRiZWF0c1RvU2VuZCkgPiBtYXhTaXplKSB7XHJcbiAgICAgICAgICAgICAgICBoZWFydGJlYXRFbnRyeS5kYXRlcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFBvcCB1bnNlbnQgZW50cnkgZnJvbSBxdWV1ZS4gKFNraXBwZWQgaWYgYWRkaW5nIHRoZSBlbnRyeSBleGNlZWRlZFxyXG4gICAgICAgIC8vIHF1b3RhIGFuZCB0aGUgbG9vcCBicmVha3MgZWFybHkuKVxyXG4gICAgICAgIHVuc2VudEVudHJpZXMgPSB1bnNlbnRFbnRyaWVzLnNsaWNlKDEpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBoZWFydGJlYXRzVG9TZW5kLFxyXG4gICAgICAgIHVuc2VudEVudHJpZXNcclxuICAgIH07XHJcbn1cclxuY2xhc3MgSGVhcnRiZWF0U3RvcmFnZUltcGwge1xyXG4gICAgY29uc3RydWN0b3IoYXBwKSB7XHJcbiAgICAgICAgdGhpcy5hcHAgPSBhcHA7XHJcbiAgICAgICAgdGhpcy5fY2FuVXNlSW5kZXhlZERCUHJvbWlzZSA9IHRoaXMucnVuSW5kZXhlZERCRW52aXJvbm1lbnRDaGVjaygpO1xyXG4gICAgfVxyXG4gICAgYXN5bmMgcnVuSW5kZXhlZERCRW52aXJvbm1lbnRDaGVjaygpIHtcclxuICAgICAgICBpZiAoIWlzSW5kZXhlZERCQXZhaWxhYmxlKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbGlkYXRlSW5kZXhlZERCT3BlbmFibGUoKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gdHJ1ZSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaCgoKSA9PiBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZWFkIGFsbCBoZWFydGJlYXRzLlxyXG4gICAgICovXHJcbiAgICBhc3luYyByZWFkKCkge1xyXG4gICAgICAgIGNvbnN0IGNhblVzZUluZGV4ZWREQiA9IGF3YWl0IHRoaXMuX2NhblVzZUluZGV4ZWREQlByb21pc2U7XHJcbiAgICAgICAgaWYgKCFjYW5Vc2VJbmRleGVkREIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHsgaGVhcnRiZWF0czogW10gfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGlkYkhlYXJ0YmVhdE9iamVjdCA9IGF3YWl0IHJlYWRIZWFydGJlYXRzRnJvbUluZGV4ZWREQih0aGlzLmFwcCk7XHJcbiAgICAgICAgICAgIHJldHVybiBpZGJIZWFydGJlYXRPYmplY3QgfHwgeyBoZWFydGJlYXRzOiBbXSB9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIG92ZXJ3cml0ZSB0aGUgc3RvcmFnZSB3aXRoIHRoZSBwcm92aWRlZCBoZWFydGJlYXRzXHJcbiAgICBhc3luYyBvdmVyd3JpdGUoaGVhcnRiZWF0c09iamVjdCkge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICBjb25zdCBjYW5Vc2VJbmRleGVkREIgPSBhd2FpdCB0aGlzLl9jYW5Vc2VJbmRleGVkREJQcm9taXNlO1xyXG4gICAgICAgIGlmICghY2FuVXNlSW5kZXhlZERCKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nSGVhcnRiZWF0c09iamVjdCA9IGF3YWl0IHRoaXMucmVhZCgpO1xyXG4gICAgICAgICAgICByZXR1cm4gd3JpdGVIZWFydGJlYXRzVG9JbmRleGVkREIodGhpcy5hcHAsIHtcclxuICAgICAgICAgICAgICAgIGxhc3RTZW50SGVhcnRiZWF0RGF0ZTogKF9hID0gaGVhcnRiZWF0c09iamVjdC5sYXN0U2VudEhlYXJ0YmVhdERhdGUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGV4aXN0aW5nSGVhcnRiZWF0c09iamVjdC5sYXN0U2VudEhlYXJ0YmVhdERhdGUsXHJcbiAgICAgICAgICAgICAgICBoZWFydGJlYXRzOiBoZWFydGJlYXRzT2JqZWN0LmhlYXJ0YmVhdHNcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gYWRkIGhlYXJ0YmVhdHNcclxuICAgIGFzeW5jIGFkZChoZWFydGJlYXRzT2JqZWN0KSB7XHJcbiAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgIGNvbnN0IGNhblVzZUluZGV4ZWREQiA9IGF3YWl0IHRoaXMuX2NhblVzZUluZGV4ZWREQlByb21pc2U7XHJcbiAgICAgICAgaWYgKCFjYW5Vc2VJbmRleGVkREIpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdIZWFydGJlYXRzT2JqZWN0ID0gYXdhaXQgdGhpcy5yZWFkKCk7XHJcbiAgICAgICAgICAgIHJldHVybiB3cml0ZUhlYXJ0YmVhdHNUb0luZGV4ZWREQih0aGlzLmFwcCwge1xyXG4gICAgICAgICAgICAgICAgbGFzdFNlbnRIZWFydGJlYXREYXRlOiAoX2EgPSBoZWFydGJlYXRzT2JqZWN0Lmxhc3RTZW50SGVhcnRiZWF0RGF0ZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZXhpc3RpbmdIZWFydGJlYXRzT2JqZWN0Lmxhc3RTZW50SGVhcnRiZWF0RGF0ZSxcclxuICAgICAgICAgICAgICAgIGhlYXJ0YmVhdHM6IFtcclxuICAgICAgICAgICAgICAgICAgICAuLi5leGlzdGluZ0hlYXJ0YmVhdHNPYmplY3QuaGVhcnRiZWF0cyxcclxuICAgICAgICAgICAgICAgICAgICAuLi5oZWFydGJlYXRzT2JqZWN0LmhlYXJ0YmVhdHNcclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBDYWxjdWxhdGUgYnl0ZXMgb2YgYSBIZWFydGJlYXRzQnlVc2VyQWdlbnQgYXJyYXkgYWZ0ZXIgYmVpbmcgd3JhcHBlZFxyXG4gKiBpbiBhIHBsYXRmb3JtIGxvZ2dpbmcgaGVhZGVyIEpTT04gb2JqZWN0LCBzdHJpbmdpZmllZCwgYW5kIGNvbnZlcnRlZFxyXG4gKiB0byBiYXNlIDY0LlxyXG4gKi9cclxuZnVuY3Rpb24gY291bnRCeXRlcyhoZWFydGJlYXRzQ2FjaGUpIHtcclxuICAgIC8vIGJhc2U2NCBoYXMgYSByZXN0cmljdGVkIHNldCBvZiBjaGFyYWN0ZXJzLCBhbGwgb2Ygd2hpY2ggc2hvdWxkIGJlIDEgYnl0ZS5cclxuICAgIHJldHVybiBiYXNlNjR1cmxFbmNvZGVXaXRob3V0UGFkZGluZyhcclxuICAgIC8vIGhlYXJ0YmVhdHNDYWNoZSB3cmFwcGVyIHByb3BlcnRpZXNcclxuICAgIEpTT04uc3RyaW5naWZ5KHsgdmVyc2lvbjogMiwgaGVhcnRiZWF0czogaGVhcnRiZWF0c0NhY2hlIH0pKS5sZW5ndGg7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuZnVuY3Rpb24gcmVnaXN0ZXJDb3JlQ29tcG9uZW50cyh2YXJpYW50KSB7XHJcbiAgICBfcmVnaXN0ZXJDb21wb25lbnQobmV3IENvbXBvbmVudCgncGxhdGZvcm0tbG9nZ2VyJywgY29udGFpbmVyID0+IG5ldyBQbGF0Zm9ybUxvZ2dlclNlcnZpY2VJbXBsKGNvbnRhaW5lciksIFwiUFJJVkFURVwiIC8qIENvbXBvbmVudFR5cGUuUFJJVkFURSAqLykpO1xyXG4gICAgX3JlZ2lzdGVyQ29tcG9uZW50KG5ldyBDb21wb25lbnQoJ2hlYXJ0YmVhdCcsIGNvbnRhaW5lciA9PiBuZXcgSGVhcnRiZWF0U2VydmljZUltcGwoY29udGFpbmVyKSwgXCJQUklWQVRFXCIgLyogQ29tcG9uZW50VHlwZS5QUklWQVRFICovKSk7XHJcbiAgICAvLyBSZWdpc3RlciBgYXBwYCBwYWNrYWdlLlxyXG4gICAgcmVnaXN0ZXJWZXJzaW9uKG5hbWUkbywgdmVyc2lvbiQxLCB2YXJpYW50KTtcclxuICAgIC8vIEJVSUxEX1RBUkdFVCB3aWxsIGJlIHJlcGxhY2VkIGJ5IHZhbHVlcyBsaWtlIGVzbTUsIGVzbTIwMTcsIGNqczUsIGV0YyBkdXJpbmcgdGhlIGNvbXBpbGF0aW9uXHJcbiAgICByZWdpc3RlclZlcnNpb24obmFtZSRvLCB2ZXJzaW9uJDEsICdlc20yMDE3Jyk7XHJcbiAgICAvLyBSZWdpc3RlciBwbGF0Zm9ybSBTREsgaWRlbnRpZmllciAobm8gdmVyc2lvbikuXHJcbiAgICByZWdpc3RlclZlcnNpb24oJ2ZpcmUtanMnLCAnJyk7XHJcbn1cblxuLyoqXHJcbiAqIEZpcmViYXNlIEFwcFxyXG4gKlxyXG4gKiBAcmVtYXJrcyBUaGlzIHBhY2thZ2UgY29vcmRpbmF0ZXMgdGhlIGNvbW11bmljYXRpb24gYmV0d2VlbiB0aGUgZGlmZmVyZW50IEZpcmViYXNlIGNvbXBvbmVudHNcclxuICogQHBhY2thZ2VEb2N1bWVudGF0aW9uXHJcbiAqL1xyXG5yZWdpc3RlckNvcmVDb21wb25lbnRzKCcnKTtcblxuZXhwb3J0IHsgU0RLX1ZFUlNJT04sIERFRkFVTFRfRU5UUllfTkFNRSBhcyBfREVGQVVMVF9FTlRSWV9OQU1FLCBfYWRkQ29tcG9uZW50LCBfYWRkT3JPdmVyd3JpdGVDb21wb25lbnQsIF9hcHBzLCBfY2xlYXJDb21wb25lbnRzLCBfY29tcG9uZW50cywgX2dldFByb3ZpZGVyLCBfcmVnaXN0ZXJDb21wb25lbnQsIF9yZW1vdmVTZXJ2aWNlSW5zdGFuY2UsIGRlbGV0ZUFwcCwgZ2V0QXBwLCBnZXRBcHBzLCBpbml0aWFsaXplQXBwLCBvbkxvZywgcmVnaXN0ZXJWZXJzaW9uLCBzZXRMb2dMZXZlbCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguZXNtMjAxNy5qcy5tYXBcbiIsImltcG9ydCB7IERlZmVycmVkIH0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuXG4vKipcclxuICogQ29tcG9uZW50IGZvciBzZXJ2aWNlIG5hbWUgVCwgZS5nLiBgYXV0aGAsIGBhdXRoLWludGVybmFsYFxyXG4gKi9cclxuY2xhc3MgQ29tcG9uZW50IHtcclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBuYW1lIFRoZSBwdWJsaWMgc2VydmljZSBuYW1lLCBlLmcuIGFwcCwgYXV0aCwgZmlyZXN0b3JlLCBkYXRhYmFzZVxyXG4gICAgICogQHBhcmFtIGluc3RhbmNlRmFjdG9yeSBTZXJ2aWNlIGZhY3RvcnkgcmVzcG9uc2libGUgZm9yIGNyZWF0aW5nIHRoZSBwdWJsaWMgaW50ZXJmYWNlXHJcbiAgICAgKiBAcGFyYW0gdHlwZSB3aGV0aGVyIHRoZSBzZXJ2aWNlIHByb3ZpZGVkIGJ5IHRoZSBjb21wb25lbnQgaXMgcHVibGljIG9yIHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IobmFtZSwgaW5zdGFuY2VGYWN0b3J5LCB0eXBlKSB7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgICAgICB0aGlzLmluc3RhbmNlRmFjdG9yeSA9IGluc3RhbmNlRmFjdG9yeTtcclxuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xyXG4gICAgICAgIHRoaXMubXVsdGlwbGVJbnN0YW5jZXMgPSBmYWxzZTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBQcm9wZXJ0aWVzIHRvIGJlIGFkZGVkIHRvIHRoZSBzZXJ2aWNlIG5hbWVzcGFjZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuc2VydmljZVByb3BzID0ge307XHJcbiAgICAgICAgdGhpcy5pbnN0YW50aWF0aW9uTW9kZSA9IFwiTEFaWVwiIC8qIEluc3RhbnRpYXRpb25Nb2RlLkxBWlkgKi87XHJcbiAgICAgICAgdGhpcy5vbkluc3RhbmNlQ3JlYXRlZCA9IG51bGw7XHJcbiAgICB9XHJcbiAgICBzZXRJbnN0YW50aWF0aW9uTW9kZShtb2RlKSB7XHJcbiAgICAgICAgdGhpcy5pbnN0YW50aWF0aW9uTW9kZSA9IG1vZGU7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICBzZXRNdWx0aXBsZUluc3RhbmNlcyhtdWx0aXBsZUluc3RhbmNlcykge1xyXG4gICAgICAgIHRoaXMubXVsdGlwbGVJbnN0YW5jZXMgPSBtdWx0aXBsZUluc3RhbmNlcztcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIHNldFNlcnZpY2VQcm9wcyhwcm9wcykge1xyXG4gICAgICAgIHRoaXMuc2VydmljZVByb3BzID0gcHJvcHM7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICBzZXRJbnN0YW5jZUNyZWF0ZWRDYWxsYmFjayhjYWxsYmFjaykge1xyXG4gICAgICAgIHRoaXMub25JbnN0YW5jZUNyZWF0ZWQgPSBjYWxsYmFjaztcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5jb25zdCBERUZBVUxUX0VOVFJZX05BTUUgPSAnW0RFRkFVTFRdJztcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIFByb3ZpZGVyIGZvciBpbnN0YW5jZSBmb3Igc2VydmljZSBuYW1lIFQsIGUuZy4gJ2F1dGgnLCAnYXV0aC1pbnRlcm5hbCdcclxuICogTmFtZVNlcnZpY2VNYXBwaW5nW1RdIGlzIGFuIGFsaWFzIGZvciB0aGUgdHlwZSBvZiB0aGUgaW5zdGFuY2VcclxuICovXHJcbmNsYXNzIFByb3ZpZGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKG5hbWUsIGNvbnRhaW5lcikge1xyXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuaW5zdGFuY2VzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuaW5zdGFuY2VzRGVmZXJyZWQgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZXNPcHRpb25zID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMub25Jbml0Q2FsbGJhY2tzID0gbmV3IE1hcCgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0gaWRlbnRpZmllciBBIHByb3ZpZGVyIGNhbiBwcm92aWRlIG11bGl0cGxlIGluc3RhbmNlcyBvZiBhIHNlcnZpY2VcclxuICAgICAqIGlmIHRoaXMuY29tcG9uZW50Lm11bHRpcGxlSW5zdGFuY2VzIGlzIHRydWUuXHJcbiAgICAgKi9cclxuICAgIGdldChpZGVudGlmaWVyKSB7XHJcbiAgICAgICAgLy8gaWYgbXVsdGlwbGVJbnN0YW5jZXMgaXMgbm90IHN1cHBvcnRlZCwgdXNlIHRoZSBkZWZhdWx0IG5hbWVcclxuICAgICAgICBjb25zdCBub3JtYWxpemVkSWRlbnRpZmllciA9IHRoaXMubm9ybWFsaXplSW5zdGFuY2VJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xyXG4gICAgICAgIGlmICghdGhpcy5pbnN0YW5jZXNEZWZlcnJlZC5oYXMobm9ybWFsaXplZElkZW50aWZpZXIpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRlZmVycmVkID0gbmV3IERlZmVycmVkKCk7XHJcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2VzRGVmZXJyZWQuc2V0KG5vcm1hbGl6ZWRJZGVudGlmaWVyLCBkZWZlcnJlZCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzSW5pdGlhbGl6ZWQobm9ybWFsaXplZElkZW50aWZpZXIpIHx8XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3VsZEF1dG9Jbml0aWFsaXplKCkpIHtcclxuICAgICAgICAgICAgICAgIC8vIGluaXRpYWxpemUgdGhlIHNlcnZpY2UgaWYgaXQgY2FuIGJlIGF1dG8taW5pdGlhbGl6ZWRcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5zdGFuY2UgPSB0aGlzLmdldE9ySW5pdGlhbGl6ZVNlcnZpY2Uoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZUlkZW50aWZpZXI6IG5vcm1hbGl6ZWRJZGVudGlmaWVyXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gd2hlbiB0aGUgaW5zdGFuY2UgZmFjdG9yeSB0aHJvd3MgYW4gZXhjZXB0aW9uIGR1cmluZyBnZXQoKSwgaXQgc2hvdWxkIG5vdCBjYXVzZVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGEgZmF0YWwgZXJyb3IuIFdlIGp1c3QgcmV0dXJuIHRoZSB1bnJlc29sdmVkIHByb21pc2UgaW4gdGhpcyBjYXNlLlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlc0RlZmVycmVkLmdldChub3JtYWxpemVkSWRlbnRpZmllcikucHJvbWlzZTtcclxuICAgIH1cclxuICAgIGdldEltbWVkaWF0ZShvcHRpb25zKSB7XHJcbiAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgIC8vIGlmIG11bHRpcGxlSW5zdGFuY2VzIGlzIG5vdCBzdXBwb3J0ZWQsIHVzZSB0aGUgZGVmYXVsdCBuYW1lXHJcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZElkZW50aWZpZXIgPSB0aGlzLm5vcm1hbGl6ZUluc3RhbmNlSWRlbnRpZmllcihvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuaWRlbnRpZmllcik7XHJcbiAgICAgICAgY29uc3Qgb3B0aW9uYWwgPSAoX2EgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMub3B0aW9uYWwpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGZhbHNlO1xyXG4gICAgICAgIGlmICh0aGlzLmlzSW5pdGlhbGl6ZWQobm9ybWFsaXplZElkZW50aWZpZXIpIHx8XHJcbiAgICAgICAgICAgIHRoaXMuc2hvdWxkQXV0b0luaXRpYWxpemUoKSkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T3JJbml0aWFsaXplU2VydmljZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2VJZGVudGlmaWVyOiBub3JtYWxpemVkSWRlbnRpZmllclxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25hbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gSW4gY2FzZSBhIGNvbXBvbmVudCBpcyBub3QgaW5pdGlhbGl6ZWQgYW5kIHNob3VsZC9jYW4gbm90IGJlIGF1dG8taW5pdGlhbGl6ZWQgYXQgdGhlIG1vbWVudCwgcmV0dXJuIG51bGwgaWYgdGhlIG9wdGlvbmFsIGZsYWcgaXMgc2V0LCBvciB0aHJvd1xyXG4gICAgICAgICAgICBpZiAob3B0aW9uYWwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoYFNlcnZpY2UgJHt0aGlzLm5hbWV9IGlzIG5vdCBhdmFpbGFibGVgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGdldENvbXBvbmVudCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnQ7XHJcbiAgICB9XHJcbiAgICBzZXRDb21wb25lbnQoY29tcG9uZW50KSB7XHJcbiAgICAgICAgaWYgKGNvbXBvbmVudC5uYW1lICE9PSB0aGlzLm5hbWUpIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoYE1pc21hdGNoaW5nIENvbXBvbmVudCAke2NvbXBvbmVudC5uYW1lfSBmb3IgUHJvdmlkZXIgJHt0aGlzLm5hbWV9LmApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5jb21wb25lbnQpIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoYENvbXBvbmVudCBmb3IgJHt0aGlzLm5hbWV9IGhhcyBhbHJlYWR5IGJlZW4gcHJvdmlkZWRgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnQgPSBjb21wb25lbnQ7XHJcbiAgICAgICAgLy8gcmV0dXJuIGVhcmx5IHdpdGhvdXQgYXR0ZW1wdGluZyB0byBpbml0aWFsaXplIHRoZSBjb21wb25lbnQgaWYgdGhlIGNvbXBvbmVudCByZXF1aXJlcyBleHBsaWNpdCBpbml0aWFsaXphdGlvbiAoY2FsbGluZyBgUHJvdmlkZXIuaW5pdGlhbGl6ZSgpYClcclxuICAgICAgICBpZiAoIXRoaXMuc2hvdWxkQXV0b0luaXRpYWxpemUoKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGlmIHRoZSBzZXJ2aWNlIGlzIGVhZ2VyLCBpbml0aWFsaXplIHRoZSBkZWZhdWx0IGluc3RhbmNlXHJcbiAgICAgICAgaWYgKGlzQ29tcG9uZW50RWFnZXIoY29tcG9uZW50KSkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRPckluaXRpYWxpemVTZXJ2aWNlKHsgaW5zdGFuY2VJZGVudGlmaWVyOiBERUZBVUxUX0VOVFJZX05BTUUgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIC8vIHdoZW4gdGhlIGluc3RhbmNlIGZhY3RvcnkgZm9yIGFuIGVhZ2VyIENvbXBvbmVudCB0aHJvd3MgYW4gZXhjZXB0aW9uIGR1cmluZyB0aGUgZWFnZXJcclxuICAgICAgICAgICAgICAgIC8vIGluaXRpYWxpemF0aW9uLCBpdCBzaG91bGQgbm90IGNhdXNlIGEgZmF0YWwgZXJyb3IuXHJcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBJbnZlc3RpZ2F0ZSBpZiB3ZSBuZWVkIHRvIG1ha2UgaXQgY29uZmlndXJhYmxlLCBiZWNhdXNlIHNvbWUgY29tcG9uZW50IG1heSB3YW50IHRvIGNhdXNlXHJcbiAgICAgICAgICAgICAgICAvLyBhIGZhdGFsIGVycm9yIGluIHRoaXMgY2FzZT9cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBDcmVhdGUgc2VydmljZSBpbnN0YW5jZXMgZm9yIHRoZSBwZW5kaW5nIHByb21pc2VzIGFuZCByZXNvbHZlIHRoZW1cclxuICAgICAgICAvLyBOT1RFOiBpZiB0aGlzLm11bHRpcGxlSW5zdGFuY2VzIGlzIGZhbHNlLCBvbmx5IHRoZSBkZWZhdWx0IGluc3RhbmNlIHdpbGwgYmUgY3JlYXRlZFxyXG4gICAgICAgIC8vIGFuZCBhbGwgcHJvbWlzZXMgd2l0aCByZXNvbHZlIHdpdGggaXQgcmVnYXJkbGVzcyBvZiB0aGUgaWRlbnRpZmllci5cclxuICAgICAgICBmb3IgKGNvbnN0IFtpbnN0YW5jZUlkZW50aWZpZXIsIGluc3RhbmNlRGVmZXJyZWRdIG9mIHRoaXMuaW5zdGFuY2VzRGVmZXJyZWQuZW50cmllcygpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRJZGVudGlmaWVyID0gdGhpcy5ub3JtYWxpemVJbnN0YW5jZUlkZW50aWZpZXIoaW5zdGFuY2VJZGVudGlmaWVyKTtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIC8vIGBnZXRPckluaXRpYWxpemVTZXJ2aWNlKClgIHNob3VsZCBhbHdheXMgcmV0dXJuIGEgdmFsaWQgaW5zdGFuY2Ugc2luY2UgYSBjb21wb25lbnQgaXMgZ3VhcmFudGVlZC4gdXNlICEgdG8gbWFrZSB0eXBlc2NyaXB0IGhhcHB5LlxyXG4gICAgICAgICAgICAgICAgY29uc3QgaW5zdGFuY2UgPSB0aGlzLmdldE9ySW5pdGlhbGl6ZVNlcnZpY2Uoe1xyXG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlSWRlbnRpZmllcjogbm9ybWFsaXplZElkZW50aWZpZXJcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2VEZWZlcnJlZC5yZXNvbHZlKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gd2hlbiB0aGUgaW5zdGFuY2UgZmFjdG9yeSB0aHJvd3MgYW4gZXhjZXB0aW9uLCBpdCBzaG91bGQgbm90IGNhdXNlXHJcbiAgICAgICAgICAgICAgICAvLyBhIGZhdGFsIGVycm9yLiBXZSBqdXN0IGxlYXZlIHRoZSBwcm9taXNlIHVucmVzb2x2ZWQuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjbGVhckluc3RhbmNlKGlkZW50aWZpZXIgPSBERUZBVUxUX0VOVFJZX05BTUUpIHtcclxuICAgICAgICB0aGlzLmluc3RhbmNlc0RlZmVycmVkLmRlbGV0ZShpZGVudGlmaWVyKTtcclxuICAgICAgICB0aGlzLmluc3RhbmNlc09wdGlvbnMuZGVsZXRlKGlkZW50aWZpZXIpO1xyXG4gICAgICAgIHRoaXMuaW5zdGFuY2VzLmRlbGV0ZShpZGVudGlmaWVyKTtcclxuICAgIH1cclxuICAgIC8vIGFwcC5kZWxldGUoKSB3aWxsIGNhbGwgdGhpcyBtZXRob2Qgb24gZXZlcnkgcHJvdmlkZXIgdG8gZGVsZXRlIHRoZSBzZXJ2aWNlc1xyXG4gICAgLy8gVE9ETzogc2hvdWxkIHdlIG1hcmsgdGhlIHByb3ZpZGVyIGFzIGRlbGV0ZWQ/XHJcbiAgICBhc3luYyBkZWxldGUoKSB7XHJcbiAgICAgICAgY29uc3Qgc2VydmljZXMgPSBBcnJheS5mcm9tKHRoaXMuaW5zdGFuY2VzLnZhbHVlcygpKTtcclxuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChbXHJcbiAgICAgICAgICAgIC4uLnNlcnZpY2VzXHJcbiAgICAgICAgICAgICAgICAuZmlsdGVyKHNlcnZpY2UgPT4gJ0lOVEVSTkFMJyBpbiBzZXJ2aWNlKSAvLyBsZWdhY3kgc2VydmljZXNcclxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICAgICAgICAgICAgICAubWFwKHNlcnZpY2UgPT4gc2VydmljZS5JTlRFUk5BTC5kZWxldGUoKSksXHJcbiAgICAgICAgICAgIC4uLnNlcnZpY2VzXHJcbiAgICAgICAgICAgICAgICAuZmlsdGVyKHNlcnZpY2UgPT4gJ19kZWxldGUnIGluIHNlcnZpY2UpIC8vIG1vZHVsYXJpemVkIHNlcnZpY2VzXHJcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxyXG4gICAgICAgICAgICAgICAgLm1hcChzZXJ2aWNlID0+IHNlcnZpY2UuX2RlbGV0ZSgpKVxyXG4gICAgICAgIF0pO1xyXG4gICAgfVxyXG4gICAgaXNDb21wb25lbnRTZXQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tcG9uZW50ICE9IG51bGw7XHJcbiAgICB9XHJcbiAgICBpc0luaXRpYWxpemVkKGlkZW50aWZpZXIgPSBERUZBVUxUX0VOVFJZX05BTUUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZXMuaGFzKGlkZW50aWZpZXIpO1xyXG4gICAgfVxyXG4gICAgZ2V0T3B0aW9ucyhpZGVudGlmaWVyID0gREVGQVVMVF9FTlRSWV9OQU1FKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2VzT3B0aW9ucy5nZXQoaWRlbnRpZmllcikgfHwge307XHJcbiAgICB9XHJcbiAgICBpbml0aWFsaXplKG9wdHMgPSB7fSkge1xyXG4gICAgICAgIGNvbnN0IHsgb3B0aW9ucyA9IHt9IH0gPSBvcHRzO1xyXG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRJZGVudGlmaWVyID0gdGhpcy5ub3JtYWxpemVJbnN0YW5jZUlkZW50aWZpZXIob3B0cy5pbnN0YW5jZUlkZW50aWZpZXIpO1xyXG4gICAgICAgIGlmICh0aGlzLmlzSW5pdGlhbGl6ZWQobm9ybWFsaXplZElkZW50aWZpZXIpKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKGAke3RoaXMubmFtZX0oJHtub3JtYWxpemVkSWRlbnRpZmllcn0pIGhhcyBhbHJlYWR5IGJlZW4gaW5pdGlhbGl6ZWRgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzQ29tcG9uZW50U2V0KCkpIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoYENvbXBvbmVudCAke3RoaXMubmFtZX0gaGFzIG5vdCBiZWVuIHJlZ2lzdGVyZWQgeWV0YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gdGhpcy5nZXRPckluaXRpYWxpemVTZXJ2aWNlKHtcclxuICAgICAgICAgICAgaW5zdGFuY2VJZGVudGlmaWVyOiBub3JtYWxpemVkSWRlbnRpZmllcixcclxuICAgICAgICAgICAgb3B0aW9uc1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIHJlc29sdmUgYW55IHBlbmRpbmcgcHJvbWlzZSB3YWl0aW5nIGZvciB0aGUgc2VydmljZSBpbnN0YW5jZVxyXG4gICAgICAgIGZvciAoY29uc3QgW2luc3RhbmNlSWRlbnRpZmllciwgaW5zdGFuY2VEZWZlcnJlZF0gb2YgdGhpcy5pbnN0YW5jZXNEZWZlcnJlZC5lbnRyaWVzKCkpIHtcclxuICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZERlZmVycmVkSWRlbnRpZmllciA9IHRoaXMubm9ybWFsaXplSW5zdGFuY2VJZGVudGlmaWVyKGluc3RhbmNlSWRlbnRpZmllcik7XHJcbiAgICAgICAgICAgIGlmIChub3JtYWxpemVkSWRlbnRpZmllciA9PT0gbm9ybWFsaXplZERlZmVycmVkSWRlbnRpZmllcikge1xyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2VEZWZlcnJlZC5yZXNvbHZlKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaW5zdGFuY2U7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBpbnZva2VkICBhZnRlciB0aGUgcHJvdmlkZXIgaGFzIGJlZW4gaW5pdGlhbGl6ZWQgYnkgY2FsbGluZyBwcm92aWRlci5pbml0aWFsaXplKCkuXHJcbiAgICAgKiBUaGUgZnVuY3Rpb24gaXMgaW52b2tlZCBTWU5DSFJPTk9VU0xZLCBzbyBpdCBzaG91bGQgbm90IGV4ZWN1dGUgYW55IGxvbmdydW5uaW5nIHRhc2tzIGluIG9yZGVyIHRvIG5vdCBibG9jayB0aGUgcHJvZ3JhbS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gaWRlbnRpZmllciBBbiBvcHRpb25hbCBpbnN0YW5jZSBpZGVudGlmaWVyXHJcbiAgICAgKiBAcmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVucmVnaXN0ZXIgdGhlIGNhbGxiYWNrXHJcbiAgICAgKi9cclxuICAgIG9uSW5pdChjYWxsYmFjaywgaWRlbnRpZmllcikge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICBjb25zdCBub3JtYWxpemVkSWRlbnRpZmllciA9IHRoaXMubm9ybWFsaXplSW5zdGFuY2VJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xyXG4gICAgICAgIGNvbnN0IGV4aXN0aW5nQ2FsbGJhY2tzID0gKF9hID0gdGhpcy5vbkluaXRDYWxsYmFja3MuZ2V0KG5vcm1hbGl6ZWRJZGVudGlmaWVyKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogbmV3IFNldCgpO1xyXG4gICAgICAgIGV4aXN0aW5nQ2FsbGJhY2tzLmFkZChjYWxsYmFjayk7XHJcbiAgICAgICAgdGhpcy5vbkluaXRDYWxsYmFja3Muc2V0KG5vcm1hbGl6ZWRJZGVudGlmaWVyLCBleGlzdGluZ0NhbGxiYWNrcyk7XHJcbiAgICAgICAgY29uc3QgZXhpc3RpbmdJbnN0YW5jZSA9IHRoaXMuaW5zdGFuY2VzLmdldChub3JtYWxpemVkSWRlbnRpZmllcik7XHJcbiAgICAgICAgaWYgKGV4aXN0aW5nSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgY2FsbGJhY2soZXhpc3RpbmdJbnN0YW5jZSwgbm9ybWFsaXplZElkZW50aWZpZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgICAgICBleGlzdGluZ0NhbGxiYWNrcy5kZWxldGUoY2FsbGJhY2spO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEludm9rZSBvbkluaXQgY2FsbGJhY2tzIHN5bmNocm9ub3VzbHlcclxuICAgICAqIEBwYXJhbSBpbnN0YW5jZSB0aGUgc2VydmljZSBpbnN0YW5jZWBcclxuICAgICAqL1xyXG4gICAgaW52b2tlT25Jbml0Q2FsbGJhY2tzKGluc3RhbmNlLCBpZGVudGlmaWVyKSB7XHJcbiAgICAgICAgY29uc3QgY2FsbGJhY2tzID0gdGhpcy5vbkluaXRDYWxsYmFja3MuZ2V0KGlkZW50aWZpZXIpO1xyXG4gICAgICAgIGlmICghY2FsbGJhY2tzKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChjb25zdCBjYWxsYmFjayBvZiBjYWxsYmFja3MpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGluc3RhbmNlLCBpZGVudGlmaWVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoX2EpIHtcclxuICAgICAgICAgICAgICAgIC8vIGlnbm9yZSBlcnJvcnMgaW4gdGhlIG9uSW5pdCBjYWxsYmFja1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0T3JJbml0aWFsaXplU2VydmljZSh7IGluc3RhbmNlSWRlbnRpZmllciwgb3B0aW9ucyA9IHt9IH0pIHtcclxuICAgICAgICBsZXQgaW5zdGFuY2UgPSB0aGlzLmluc3RhbmNlcy5nZXQoaW5zdGFuY2VJZGVudGlmaWVyKTtcclxuICAgICAgICBpZiAoIWluc3RhbmNlICYmIHRoaXMuY29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlID0gdGhpcy5jb21wb25lbnQuaW5zdGFuY2VGYWN0b3J5KHRoaXMuY29udGFpbmVyLCB7XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZUlkZW50aWZpZXI6IG5vcm1hbGl6ZUlkZW50aWZpZXJGb3JGYWN0b3J5KGluc3RhbmNlSWRlbnRpZmllciksXHJcbiAgICAgICAgICAgICAgICBvcHRpb25zXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlcy5zZXQoaW5zdGFuY2VJZGVudGlmaWVyLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2VzT3B0aW9ucy5zZXQoaW5zdGFuY2VJZGVudGlmaWVyLCBvcHRpb25zKTtcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIEludm9rZSBvbkluaXQgbGlzdGVuZXJzLlxyXG4gICAgICAgICAgICAgKiBOb3RlIHRoaXMuY29tcG9uZW50Lm9uSW5zdGFuY2VDcmVhdGVkIGlzIGRpZmZlcmVudCwgd2hpY2ggaXMgdXNlZCBieSB0aGUgY29tcG9uZW50IGNyZWF0b3IsXHJcbiAgICAgICAgICAgICAqIHdoaWxlIG9uSW5pdCBsaXN0ZW5lcnMgYXJlIHJlZ2lzdGVyZWQgYnkgY29uc3VtZXJzIG9mIHRoZSBwcm92aWRlci5cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIHRoaXMuaW52b2tlT25Jbml0Q2FsbGJhY2tzKGluc3RhbmNlLCBpbnN0YW5jZUlkZW50aWZpZXIpO1xyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogT3JkZXIgaXMgaW1wb3J0YW50XHJcbiAgICAgICAgICAgICAqIG9uSW5zdGFuY2VDcmVhdGVkKCkgc2hvdWxkIGJlIGNhbGxlZCBhZnRlciB0aGlzLmluc3RhbmNlcy5zZXQoaW5zdGFuY2VJZGVudGlmaWVyLCBpbnN0YW5jZSk7IHdoaWNoXHJcbiAgICAgICAgICAgICAqIG1ha2VzIGBpc0luaXRpYWxpemVkKClgIHJldHVybiB0cnVlLlxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgaWYgKHRoaXMuY29tcG9uZW50Lm9uSW5zdGFuY2VDcmVhdGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50Lm9uSW5zdGFuY2VDcmVhdGVkKHRoaXMuY29udGFpbmVyLCBpbnN0YW5jZUlkZW50aWZpZXIsIGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhdGNoIChfYSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGlnbm9yZSBlcnJvcnMgaW4gdGhlIG9uSW5zdGFuY2VDcmVhdGVkQ2FsbGJhY2tcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaW5zdGFuY2UgfHwgbnVsbDtcclxuICAgIH1cclxuICAgIG5vcm1hbGl6ZUluc3RhbmNlSWRlbnRpZmllcihpZGVudGlmaWVyID0gREVGQVVMVF9FTlRSWV9OQU1FKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC5tdWx0aXBsZUluc3RhbmNlcyA/IGlkZW50aWZpZXIgOiBERUZBVUxUX0VOVFJZX05BTUU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gaWRlbnRpZmllcjsgLy8gYXNzdW1lIG11bHRpcGxlIGluc3RhbmNlcyBhcmUgc3VwcG9ydGVkIGJlZm9yZSB0aGUgY29tcG9uZW50IGlzIHByb3ZpZGVkLlxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHNob3VsZEF1dG9Jbml0aWFsaXplKCkge1xyXG4gICAgICAgIHJldHVybiAoISF0aGlzLmNvbXBvbmVudCAmJlxyXG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudC5pbnN0YW50aWF0aW9uTW9kZSAhPT0gXCJFWFBMSUNJVFwiIC8qIEluc3RhbnRpYXRpb25Nb2RlLkVYUExJQ0lUICovKTtcclxuICAgIH1cclxufVxyXG4vLyB1bmRlZmluZWQgc2hvdWxkIGJlIHBhc3NlZCB0byB0aGUgc2VydmljZSBmYWN0b3J5IGZvciB0aGUgZGVmYXVsdCBpbnN0YW5jZVxyXG5mdW5jdGlvbiBub3JtYWxpemVJZGVudGlmaWVyRm9yRmFjdG9yeShpZGVudGlmaWVyKSB7XHJcbiAgICByZXR1cm4gaWRlbnRpZmllciA9PT0gREVGQVVMVF9FTlRSWV9OQU1FID8gdW5kZWZpbmVkIDogaWRlbnRpZmllcjtcclxufVxyXG5mdW5jdGlvbiBpc0NvbXBvbmVudEVhZ2VyKGNvbXBvbmVudCkge1xyXG4gICAgcmV0dXJuIGNvbXBvbmVudC5pbnN0YW50aWF0aW9uTW9kZSA9PT0gXCJFQUdFUlwiIC8qIEluc3RhbnRpYXRpb25Nb2RlLkVBR0VSICovO1xyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBDb21wb25lbnRDb250YWluZXIgdGhhdCBwcm92aWRlcyBQcm92aWRlcnMgZm9yIHNlcnZpY2UgbmFtZSBULCBlLmcuIGBhdXRoYCwgYGF1dGgtaW50ZXJuYWxgXHJcbiAqL1xyXG5jbGFzcyBDb21wb25lbnRDb250YWluZXIge1xyXG4gICAgY29uc3RydWN0b3IobmFtZSkge1xyXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy5wcm92aWRlcnMgPSBuZXcgTWFwKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gY29tcG9uZW50IENvbXBvbmVudCBiZWluZyBhZGRlZFxyXG4gICAgICogQHBhcmFtIG92ZXJ3cml0ZSBXaGVuIGEgY29tcG9uZW50IHdpdGggdGhlIHNhbWUgbmFtZSBoYXMgYWxyZWFkeSBiZWVuIHJlZ2lzdGVyZWQsXHJcbiAgICAgKiBpZiBvdmVyd3JpdGUgaXMgdHJ1ZTogb3ZlcndyaXRlIHRoZSBleGlzdGluZyBjb21wb25lbnQgd2l0aCB0aGUgbmV3IGNvbXBvbmVudCBhbmQgY3JlYXRlIGEgbmV3XHJcbiAgICAgKiBwcm92aWRlciB3aXRoIHRoZSBuZXcgY29tcG9uZW50LiBJdCBjYW4gYmUgdXNlZnVsIGluIHRlc3RzIHdoZXJlIHlvdSB3YW50IHRvIHVzZSBkaWZmZXJlbnQgbW9ja3NcclxuICAgICAqIGZvciBkaWZmZXJlbnQgdGVzdHMuXHJcbiAgICAgKiBpZiBvdmVyd3JpdGUgaXMgZmFsc2U6IHRocm93IGFuIGV4Y2VwdGlvblxyXG4gICAgICovXHJcbiAgICBhZGRDb21wb25lbnQoY29tcG9uZW50KSB7XHJcbiAgICAgICAgY29uc3QgcHJvdmlkZXIgPSB0aGlzLmdldFByb3ZpZGVyKGNvbXBvbmVudC5uYW1lKTtcclxuICAgICAgICBpZiAocHJvdmlkZXIuaXNDb21wb25lbnRTZXQoKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvbXBvbmVudCAke2NvbXBvbmVudC5uYW1lfSBoYXMgYWxyZWFkeSBiZWVuIHJlZ2lzdGVyZWQgd2l0aCAke3RoaXMubmFtZX1gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcHJvdmlkZXIuc2V0Q29tcG9uZW50KGNvbXBvbmVudCk7XHJcbiAgICB9XHJcbiAgICBhZGRPck92ZXJ3cml0ZUNvbXBvbmVudChjb21wb25lbnQpIHtcclxuICAgICAgICBjb25zdCBwcm92aWRlciA9IHRoaXMuZ2V0UHJvdmlkZXIoY29tcG9uZW50Lm5hbWUpO1xyXG4gICAgICAgIGlmIChwcm92aWRlci5pc0NvbXBvbmVudFNldCgpKSB7XHJcbiAgICAgICAgICAgIC8vIGRlbGV0ZSB0aGUgZXhpc3RpbmcgcHJvdmlkZXIgZnJvbSB0aGUgY29udGFpbmVyLCBzbyB3ZSBjYW4gcmVnaXN0ZXIgdGhlIG5ldyBjb21wb25lbnRcclxuICAgICAgICAgICAgdGhpcy5wcm92aWRlcnMuZGVsZXRlKGNvbXBvbmVudC5uYW1lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5hZGRDb21wb25lbnQoY29tcG9uZW50KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogZ2V0UHJvdmlkZXIgcHJvdmlkZXMgYSB0eXBlIHNhZmUgaW50ZXJmYWNlIHdoZXJlIGl0IGNhbiBvbmx5IGJlIGNhbGxlZCB3aXRoIGEgZmllbGQgbmFtZVxyXG4gICAgICogcHJlc2VudCBpbiBOYW1lU2VydmljZU1hcHBpbmcgaW50ZXJmYWNlLlxyXG4gICAgICpcclxuICAgICAqIEZpcmViYXNlIFNES3MgcHJvdmlkaW5nIHNlcnZpY2VzIHNob3VsZCBleHRlbmQgTmFtZVNlcnZpY2VNYXBwaW5nIGludGVyZmFjZSB0byByZWdpc3RlclxyXG4gICAgICogdGhlbXNlbHZlcy5cclxuICAgICAqL1xyXG4gICAgZ2V0UHJvdmlkZXIobmFtZSkge1xyXG4gICAgICAgIGlmICh0aGlzLnByb3ZpZGVycy5oYXMobmFtZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvdmlkZXJzLmdldChuYW1lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gY3JlYXRlIGEgUHJvdmlkZXIgZm9yIGEgc2VydmljZSB0aGF0IGhhc24ndCByZWdpc3RlcmVkIHdpdGggRmlyZWJhc2VcclxuICAgICAgICBjb25zdCBwcm92aWRlciA9IG5ldyBQcm92aWRlcihuYW1lLCB0aGlzKTtcclxuICAgICAgICB0aGlzLnByb3ZpZGVycy5zZXQobmFtZSwgcHJvdmlkZXIpO1xyXG4gICAgICAgIHJldHVybiBwcm92aWRlcjtcclxuICAgIH1cclxuICAgIGdldFByb3ZpZGVycygpIHtcclxuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnByb3ZpZGVycy52YWx1ZXMoKSk7XHJcbiAgICB9XHJcbn1cblxuZXhwb3J0IHsgQ29tcG9uZW50LCBDb21wb25lbnRDb250YWluZXIsIFByb3ZpZGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lc20yMDE3LmpzLm1hcFxuIiwiaW1wb3J0IHsgX2dldFByb3ZpZGVyLCBnZXRBcHAsIF9yZWdpc3RlckNvbXBvbmVudCwgcmVnaXN0ZXJWZXJzaW9uIH0gZnJvbSAnQGZpcmViYXNlL2FwcCc7XG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICdAZmlyZWJhc2UvY29tcG9uZW50JztcbmltcG9ydCB7IEVycm9yRmFjdG9yeSwgRmlyZWJhc2VFcnJvciB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcbmltcG9ydCB7IG9wZW5EQiB9IGZyb20gJ2lkYic7XG5cbmNvbnN0IG5hbWUgPSBcIkBmaXJlYmFzZS9pbnN0YWxsYXRpb25zXCI7XG5jb25zdCB2ZXJzaW9uID0gXCIwLjYuNFwiO1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5jb25zdCBQRU5ESU5HX1RJTUVPVVRfTVMgPSAxMDAwMDtcclxuY29uc3QgUEFDS0FHRV9WRVJTSU9OID0gYHc6JHt2ZXJzaW9ufWA7XHJcbmNvbnN0IElOVEVSTkFMX0FVVEhfVkVSU0lPTiA9ICdGSVNfdjInO1xyXG5jb25zdCBJTlNUQUxMQVRJT05TX0FQSV9VUkwgPSAnaHR0cHM6Ly9maXJlYmFzZWluc3RhbGxhdGlvbnMuZ29vZ2xlYXBpcy5jb20vdjEnO1xyXG5jb25zdCBUT0tFTl9FWFBJUkFUSU9OX0JVRkZFUiA9IDYwICogNjAgKiAxMDAwOyAvLyBPbmUgaG91clxyXG5jb25zdCBTRVJWSUNFID0gJ2luc3RhbGxhdGlvbnMnO1xyXG5jb25zdCBTRVJWSUNFX05BTUUgPSAnSW5zdGFsbGF0aW9ucyc7XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbmNvbnN0IEVSUk9SX0RFU0NSSVBUSU9OX01BUCA9IHtcclxuICAgIFtcIm1pc3NpbmctYXBwLWNvbmZpZy12YWx1ZXNcIiAvKiBFcnJvckNvZGUuTUlTU0lOR19BUFBfQ09ORklHX1ZBTFVFUyAqL106ICdNaXNzaW5nIEFwcCBjb25maWd1cmF0aW9uIHZhbHVlOiBcInskdmFsdWVOYW1lfVwiJyxcclxuICAgIFtcIm5vdC1yZWdpc3RlcmVkXCIgLyogRXJyb3JDb2RlLk5PVF9SRUdJU1RFUkVEICovXTogJ0ZpcmViYXNlIEluc3RhbGxhdGlvbiBpcyBub3QgcmVnaXN0ZXJlZC4nLFxyXG4gICAgW1wiaW5zdGFsbGF0aW9uLW5vdC1mb3VuZFwiIC8qIEVycm9yQ29kZS5JTlNUQUxMQVRJT05fTk9UX0ZPVU5EICovXTogJ0ZpcmViYXNlIEluc3RhbGxhdGlvbiBub3QgZm91bmQuJyxcclxuICAgIFtcInJlcXVlc3QtZmFpbGVkXCIgLyogRXJyb3JDb2RlLlJFUVVFU1RfRkFJTEVEICovXTogJ3skcmVxdWVzdE5hbWV9IHJlcXVlc3QgZmFpbGVkIHdpdGggZXJyb3IgXCJ7JHNlcnZlckNvZGV9IHskc2VydmVyU3RhdHVzfTogeyRzZXJ2ZXJNZXNzYWdlfVwiJyxcclxuICAgIFtcImFwcC1vZmZsaW5lXCIgLyogRXJyb3JDb2RlLkFQUF9PRkZMSU5FICovXTogJ0NvdWxkIG5vdCBwcm9jZXNzIHJlcXVlc3QuIEFwcGxpY2F0aW9uIG9mZmxpbmUuJyxcclxuICAgIFtcImRlbGV0ZS1wZW5kaW5nLXJlZ2lzdHJhdGlvblwiIC8qIEVycm9yQ29kZS5ERUxFVEVfUEVORElOR19SRUdJU1RSQVRJT04gKi9dOiBcIkNhbid0IGRlbGV0ZSBpbnN0YWxsYXRpb24gd2hpbGUgdGhlcmUgaXMgYSBwZW5kaW5nIHJlZ2lzdHJhdGlvbiByZXF1ZXN0LlwiXHJcbn07XHJcbmNvbnN0IEVSUk9SX0ZBQ1RPUlkgPSBuZXcgRXJyb3JGYWN0b3J5KFNFUlZJQ0UsIFNFUlZJQ0VfTkFNRSwgRVJST1JfREVTQ1JJUFRJT05fTUFQKTtcclxuLyoqIFJldHVybnMgdHJ1ZSBpZiBlcnJvciBpcyBhIEZpcmViYXNlRXJyb3IgdGhhdCBpcyBiYXNlZCBvbiBhbiBlcnJvciBmcm9tIHRoZSBzZXJ2ZXIuICovXHJcbmZ1bmN0aW9uIGlzU2VydmVyRXJyb3IoZXJyb3IpIHtcclxuICAgIHJldHVybiAoZXJyb3IgaW5zdGFuY2VvZiBGaXJlYmFzZUVycm9yICYmXHJcbiAgICAgICAgZXJyb3IuY29kZS5pbmNsdWRlcyhcInJlcXVlc3QtZmFpbGVkXCIgLyogRXJyb3JDb2RlLlJFUVVFU1RfRkFJTEVEICovKSk7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0SW5zdGFsbGF0aW9uc0VuZHBvaW50KHsgcHJvamVjdElkIH0pIHtcclxuICAgIHJldHVybiBgJHtJTlNUQUxMQVRJT05TX0FQSV9VUkx9L3Byb2plY3RzLyR7cHJvamVjdElkfS9pbnN0YWxsYXRpb25zYDtcclxufVxyXG5mdW5jdGlvbiBleHRyYWN0QXV0aFRva2VuSW5mb0Zyb21SZXNwb25zZShyZXNwb25zZSkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICB0b2tlbjogcmVzcG9uc2UudG9rZW4sXHJcbiAgICAgICAgcmVxdWVzdFN0YXR1czogMiAvKiBSZXF1ZXN0U3RhdHVzLkNPTVBMRVRFRCAqLyxcclxuICAgICAgICBleHBpcmVzSW46IGdldEV4cGlyZXNJbkZyb21SZXNwb25zZUV4cGlyZXNJbihyZXNwb25zZS5leHBpcmVzSW4pLFxyXG4gICAgICAgIGNyZWF0aW9uVGltZTogRGF0ZS5ub3coKVxyXG4gICAgfTtcclxufVxyXG5hc3luYyBmdW5jdGlvbiBnZXRFcnJvckZyb21SZXNwb25zZShyZXF1ZXN0TmFtZSwgcmVzcG9uc2UpIHtcclxuICAgIGNvbnN0IHJlc3BvbnNlSnNvbiA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIGNvbnN0IGVycm9yRGF0YSA9IHJlc3BvbnNlSnNvbi5lcnJvcjtcclxuICAgIHJldHVybiBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcInJlcXVlc3QtZmFpbGVkXCIgLyogRXJyb3JDb2RlLlJFUVVFU1RfRkFJTEVEICovLCB7XHJcbiAgICAgICAgcmVxdWVzdE5hbWUsXHJcbiAgICAgICAgc2VydmVyQ29kZTogZXJyb3JEYXRhLmNvZGUsXHJcbiAgICAgICAgc2VydmVyTWVzc2FnZTogZXJyb3JEYXRhLm1lc3NhZ2UsXHJcbiAgICAgICAgc2VydmVyU3RhdHVzOiBlcnJvckRhdGEuc3RhdHVzXHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiBnZXRIZWFkZXJzKHsgYXBpS2V5IH0pIHtcclxuICAgIHJldHVybiBuZXcgSGVhZGVycyh7XHJcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICAneC1nb29nLWFwaS1rZXknOiBhcGlLZXlcclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIGdldEhlYWRlcnNXaXRoQXV0aChhcHBDb25maWcsIHsgcmVmcmVzaFRva2VuIH0pIHtcclxuICAgIGNvbnN0IGhlYWRlcnMgPSBnZXRIZWFkZXJzKGFwcENvbmZpZyk7XHJcbiAgICBoZWFkZXJzLmFwcGVuZCgnQXV0aG9yaXphdGlvbicsIGdldEF1dGhvcml6YXRpb25IZWFkZXIocmVmcmVzaFRva2VuKSk7XHJcbiAgICByZXR1cm4gaGVhZGVycztcclxufVxyXG4vKipcclxuICogQ2FsbHMgdGhlIHBhc3NlZCBpbiBmZXRjaCB3cmFwcGVyIGFuZCByZXR1cm5zIHRoZSByZXNwb25zZS5cclxuICogSWYgdGhlIHJldHVybmVkIHJlc3BvbnNlIGhhcyBhIHN0YXR1cyBvZiA1eHgsIHJlLXJ1bnMgdGhlIGZ1bmN0aW9uIG9uY2UgYW5kXHJcbiAqIHJldHVybnMgdGhlIHJlc3BvbnNlLlxyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gcmV0cnlJZlNlcnZlckVycm9yKGZuKSB7XHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBmbigpO1xyXG4gICAgaWYgKHJlc3VsdC5zdGF0dXMgPj0gNTAwICYmIHJlc3VsdC5zdGF0dXMgPCA2MDApIHtcclxuICAgICAgICAvLyBJbnRlcm5hbCBTZXJ2ZXIgRXJyb3IuIFJldHJ5IHJlcXVlc3QuXHJcbiAgICAgICAgcmV0dXJuIGZuKCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcbmZ1bmN0aW9uIGdldEV4cGlyZXNJbkZyb21SZXNwb25zZUV4cGlyZXNJbihyZXNwb25zZUV4cGlyZXNJbikge1xyXG4gICAgLy8gVGhpcyB3b3JrcyBiZWNhdXNlIHRoZSBzZXJ2ZXIgd2lsbCBuZXZlciByZXNwb25kIHdpdGggZnJhY3Rpb25zIG9mIGEgc2Vjb25kLlxyXG4gICAgcmV0dXJuIE51bWJlcihyZXNwb25zZUV4cGlyZXNJbi5yZXBsYWNlKCdzJywgJzAwMCcpKTtcclxufVxyXG5mdW5jdGlvbiBnZXRBdXRob3JpemF0aW9uSGVhZGVyKHJlZnJlc2hUb2tlbikge1xyXG4gICAgcmV0dXJuIGAke0lOVEVSTkFMX0FVVEhfVkVSU0lPTn0gJHtyZWZyZXNoVG9rZW59YDtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVJbnN0YWxsYXRpb25SZXF1ZXN0KHsgYXBwQ29uZmlnLCBoZWFydGJlYXRTZXJ2aWNlUHJvdmlkZXIgfSwgeyBmaWQgfSkge1xyXG4gICAgY29uc3QgZW5kcG9pbnQgPSBnZXRJbnN0YWxsYXRpb25zRW5kcG9pbnQoYXBwQ29uZmlnKTtcclxuICAgIGNvbnN0IGhlYWRlcnMgPSBnZXRIZWFkZXJzKGFwcENvbmZpZyk7XHJcbiAgICAvLyBJZiBoZWFydGJlYXQgc2VydmljZSBleGlzdHMsIGFkZCB0aGUgaGVhcnRiZWF0IHN0cmluZyB0byB0aGUgaGVhZGVyLlxyXG4gICAgY29uc3QgaGVhcnRiZWF0U2VydmljZSA9IGhlYXJ0YmVhdFNlcnZpY2VQcm92aWRlci5nZXRJbW1lZGlhdGUoe1xyXG4gICAgICAgIG9wdGlvbmFsOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIGlmIChoZWFydGJlYXRTZXJ2aWNlKSB7XHJcbiAgICAgICAgY29uc3QgaGVhcnRiZWF0c0hlYWRlciA9IGF3YWl0IGhlYXJ0YmVhdFNlcnZpY2UuZ2V0SGVhcnRiZWF0c0hlYWRlcigpO1xyXG4gICAgICAgIGlmIChoZWFydGJlYXRzSGVhZGVyKSB7XHJcbiAgICAgICAgICAgIGhlYWRlcnMuYXBwZW5kKCd4LWZpcmViYXNlLWNsaWVudCcsIGhlYXJ0YmVhdHNIZWFkZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbnN0IGJvZHkgPSB7XHJcbiAgICAgICAgZmlkLFxyXG4gICAgICAgIGF1dGhWZXJzaW9uOiBJTlRFUk5BTF9BVVRIX1ZFUlNJT04sXHJcbiAgICAgICAgYXBwSWQ6IGFwcENvbmZpZy5hcHBJZCxcclxuICAgICAgICBzZGtWZXJzaW9uOiBQQUNLQUdFX1ZFUlNJT05cclxuICAgIH07XHJcbiAgICBjb25zdCByZXF1ZXN0ID0ge1xyXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgIGhlYWRlcnMsXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSlcclxuICAgIH07XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJldHJ5SWZTZXJ2ZXJFcnJvcigoKSA9PiBmZXRjaChlbmRwb2ludCwgcmVxdWVzdCkpO1xyXG4gICAgaWYgKHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2VWYWx1ZSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICBjb25zdCByZWdpc3RlcmVkSW5zdGFsbGF0aW9uRW50cnkgPSB7XHJcbiAgICAgICAgICAgIGZpZDogcmVzcG9uc2VWYWx1ZS5maWQgfHwgZmlkLFxyXG4gICAgICAgICAgICByZWdpc3RyYXRpb25TdGF0dXM6IDIgLyogUmVxdWVzdFN0YXR1cy5DT01QTEVURUQgKi8sXHJcbiAgICAgICAgICAgIHJlZnJlc2hUb2tlbjogcmVzcG9uc2VWYWx1ZS5yZWZyZXNoVG9rZW4sXHJcbiAgICAgICAgICAgIGF1dGhUb2tlbjogZXh0cmFjdEF1dGhUb2tlbkluZm9Gcm9tUmVzcG9uc2UocmVzcG9uc2VWYWx1ZS5hdXRoVG9rZW4pXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gcmVnaXN0ZXJlZEluc3RhbGxhdGlvbkVudHJ5O1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdGhyb3cgYXdhaXQgZ2V0RXJyb3JGcm9tUmVzcG9uc2UoJ0NyZWF0ZSBJbnN0YWxsYXRpb24nLCByZXNwb25zZSk7XHJcbiAgICB9XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqIFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgYWZ0ZXIgZ2l2ZW4gdGltZSBwYXNzZXMuICovXHJcbmZ1bmN0aW9uIHNsZWVwKG1zKSB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XHJcbiAgICAgICAgc2V0VGltZW91dChyZXNvbHZlLCBtcyk7XHJcbiAgICB9KTtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5mdW5jdGlvbiBidWZmZXJUb0Jhc2U2NFVybFNhZmUoYXJyYXkpIHtcclxuICAgIGNvbnN0IGI2NCA9IGJ0b2EoU3RyaW5nLmZyb21DaGFyQ29kZSguLi5hcnJheSkpO1xyXG4gICAgcmV0dXJuIGI2NC5yZXBsYWNlKC9cXCsvZywgJy0nKS5yZXBsYWNlKC9cXC8vZywgJ18nKTtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5jb25zdCBWQUxJRF9GSURfUEFUVEVSTiA9IC9eW2NkZWZdW1xcdy1dezIxfSQvO1xyXG5jb25zdCBJTlZBTElEX0ZJRCA9ICcnO1xyXG4vKipcclxuICogR2VuZXJhdGVzIGEgbmV3IEZJRCB1c2luZyByYW5kb20gdmFsdWVzIGZyb20gV2ViIENyeXB0byBBUEkuXHJcbiAqIFJldHVybnMgYW4gZW1wdHkgc3RyaW5nIGlmIEZJRCBnZW5lcmF0aW9uIGZhaWxzIGZvciBhbnkgcmVhc29uLlxyXG4gKi9cclxuZnVuY3Rpb24gZ2VuZXJhdGVGaWQoKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIC8vIEEgdmFsaWQgRklEIGhhcyBleGFjdGx5IDIyIGJhc2U2NCBjaGFyYWN0ZXJzLCB3aGljaCBpcyAxMzIgYml0cywgb3IgMTYuNVxyXG4gICAgICAgIC8vIGJ5dGVzLiBvdXIgaW1wbGVtZW50YXRpb24gZ2VuZXJhdGVzIGEgMTcgYnl0ZSBhcnJheSBpbnN0ZWFkLlxyXG4gICAgICAgIGNvbnN0IGZpZEJ5dGVBcnJheSA9IG5ldyBVaW50OEFycmF5KDE3KTtcclxuICAgICAgICBjb25zdCBjcnlwdG8gPSBzZWxmLmNyeXB0byB8fCBzZWxmLm1zQ3J5cHRvO1xyXG4gICAgICAgIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMoZmlkQnl0ZUFycmF5KTtcclxuICAgICAgICAvLyBSZXBsYWNlIHRoZSBmaXJzdCA0IHJhbmRvbSBiaXRzIHdpdGggdGhlIGNvbnN0YW50IEZJRCBoZWFkZXIgb2YgMGIwMTExLlxyXG4gICAgICAgIGZpZEJ5dGVBcnJheVswXSA9IDBiMDExMTAwMDAgKyAoZmlkQnl0ZUFycmF5WzBdICUgMGIwMDAxMDAwMCk7XHJcbiAgICAgICAgY29uc3QgZmlkID0gZW5jb2RlKGZpZEJ5dGVBcnJheSk7XHJcbiAgICAgICAgcmV0dXJuIFZBTElEX0ZJRF9QQVRURVJOLnRlc3QoZmlkKSA/IGZpZCA6IElOVkFMSURfRklEO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKF9hKSB7XHJcbiAgICAgICAgLy8gRklEIGdlbmVyYXRpb24gZXJyb3JlZFxyXG4gICAgICAgIHJldHVybiBJTlZBTElEX0ZJRDtcclxuICAgIH1cclxufVxyXG4vKiogQ29udmVydHMgYSBGSUQgVWludDhBcnJheSB0byBhIGJhc2U2NCBzdHJpbmcgcmVwcmVzZW50YXRpb24uICovXHJcbmZ1bmN0aW9uIGVuY29kZShmaWRCeXRlQXJyYXkpIHtcclxuICAgIGNvbnN0IGI2NFN0cmluZyA9IGJ1ZmZlclRvQmFzZTY0VXJsU2FmZShmaWRCeXRlQXJyYXkpO1xyXG4gICAgLy8gUmVtb3ZlIHRoZSAyM3JkIGNoYXJhY3RlciB0aGF0IHdhcyBhZGRlZCBiZWNhdXNlIG9mIHRoZSBleHRyYSA0IGJpdHMgYXQgdGhlXHJcbiAgICAvLyBlbmQgb2Ygb3VyIDE3IGJ5dGUgYXJyYXksIGFuZCB0aGUgJz0nIHBhZGRpbmcuXHJcbiAgICByZXR1cm4gYjY0U3RyaW5nLnN1YnN0cigwLCAyMik7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqIFJldHVybnMgYSBzdHJpbmcga2V5IHRoYXQgY2FuIGJlIHVzZWQgdG8gaWRlbnRpZnkgdGhlIGFwcC4gKi9cclxuZnVuY3Rpb24gZ2V0S2V5KGFwcENvbmZpZykge1xyXG4gICAgcmV0dXJuIGAke2FwcENvbmZpZy5hcHBOYW1lfSEke2FwcENvbmZpZy5hcHBJZH1gO1xyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbmNvbnN0IGZpZENoYW5nZUNhbGxiYWNrcyA9IG5ldyBNYXAoKTtcclxuLyoqXHJcbiAqIENhbGxzIHRoZSBvbklkQ2hhbmdlIGNhbGxiYWNrcyB3aXRoIHRoZSBuZXcgRklEIHZhbHVlLCBhbmQgYnJvYWRjYXN0cyB0aGVcclxuICogY2hhbmdlIHRvIG90aGVyIHRhYnMuXHJcbiAqL1xyXG5mdW5jdGlvbiBmaWRDaGFuZ2VkKGFwcENvbmZpZywgZmlkKSB7XHJcbiAgICBjb25zdCBrZXkgPSBnZXRLZXkoYXBwQ29uZmlnKTtcclxuICAgIGNhbGxGaWRDaGFuZ2VDYWxsYmFja3Moa2V5LCBmaWQpO1xyXG4gICAgYnJvYWRjYXN0RmlkQ2hhbmdlKGtleSwgZmlkKTtcclxufVxyXG5mdW5jdGlvbiBhZGRDYWxsYmFjayhhcHBDb25maWcsIGNhbGxiYWNrKSB7XHJcbiAgICAvLyBPcGVuIHRoZSBicm9hZGNhc3QgY2hhbm5lbCBpZiBpdCdzIG5vdCBhbHJlYWR5IG9wZW4sXHJcbiAgICAvLyB0byBiZSBhYmxlIHRvIGxpc3RlbiB0byBjaGFuZ2UgZXZlbnRzIGZyb20gb3RoZXIgdGFicy5cclxuICAgIGdldEJyb2FkY2FzdENoYW5uZWwoKTtcclxuICAgIGNvbnN0IGtleSA9IGdldEtleShhcHBDb25maWcpO1xyXG4gICAgbGV0IGNhbGxiYWNrU2V0ID0gZmlkQ2hhbmdlQ2FsbGJhY2tzLmdldChrZXkpO1xyXG4gICAgaWYgKCFjYWxsYmFja1NldCkge1xyXG4gICAgICAgIGNhbGxiYWNrU2V0ID0gbmV3IFNldCgpO1xyXG4gICAgICAgIGZpZENoYW5nZUNhbGxiYWNrcy5zZXQoa2V5LCBjYWxsYmFja1NldCk7XHJcbiAgICB9XHJcbiAgICBjYWxsYmFja1NldC5hZGQoY2FsbGJhY2spO1xyXG59XHJcbmZ1bmN0aW9uIHJlbW92ZUNhbGxiYWNrKGFwcENvbmZpZywgY2FsbGJhY2spIHtcclxuICAgIGNvbnN0IGtleSA9IGdldEtleShhcHBDb25maWcpO1xyXG4gICAgY29uc3QgY2FsbGJhY2tTZXQgPSBmaWRDaGFuZ2VDYWxsYmFja3MuZ2V0KGtleSk7XHJcbiAgICBpZiAoIWNhbGxiYWNrU2V0KSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY2FsbGJhY2tTZXQuZGVsZXRlKGNhbGxiYWNrKTtcclxuICAgIGlmIChjYWxsYmFja1NldC5zaXplID09PSAwKSB7XHJcbiAgICAgICAgZmlkQ2hhbmdlQ2FsbGJhY2tzLmRlbGV0ZShrZXkpO1xyXG4gICAgfVxyXG4gICAgLy8gQ2xvc2UgYnJvYWRjYXN0IGNoYW5uZWwgaWYgdGhlcmUgYXJlIG5vIG1vcmUgY2FsbGJhY2tzLlxyXG4gICAgY2xvc2VCcm9hZGNhc3RDaGFubmVsKCk7XHJcbn1cclxuZnVuY3Rpb24gY2FsbEZpZENoYW5nZUNhbGxiYWNrcyhrZXksIGZpZCkge1xyXG4gICAgY29uc3QgY2FsbGJhY2tzID0gZmlkQ2hhbmdlQ2FsbGJhY2tzLmdldChrZXkpO1xyXG4gICAgaWYgKCFjYWxsYmFja3MpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBmb3IgKGNvbnN0IGNhbGxiYWNrIG9mIGNhbGxiYWNrcykge1xyXG4gICAgICAgIGNhbGxiYWNrKGZpZCk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gYnJvYWRjYXN0RmlkQ2hhbmdlKGtleSwgZmlkKSB7XHJcbiAgICBjb25zdCBjaGFubmVsID0gZ2V0QnJvYWRjYXN0Q2hhbm5lbCgpO1xyXG4gICAgaWYgKGNoYW5uZWwpIHtcclxuICAgICAgICBjaGFubmVsLnBvc3RNZXNzYWdlKHsga2V5LCBmaWQgfSk7XHJcbiAgICB9XHJcbiAgICBjbG9zZUJyb2FkY2FzdENoYW5uZWwoKTtcclxufVxyXG5sZXQgYnJvYWRjYXN0Q2hhbm5lbCA9IG51bGw7XHJcbi8qKiBPcGVucyBhbmQgcmV0dXJucyBhIEJyb2FkY2FzdENoYW5uZWwgaWYgaXQgaXMgc3VwcG9ydGVkIGJ5IHRoZSBicm93c2VyLiAqL1xyXG5mdW5jdGlvbiBnZXRCcm9hZGNhc3RDaGFubmVsKCkge1xyXG4gICAgaWYgKCFicm9hZGNhc3RDaGFubmVsICYmICdCcm9hZGNhc3RDaGFubmVsJyBpbiBzZWxmKSB7XHJcbiAgICAgICAgYnJvYWRjYXN0Q2hhbm5lbCA9IG5ldyBCcm9hZGNhc3RDaGFubmVsKCdbRmlyZWJhc2VdIEZJRCBDaGFuZ2UnKTtcclxuICAgICAgICBicm9hZGNhc3RDaGFubmVsLm9ubWVzc2FnZSA9IGUgPT4ge1xyXG4gICAgICAgICAgICBjYWxsRmlkQ2hhbmdlQ2FsbGJhY2tzKGUuZGF0YS5rZXksIGUuZGF0YS5maWQpO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYnJvYWRjYXN0Q2hhbm5lbDtcclxufVxyXG5mdW5jdGlvbiBjbG9zZUJyb2FkY2FzdENoYW5uZWwoKSB7XHJcbiAgICBpZiAoZmlkQ2hhbmdlQ2FsbGJhY2tzLnNpemUgPT09IDAgJiYgYnJvYWRjYXN0Q2hhbm5lbCkge1xyXG4gICAgICAgIGJyb2FkY2FzdENoYW5uZWwuY2xvc2UoKTtcclxuICAgICAgICBicm9hZGNhc3RDaGFubmVsID0gbnVsbDtcclxuICAgIH1cclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5jb25zdCBEQVRBQkFTRV9OQU1FID0gJ2ZpcmViYXNlLWluc3RhbGxhdGlvbnMtZGF0YWJhc2UnO1xyXG5jb25zdCBEQVRBQkFTRV9WRVJTSU9OID0gMTtcclxuY29uc3QgT0JKRUNUX1NUT1JFX05BTUUgPSAnZmlyZWJhc2UtaW5zdGFsbGF0aW9ucy1zdG9yZSc7XHJcbmxldCBkYlByb21pc2UgPSBudWxsO1xyXG5mdW5jdGlvbiBnZXREYlByb21pc2UoKSB7XHJcbiAgICBpZiAoIWRiUHJvbWlzZSkge1xyXG4gICAgICAgIGRiUHJvbWlzZSA9IG9wZW5EQihEQVRBQkFTRV9OQU1FLCBEQVRBQkFTRV9WRVJTSU9OLCB7XHJcbiAgICAgICAgICAgIHVwZ3JhZGU6IChkYiwgb2xkVmVyc2lvbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gV2UgZG9uJ3QgdXNlICdicmVhaycgaW4gdGhpcyBzd2l0Y2ggc3RhdGVtZW50LCB0aGUgZmFsbC10aHJvdWdoXHJcbiAgICAgICAgICAgICAgICAvLyBiZWhhdmlvciBpcyB3aGF0IHdlIHdhbnQsIGJlY2F1c2UgaWYgdGhlcmUgYXJlIG11bHRpcGxlIHZlcnNpb25zIGJldHdlZW5cclxuICAgICAgICAgICAgICAgIC8vIHRoZSBvbGQgdmVyc2lvbiBhbmQgdGhlIGN1cnJlbnQgdmVyc2lvbiwgd2Ugd2FudCBBTEwgdGhlIG1pZ3JhdGlvbnNcclxuICAgICAgICAgICAgICAgIC8vIHRoYXQgY29ycmVzcG9uZCB0byB0aG9zZSB2ZXJzaW9ucyB0byBydW4sIG5vdCBvbmx5IHRoZSBsYXN0IG9uZS5cclxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZWZhdWx0LWNhc2VcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAob2xkVmVyc2lvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoT0JKRUNUX1NUT1JFX05BTUUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZGJQcm9taXNlO1xyXG59XHJcbi8qKiBBc3NpZ25zIG9yIG92ZXJ3cml0ZXMgdGhlIHJlY29yZCBmb3IgdGhlIGdpdmVuIGtleSB3aXRoIHRoZSBnaXZlbiB2YWx1ZS4gKi9cclxuYXN5bmMgZnVuY3Rpb24gc2V0KGFwcENvbmZpZywgdmFsdWUpIHtcclxuICAgIGNvbnN0IGtleSA9IGdldEtleShhcHBDb25maWcpO1xyXG4gICAgY29uc3QgZGIgPSBhd2FpdCBnZXREYlByb21pc2UoKTtcclxuICAgIGNvbnN0IHR4ID0gZGIudHJhbnNhY3Rpb24oT0JKRUNUX1NUT1JFX05BTUUsICdyZWFkd3JpdGUnKTtcclxuICAgIGNvbnN0IG9iamVjdFN0b3JlID0gdHgub2JqZWN0U3RvcmUoT0JKRUNUX1NUT1JFX05BTUUpO1xyXG4gICAgY29uc3Qgb2xkVmFsdWUgPSAoYXdhaXQgb2JqZWN0U3RvcmUuZ2V0KGtleSkpO1xyXG4gICAgYXdhaXQgb2JqZWN0U3RvcmUucHV0KHZhbHVlLCBrZXkpO1xyXG4gICAgYXdhaXQgdHguZG9uZTtcclxuICAgIGlmICghb2xkVmFsdWUgfHwgb2xkVmFsdWUuZmlkICE9PSB2YWx1ZS5maWQpIHtcclxuICAgICAgICBmaWRDaGFuZ2VkKGFwcENvbmZpZywgdmFsdWUuZmlkKTtcclxuICAgIH1cclxuICAgIHJldHVybiB2YWx1ZTtcclxufVxyXG4vKiogUmVtb3ZlcyByZWNvcmQocykgZnJvbSB0aGUgb2JqZWN0U3RvcmUgdGhhdCBtYXRjaCB0aGUgZ2l2ZW4ga2V5LiAqL1xyXG5hc3luYyBmdW5jdGlvbiByZW1vdmUoYXBwQ29uZmlnKSB7XHJcbiAgICBjb25zdCBrZXkgPSBnZXRLZXkoYXBwQ29uZmlnKTtcclxuICAgIGNvbnN0IGRiID0gYXdhaXQgZ2V0RGJQcm9taXNlKCk7XHJcbiAgICBjb25zdCB0eCA9IGRiLnRyYW5zYWN0aW9uKE9CSkVDVF9TVE9SRV9OQU1FLCAncmVhZHdyaXRlJyk7XHJcbiAgICBhd2FpdCB0eC5vYmplY3RTdG9yZShPQkpFQ1RfU1RPUkVfTkFNRSkuZGVsZXRlKGtleSk7XHJcbiAgICBhd2FpdCB0eC5kb25lO1xyXG59XHJcbi8qKlxyXG4gKiBBdG9taWNhbGx5IHVwZGF0ZXMgYSByZWNvcmQgd2l0aCB0aGUgcmVzdWx0IG9mIHVwZGF0ZUZuLCB3aGljaCBnZXRzXHJcbiAqIGNhbGxlZCB3aXRoIHRoZSBjdXJyZW50IHZhbHVlLiBJZiBuZXdWYWx1ZSBpcyB1bmRlZmluZWQsIHRoZSByZWNvcmQgaXNcclxuICogZGVsZXRlZCBpbnN0ZWFkLlxyXG4gKiBAcmV0dXJuIFVwZGF0ZWQgdmFsdWVcclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIHVwZGF0ZShhcHBDb25maWcsIHVwZGF0ZUZuKSB7XHJcbiAgICBjb25zdCBrZXkgPSBnZXRLZXkoYXBwQ29uZmlnKTtcclxuICAgIGNvbnN0IGRiID0gYXdhaXQgZ2V0RGJQcm9taXNlKCk7XHJcbiAgICBjb25zdCB0eCA9IGRiLnRyYW5zYWN0aW9uKE9CSkVDVF9TVE9SRV9OQU1FLCAncmVhZHdyaXRlJyk7XHJcbiAgICBjb25zdCBzdG9yZSA9IHR4Lm9iamVjdFN0b3JlKE9CSkVDVF9TVE9SRV9OQU1FKTtcclxuICAgIGNvbnN0IG9sZFZhbHVlID0gKGF3YWl0IHN0b3JlLmdldChrZXkpKTtcclxuICAgIGNvbnN0IG5ld1ZhbHVlID0gdXBkYXRlRm4ob2xkVmFsdWUpO1xyXG4gICAgaWYgKG5ld1ZhbHVlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICBhd2FpdCBzdG9yZS5kZWxldGUoa2V5KTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGF3YWl0IHN0b3JlLnB1dChuZXdWYWx1ZSwga2V5KTtcclxuICAgIH1cclxuICAgIGF3YWl0IHR4LmRvbmU7XHJcbiAgICBpZiAobmV3VmFsdWUgJiYgKCFvbGRWYWx1ZSB8fCBvbGRWYWx1ZS5maWQgIT09IG5ld1ZhbHVlLmZpZCkpIHtcclxuICAgICAgICBmaWRDaGFuZ2VkKGFwcENvbmZpZywgbmV3VmFsdWUuZmlkKTtcclxuICAgIH1cclxuICAgIHJldHVybiBuZXdWYWx1ZTtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogVXBkYXRlcyBhbmQgcmV0dXJucyB0aGUgSW5zdGFsbGF0aW9uRW50cnkgZnJvbSB0aGUgZGF0YWJhc2UuXHJcbiAqIEFsc28gdHJpZ2dlcnMgYSByZWdpc3RyYXRpb24gcmVxdWVzdCBpZiBpdCBpcyBuZWNlc3NhcnkgYW5kIHBvc3NpYmxlLlxyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gZ2V0SW5zdGFsbGF0aW9uRW50cnkoaW5zdGFsbGF0aW9ucykge1xyXG4gICAgbGV0IHJlZ2lzdHJhdGlvblByb21pc2U7XHJcbiAgICBjb25zdCBpbnN0YWxsYXRpb25FbnRyeSA9IGF3YWl0IHVwZGF0ZShpbnN0YWxsYXRpb25zLmFwcENvbmZpZywgb2xkRW50cnkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGluc3RhbGxhdGlvbkVudHJ5ID0gdXBkYXRlT3JDcmVhdGVJbnN0YWxsYXRpb25FbnRyeShvbGRFbnRyeSk7XHJcbiAgICAgICAgY29uc3QgZW50cnlXaXRoUHJvbWlzZSA9IHRyaWdnZXJSZWdpc3RyYXRpb25JZk5lY2Vzc2FyeShpbnN0YWxsYXRpb25zLCBpbnN0YWxsYXRpb25FbnRyeSk7XHJcbiAgICAgICAgcmVnaXN0cmF0aW9uUHJvbWlzZSA9IGVudHJ5V2l0aFByb21pc2UucmVnaXN0cmF0aW9uUHJvbWlzZTtcclxuICAgICAgICByZXR1cm4gZW50cnlXaXRoUHJvbWlzZS5pbnN0YWxsYXRpb25FbnRyeTtcclxuICAgIH0pO1xyXG4gICAgaWYgKGluc3RhbGxhdGlvbkVudHJ5LmZpZCA9PT0gSU5WQUxJRF9GSUQpIHtcclxuICAgICAgICAvLyBGSUQgZ2VuZXJhdGlvbiBmYWlsZWQuIFdhaXRpbmcgZm9yIHRoZSBGSUQgZnJvbSB0aGUgc2VydmVyLlxyXG4gICAgICAgIHJldHVybiB7IGluc3RhbGxhdGlvbkVudHJ5OiBhd2FpdCByZWdpc3RyYXRpb25Qcm9taXNlIH07XHJcbiAgICB9XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGluc3RhbGxhdGlvbkVudHJ5LFxyXG4gICAgICAgIHJlZ2lzdHJhdGlvblByb21pc2VcclxuICAgIH07XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBuZXcgSW5zdGFsbGF0aW9uIEVudHJ5IGlmIG9uZSBkb2VzIG5vdCBleGlzdC5cclxuICogQWxzbyBjbGVhcnMgdGltZWQgb3V0IHBlbmRpbmcgcmVxdWVzdHMuXHJcbiAqL1xyXG5mdW5jdGlvbiB1cGRhdGVPckNyZWF0ZUluc3RhbGxhdGlvbkVudHJ5KG9sZEVudHJ5KSB7XHJcbiAgICBjb25zdCBlbnRyeSA9IG9sZEVudHJ5IHx8IHtcclxuICAgICAgICBmaWQ6IGdlbmVyYXRlRmlkKCksXHJcbiAgICAgICAgcmVnaXN0cmF0aW9uU3RhdHVzOiAwIC8qIFJlcXVlc3RTdGF0dXMuTk9UX1NUQVJURUQgKi9cclxuICAgIH07XHJcbiAgICByZXR1cm4gY2xlYXJUaW1lZE91dFJlcXVlc3QoZW50cnkpO1xyXG59XHJcbi8qKlxyXG4gKiBJZiB0aGUgRmlyZWJhc2UgSW5zdGFsbGF0aW9uIGlzIG5vdCByZWdpc3RlcmVkIHlldCwgdGhpcyB3aWxsIHRyaWdnZXIgdGhlXHJcbiAqIHJlZ2lzdHJhdGlvbiBhbmQgcmV0dXJuIGFuIEluUHJvZ3Jlc3NJbnN0YWxsYXRpb25FbnRyeS5cclxuICpcclxuICogSWYgcmVnaXN0cmF0aW9uUHJvbWlzZSBkb2VzIG5vdCBleGlzdCwgdGhlIGluc3RhbGxhdGlvbkVudHJ5IGlzIGd1YXJhbnRlZWRcclxuICogdG8gYmUgcmVnaXN0ZXJlZC5cclxuICovXHJcbmZ1bmN0aW9uIHRyaWdnZXJSZWdpc3RyYXRpb25JZk5lY2Vzc2FyeShpbnN0YWxsYXRpb25zLCBpbnN0YWxsYXRpb25FbnRyeSkge1xyXG4gICAgaWYgKGluc3RhbGxhdGlvbkVudHJ5LnJlZ2lzdHJhdGlvblN0YXR1cyA9PT0gMCAvKiBSZXF1ZXN0U3RhdHVzLk5PVF9TVEFSVEVEICovKSB7XHJcbiAgICAgICAgaWYgKCFuYXZpZ2F0b3Iub25MaW5lKSB7XHJcbiAgICAgICAgICAgIC8vIFJlZ2lzdHJhdGlvbiByZXF1aXJlZCBidXQgYXBwIGlzIG9mZmxpbmUuXHJcbiAgICAgICAgICAgIGNvbnN0IHJlZ2lzdHJhdGlvblByb21pc2VXaXRoRXJyb3IgPSBQcm9taXNlLnJlamVjdChFUlJPUl9GQUNUT1JZLmNyZWF0ZShcImFwcC1vZmZsaW5lXCIgLyogRXJyb3JDb2RlLkFQUF9PRkZMSU5FICovKSk7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBpbnN0YWxsYXRpb25FbnRyeSxcclxuICAgICAgICAgICAgICAgIHJlZ2lzdHJhdGlvblByb21pc2U6IHJlZ2lzdHJhdGlvblByb21pc2VXaXRoRXJyb3JcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gVHJ5IHJlZ2lzdGVyaW5nLiBDaGFuZ2Ugc3RhdHVzIHRvIElOX1BST0dSRVNTLlxyXG4gICAgICAgIGNvbnN0IGluUHJvZ3Jlc3NFbnRyeSA9IHtcclxuICAgICAgICAgICAgZmlkOiBpbnN0YWxsYXRpb25FbnRyeS5maWQsXHJcbiAgICAgICAgICAgIHJlZ2lzdHJhdGlvblN0YXR1czogMSAvKiBSZXF1ZXN0U3RhdHVzLklOX1BST0dSRVNTICovLFxyXG4gICAgICAgICAgICByZWdpc3RyYXRpb25UaW1lOiBEYXRlLm5vdygpXHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCByZWdpc3RyYXRpb25Qcm9taXNlID0gcmVnaXN0ZXJJbnN0YWxsYXRpb24oaW5zdGFsbGF0aW9ucywgaW5Qcm9ncmVzc0VudHJ5KTtcclxuICAgICAgICByZXR1cm4geyBpbnN0YWxsYXRpb25FbnRyeTogaW5Qcm9ncmVzc0VudHJ5LCByZWdpc3RyYXRpb25Qcm9taXNlIH07XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpbnN0YWxsYXRpb25FbnRyeS5yZWdpc3RyYXRpb25TdGF0dXMgPT09IDEgLyogUmVxdWVzdFN0YXR1cy5JTl9QUk9HUkVTUyAqLykge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGluc3RhbGxhdGlvbkVudHJ5LFxyXG4gICAgICAgICAgICByZWdpc3RyYXRpb25Qcm9taXNlOiB3YWl0VW50aWxGaWRSZWdpc3RyYXRpb24oaW5zdGFsbGF0aW9ucylcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHsgaW5zdGFsbGF0aW9uRW50cnkgfTtcclxuICAgIH1cclxufVxyXG4vKiogVGhpcyB3aWxsIGJlIGV4ZWN1dGVkIG9ubHkgb25jZSBmb3IgZWFjaCBuZXcgRmlyZWJhc2UgSW5zdGFsbGF0aW9uLiAqL1xyXG5hc3luYyBmdW5jdGlvbiByZWdpc3Rlckluc3RhbGxhdGlvbihpbnN0YWxsYXRpb25zLCBpbnN0YWxsYXRpb25FbnRyeSkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCByZWdpc3RlcmVkSW5zdGFsbGF0aW9uRW50cnkgPSBhd2FpdCBjcmVhdGVJbnN0YWxsYXRpb25SZXF1ZXN0KGluc3RhbGxhdGlvbnMsIGluc3RhbGxhdGlvbkVudHJ5KTtcclxuICAgICAgICByZXR1cm4gc2V0KGluc3RhbGxhdGlvbnMuYXBwQ29uZmlnLCByZWdpc3RlcmVkSW5zdGFsbGF0aW9uRW50cnkpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICBpZiAoaXNTZXJ2ZXJFcnJvcihlKSAmJiBlLmN1c3RvbURhdGEuc2VydmVyQ29kZSA9PT0gNDA5KSB7XHJcbiAgICAgICAgICAgIC8vIFNlcnZlciByZXR1cm5lZCBhIFwiRklEIGNhbiBub3QgYmUgdXNlZFwiIGVycm9yLlxyXG4gICAgICAgICAgICAvLyBHZW5lcmF0ZSBhIG5ldyBJRCBuZXh0IHRpbWUuXHJcbiAgICAgICAgICAgIGF3YWl0IHJlbW92ZShpbnN0YWxsYXRpb25zLmFwcENvbmZpZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBSZWdpc3RyYXRpb24gZmFpbGVkLiBTZXQgRklEIGFzIG5vdCByZWdpc3RlcmVkLlxyXG4gICAgICAgICAgICBhd2FpdCBzZXQoaW5zdGFsbGF0aW9ucy5hcHBDb25maWcsIHtcclxuICAgICAgICAgICAgICAgIGZpZDogaW5zdGFsbGF0aW9uRW50cnkuZmlkLFxyXG4gICAgICAgICAgICAgICAgcmVnaXN0cmF0aW9uU3RhdHVzOiAwIC8qIFJlcXVlc3RTdGF0dXMuTk9UX1NUQVJURUQgKi9cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRocm93IGU7XHJcbiAgICB9XHJcbn1cclxuLyoqIENhbGwgaWYgRklEIHJlZ2lzdHJhdGlvbiBpcyBwZW5kaW5nIGluIGFub3RoZXIgcmVxdWVzdC4gKi9cclxuYXN5bmMgZnVuY3Rpb24gd2FpdFVudGlsRmlkUmVnaXN0cmF0aW9uKGluc3RhbGxhdGlvbnMpIHtcclxuICAgIC8vIFVuZm9ydHVuYXRlbHksIHRoZXJlIGlzIG5vIHdheSBvZiByZWxpYWJseSBvYnNlcnZpbmcgd2hlbiBhIHZhbHVlIGluXHJcbiAgICAvLyBJbmRleGVkREIgY2hhbmdlcyAoeWV0LCBzZWUgaHR0cHM6Ly9naXRodWIuY29tL1dJQ0cvaW5kZXhlZC1kYi1vYnNlcnZlcnMpLFxyXG4gICAgLy8gc28gd2UgbmVlZCB0byBwb2xsLlxyXG4gICAgbGV0IGVudHJ5ID0gYXdhaXQgdXBkYXRlSW5zdGFsbGF0aW9uUmVxdWVzdChpbnN0YWxsYXRpb25zLmFwcENvbmZpZyk7XHJcbiAgICB3aGlsZSAoZW50cnkucmVnaXN0cmF0aW9uU3RhdHVzID09PSAxIC8qIFJlcXVlc3RTdGF0dXMuSU5fUFJPR1JFU1MgKi8pIHtcclxuICAgICAgICAvLyBjcmVhdGVJbnN0YWxsYXRpb24gcmVxdWVzdCBzdGlsbCBpbiBwcm9ncmVzcy5cclxuICAgICAgICBhd2FpdCBzbGVlcCgxMDApO1xyXG4gICAgICAgIGVudHJ5ID0gYXdhaXQgdXBkYXRlSW5zdGFsbGF0aW9uUmVxdWVzdChpbnN0YWxsYXRpb25zLmFwcENvbmZpZyk7XHJcbiAgICB9XHJcbiAgICBpZiAoZW50cnkucmVnaXN0cmF0aW9uU3RhdHVzID09PSAwIC8qIFJlcXVlc3RTdGF0dXMuTk9UX1NUQVJURUQgKi8pIHtcclxuICAgICAgICAvLyBUaGUgcmVxdWVzdCB0aW1lZCBvdXQgb3IgZmFpbGVkIGluIGEgZGlmZmVyZW50IGNhbGwuIFRyeSBhZ2Fpbi5cclxuICAgICAgICBjb25zdCB7IGluc3RhbGxhdGlvbkVudHJ5LCByZWdpc3RyYXRpb25Qcm9taXNlIH0gPSBhd2FpdCBnZXRJbnN0YWxsYXRpb25FbnRyeShpbnN0YWxsYXRpb25zKTtcclxuICAgICAgICBpZiAocmVnaXN0cmF0aW9uUHJvbWlzZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVnaXN0cmF0aW9uUHJvbWlzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIG5vIHJlZ2lzdHJhdGlvblByb21pc2UsIGVudHJ5IGlzIHJlZ2lzdGVyZWQuXHJcbiAgICAgICAgICAgIHJldHVybiBpbnN0YWxsYXRpb25FbnRyeTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZW50cnk7XHJcbn1cclxuLyoqXHJcbiAqIENhbGxlZCBvbmx5IGlmIHRoZXJlIGlzIGEgQ3JlYXRlSW5zdGFsbGF0aW9uIHJlcXVlc3QgaW4gcHJvZ3Jlc3MuXHJcbiAqXHJcbiAqIFVwZGF0ZXMgdGhlIEluc3RhbGxhdGlvbkVudHJ5IGluIHRoZSBEQiBiYXNlZCBvbiB0aGUgc3RhdHVzIG9mIHRoZVxyXG4gKiBDcmVhdGVJbnN0YWxsYXRpb24gcmVxdWVzdC5cclxuICpcclxuICogUmV0dXJucyB0aGUgdXBkYXRlZCBJbnN0YWxsYXRpb25FbnRyeS5cclxuICovXHJcbmZ1bmN0aW9uIHVwZGF0ZUluc3RhbGxhdGlvblJlcXVlc3QoYXBwQ29uZmlnKSB7XHJcbiAgICByZXR1cm4gdXBkYXRlKGFwcENvbmZpZywgb2xkRW50cnkgPT4ge1xyXG4gICAgICAgIGlmICghb2xkRW50cnkpIHtcclxuICAgICAgICAgICAgdGhyb3cgRVJST1JfRkFDVE9SWS5jcmVhdGUoXCJpbnN0YWxsYXRpb24tbm90LWZvdW5kXCIgLyogRXJyb3JDb2RlLklOU1RBTExBVElPTl9OT1RfRk9VTkQgKi8pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY2xlYXJUaW1lZE91dFJlcXVlc3Qob2xkRW50cnkpO1xyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gY2xlYXJUaW1lZE91dFJlcXVlc3QoZW50cnkpIHtcclxuICAgIGlmIChoYXNJbnN0YWxsYXRpb25SZXF1ZXN0VGltZWRPdXQoZW50cnkpKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZmlkOiBlbnRyeS5maWQsXHJcbiAgICAgICAgICAgIHJlZ2lzdHJhdGlvblN0YXR1czogMCAvKiBSZXF1ZXN0U3RhdHVzLk5PVF9TVEFSVEVEICovXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIHJldHVybiBlbnRyeTtcclxufVxyXG5mdW5jdGlvbiBoYXNJbnN0YWxsYXRpb25SZXF1ZXN0VGltZWRPdXQoaW5zdGFsbGF0aW9uRW50cnkpIHtcclxuICAgIHJldHVybiAoaW5zdGFsbGF0aW9uRW50cnkucmVnaXN0cmF0aW9uU3RhdHVzID09PSAxIC8qIFJlcXVlc3RTdGF0dXMuSU5fUFJPR1JFU1MgKi8gJiZcclxuICAgICAgICBpbnN0YWxsYXRpb25FbnRyeS5yZWdpc3RyYXRpb25UaW1lICsgUEVORElOR19USU1FT1VUX01TIDwgRGF0ZS5ub3coKSk7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVBdXRoVG9rZW5SZXF1ZXN0KHsgYXBwQ29uZmlnLCBoZWFydGJlYXRTZXJ2aWNlUHJvdmlkZXIgfSwgaW5zdGFsbGF0aW9uRW50cnkpIHtcclxuICAgIGNvbnN0IGVuZHBvaW50ID0gZ2V0R2VuZXJhdGVBdXRoVG9rZW5FbmRwb2ludChhcHBDb25maWcsIGluc3RhbGxhdGlvbkVudHJ5KTtcclxuICAgIGNvbnN0IGhlYWRlcnMgPSBnZXRIZWFkZXJzV2l0aEF1dGgoYXBwQ29uZmlnLCBpbnN0YWxsYXRpb25FbnRyeSk7XHJcbiAgICAvLyBJZiBoZWFydGJlYXQgc2VydmljZSBleGlzdHMsIGFkZCB0aGUgaGVhcnRiZWF0IHN0cmluZyB0byB0aGUgaGVhZGVyLlxyXG4gICAgY29uc3QgaGVhcnRiZWF0U2VydmljZSA9IGhlYXJ0YmVhdFNlcnZpY2VQcm92aWRlci5nZXRJbW1lZGlhdGUoe1xyXG4gICAgICAgIG9wdGlvbmFsOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIGlmIChoZWFydGJlYXRTZXJ2aWNlKSB7XHJcbiAgICAgICAgY29uc3QgaGVhcnRiZWF0c0hlYWRlciA9IGF3YWl0IGhlYXJ0YmVhdFNlcnZpY2UuZ2V0SGVhcnRiZWF0c0hlYWRlcigpO1xyXG4gICAgICAgIGlmIChoZWFydGJlYXRzSGVhZGVyKSB7XHJcbiAgICAgICAgICAgIGhlYWRlcnMuYXBwZW5kKCd4LWZpcmViYXNlLWNsaWVudCcsIGhlYXJ0YmVhdHNIZWFkZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbnN0IGJvZHkgPSB7XHJcbiAgICAgICAgaW5zdGFsbGF0aW9uOiB7XHJcbiAgICAgICAgICAgIHNka1ZlcnNpb246IFBBQ0tBR0VfVkVSU0lPTixcclxuICAgICAgICAgICAgYXBwSWQ6IGFwcENvbmZpZy5hcHBJZFxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCByZXF1ZXN0ID0ge1xyXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgIGhlYWRlcnMsXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSlcclxuICAgIH07XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJldHJ5SWZTZXJ2ZXJFcnJvcigoKSA9PiBmZXRjaChlbmRwb2ludCwgcmVxdWVzdCkpO1xyXG4gICAgaWYgKHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2VWYWx1ZSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICBjb25zdCBjb21wbGV0ZWRBdXRoVG9rZW4gPSBleHRyYWN0QXV0aFRva2VuSW5mb0Zyb21SZXNwb25zZShyZXNwb25zZVZhbHVlKTtcclxuICAgICAgICByZXR1cm4gY29tcGxldGVkQXV0aFRva2VuO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdGhyb3cgYXdhaXQgZ2V0RXJyb3JGcm9tUmVzcG9uc2UoJ0dlbmVyYXRlIEF1dGggVG9rZW4nLCByZXNwb25zZSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gZ2V0R2VuZXJhdGVBdXRoVG9rZW5FbmRwb2ludChhcHBDb25maWcsIHsgZmlkIH0pIHtcclxuICAgIHJldHVybiBgJHtnZXRJbnN0YWxsYXRpb25zRW5kcG9pbnQoYXBwQ29uZmlnKX0vJHtmaWR9L2F1dGhUb2tlbnM6Z2VuZXJhdGVgO1xyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgdmFsaWQgYXV0aGVudGljYXRpb24gdG9rZW4gZm9yIHRoZSBpbnN0YWxsYXRpb24uIEdlbmVyYXRlcyBhIG5ld1xyXG4gKiB0b2tlbiBpZiBvbmUgZG9lc24ndCBleGlzdCwgaXMgZXhwaXJlZCBvciBhYm91dCB0byBleHBpcmUuXHJcbiAqXHJcbiAqIFNob3VsZCBvbmx5IGJlIGNhbGxlZCBpZiB0aGUgRmlyZWJhc2UgSW5zdGFsbGF0aW9uIGlzIHJlZ2lzdGVyZWQuXHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiByZWZyZXNoQXV0aFRva2VuKGluc3RhbGxhdGlvbnMsIGZvcmNlUmVmcmVzaCA9IGZhbHNlKSB7XHJcbiAgICBsZXQgdG9rZW5Qcm9taXNlO1xyXG4gICAgY29uc3QgZW50cnkgPSBhd2FpdCB1cGRhdGUoaW5zdGFsbGF0aW9ucy5hcHBDb25maWcsIG9sZEVudHJ5ID0+IHtcclxuICAgICAgICBpZiAoIWlzRW50cnlSZWdpc3RlcmVkKG9sZEVudHJ5KSkge1xyXG4gICAgICAgICAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcIm5vdC1yZWdpc3RlcmVkXCIgLyogRXJyb3JDb2RlLk5PVF9SRUdJU1RFUkVEICovKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qgb2xkQXV0aFRva2VuID0gb2xkRW50cnkuYXV0aFRva2VuO1xyXG4gICAgICAgIGlmICghZm9yY2VSZWZyZXNoICYmIGlzQXV0aFRva2VuVmFsaWQob2xkQXV0aFRva2VuKSkge1xyXG4gICAgICAgICAgICAvLyBUaGVyZSBpcyBhIHZhbGlkIHRva2VuIGluIHRoZSBEQi5cclxuICAgICAgICAgICAgcmV0dXJuIG9sZEVudHJ5O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChvbGRBdXRoVG9rZW4ucmVxdWVzdFN0YXR1cyA9PT0gMSAvKiBSZXF1ZXN0U3RhdHVzLklOX1BST0dSRVNTICovKSB7XHJcbiAgICAgICAgICAgIC8vIFRoZXJlIGFscmVhZHkgaXMgYSB0b2tlbiByZXF1ZXN0IGluIHByb2dyZXNzLlxyXG4gICAgICAgICAgICB0b2tlblByb21pc2UgPSB3YWl0VW50aWxBdXRoVG9rZW5SZXF1ZXN0KGluc3RhbGxhdGlvbnMsIGZvcmNlUmVmcmVzaCk7XHJcbiAgICAgICAgICAgIHJldHVybiBvbGRFbnRyeTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIE5vIHRva2VuIG9yIHRva2VuIGV4cGlyZWQuXHJcbiAgICAgICAgICAgIGlmICghbmF2aWdhdG9yLm9uTGluZSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgRVJST1JfRkFDVE9SWS5jcmVhdGUoXCJhcHAtb2ZmbGluZVwiIC8qIEVycm9yQ29kZS5BUFBfT0ZGTElORSAqLyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgaW5Qcm9ncmVzc0VudHJ5ID0gbWFrZUF1dGhUb2tlblJlcXVlc3RJblByb2dyZXNzRW50cnkob2xkRW50cnkpO1xyXG4gICAgICAgICAgICB0b2tlblByb21pc2UgPSBmZXRjaEF1dGhUb2tlbkZyb21TZXJ2ZXIoaW5zdGFsbGF0aW9ucywgaW5Qcm9ncmVzc0VudHJ5KTtcclxuICAgICAgICAgICAgcmV0dXJuIGluUHJvZ3Jlc3NFbnRyeTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIGNvbnN0IGF1dGhUb2tlbiA9IHRva2VuUHJvbWlzZVxyXG4gICAgICAgID8gYXdhaXQgdG9rZW5Qcm9taXNlXHJcbiAgICAgICAgOiBlbnRyeS5hdXRoVG9rZW47XHJcbiAgICByZXR1cm4gYXV0aFRva2VuO1xyXG59XHJcbi8qKlxyXG4gKiBDYWxsIG9ubHkgaWYgRklEIGlzIHJlZ2lzdGVyZWQgYW5kIEF1dGggVG9rZW4gcmVxdWVzdCBpcyBpbiBwcm9ncmVzcy5cclxuICpcclxuICogV2FpdHMgdW50aWwgdGhlIGN1cnJlbnQgcGVuZGluZyByZXF1ZXN0IGZpbmlzaGVzLiBJZiB0aGUgcmVxdWVzdCB0aW1lcyBvdXQsXHJcbiAqIHRyaWVzIG9uY2UgaW4gdGhpcyB0aHJlYWQgYXMgd2VsbC5cclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIHdhaXRVbnRpbEF1dGhUb2tlblJlcXVlc3QoaW5zdGFsbGF0aW9ucywgZm9yY2VSZWZyZXNoKSB7XHJcbiAgICAvLyBVbmZvcnR1bmF0ZWx5LCB0aGVyZSBpcyBubyB3YXkgb2YgcmVsaWFibHkgb2JzZXJ2aW5nIHdoZW4gYSB2YWx1ZSBpblxyXG4gICAgLy8gSW5kZXhlZERCIGNoYW5nZXMgKHlldCwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9XSUNHL2luZGV4ZWQtZGItb2JzZXJ2ZXJzKSxcclxuICAgIC8vIHNvIHdlIG5lZWQgdG8gcG9sbC5cclxuICAgIGxldCBlbnRyeSA9IGF3YWl0IHVwZGF0ZUF1dGhUb2tlblJlcXVlc3QoaW5zdGFsbGF0aW9ucy5hcHBDb25maWcpO1xyXG4gICAgd2hpbGUgKGVudHJ5LmF1dGhUb2tlbi5yZXF1ZXN0U3RhdHVzID09PSAxIC8qIFJlcXVlc3RTdGF0dXMuSU5fUFJPR1JFU1MgKi8pIHtcclxuICAgICAgICAvLyBnZW5lcmF0ZUF1dGhUb2tlbiBzdGlsbCBpbiBwcm9ncmVzcy5cclxuICAgICAgICBhd2FpdCBzbGVlcCgxMDApO1xyXG4gICAgICAgIGVudHJ5ID0gYXdhaXQgdXBkYXRlQXV0aFRva2VuUmVxdWVzdChpbnN0YWxsYXRpb25zLmFwcENvbmZpZyk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBhdXRoVG9rZW4gPSBlbnRyeS5hdXRoVG9rZW47XHJcbiAgICBpZiAoYXV0aFRva2VuLnJlcXVlc3RTdGF0dXMgPT09IDAgLyogUmVxdWVzdFN0YXR1cy5OT1RfU1RBUlRFRCAqLykge1xyXG4gICAgICAgIC8vIFRoZSByZXF1ZXN0IHRpbWVkIG91dCBvciBmYWlsZWQgaW4gYSBkaWZmZXJlbnQgY2FsbC4gVHJ5IGFnYWluLlxyXG4gICAgICAgIHJldHVybiByZWZyZXNoQXV0aFRva2VuKGluc3RhbGxhdGlvbnMsIGZvcmNlUmVmcmVzaCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gYXV0aFRva2VuO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBDYWxsZWQgb25seSBpZiB0aGVyZSBpcyBhIEdlbmVyYXRlQXV0aFRva2VuIHJlcXVlc3QgaW4gcHJvZ3Jlc3MuXHJcbiAqXHJcbiAqIFVwZGF0ZXMgdGhlIEluc3RhbGxhdGlvbkVudHJ5IGluIHRoZSBEQiBiYXNlZCBvbiB0aGUgc3RhdHVzIG9mIHRoZVxyXG4gKiBHZW5lcmF0ZUF1dGhUb2tlbiByZXF1ZXN0LlxyXG4gKlxyXG4gKiBSZXR1cm5zIHRoZSB1cGRhdGVkIEluc3RhbGxhdGlvbkVudHJ5LlxyXG4gKi9cclxuZnVuY3Rpb24gdXBkYXRlQXV0aFRva2VuUmVxdWVzdChhcHBDb25maWcpIHtcclxuICAgIHJldHVybiB1cGRhdGUoYXBwQ29uZmlnLCBvbGRFbnRyeSA9PiB7XHJcbiAgICAgICAgaWYgKCFpc0VudHJ5UmVnaXN0ZXJlZChvbGRFbnRyeSkpIHtcclxuICAgICAgICAgICAgdGhyb3cgRVJST1JfRkFDVE9SWS5jcmVhdGUoXCJub3QtcmVnaXN0ZXJlZFwiIC8qIEVycm9yQ29kZS5OT1RfUkVHSVNURVJFRCAqLyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG9sZEF1dGhUb2tlbiA9IG9sZEVudHJ5LmF1dGhUb2tlbjtcclxuICAgICAgICBpZiAoaGFzQXV0aFRva2VuUmVxdWVzdFRpbWVkT3V0KG9sZEF1dGhUb2tlbikpIHtcclxuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgb2xkRW50cnkpLCB7IGF1dGhUb2tlbjogeyByZXF1ZXN0U3RhdHVzOiAwIC8qIFJlcXVlc3RTdGF0dXMuTk9UX1NUQVJURUQgKi8gfSB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG9sZEVudHJ5O1xyXG4gICAgfSk7XHJcbn1cclxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hBdXRoVG9rZW5Gcm9tU2VydmVyKGluc3RhbGxhdGlvbnMsIGluc3RhbGxhdGlvbkVudHJ5KSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGF1dGhUb2tlbiA9IGF3YWl0IGdlbmVyYXRlQXV0aFRva2VuUmVxdWVzdChpbnN0YWxsYXRpb25zLCBpbnN0YWxsYXRpb25FbnRyeSk7XHJcbiAgICAgICAgY29uc3QgdXBkYXRlZEluc3RhbGxhdGlvbkVudHJ5ID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBpbnN0YWxsYXRpb25FbnRyeSksIHsgYXV0aFRva2VuIH0pO1xyXG4gICAgICAgIGF3YWl0IHNldChpbnN0YWxsYXRpb25zLmFwcENvbmZpZywgdXBkYXRlZEluc3RhbGxhdGlvbkVudHJ5KTtcclxuICAgICAgICByZXR1cm4gYXV0aFRva2VuO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICBpZiAoaXNTZXJ2ZXJFcnJvcihlKSAmJlxyXG4gICAgICAgICAgICAoZS5jdXN0b21EYXRhLnNlcnZlckNvZGUgPT09IDQwMSB8fCBlLmN1c3RvbURhdGEuc2VydmVyQ29kZSA9PT0gNDA0KSkge1xyXG4gICAgICAgICAgICAvLyBTZXJ2ZXIgcmV0dXJuZWQgYSBcIkZJRCBub3QgZm91bmRcIiBvciBhIFwiSW52YWxpZCBhdXRoZW50aWNhdGlvblwiIGVycm9yLlxyXG4gICAgICAgICAgICAvLyBHZW5lcmF0ZSBhIG5ldyBJRCBuZXh0IHRpbWUuXHJcbiAgICAgICAgICAgIGF3YWl0IHJlbW92ZShpbnN0YWxsYXRpb25zLmFwcENvbmZpZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCB1cGRhdGVkSW5zdGFsbGF0aW9uRW50cnkgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGluc3RhbGxhdGlvbkVudHJ5KSwgeyBhdXRoVG9rZW46IHsgcmVxdWVzdFN0YXR1czogMCAvKiBSZXF1ZXN0U3RhdHVzLk5PVF9TVEFSVEVEICovIH0gfSk7XHJcbiAgICAgICAgICAgIGF3YWl0IHNldChpbnN0YWxsYXRpb25zLmFwcENvbmZpZywgdXBkYXRlZEluc3RhbGxhdGlvbkVudHJ5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhyb3cgZTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBpc0VudHJ5UmVnaXN0ZXJlZChpbnN0YWxsYXRpb25FbnRyeSkge1xyXG4gICAgcmV0dXJuIChpbnN0YWxsYXRpb25FbnRyeSAhPT0gdW5kZWZpbmVkICYmXHJcbiAgICAgICAgaW5zdGFsbGF0aW9uRW50cnkucmVnaXN0cmF0aW9uU3RhdHVzID09PSAyIC8qIFJlcXVlc3RTdGF0dXMuQ09NUExFVEVEICovKTtcclxufVxyXG5mdW5jdGlvbiBpc0F1dGhUb2tlblZhbGlkKGF1dGhUb2tlbikge1xyXG4gICAgcmV0dXJuIChhdXRoVG9rZW4ucmVxdWVzdFN0YXR1cyA9PT0gMiAvKiBSZXF1ZXN0U3RhdHVzLkNPTVBMRVRFRCAqLyAmJlxyXG4gICAgICAgICFpc0F1dGhUb2tlbkV4cGlyZWQoYXV0aFRva2VuKSk7XHJcbn1cclxuZnVuY3Rpb24gaXNBdXRoVG9rZW5FeHBpcmVkKGF1dGhUb2tlbikge1xyXG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcclxuICAgIHJldHVybiAobm93IDwgYXV0aFRva2VuLmNyZWF0aW9uVGltZSB8fFxyXG4gICAgICAgIGF1dGhUb2tlbi5jcmVhdGlvblRpbWUgKyBhdXRoVG9rZW4uZXhwaXJlc0luIDwgbm93ICsgVE9LRU5fRVhQSVJBVElPTl9CVUZGRVIpO1xyXG59XHJcbi8qKiBSZXR1cm5zIGFuIHVwZGF0ZWQgSW5zdGFsbGF0aW9uRW50cnkgd2l0aCBhbiBJblByb2dyZXNzQXV0aFRva2VuLiAqL1xyXG5mdW5jdGlvbiBtYWtlQXV0aFRva2VuUmVxdWVzdEluUHJvZ3Jlc3NFbnRyeShvbGRFbnRyeSkge1xyXG4gICAgY29uc3QgaW5Qcm9ncmVzc0F1dGhUb2tlbiA9IHtcclxuICAgICAgICByZXF1ZXN0U3RhdHVzOiAxIC8qIFJlcXVlc3RTdGF0dXMuSU5fUFJPR1JFU1MgKi8sXHJcbiAgICAgICAgcmVxdWVzdFRpbWU6IERhdGUubm93KClcclxuICAgIH07XHJcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBvbGRFbnRyeSksIHsgYXV0aFRva2VuOiBpblByb2dyZXNzQXV0aFRva2VuIH0pO1xyXG59XHJcbmZ1bmN0aW9uIGhhc0F1dGhUb2tlblJlcXVlc3RUaW1lZE91dChhdXRoVG9rZW4pIHtcclxuICAgIHJldHVybiAoYXV0aFRva2VuLnJlcXVlc3RTdGF0dXMgPT09IDEgLyogUmVxdWVzdFN0YXR1cy5JTl9QUk9HUkVTUyAqLyAmJlxyXG4gICAgICAgIGF1dGhUb2tlbi5yZXF1ZXN0VGltZSArIFBFTkRJTkdfVElNRU9VVF9NUyA8IERhdGUubm93KCkpO1xyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgRmlyZWJhc2UgSW5zdGFsbGF0aW9uIGlmIHRoZXJlIGlzbid0IG9uZSBmb3IgdGhlIGFwcCBhbmRcclxuICogcmV0dXJucyB0aGUgSW5zdGFsbGF0aW9uIElELlxyXG4gKiBAcGFyYW0gaW5zdGFsbGF0aW9ucyAtIFRoZSBgSW5zdGFsbGF0aW9uc2AgaW5zdGFuY2UuXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIGdldElkKGluc3RhbGxhdGlvbnMpIHtcclxuICAgIGNvbnN0IGluc3RhbGxhdGlvbnNJbXBsID0gaW5zdGFsbGF0aW9ucztcclxuICAgIGNvbnN0IHsgaW5zdGFsbGF0aW9uRW50cnksIHJlZ2lzdHJhdGlvblByb21pc2UgfSA9IGF3YWl0IGdldEluc3RhbGxhdGlvbkVudHJ5KGluc3RhbGxhdGlvbnNJbXBsKTtcclxuICAgIGlmIChyZWdpc3RyYXRpb25Qcm9taXNlKSB7XHJcbiAgICAgICAgcmVnaXN0cmF0aW9uUHJvbWlzZS5jYXRjaChjb25zb2xlLmVycm9yKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIElmIHRoZSBpbnN0YWxsYXRpb24gaXMgYWxyZWFkeSByZWdpc3RlcmVkLCB1cGRhdGUgdGhlIGF1dGhlbnRpY2F0aW9uXHJcbiAgICAgICAgLy8gdG9rZW4gaWYgbmVlZGVkLlxyXG4gICAgICAgIHJlZnJlc2hBdXRoVG9rZW4oaW5zdGFsbGF0aW9uc0ltcGwpLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGluc3RhbGxhdGlvbkVudHJ5LmZpZDtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogUmV0dXJucyBhIEZpcmViYXNlIEluc3RhbGxhdGlvbnMgYXV0aCB0b2tlbiwgaWRlbnRpZnlpbmcgdGhlIGN1cnJlbnRcclxuICogRmlyZWJhc2UgSW5zdGFsbGF0aW9uLlxyXG4gKiBAcGFyYW0gaW5zdGFsbGF0aW9ucyAtIFRoZSBgSW5zdGFsbGF0aW9uc2AgaW5zdGFuY2UuXHJcbiAqIEBwYXJhbSBmb3JjZVJlZnJlc2ggLSBGb3JjZSByZWZyZXNoIHJlZ2FyZGxlc3Mgb2YgdG9rZW4gZXhwaXJhdGlvbi5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gZ2V0VG9rZW4oaW5zdGFsbGF0aW9ucywgZm9yY2VSZWZyZXNoID0gZmFsc2UpIHtcclxuICAgIGNvbnN0IGluc3RhbGxhdGlvbnNJbXBsID0gaW5zdGFsbGF0aW9ucztcclxuICAgIGF3YWl0IGNvbXBsZXRlSW5zdGFsbGF0aW9uUmVnaXN0cmF0aW9uKGluc3RhbGxhdGlvbnNJbXBsKTtcclxuICAgIC8vIEF0IHRoaXMgcG9pbnQgd2UgZWl0aGVyIGhhdmUgYSBSZWdpc3RlcmVkIEluc3RhbGxhdGlvbiBpbiB0aGUgREIsIG9yIHdlJ3ZlXHJcbiAgICAvLyBhbHJlYWR5IHRocm93biBhbiBlcnJvci5cclxuICAgIGNvbnN0IGF1dGhUb2tlbiA9IGF3YWl0IHJlZnJlc2hBdXRoVG9rZW4oaW5zdGFsbGF0aW9uc0ltcGwsIGZvcmNlUmVmcmVzaCk7XHJcbiAgICByZXR1cm4gYXV0aFRva2VuLnRva2VuO1xyXG59XHJcbmFzeW5jIGZ1bmN0aW9uIGNvbXBsZXRlSW5zdGFsbGF0aW9uUmVnaXN0cmF0aW9uKGluc3RhbGxhdGlvbnMpIHtcclxuICAgIGNvbnN0IHsgcmVnaXN0cmF0aW9uUHJvbWlzZSB9ID0gYXdhaXQgZ2V0SW5zdGFsbGF0aW9uRW50cnkoaW5zdGFsbGF0aW9ucyk7XHJcbiAgICBpZiAocmVnaXN0cmF0aW9uUHJvbWlzZSkge1xyXG4gICAgICAgIC8vIEEgY3JlYXRlSW5zdGFsbGF0aW9uIHJlcXVlc3QgaXMgaW4gcHJvZ3Jlc3MuIFdhaXQgdW50aWwgaXQgZmluaXNoZXMuXHJcbiAgICAgICAgYXdhaXQgcmVnaXN0cmF0aW9uUHJvbWlzZTtcclxuICAgIH1cclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiBkZWxldGVJbnN0YWxsYXRpb25SZXF1ZXN0KGFwcENvbmZpZywgaW5zdGFsbGF0aW9uRW50cnkpIHtcclxuICAgIGNvbnN0IGVuZHBvaW50ID0gZ2V0RGVsZXRlRW5kcG9pbnQoYXBwQ29uZmlnLCBpbnN0YWxsYXRpb25FbnRyeSk7XHJcbiAgICBjb25zdCBoZWFkZXJzID0gZ2V0SGVhZGVyc1dpdGhBdXRoKGFwcENvbmZpZywgaW5zdGFsbGF0aW9uRW50cnkpO1xyXG4gICAgY29uc3QgcmVxdWVzdCA9IHtcclxuICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxyXG4gICAgICAgIGhlYWRlcnNcclxuICAgIH07XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJldHJ5SWZTZXJ2ZXJFcnJvcigoKSA9PiBmZXRjaChlbmRwb2ludCwgcmVxdWVzdCkpO1xyXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICAgIHRocm93IGF3YWl0IGdldEVycm9yRnJvbVJlc3BvbnNlKCdEZWxldGUgSW5zdGFsbGF0aW9uJywgcmVzcG9uc2UpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGdldERlbGV0ZUVuZHBvaW50KGFwcENvbmZpZywgeyBmaWQgfSkge1xyXG4gICAgcmV0dXJuIGAke2dldEluc3RhbGxhdGlvbnNFbmRwb2ludChhcHBDb25maWcpfS8ke2ZpZH1gO1xyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBEZWxldGVzIHRoZSBGaXJlYmFzZSBJbnN0YWxsYXRpb24gYW5kIGFsbCBhc3NvY2lhdGVkIGRhdGEuXHJcbiAqIEBwYXJhbSBpbnN0YWxsYXRpb25zIC0gVGhlIGBJbnN0YWxsYXRpb25zYCBpbnN0YW5jZS5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gZGVsZXRlSW5zdGFsbGF0aW9ucyhpbnN0YWxsYXRpb25zKSB7XHJcbiAgICBjb25zdCB7IGFwcENvbmZpZyB9ID0gaW5zdGFsbGF0aW9ucztcclxuICAgIGNvbnN0IGVudHJ5ID0gYXdhaXQgdXBkYXRlKGFwcENvbmZpZywgb2xkRW50cnkgPT4ge1xyXG4gICAgICAgIGlmIChvbGRFbnRyeSAmJiBvbGRFbnRyeS5yZWdpc3RyYXRpb25TdGF0dXMgPT09IDAgLyogUmVxdWVzdFN0YXR1cy5OT1RfU1RBUlRFRCAqLykge1xyXG4gICAgICAgICAgICAvLyBEZWxldGUgdGhlIHVucmVnaXN0ZXJlZCBlbnRyeSB3aXRob3V0IHNlbmRpbmcgYSBkZWxldGVJbnN0YWxsYXRpb24gcmVxdWVzdC5cclxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG9sZEVudHJ5O1xyXG4gICAgfSk7XHJcbiAgICBpZiAoZW50cnkpIHtcclxuICAgICAgICBpZiAoZW50cnkucmVnaXN0cmF0aW9uU3RhdHVzID09PSAxIC8qIFJlcXVlc3RTdGF0dXMuSU5fUFJPR1JFU1MgKi8pIHtcclxuICAgICAgICAgICAgLy8gQ2FuJ3QgZGVsZXRlIHdoaWxlIHRyeWluZyB0byByZWdpc3Rlci5cclxuICAgICAgICAgICAgdGhyb3cgRVJST1JfRkFDVE9SWS5jcmVhdGUoXCJkZWxldGUtcGVuZGluZy1yZWdpc3RyYXRpb25cIiAvKiBFcnJvckNvZGUuREVMRVRFX1BFTkRJTkdfUkVHSVNUUkFUSU9OICovKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZW50cnkucmVnaXN0cmF0aW9uU3RhdHVzID09PSAyIC8qIFJlcXVlc3RTdGF0dXMuQ09NUExFVEVEICovKSB7XHJcbiAgICAgICAgICAgIGlmICghbmF2aWdhdG9yLm9uTGluZSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgRVJST1JfRkFDVE9SWS5jcmVhdGUoXCJhcHAtb2ZmbGluZVwiIC8qIEVycm9yQ29kZS5BUFBfT0ZGTElORSAqLyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBkZWxldGVJbnN0YWxsYXRpb25SZXF1ZXN0KGFwcENvbmZpZywgZW50cnkpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgcmVtb3ZlKGFwcENvbmZpZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIFNldHMgYSBuZXcgY2FsbGJhY2sgdGhhdCB3aWxsIGdldCBjYWxsZWQgd2hlbiBJbnN0YWxsYXRpb24gSUQgY2hhbmdlcy5cclxuICogUmV0dXJucyBhbiB1bnN1YnNjcmliZSBmdW5jdGlvbiB0aGF0IHdpbGwgcmVtb3ZlIHRoZSBjYWxsYmFjayB3aGVuIGNhbGxlZC5cclxuICogQHBhcmFtIGluc3RhbGxhdGlvbnMgLSBUaGUgYEluc3RhbGxhdGlvbnNgIGluc3RhbmNlLlxyXG4gKiBAcGFyYW0gY2FsbGJhY2sgLSBUaGUgY2FsbGJhY2sgZnVuY3Rpb24gdGhhdCBpcyBpbnZva2VkIHdoZW4gRklEIGNoYW5nZXMuXHJcbiAqIEByZXR1cm5zIEEgZnVuY3Rpb24gdGhhdCBjYW4gYmUgY2FsbGVkIHRvIHVuc3Vic2NyaWJlLlxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5mdW5jdGlvbiBvbklkQ2hhbmdlKGluc3RhbGxhdGlvbnMsIGNhbGxiYWNrKSB7XHJcbiAgICBjb25zdCB7IGFwcENvbmZpZyB9ID0gaW5zdGFsbGF0aW9ucztcclxuICAgIGFkZENhbGxiYWNrKGFwcENvbmZpZywgY2FsbGJhY2spO1xyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgICByZW1vdmVDYWxsYmFjayhhcHBDb25maWcsIGNhbGxiYWNrKTtcclxuICAgIH07XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIFJldHVybnMgYW4gaW5zdGFuY2Ugb2Yge0BsaW5rIEluc3RhbGxhdGlvbnN9IGFzc29jaWF0ZWQgd2l0aCB0aGUgZ2l2ZW5cclxuICoge0BsaW5rIEBmaXJlYmFzZS9hcHAjRmlyZWJhc2VBcHB9IGluc3RhbmNlLlxyXG4gKiBAcGFyYW0gYXBwIC0gVGhlIHtAbGluayBAZmlyZWJhc2UvYXBwI0ZpcmViYXNlQXBwfSBpbnN0YW5jZS5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZnVuY3Rpb24gZ2V0SW5zdGFsbGF0aW9ucyhhcHAgPSBnZXRBcHAoKSkge1xyXG4gICAgY29uc3QgaW5zdGFsbGF0aW9uc0ltcGwgPSBfZ2V0UHJvdmlkZXIoYXBwLCAnaW5zdGFsbGF0aW9ucycpLmdldEltbWVkaWF0ZSgpO1xyXG4gICAgcmV0dXJuIGluc3RhbGxhdGlvbnNJbXBsO1xyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbmZ1bmN0aW9uIGV4dHJhY3RBcHBDb25maWcoYXBwKSB7XHJcbiAgICBpZiAoIWFwcCB8fCAhYXBwLm9wdGlvbnMpIHtcclxuICAgICAgICB0aHJvdyBnZXRNaXNzaW5nVmFsdWVFcnJvcignQXBwIENvbmZpZ3VyYXRpb24nKTtcclxuICAgIH1cclxuICAgIGlmICghYXBwLm5hbWUpIHtcclxuICAgICAgICB0aHJvdyBnZXRNaXNzaW5nVmFsdWVFcnJvcignQXBwIE5hbWUnKTtcclxuICAgIH1cclxuICAgIC8vIFJlcXVpcmVkIGFwcCBjb25maWcga2V5c1xyXG4gICAgY29uc3QgY29uZmlnS2V5cyA9IFtcclxuICAgICAgICAncHJvamVjdElkJyxcclxuICAgICAgICAnYXBpS2V5JyxcclxuICAgICAgICAnYXBwSWQnXHJcbiAgICBdO1xyXG4gICAgZm9yIChjb25zdCBrZXlOYW1lIG9mIGNvbmZpZ0tleXMpIHtcclxuICAgICAgICBpZiAoIWFwcC5vcHRpb25zW2tleU5hbWVdKSB7XHJcbiAgICAgICAgICAgIHRocm93IGdldE1pc3NpbmdWYWx1ZUVycm9yKGtleU5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgYXBwTmFtZTogYXBwLm5hbWUsXHJcbiAgICAgICAgcHJvamVjdElkOiBhcHAub3B0aW9ucy5wcm9qZWN0SWQsXHJcbiAgICAgICAgYXBpS2V5OiBhcHAub3B0aW9ucy5hcGlLZXksXHJcbiAgICAgICAgYXBwSWQ6IGFwcC5vcHRpb25zLmFwcElkXHJcbiAgICB9O1xyXG59XHJcbmZ1bmN0aW9uIGdldE1pc3NpbmdWYWx1ZUVycm9yKHZhbHVlTmFtZSkge1xyXG4gICAgcmV0dXJuIEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwibWlzc2luZy1hcHAtY29uZmlnLXZhbHVlc1wiIC8qIEVycm9yQ29kZS5NSVNTSU5HX0FQUF9DT05GSUdfVkFMVUVTICovLCB7XHJcbiAgICAgICAgdmFsdWVOYW1lXHJcbiAgICB9KTtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5jb25zdCBJTlNUQUxMQVRJT05TX05BTUUgPSAnaW5zdGFsbGF0aW9ucyc7XHJcbmNvbnN0IElOU1RBTExBVElPTlNfTkFNRV9JTlRFUk5BTCA9ICdpbnN0YWxsYXRpb25zLWludGVybmFsJztcclxuY29uc3QgcHVibGljRmFjdG9yeSA9IChjb250YWluZXIpID0+IHtcclxuICAgIGNvbnN0IGFwcCA9IGNvbnRhaW5lci5nZXRQcm92aWRlcignYXBwJykuZ2V0SW1tZWRpYXRlKCk7XHJcbiAgICAvLyBUaHJvd3MgaWYgYXBwIGlzbid0IGNvbmZpZ3VyZWQgcHJvcGVybHkuXHJcbiAgICBjb25zdCBhcHBDb25maWcgPSBleHRyYWN0QXBwQ29uZmlnKGFwcCk7XHJcbiAgICBjb25zdCBoZWFydGJlYXRTZXJ2aWNlUHJvdmlkZXIgPSBfZ2V0UHJvdmlkZXIoYXBwLCAnaGVhcnRiZWF0Jyk7XHJcbiAgICBjb25zdCBpbnN0YWxsYXRpb25zSW1wbCA9IHtcclxuICAgICAgICBhcHAsXHJcbiAgICAgICAgYXBwQ29uZmlnLFxyXG4gICAgICAgIGhlYXJ0YmVhdFNlcnZpY2VQcm92aWRlcixcclxuICAgICAgICBfZGVsZXRlOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoKVxyXG4gICAgfTtcclxuICAgIHJldHVybiBpbnN0YWxsYXRpb25zSW1wbDtcclxufTtcclxuY29uc3QgaW50ZXJuYWxGYWN0b3J5ID0gKGNvbnRhaW5lcikgPT4ge1xyXG4gICAgY29uc3QgYXBwID0gY29udGFpbmVyLmdldFByb3ZpZGVyKCdhcHAnKS5nZXRJbW1lZGlhdGUoKTtcclxuICAgIC8vIEludGVybmFsIEZJUyBpbnN0YW5jZSByZWxpZXMgb24gcHVibGljIEZJUyBpbnN0YW5jZS5cclxuICAgIGNvbnN0IGluc3RhbGxhdGlvbnMgPSBfZ2V0UHJvdmlkZXIoYXBwLCBJTlNUQUxMQVRJT05TX05BTUUpLmdldEltbWVkaWF0ZSgpO1xyXG4gICAgY29uc3QgaW5zdGFsbGF0aW9uc0ludGVybmFsID0ge1xyXG4gICAgICAgIGdldElkOiAoKSA9PiBnZXRJZChpbnN0YWxsYXRpb25zKSxcclxuICAgICAgICBnZXRUb2tlbjogKGZvcmNlUmVmcmVzaCkgPT4gZ2V0VG9rZW4oaW5zdGFsbGF0aW9ucywgZm9yY2VSZWZyZXNoKVxyXG4gICAgfTtcclxuICAgIHJldHVybiBpbnN0YWxsYXRpb25zSW50ZXJuYWw7XHJcbn07XHJcbmZ1bmN0aW9uIHJlZ2lzdGVySW5zdGFsbGF0aW9ucygpIHtcclxuICAgIF9yZWdpc3RlckNvbXBvbmVudChuZXcgQ29tcG9uZW50KElOU1RBTExBVElPTlNfTkFNRSwgcHVibGljRmFjdG9yeSwgXCJQVUJMSUNcIiAvKiBDb21wb25lbnRUeXBlLlBVQkxJQyAqLykpO1xyXG4gICAgX3JlZ2lzdGVyQ29tcG9uZW50KG5ldyBDb21wb25lbnQoSU5TVEFMTEFUSU9OU19OQU1FX0lOVEVSTkFMLCBpbnRlcm5hbEZhY3RvcnksIFwiUFJJVkFURVwiIC8qIENvbXBvbmVudFR5cGUuUFJJVkFURSAqLykpO1xyXG59XG5cbi8qKlxyXG4gKiBGaXJlYmFzZSBJbnN0YWxsYXRpb25zXHJcbiAqXHJcbiAqIEBwYWNrYWdlRG9jdW1lbnRhdGlvblxyXG4gKi9cclxucmVnaXN0ZXJJbnN0YWxsYXRpb25zKCk7XHJcbnJlZ2lzdGVyVmVyc2lvbihuYW1lLCB2ZXJzaW9uKTtcclxuLy8gQlVJTERfVEFSR0VUIHdpbGwgYmUgcmVwbGFjZWQgYnkgdmFsdWVzIGxpa2UgZXNtNSwgZXNtMjAxNywgY2pzNSwgZXRjIGR1cmluZyB0aGUgY29tcGlsYXRpb25cclxucmVnaXN0ZXJWZXJzaW9uKG5hbWUsIHZlcnNpb24sICdlc20yMDE3Jyk7XG5cbmV4cG9ydCB7IGRlbGV0ZUluc3RhbGxhdGlvbnMsIGdldElkLCBnZXRJbnN0YWxsYXRpb25zLCBnZXRUb2tlbiwgb25JZENoYW5nZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguZXNtMjAxNy5qcy5tYXBcbiIsImltcG9ydCB7IHcgYXMgd3JhcCwgciBhcyByZXBsYWNlVHJhcHMgfSBmcm9tICcuL3dyYXAtaWRiLXZhbHVlLmpzJztcbmV4cG9ydCB7IHUgYXMgdW53cmFwLCB3IGFzIHdyYXAgfSBmcm9tICcuL3dyYXAtaWRiLXZhbHVlLmpzJztcblxuLyoqXG4gKiBPcGVuIGEgZGF0YWJhc2UuXG4gKlxuICogQHBhcmFtIG5hbWUgTmFtZSBvZiB0aGUgZGF0YWJhc2UuXG4gKiBAcGFyYW0gdmVyc2lvbiBTY2hlbWEgdmVyc2lvbi5cbiAqIEBwYXJhbSBjYWxsYmFja3MgQWRkaXRpb25hbCBjYWxsYmFja3MuXG4gKi9cbmZ1bmN0aW9uIG9wZW5EQihuYW1lLCB2ZXJzaW9uLCB7IGJsb2NrZWQsIHVwZ3JhZGUsIGJsb2NraW5nLCB0ZXJtaW5hdGVkIH0gPSB7fSkge1xuICAgIGNvbnN0IHJlcXVlc3QgPSBpbmRleGVkREIub3BlbihuYW1lLCB2ZXJzaW9uKTtcbiAgICBjb25zdCBvcGVuUHJvbWlzZSA9IHdyYXAocmVxdWVzdCk7XG4gICAgaWYgKHVwZ3JhZGUpIHtcbiAgICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCd1cGdyYWRlbmVlZGVkJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICB1cGdyYWRlKHdyYXAocmVxdWVzdC5yZXN1bHQpLCBldmVudC5vbGRWZXJzaW9uLCBldmVudC5uZXdWZXJzaW9uLCB3cmFwKHJlcXVlc3QudHJhbnNhY3Rpb24pKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChibG9ja2VkKVxuICAgICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2Jsb2NrZWQnLCAoKSA9PiBibG9ja2VkKCkpO1xuICAgIG9wZW5Qcm9taXNlXG4gICAgICAgIC50aGVuKChkYikgPT4ge1xuICAgICAgICBpZiAodGVybWluYXRlZClcbiAgICAgICAgICAgIGRiLmFkZEV2ZW50TGlzdGVuZXIoJ2Nsb3NlJywgKCkgPT4gdGVybWluYXRlZCgpKTtcbiAgICAgICAgaWYgKGJsb2NraW5nKVxuICAgICAgICAgICAgZGIuYWRkRXZlbnRMaXN0ZW5lcigndmVyc2lvbmNoYW5nZScsICgpID0+IGJsb2NraW5nKCkpO1xuICAgIH0pXG4gICAgICAgIC5jYXRjaCgoKSA9PiB7IH0pO1xuICAgIHJldHVybiBvcGVuUHJvbWlzZTtcbn1cbi8qKlxuICogRGVsZXRlIGEgZGF0YWJhc2UuXG4gKlxuICogQHBhcmFtIG5hbWUgTmFtZSBvZiB0aGUgZGF0YWJhc2UuXG4gKi9cbmZ1bmN0aW9uIGRlbGV0ZURCKG5hbWUsIHsgYmxvY2tlZCB9ID0ge30pIHtcbiAgICBjb25zdCByZXF1ZXN0ID0gaW5kZXhlZERCLmRlbGV0ZURhdGFiYXNlKG5hbWUpO1xuICAgIGlmIChibG9ja2VkKVxuICAgICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2Jsb2NrZWQnLCAoKSA9PiBibG9ja2VkKCkpO1xuICAgIHJldHVybiB3cmFwKHJlcXVlc3QpLnRoZW4oKCkgPT4gdW5kZWZpbmVkKTtcbn1cblxuY29uc3QgcmVhZE1ldGhvZHMgPSBbJ2dldCcsICdnZXRLZXknLCAnZ2V0QWxsJywgJ2dldEFsbEtleXMnLCAnY291bnQnXTtcbmNvbnN0IHdyaXRlTWV0aG9kcyA9IFsncHV0JywgJ2FkZCcsICdkZWxldGUnLCAnY2xlYXInXTtcbmNvbnN0IGNhY2hlZE1ldGhvZHMgPSBuZXcgTWFwKCk7XG5mdW5jdGlvbiBnZXRNZXRob2QodGFyZ2V0LCBwcm9wKSB7XG4gICAgaWYgKCEodGFyZ2V0IGluc3RhbmNlb2YgSURCRGF0YWJhc2UgJiZcbiAgICAgICAgIShwcm9wIGluIHRhcmdldCkgJiZcbiAgICAgICAgdHlwZW9mIHByb3AgPT09ICdzdHJpbmcnKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChjYWNoZWRNZXRob2RzLmdldChwcm9wKSlcbiAgICAgICAgcmV0dXJuIGNhY2hlZE1ldGhvZHMuZ2V0KHByb3ApO1xuICAgIGNvbnN0IHRhcmdldEZ1bmNOYW1lID0gcHJvcC5yZXBsYWNlKC9Gcm9tSW5kZXgkLywgJycpO1xuICAgIGNvbnN0IHVzZUluZGV4ID0gcHJvcCAhPT0gdGFyZ2V0RnVuY05hbWU7XG4gICAgY29uc3QgaXNXcml0ZSA9IHdyaXRlTWV0aG9kcy5pbmNsdWRlcyh0YXJnZXRGdW5jTmFtZSk7XG4gICAgaWYgKFxuICAgIC8vIEJhaWwgaWYgdGhlIHRhcmdldCBkb2Vzbid0IGV4aXN0IG9uIHRoZSB0YXJnZXQuIEVnLCBnZXRBbGwgaXNuJ3QgaW4gRWRnZS5cbiAgICAhKHRhcmdldEZ1bmNOYW1lIGluICh1c2VJbmRleCA/IElEQkluZGV4IDogSURCT2JqZWN0U3RvcmUpLnByb3RvdHlwZSkgfHxcbiAgICAgICAgIShpc1dyaXRlIHx8IHJlYWRNZXRob2RzLmluY2x1ZGVzKHRhcmdldEZ1bmNOYW1lKSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBtZXRob2QgPSBhc3luYyBmdW5jdGlvbiAoc3RvcmVOYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIC8vIGlzV3JpdGUgPyAncmVhZHdyaXRlJyA6IHVuZGVmaW5lZCBnemlwcHMgYmV0dGVyLCBidXQgZmFpbHMgaW4gRWRnZSA6KFxuICAgICAgICBjb25zdCB0eCA9IHRoaXMudHJhbnNhY3Rpb24oc3RvcmVOYW1lLCBpc1dyaXRlID8gJ3JlYWR3cml0ZScgOiAncmVhZG9ubHknKTtcbiAgICAgICAgbGV0IHRhcmdldCA9IHR4LnN0b3JlO1xuICAgICAgICBpZiAodXNlSW5kZXgpXG4gICAgICAgICAgICB0YXJnZXQgPSB0YXJnZXQuaW5kZXgoYXJncy5zaGlmdCgpKTtcbiAgICAgICAgLy8gTXVzdCByZWplY3QgaWYgb3AgcmVqZWN0cy5cbiAgICAgICAgLy8gSWYgaXQncyBhIHdyaXRlIG9wZXJhdGlvbiwgbXVzdCByZWplY3QgaWYgdHguZG9uZSByZWplY3RzLlxuICAgICAgICAvLyBNdXN0IHJlamVjdCB3aXRoIG9wIHJlamVjdGlvbiBmaXJzdC5cbiAgICAgICAgLy8gTXVzdCByZXNvbHZlIHdpdGggb3AgdmFsdWUuXG4gICAgICAgIC8vIE11c3QgaGFuZGxlIGJvdGggcHJvbWlzZXMgKG5vIHVuaGFuZGxlZCByZWplY3Rpb25zKVxuICAgICAgICByZXR1cm4gKGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgIHRhcmdldFt0YXJnZXRGdW5jTmFtZV0oLi4uYXJncyksXG4gICAgICAgICAgICBpc1dyaXRlICYmIHR4LmRvbmUsXG4gICAgICAgIF0pKVswXTtcbiAgICB9O1xuICAgIGNhY2hlZE1ldGhvZHMuc2V0KHByb3AsIG1ldGhvZCk7XG4gICAgcmV0dXJuIG1ldGhvZDtcbn1cbnJlcGxhY2VUcmFwcygob2xkVHJhcHMpID0+ICh7XG4gICAgLi4ub2xkVHJhcHMsXG4gICAgZ2V0OiAodGFyZ2V0LCBwcm9wLCByZWNlaXZlcikgPT4gZ2V0TWV0aG9kKHRhcmdldCwgcHJvcCkgfHwgb2xkVHJhcHMuZ2V0KHRhcmdldCwgcHJvcCwgcmVjZWl2ZXIpLFxuICAgIGhhczogKHRhcmdldCwgcHJvcCkgPT4gISFnZXRNZXRob2QodGFyZ2V0LCBwcm9wKSB8fCBvbGRUcmFwcy5oYXModGFyZ2V0LCBwcm9wKSxcbn0pKTtcblxuZXhwb3J0IHsgZGVsZXRlREIsIG9wZW5EQiB9O1xuIiwiY29uc3QgaW5zdGFuY2VPZkFueSA9IChvYmplY3QsIGNvbnN0cnVjdG9ycykgPT4gY29uc3RydWN0b3JzLnNvbWUoKGMpID0+IG9iamVjdCBpbnN0YW5jZW9mIGMpO1xuXG5sZXQgaWRiUHJveHlhYmxlVHlwZXM7XG5sZXQgY3Vyc29yQWR2YW5jZU1ldGhvZHM7XG4vLyBUaGlzIGlzIGEgZnVuY3Rpb24gdG8gcHJldmVudCBpdCB0aHJvd2luZyB1cCBpbiBub2RlIGVudmlyb25tZW50cy5cbmZ1bmN0aW9uIGdldElkYlByb3h5YWJsZVR5cGVzKCkge1xuICAgIHJldHVybiAoaWRiUHJveHlhYmxlVHlwZXMgfHxcbiAgICAgICAgKGlkYlByb3h5YWJsZVR5cGVzID0gW1xuICAgICAgICAgICAgSURCRGF0YWJhc2UsXG4gICAgICAgICAgICBJREJPYmplY3RTdG9yZSxcbiAgICAgICAgICAgIElEQkluZGV4LFxuICAgICAgICAgICAgSURCQ3Vyc29yLFxuICAgICAgICAgICAgSURCVHJhbnNhY3Rpb24sXG4gICAgICAgIF0pKTtcbn1cbi8vIFRoaXMgaXMgYSBmdW5jdGlvbiB0byBwcmV2ZW50IGl0IHRocm93aW5nIHVwIGluIG5vZGUgZW52aXJvbm1lbnRzLlxuZnVuY3Rpb24gZ2V0Q3Vyc29yQWR2YW5jZU1ldGhvZHMoKSB7XG4gICAgcmV0dXJuIChjdXJzb3JBZHZhbmNlTWV0aG9kcyB8fFxuICAgICAgICAoY3Vyc29yQWR2YW5jZU1ldGhvZHMgPSBbXG4gICAgICAgICAgICBJREJDdXJzb3IucHJvdG90eXBlLmFkdmFuY2UsXG4gICAgICAgICAgICBJREJDdXJzb3IucHJvdG90eXBlLmNvbnRpbnVlLFxuICAgICAgICAgICAgSURCQ3Vyc29yLnByb3RvdHlwZS5jb250aW51ZVByaW1hcnlLZXksXG4gICAgICAgIF0pKTtcbn1cbmNvbnN0IGN1cnNvclJlcXVlc3RNYXAgPSBuZXcgV2Vha01hcCgpO1xuY29uc3QgdHJhbnNhY3Rpb25Eb25lTWFwID0gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IHRyYW5zYWN0aW9uU3RvcmVOYW1lc01hcCA9IG5ldyBXZWFrTWFwKCk7XG5jb25zdCB0cmFuc2Zvcm1DYWNoZSA9IG5ldyBXZWFrTWFwKCk7XG5jb25zdCByZXZlcnNlVHJhbnNmb3JtQ2FjaGUgPSBuZXcgV2Vha01hcCgpO1xuZnVuY3Rpb24gcHJvbWlzaWZ5UmVxdWVzdChyZXF1ZXN0KSB7XG4gICAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY29uc3QgdW5saXN0ZW4gPSAoKSA9PiB7XG4gICAgICAgICAgICByZXF1ZXN0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3N1Y2Nlc3MnLCBzdWNjZXNzKTtcbiAgICAgICAgICAgIHJlcXVlc3QucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCBlcnJvcik7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHN1Y2Nlc3MgPSAoKSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlKHdyYXAocmVxdWVzdC5yZXN1bHQpKTtcbiAgICAgICAgICAgIHVubGlzdGVuKCk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgICAgICAgICAgcmVqZWN0KHJlcXVlc3QuZXJyb3IpO1xuICAgICAgICAgICAgdW5saXN0ZW4oKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdzdWNjZXNzJywgc3VjY2Vzcyk7XG4gICAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBlcnJvcik7XG4gICAgfSk7XG4gICAgcHJvbWlzZVxuICAgICAgICAudGhlbigodmFsdWUpID0+IHtcbiAgICAgICAgLy8gU2luY2UgY3Vyc29yaW5nIHJldXNlcyB0aGUgSURCUmVxdWVzdCAoKnNpZ2gqKSwgd2UgY2FjaGUgaXQgZm9yIGxhdGVyIHJldHJpZXZhbFxuICAgICAgICAvLyAoc2VlIHdyYXBGdW5jdGlvbikuXG4gICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIElEQkN1cnNvcikge1xuICAgICAgICAgICAgY3Vyc29yUmVxdWVzdE1hcC5zZXQodmFsdWUsIHJlcXVlc3QpO1xuICAgICAgICB9XG4gICAgICAgIC8vIENhdGNoaW5nIHRvIGF2b2lkIFwiVW5jYXVnaHQgUHJvbWlzZSBleGNlcHRpb25zXCJcbiAgICB9KVxuICAgICAgICAuY2F0Y2goKCkgPT4geyB9KTtcbiAgICAvLyBUaGlzIG1hcHBpbmcgZXhpc3RzIGluIHJldmVyc2VUcmFuc2Zvcm1DYWNoZSBidXQgZG9lc24ndCBkb2Vzbid0IGV4aXN0IGluIHRyYW5zZm9ybUNhY2hlLiBUaGlzXG4gICAgLy8gaXMgYmVjYXVzZSB3ZSBjcmVhdGUgbWFueSBwcm9taXNlcyBmcm9tIGEgc2luZ2xlIElEQlJlcXVlc3QuXG4gICAgcmV2ZXJzZVRyYW5zZm9ybUNhY2hlLnNldChwcm9taXNlLCByZXF1ZXN0KTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cbmZ1bmN0aW9uIGNhY2hlRG9uZVByb21pc2VGb3JUcmFuc2FjdGlvbih0eCkge1xuICAgIC8vIEVhcmx5IGJhaWwgaWYgd2UndmUgYWxyZWFkeSBjcmVhdGVkIGEgZG9uZSBwcm9taXNlIGZvciB0aGlzIHRyYW5zYWN0aW9uLlxuICAgIGlmICh0cmFuc2FjdGlvbkRvbmVNYXAuaGFzKHR4KSlcbiAgICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGRvbmUgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IHVubGlzdGVuID0gKCkgPT4ge1xuICAgICAgICAgICAgdHgucmVtb3ZlRXZlbnRMaXN0ZW5lcignY29tcGxldGUnLCBjb21wbGV0ZSk7XG4gICAgICAgICAgICB0eC5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIGVycm9yKTtcbiAgICAgICAgICAgIHR4LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgZXJyb3IpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBjb21wbGV0ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIHVubGlzdGVuKCk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgICAgICAgICAgcmVqZWN0KHR4LmVycm9yIHx8IG5ldyBET01FeGNlcHRpb24oJ0Fib3J0RXJyb3InLCAnQWJvcnRFcnJvcicpKTtcbiAgICAgICAgICAgIHVubGlzdGVuKCk7XG4gICAgICAgIH07XG4gICAgICAgIHR4LmFkZEV2ZW50TGlzdGVuZXIoJ2NvbXBsZXRlJywgY29tcGxldGUpO1xuICAgICAgICB0eC5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIGVycm9yKTtcbiAgICAgICAgdHguYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBlcnJvcik7XG4gICAgfSk7XG4gICAgLy8gQ2FjaGUgaXQgZm9yIGxhdGVyIHJldHJpZXZhbC5cbiAgICB0cmFuc2FjdGlvbkRvbmVNYXAuc2V0KHR4LCBkb25lKTtcbn1cbmxldCBpZGJQcm94eVRyYXBzID0ge1xuICAgIGdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKSB7XG4gICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBJREJUcmFuc2FjdGlvbikge1xuICAgICAgICAgICAgLy8gU3BlY2lhbCBoYW5kbGluZyBmb3IgdHJhbnNhY3Rpb24uZG9uZS5cbiAgICAgICAgICAgIGlmIChwcm9wID09PSAnZG9uZScpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRyYW5zYWN0aW9uRG9uZU1hcC5nZXQodGFyZ2V0KTtcbiAgICAgICAgICAgIC8vIFBvbHlmaWxsIGZvciBvYmplY3RTdG9yZU5hbWVzIGJlY2F1c2Ugb2YgRWRnZS5cbiAgICAgICAgICAgIGlmIChwcm9wID09PSAnb2JqZWN0U3RvcmVOYW1lcycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0Lm9iamVjdFN0b3JlTmFtZXMgfHwgdHJhbnNhY3Rpb25TdG9yZU5hbWVzTWFwLmdldCh0YXJnZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTWFrZSB0eC5zdG9yZSByZXR1cm4gdGhlIG9ubHkgc3RvcmUgaW4gdGhlIHRyYW5zYWN0aW9uLCBvciB1bmRlZmluZWQgaWYgdGhlcmUgYXJlIG1hbnkuXG4gICAgICAgICAgICBpZiAocHJvcCA9PT0gJ3N0b3JlJykge1xuICAgICAgICAgICAgICAgIHJldHVybiByZWNlaXZlci5vYmplY3RTdG9yZU5hbWVzWzFdXG4gICAgICAgICAgICAgICAgICAgID8gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgIDogcmVjZWl2ZXIub2JqZWN0U3RvcmUocmVjZWl2ZXIub2JqZWN0U3RvcmVOYW1lc1swXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gRWxzZSB0cmFuc2Zvcm0gd2hhdGV2ZXIgd2UgZ2V0IGJhY2suXG4gICAgICAgIHJldHVybiB3cmFwKHRhcmdldFtwcm9wXSk7XG4gICAgfSxcbiAgICBzZXQodGFyZ2V0LCBwcm9wLCB2YWx1ZSkge1xuICAgICAgICB0YXJnZXRbcHJvcF0gPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcbiAgICBoYXModGFyZ2V0LCBwcm9wKSB7XG4gICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBJREJUcmFuc2FjdGlvbiAmJlxuICAgICAgICAgICAgKHByb3AgPT09ICdkb25lJyB8fCBwcm9wID09PSAnc3RvcmUnKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb3AgaW4gdGFyZ2V0O1xuICAgIH0sXG59O1xuZnVuY3Rpb24gcmVwbGFjZVRyYXBzKGNhbGxiYWNrKSB7XG4gICAgaWRiUHJveHlUcmFwcyA9IGNhbGxiYWNrKGlkYlByb3h5VHJhcHMpO1xufVxuZnVuY3Rpb24gd3JhcEZ1bmN0aW9uKGZ1bmMpIHtcbiAgICAvLyBEdWUgdG8gZXhwZWN0ZWQgb2JqZWN0IGVxdWFsaXR5ICh3aGljaCBpcyBlbmZvcmNlZCBieSB0aGUgY2FjaGluZyBpbiBgd3JhcGApLCB3ZVxuICAgIC8vIG9ubHkgY3JlYXRlIG9uZSBuZXcgZnVuYyBwZXIgZnVuYy5cbiAgICAvLyBFZGdlIGRvZXNuJ3Qgc3VwcG9ydCBvYmplY3RTdG9yZU5hbWVzIChib29vKSwgc28gd2UgcG9seWZpbGwgaXQgaGVyZS5cbiAgICBpZiAoZnVuYyA9PT0gSURCRGF0YWJhc2UucHJvdG90eXBlLnRyYW5zYWN0aW9uICYmXG4gICAgICAgICEoJ29iamVjdFN0b3JlTmFtZXMnIGluIElEQlRyYW5zYWN0aW9uLnByb3RvdHlwZSkpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzdG9yZU5hbWVzLCAuLi5hcmdzKSB7XG4gICAgICAgICAgICBjb25zdCB0eCA9IGZ1bmMuY2FsbCh1bndyYXAodGhpcyksIHN0b3JlTmFtZXMsIC4uLmFyZ3MpO1xuICAgICAgICAgICAgdHJhbnNhY3Rpb25TdG9yZU5hbWVzTWFwLnNldCh0eCwgc3RvcmVOYW1lcy5zb3J0ID8gc3RvcmVOYW1lcy5zb3J0KCkgOiBbc3RvcmVOYW1lc10pO1xuICAgICAgICAgICAgcmV0dXJuIHdyYXAodHgpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICAvLyBDdXJzb3IgbWV0aG9kcyBhcmUgc3BlY2lhbCwgYXMgdGhlIGJlaGF2aW91ciBpcyBhIGxpdHRsZSBtb3JlIGRpZmZlcmVudCB0byBzdGFuZGFyZCBJREIuIEluXG4gICAgLy8gSURCLCB5b3UgYWR2YW5jZSB0aGUgY3Vyc29yIGFuZCB3YWl0IGZvciBhIG5ldyAnc3VjY2Vzcycgb24gdGhlIElEQlJlcXVlc3QgdGhhdCBnYXZlIHlvdSB0aGVcbiAgICAvLyBjdXJzb3IuIEl0J3Mga2luZGEgbGlrZSBhIHByb21pc2UgdGhhdCBjYW4gcmVzb2x2ZSB3aXRoIG1hbnkgdmFsdWVzLiBUaGF0IGRvZXNuJ3QgbWFrZSBzZW5zZVxuICAgIC8vIHdpdGggcmVhbCBwcm9taXNlcywgc28gZWFjaCBhZHZhbmNlIG1ldGhvZHMgcmV0dXJucyBhIG5ldyBwcm9taXNlIGZvciB0aGUgY3Vyc29yIG9iamVjdCwgb3JcbiAgICAvLyB1bmRlZmluZWQgaWYgdGhlIGVuZCBvZiB0aGUgY3Vyc29yIGhhcyBiZWVuIHJlYWNoZWQuXG4gICAgaWYgKGdldEN1cnNvckFkdmFuY2VNZXRob2RzKCkuaW5jbHVkZXMoZnVuYykpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgICAgICAvLyBDYWxsaW5nIHRoZSBvcmlnaW5hbCBmdW5jdGlvbiB3aXRoIHRoZSBwcm94eSBhcyAndGhpcycgY2F1c2VzIElMTEVHQUwgSU5WT0NBVElPTiwgc28gd2UgdXNlXG4gICAgICAgICAgICAvLyB0aGUgb3JpZ2luYWwgb2JqZWN0LlxuICAgICAgICAgICAgZnVuYy5hcHBseSh1bndyYXAodGhpcyksIGFyZ3MpO1xuICAgICAgICAgICAgcmV0dXJuIHdyYXAoY3Vyc29yUmVxdWVzdE1hcC5nZXQodGhpcykpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgLy8gQ2FsbGluZyB0aGUgb3JpZ2luYWwgZnVuY3Rpb24gd2l0aCB0aGUgcHJveHkgYXMgJ3RoaXMnIGNhdXNlcyBJTExFR0FMIElOVk9DQVRJT04sIHNvIHdlIHVzZVxuICAgICAgICAvLyB0aGUgb3JpZ2luYWwgb2JqZWN0LlxuICAgICAgICByZXR1cm4gd3JhcChmdW5jLmFwcGx5KHVud3JhcCh0aGlzKSwgYXJncykpO1xuICAgIH07XG59XG5mdW5jdGlvbiB0cmFuc2Zvcm1DYWNoYWJsZVZhbHVlKHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgcmV0dXJuIHdyYXBGdW5jdGlvbih2YWx1ZSk7XG4gICAgLy8gVGhpcyBkb2Vzbid0IHJldHVybiwgaXQganVzdCBjcmVhdGVzIGEgJ2RvbmUnIHByb21pc2UgZm9yIHRoZSB0cmFuc2FjdGlvbixcbiAgICAvLyB3aGljaCBpcyBsYXRlciByZXR1cm5lZCBmb3IgdHJhbnNhY3Rpb24uZG9uZSAoc2VlIGlkYk9iamVjdEhhbmRsZXIpLlxuICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIElEQlRyYW5zYWN0aW9uKVxuICAgICAgICBjYWNoZURvbmVQcm9taXNlRm9yVHJhbnNhY3Rpb24odmFsdWUpO1xuICAgIGlmIChpbnN0YW5jZU9mQW55KHZhbHVlLCBnZXRJZGJQcm94eWFibGVUeXBlcygpKSlcbiAgICAgICAgcmV0dXJuIG5ldyBQcm94eSh2YWx1ZSwgaWRiUHJveHlUcmFwcyk7XG4gICAgLy8gUmV0dXJuIHRoZSBzYW1lIHZhbHVlIGJhY2sgaWYgd2UncmUgbm90IGdvaW5nIHRvIHRyYW5zZm9ybSBpdC5cbiAgICByZXR1cm4gdmFsdWU7XG59XG5mdW5jdGlvbiB3cmFwKHZhbHVlKSB7XG4gICAgLy8gV2Ugc29tZXRpbWVzIGdlbmVyYXRlIG11bHRpcGxlIHByb21pc2VzIGZyb20gYSBzaW5nbGUgSURCUmVxdWVzdCAoZWcgd2hlbiBjdXJzb3JpbmcpLCBiZWNhdXNlXG4gICAgLy8gSURCIGlzIHdlaXJkIGFuZCBhIHNpbmdsZSBJREJSZXF1ZXN0IGNhbiB5aWVsZCBtYW55IHJlc3BvbnNlcywgc28gdGhlc2UgY2FuJ3QgYmUgY2FjaGVkLlxuICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIElEQlJlcXVlc3QpXG4gICAgICAgIHJldHVybiBwcm9taXNpZnlSZXF1ZXN0KHZhbHVlKTtcbiAgICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IHRyYW5zZm9ybWVkIHRoaXMgdmFsdWUgYmVmb3JlLCByZXVzZSB0aGUgdHJhbnNmb3JtZWQgdmFsdWUuXG4gICAgLy8gVGhpcyBpcyBmYXN0ZXIsIGJ1dCBpdCBhbHNvIHByb3ZpZGVzIG9iamVjdCBlcXVhbGl0eS5cbiAgICBpZiAodHJhbnNmb3JtQ2FjaGUuaGFzKHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIHRyYW5zZm9ybUNhY2hlLmdldCh2YWx1ZSk7XG4gICAgY29uc3QgbmV3VmFsdWUgPSB0cmFuc2Zvcm1DYWNoYWJsZVZhbHVlKHZhbHVlKTtcbiAgICAvLyBOb3QgYWxsIHR5cGVzIGFyZSB0cmFuc2Zvcm1lZC5cbiAgICAvLyBUaGVzZSBtYXkgYmUgcHJpbWl0aXZlIHR5cGVzLCBzbyB0aGV5IGNhbid0IGJlIFdlYWtNYXAga2V5cy5cbiAgICBpZiAobmV3VmFsdWUgIT09IHZhbHVlKSB7XG4gICAgICAgIHRyYW5zZm9ybUNhY2hlLnNldCh2YWx1ZSwgbmV3VmFsdWUpO1xuICAgICAgICByZXZlcnNlVHJhbnNmb3JtQ2FjaGUuc2V0KG5ld1ZhbHVlLCB2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiBuZXdWYWx1ZTtcbn1cbmNvbnN0IHVud3JhcCA9ICh2YWx1ZSkgPT4gcmV2ZXJzZVRyYW5zZm9ybUNhY2hlLmdldCh2YWx1ZSk7XG5cbmV4cG9ydCB7IHJldmVyc2VUcmFuc2Zvcm1DYWNoZSBhcyBhLCBpbnN0YW5jZU9mQW55IGFzIGksIHJlcGxhY2VUcmFwcyBhcyByLCB1bndyYXAgYXMgdSwgd3JhcCBhcyB3IH07XG4iLCIvKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogQSBjb250YWluZXIgZm9yIGFsbCBvZiB0aGUgTG9nZ2VyIGluc3RhbmNlc1xyXG4gKi9cclxuY29uc3QgaW5zdGFuY2VzID0gW107XHJcbi8qKlxyXG4gKiBUaGUgSlMgU0RLIHN1cHBvcnRzIDUgbG9nIGxldmVscyBhbmQgYWxzbyBhbGxvd3MgYSB1c2VyIHRoZSBhYmlsaXR5IHRvXHJcbiAqIHNpbGVuY2UgdGhlIGxvZ3MgYWx0b2dldGhlci5cclxuICpcclxuICogVGhlIG9yZGVyIGlzIGEgZm9sbG93czpcclxuICogREVCVUcgPCBWRVJCT1NFIDwgSU5GTyA8IFdBUk4gPCBFUlJPUlxyXG4gKlxyXG4gKiBBbGwgb2YgdGhlIGxvZyB0eXBlcyBhYm92ZSB0aGUgY3VycmVudCBsb2cgbGV2ZWwgd2lsbCBiZSBjYXB0dXJlZCAoaS5lLiBpZlxyXG4gKiB5b3Ugc2V0IHRoZSBsb2cgbGV2ZWwgdG8gYElORk9gLCBlcnJvcnMgd2lsbCBzdGlsbCBiZSBsb2dnZWQsIGJ1dCBgREVCVUdgIGFuZFxyXG4gKiBgVkVSQk9TRWAgbG9ncyB3aWxsIG5vdClcclxuICovXHJcbnZhciBMb2dMZXZlbDtcclxuKGZ1bmN0aW9uIChMb2dMZXZlbCkge1xyXG4gICAgTG9nTGV2ZWxbTG9nTGV2ZWxbXCJERUJVR1wiXSA9IDBdID0gXCJERUJVR1wiO1xyXG4gICAgTG9nTGV2ZWxbTG9nTGV2ZWxbXCJWRVJCT1NFXCJdID0gMV0gPSBcIlZFUkJPU0VcIjtcclxuICAgIExvZ0xldmVsW0xvZ0xldmVsW1wiSU5GT1wiXSA9IDJdID0gXCJJTkZPXCI7XHJcbiAgICBMb2dMZXZlbFtMb2dMZXZlbFtcIldBUk5cIl0gPSAzXSA9IFwiV0FSTlwiO1xyXG4gICAgTG9nTGV2ZWxbTG9nTGV2ZWxbXCJFUlJPUlwiXSA9IDRdID0gXCJFUlJPUlwiO1xyXG4gICAgTG9nTGV2ZWxbTG9nTGV2ZWxbXCJTSUxFTlRcIl0gPSA1XSA9IFwiU0lMRU5UXCI7XHJcbn0pKExvZ0xldmVsIHx8IChMb2dMZXZlbCA9IHt9KSk7XHJcbmNvbnN0IGxldmVsU3RyaW5nVG9FbnVtID0ge1xyXG4gICAgJ2RlYnVnJzogTG9nTGV2ZWwuREVCVUcsXHJcbiAgICAndmVyYm9zZSc6IExvZ0xldmVsLlZFUkJPU0UsXHJcbiAgICAnaW5mbyc6IExvZ0xldmVsLklORk8sXHJcbiAgICAnd2Fybic6IExvZ0xldmVsLldBUk4sXHJcbiAgICAnZXJyb3InOiBMb2dMZXZlbC5FUlJPUixcclxuICAgICdzaWxlbnQnOiBMb2dMZXZlbC5TSUxFTlRcclxufTtcclxuLyoqXHJcbiAqIFRoZSBkZWZhdWx0IGxvZyBsZXZlbFxyXG4gKi9cclxuY29uc3QgZGVmYXVsdExvZ0xldmVsID0gTG9nTGV2ZWwuSU5GTztcclxuLyoqXHJcbiAqIEJ5IGRlZmF1bHQsIGBjb25zb2xlLmRlYnVnYCBpcyBub3QgZGlzcGxheWVkIGluIHRoZSBkZXZlbG9wZXIgY29uc29sZSAoaW5cclxuICogY2hyb21lKS4gVG8gYXZvaWQgZm9yY2luZyB1c2VycyB0byBoYXZlIHRvIG9wdC1pbiB0byB0aGVzZSBsb2dzIHR3aWNlXHJcbiAqIChpLmUuIG9uY2UgZm9yIGZpcmViYXNlLCBhbmQgb25jZSBpbiB0aGUgY29uc29sZSksIHdlIGFyZSBzZW5kaW5nIGBERUJVR2BcclxuICogbG9ncyB0byB0aGUgYGNvbnNvbGUubG9nYCBmdW5jdGlvbi5cclxuICovXHJcbmNvbnN0IENvbnNvbGVNZXRob2QgPSB7XHJcbiAgICBbTG9nTGV2ZWwuREVCVUddOiAnbG9nJyxcclxuICAgIFtMb2dMZXZlbC5WRVJCT1NFXTogJ2xvZycsXHJcbiAgICBbTG9nTGV2ZWwuSU5GT106ICdpbmZvJyxcclxuICAgIFtMb2dMZXZlbC5XQVJOXTogJ3dhcm4nLFxyXG4gICAgW0xvZ0xldmVsLkVSUk9SXTogJ2Vycm9yJ1xyXG59O1xyXG4vKipcclxuICogVGhlIGRlZmF1bHQgbG9nIGhhbmRsZXIgd2lsbCBmb3J3YXJkIERFQlVHLCBWRVJCT1NFLCBJTkZPLCBXQVJOLCBhbmQgRVJST1JcclxuICogbWVzc2FnZXMgb24gdG8gdGhlaXIgY29ycmVzcG9uZGluZyBjb25zb2xlIGNvdW50ZXJwYXJ0cyAoaWYgdGhlIGxvZyBtZXRob2RcclxuICogaXMgc3VwcG9ydGVkIGJ5IHRoZSBjdXJyZW50IGxvZyBsZXZlbClcclxuICovXHJcbmNvbnN0IGRlZmF1bHRMb2dIYW5kbGVyID0gKGluc3RhbmNlLCBsb2dUeXBlLCAuLi5hcmdzKSA9PiB7XHJcbiAgICBpZiAobG9nVHlwZSA8IGluc3RhbmNlLmxvZ0xldmVsKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xyXG4gICAgY29uc3QgbWV0aG9kID0gQ29uc29sZU1ldGhvZFtsb2dUeXBlXTtcclxuICAgIGlmIChtZXRob2QpIHtcclxuICAgICAgICBjb25zb2xlW21ldGhvZF0oYFske25vd31dICAke2luc3RhbmNlLm5hbWV9OmAsIC4uLmFyZ3MpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBdHRlbXB0ZWQgdG8gbG9nIGEgbWVzc2FnZSB3aXRoIGFuIGludmFsaWQgbG9nVHlwZSAodmFsdWU6ICR7bG9nVHlwZX0pYCk7XHJcbiAgICB9XHJcbn07XHJcbmNsYXNzIExvZ2dlciB7XHJcbiAgICAvKipcclxuICAgICAqIEdpdmVzIHlvdSBhbiBpbnN0YW5jZSBvZiBhIExvZ2dlciB0byBjYXB0dXJlIG1lc3NhZ2VzIGFjY29yZGluZyB0b1xyXG4gICAgICogRmlyZWJhc2UncyBsb2dnaW5nIHNjaGVtZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gbmFtZSBUaGUgbmFtZSB0aGF0IHRoZSBsb2dzIHdpbGwgYmUgYXNzb2NpYXRlZCB3aXRoXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKG5hbWUpIHtcclxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRoZSBsb2cgbGV2ZWwgb2YgdGhlIGdpdmVuIExvZ2dlciBpbnN0YW5jZS5cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9sb2dMZXZlbCA9IGRlZmF1bHRMb2dMZXZlbDtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUaGUgbWFpbiAoaW50ZXJuYWwpIGxvZyBoYW5kbGVyIGZvciB0aGUgTG9nZ2VyIGluc3RhbmNlLlxyXG4gICAgICAgICAqIENhbiBiZSBzZXQgdG8gYSBuZXcgZnVuY3Rpb24gaW4gaW50ZXJuYWwgcGFja2FnZSBjb2RlIGJ1dCBub3QgYnkgdXNlci5cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9sb2dIYW5kbGVyID0gZGVmYXVsdExvZ0hhbmRsZXI7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVGhlIG9wdGlvbmFsLCBhZGRpdGlvbmFsLCB1c2VyLWRlZmluZWQgbG9nIGhhbmRsZXIgZm9yIHRoZSBMb2dnZXIgaW5zdGFuY2UuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fdXNlckxvZ0hhbmRsZXIgPSBudWxsO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIENhcHR1cmUgdGhlIGN1cnJlbnQgaW5zdGFuY2UgZm9yIGxhdGVyIHVzZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGluc3RhbmNlcy5wdXNoKHRoaXMpO1xyXG4gICAgfVxyXG4gICAgZ2V0IGxvZ0xldmVsKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9sb2dMZXZlbDtcclxuICAgIH1cclxuICAgIHNldCBsb2dMZXZlbCh2YWwpIHtcclxuICAgICAgICBpZiAoISh2YWwgaW4gTG9nTGV2ZWwpKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYEludmFsaWQgdmFsdWUgXCIke3ZhbH1cIiBhc3NpZ25lZCB0byBcXGBsb2dMZXZlbFxcYGApO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9sb2dMZXZlbCA9IHZhbDtcclxuICAgIH1cclxuICAgIC8vIFdvcmthcm91bmQgZm9yIHNldHRlci9nZXR0ZXIgaGF2aW5nIHRvIGJlIHRoZSBzYW1lIHR5cGUuXHJcbiAgICBzZXRMb2dMZXZlbCh2YWwpIHtcclxuICAgICAgICB0aGlzLl9sb2dMZXZlbCA9IHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnID8gbGV2ZWxTdHJpbmdUb0VudW1bdmFsXSA6IHZhbDtcclxuICAgIH1cclxuICAgIGdldCBsb2dIYW5kbGVyKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9sb2dIYW5kbGVyO1xyXG4gICAgfVxyXG4gICAgc2V0IGxvZ0hhbmRsZXIodmFsKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB2YWwgIT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVmFsdWUgYXNzaWduZWQgdG8gYGxvZ0hhbmRsZXJgIG11c3QgYmUgYSBmdW5jdGlvbicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9sb2dIYW5kbGVyID0gdmFsO1xyXG4gICAgfVxyXG4gICAgZ2V0IHVzZXJMb2dIYW5kbGVyKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl91c2VyTG9nSGFuZGxlcjtcclxuICAgIH1cclxuICAgIHNldCB1c2VyTG9nSGFuZGxlcih2YWwpIHtcclxuICAgICAgICB0aGlzLl91c2VyTG9nSGFuZGxlciA9IHZhbDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVGhlIGZ1bmN0aW9ucyBiZWxvdyBhcmUgYWxsIGJhc2VkIG9uIHRoZSBgY29uc29sZWAgaW50ZXJmYWNlXHJcbiAgICAgKi9cclxuICAgIGRlYnVnKC4uLmFyZ3MpIHtcclxuICAgICAgICB0aGlzLl91c2VyTG9nSGFuZGxlciAmJiB0aGlzLl91c2VyTG9nSGFuZGxlcih0aGlzLCBMb2dMZXZlbC5ERUJVRywgLi4uYXJncyk7XHJcbiAgICAgICAgdGhpcy5fbG9nSGFuZGxlcih0aGlzLCBMb2dMZXZlbC5ERUJVRywgLi4uYXJncyk7XHJcbiAgICB9XHJcbiAgICBsb2coLi4uYXJncykge1xyXG4gICAgICAgIHRoaXMuX3VzZXJMb2dIYW5kbGVyICYmXHJcbiAgICAgICAgICAgIHRoaXMuX3VzZXJMb2dIYW5kbGVyKHRoaXMsIExvZ0xldmVsLlZFUkJPU0UsIC4uLmFyZ3MpO1xyXG4gICAgICAgIHRoaXMuX2xvZ0hhbmRsZXIodGhpcywgTG9nTGV2ZWwuVkVSQk9TRSwgLi4uYXJncyk7XHJcbiAgICB9XHJcbiAgICBpbmZvKC4uLmFyZ3MpIHtcclxuICAgICAgICB0aGlzLl91c2VyTG9nSGFuZGxlciAmJiB0aGlzLl91c2VyTG9nSGFuZGxlcih0aGlzLCBMb2dMZXZlbC5JTkZPLCAuLi5hcmdzKTtcclxuICAgICAgICB0aGlzLl9sb2dIYW5kbGVyKHRoaXMsIExvZ0xldmVsLklORk8sIC4uLmFyZ3MpO1xyXG4gICAgfVxyXG4gICAgd2FybiguLi5hcmdzKSB7XHJcbiAgICAgICAgdGhpcy5fdXNlckxvZ0hhbmRsZXIgJiYgdGhpcy5fdXNlckxvZ0hhbmRsZXIodGhpcywgTG9nTGV2ZWwuV0FSTiwgLi4uYXJncyk7XHJcbiAgICAgICAgdGhpcy5fbG9nSGFuZGxlcih0aGlzLCBMb2dMZXZlbC5XQVJOLCAuLi5hcmdzKTtcclxuICAgIH1cclxuICAgIGVycm9yKC4uLmFyZ3MpIHtcclxuICAgICAgICB0aGlzLl91c2VyTG9nSGFuZGxlciAmJiB0aGlzLl91c2VyTG9nSGFuZGxlcih0aGlzLCBMb2dMZXZlbC5FUlJPUiwgLi4uYXJncyk7XHJcbiAgICAgICAgdGhpcy5fbG9nSGFuZGxlcih0aGlzLCBMb2dMZXZlbC5FUlJPUiwgLi4uYXJncyk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gc2V0TG9nTGV2ZWwobGV2ZWwpIHtcclxuICAgIGluc3RhbmNlcy5mb3JFYWNoKGluc3QgPT4ge1xyXG4gICAgICAgIGluc3Quc2V0TG9nTGV2ZWwobGV2ZWwpO1xyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gc2V0VXNlckxvZ0hhbmRsZXIobG9nQ2FsbGJhY2ssIG9wdGlvbnMpIHtcclxuICAgIGZvciAoY29uc3QgaW5zdGFuY2Ugb2YgaW5zdGFuY2VzKSB7XHJcbiAgICAgICAgbGV0IGN1c3RvbUxvZ0xldmVsID0gbnVsbDtcclxuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmxldmVsKSB7XHJcbiAgICAgICAgICAgIGN1c3RvbUxvZ0xldmVsID0gbGV2ZWxTdHJpbmdUb0VudW1bb3B0aW9ucy5sZXZlbF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChsb2dDYWxsYmFjayA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICBpbnN0YW5jZS51c2VyTG9nSGFuZGxlciA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpbnN0YW5jZS51c2VyTG9nSGFuZGxlciA9IChpbnN0YW5jZSwgbGV2ZWwsIC4uLmFyZ3MpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBhcmdzXHJcbiAgICAgICAgICAgICAgICAgICAgLm1hcChhcmcgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhcmcgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGFyZyA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFyZztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGFyZyA9PT0gJ251bWJlcicgfHwgdHlwZW9mIGFyZyA9PT0gJ2Jvb2xlYW4nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhcmcudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoYXJnIGluc3RhbmNlb2YgRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFyZy5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShhcmcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChpZ25vcmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihhcmcgPT4gYXJnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5qb2luKCcgJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAobGV2ZWwgPj0gKGN1c3RvbUxvZ0xldmVsICE9PSBudWxsICYmIGN1c3RvbUxvZ0xldmVsICE9PSB2b2lkIDAgPyBjdXN0b21Mb2dMZXZlbCA6IGluc3RhbmNlLmxvZ0xldmVsKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxvZ0NhbGxiYWNrKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV2ZWw6IExvZ0xldmVsW2xldmVsXS50b0xvd2VyQ2FzZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBpbnN0YW5jZS5uYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XG5cbmV4cG9ydCB7IExvZ0xldmVsLCBMb2dnZXIsIHNldExvZ0xldmVsLCBzZXRVc2VyTG9nSGFuZGxlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguZXNtMjAxNy5qcy5tYXBcbiIsImltcG9ydCB7IHJlZ2lzdGVyVmVyc2lvbiB9IGZyb20gJ0BmaXJlYmFzZS9hcHAnO1xuZXhwb3J0ICogZnJvbSAnQGZpcmViYXNlL2FwcCc7XG5cbnZhciBuYW1lID0gXCJmaXJlYmFzZVwiO1xudmFyIHZlcnNpb24gPSBcIjEwLjEuMFwiO1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5yZWdpc3RlclZlcnNpb24obmFtZSwgdmVyc2lvbiwgJ2FwcCcpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguZXNtLmpzLm1hcFxuIiwiaW1wb3J0IHsgdyBhcyB3cmFwLCByIGFzIHJlcGxhY2VUcmFwcyB9IGZyb20gJy4vd3JhcC1pZGItdmFsdWUuanMnO1xuZXhwb3J0IHsgdSBhcyB1bndyYXAsIHcgYXMgd3JhcCB9IGZyb20gJy4vd3JhcC1pZGItdmFsdWUuanMnO1xuXG4vKipcbiAqIE9wZW4gYSBkYXRhYmFzZS5cbiAqXG4gKiBAcGFyYW0gbmFtZSBOYW1lIG9mIHRoZSBkYXRhYmFzZS5cbiAqIEBwYXJhbSB2ZXJzaW9uIFNjaGVtYSB2ZXJzaW9uLlxuICogQHBhcmFtIGNhbGxiYWNrcyBBZGRpdGlvbmFsIGNhbGxiYWNrcy5cbiAqL1xuZnVuY3Rpb24gb3BlbkRCKG5hbWUsIHZlcnNpb24sIHsgYmxvY2tlZCwgdXBncmFkZSwgYmxvY2tpbmcsIHRlcm1pbmF0ZWQgfSA9IHt9KSB7XG4gICAgY29uc3QgcmVxdWVzdCA9IGluZGV4ZWREQi5vcGVuKG5hbWUsIHZlcnNpb24pO1xuICAgIGNvbnN0IG9wZW5Qcm9taXNlID0gd3JhcChyZXF1ZXN0KTtcbiAgICBpZiAodXBncmFkZSkge1xuICAgICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ3VwZ3JhZGVuZWVkZWQnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHVwZ3JhZGUod3JhcChyZXF1ZXN0LnJlc3VsdCksIGV2ZW50Lm9sZFZlcnNpb24sIGV2ZW50Lm5ld1ZlcnNpb24sIHdyYXAocmVxdWVzdC50cmFuc2FjdGlvbiksIGV2ZW50KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChibG9ja2VkKSB7XG4gICAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcignYmxvY2tlZCcsIChldmVudCkgPT4gYmxvY2tlZChcbiAgICAgICAgLy8gQ2FzdGluZyBkdWUgdG8gaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0LURPTS1saWItZ2VuZXJhdG9yL3B1bGwvMTQwNVxuICAgICAgICBldmVudC5vbGRWZXJzaW9uLCBldmVudC5uZXdWZXJzaW9uLCBldmVudCkpO1xuICAgIH1cbiAgICBvcGVuUHJvbWlzZVxuICAgICAgICAudGhlbigoZGIpID0+IHtcbiAgICAgICAgaWYgKHRlcm1pbmF0ZWQpXG4gICAgICAgICAgICBkYi5hZGRFdmVudExpc3RlbmVyKCdjbG9zZScsICgpID0+IHRlcm1pbmF0ZWQoKSk7XG4gICAgICAgIGlmIChibG9ja2luZykge1xuICAgICAgICAgICAgZGIuYWRkRXZlbnRMaXN0ZW5lcigndmVyc2lvbmNoYW5nZScsIChldmVudCkgPT4gYmxvY2tpbmcoZXZlbnQub2xkVmVyc2lvbiwgZXZlbnQubmV3VmVyc2lvbiwgZXZlbnQpKTtcbiAgICAgICAgfVxuICAgIH0pXG4gICAgICAgIC5jYXRjaCgoKSA9PiB7IH0pO1xuICAgIHJldHVybiBvcGVuUHJvbWlzZTtcbn1cbi8qKlxuICogRGVsZXRlIGEgZGF0YWJhc2UuXG4gKlxuICogQHBhcmFtIG5hbWUgTmFtZSBvZiB0aGUgZGF0YWJhc2UuXG4gKi9cbmZ1bmN0aW9uIGRlbGV0ZURCKG5hbWUsIHsgYmxvY2tlZCB9ID0ge30pIHtcbiAgICBjb25zdCByZXF1ZXN0ID0gaW5kZXhlZERCLmRlbGV0ZURhdGFiYXNlKG5hbWUpO1xuICAgIGlmIChibG9ja2VkKSB7XG4gICAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcignYmxvY2tlZCcsIChldmVudCkgPT4gYmxvY2tlZChcbiAgICAgICAgLy8gQ2FzdGluZyBkdWUgdG8gaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0LURPTS1saWItZ2VuZXJhdG9yL3B1bGwvMTQwNVxuICAgICAgICBldmVudC5vbGRWZXJzaW9uLCBldmVudCkpO1xuICAgIH1cbiAgICByZXR1cm4gd3JhcChyZXF1ZXN0KS50aGVuKCgpID0+IHVuZGVmaW5lZCk7XG59XG5cbmNvbnN0IHJlYWRNZXRob2RzID0gWydnZXQnLCAnZ2V0S2V5JywgJ2dldEFsbCcsICdnZXRBbGxLZXlzJywgJ2NvdW50J107XG5jb25zdCB3cml0ZU1ldGhvZHMgPSBbJ3B1dCcsICdhZGQnLCAnZGVsZXRlJywgJ2NsZWFyJ107XG5jb25zdCBjYWNoZWRNZXRob2RzID0gbmV3IE1hcCgpO1xuZnVuY3Rpb24gZ2V0TWV0aG9kKHRhcmdldCwgcHJvcCkge1xuICAgIGlmICghKHRhcmdldCBpbnN0YW5jZW9mIElEQkRhdGFiYXNlICYmXG4gICAgICAgICEocHJvcCBpbiB0YXJnZXQpICYmXG4gICAgICAgIHR5cGVvZiBwcm9wID09PSAnc3RyaW5nJykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoY2FjaGVkTWV0aG9kcy5nZXQocHJvcCkpXG4gICAgICAgIHJldHVybiBjYWNoZWRNZXRob2RzLmdldChwcm9wKTtcbiAgICBjb25zdCB0YXJnZXRGdW5jTmFtZSA9IHByb3AucmVwbGFjZSgvRnJvbUluZGV4JC8sICcnKTtcbiAgICBjb25zdCB1c2VJbmRleCA9IHByb3AgIT09IHRhcmdldEZ1bmNOYW1lO1xuICAgIGNvbnN0IGlzV3JpdGUgPSB3cml0ZU1ldGhvZHMuaW5jbHVkZXModGFyZ2V0RnVuY05hbWUpO1xuICAgIGlmIChcbiAgICAvLyBCYWlsIGlmIHRoZSB0YXJnZXQgZG9lc24ndCBleGlzdCBvbiB0aGUgdGFyZ2V0LiBFZywgZ2V0QWxsIGlzbid0IGluIEVkZ2UuXG4gICAgISh0YXJnZXRGdW5jTmFtZSBpbiAodXNlSW5kZXggPyBJREJJbmRleCA6IElEQk9iamVjdFN0b3JlKS5wcm90b3R5cGUpIHx8XG4gICAgICAgICEoaXNXcml0ZSB8fCByZWFkTWV0aG9kcy5pbmNsdWRlcyh0YXJnZXRGdW5jTmFtZSkpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbWV0aG9kID0gYXN5bmMgZnVuY3Rpb24gKHN0b3JlTmFtZSwgLi4uYXJncykge1xuICAgICAgICAvLyBpc1dyaXRlID8gJ3JlYWR3cml0ZScgOiB1bmRlZmluZWQgZ3ppcHBzIGJldHRlciwgYnV0IGZhaWxzIGluIEVkZ2UgOihcbiAgICAgICAgY29uc3QgdHggPSB0aGlzLnRyYW5zYWN0aW9uKHN0b3JlTmFtZSwgaXNXcml0ZSA/ICdyZWFkd3JpdGUnIDogJ3JlYWRvbmx5Jyk7XG4gICAgICAgIGxldCB0YXJnZXQgPSB0eC5zdG9yZTtcbiAgICAgICAgaWYgKHVzZUluZGV4KVxuICAgICAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0LmluZGV4KGFyZ3Muc2hpZnQoKSk7XG4gICAgICAgIC8vIE11c3QgcmVqZWN0IGlmIG9wIHJlamVjdHMuXG4gICAgICAgIC8vIElmIGl0J3MgYSB3cml0ZSBvcGVyYXRpb24sIG11c3QgcmVqZWN0IGlmIHR4LmRvbmUgcmVqZWN0cy5cbiAgICAgICAgLy8gTXVzdCByZWplY3Qgd2l0aCBvcCByZWplY3Rpb24gZmlyc3QuXG4gICAgICAgIC8vIE11c3QgcmVzb2x2ZSB3aXRoIG9wIHZhbHVlLlxuICAgICAgICAvLyBNdXN0IGhhbmRsZSBib3RoIHByb21pc2VzIChubyB1bmhhbmRsZWQgcmVqZWN0aW9ucylcbiAgICAgICAgcmV0dXJuIChhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICB0YXJnZXRbdGFyZ2V0RnVuY05hbWVdKC4uLmFyZ3MpLFxuICAgICAgICAgICAgaXNXcml0ZSAmJiB0eC5kb25lLFxuICAgICAgICBdKSlbMF07XG4gICAgfTtcbiAgICBjYWNoZWRNZXRob2RzLnNldChwcm9wLCBtZXRob2QpO1xuICAgIHJldHVybiBtZXRob2Q7XG59XG5yZXBsYWNlVHJhcHMoKG9sZFRyYXBzKSA9PiAoe1xuICAgIC4uLm9sZFRyYXBzLFxuICAgIGdldDogKHRhcmdldCwgcHJvcCwgcmVjZWl2ZXIpID0+IGdldE1ldGhvZCh0YXJnZXQsIHByb3ApIHx8IG9sZFRyYXBzLmdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKSxcbiAgICBoYXM6ICh0YXJnZXQsIHByb3ApID0+ICEhZ2V0TWV0aG9kKHRhcmdldCwgcHJvcCkgfHwgb2xkVHJhcHMuaGFzKHRhcmdldCwgcHJvcCksXG59KSk7XG5cbmV4cG9ydCB7IGRlbGV0ZURCLCBvcGVuREIgfTtcbiIsImNvbnN0IGluc3RhbmNlT2ZBbnkgPSAob2JqZWN0LCBjb25zdHJ1Y3RvcnMpID0+IGNvbnN0cnVjdG9ycy5zb21lKChjKSA9PiBvYmplY3QgaW5zdGFuY2VvZiBjKTtcblxubGV0IGlkYlByb3h5YWJsZVR5cGVzO1xubGV0IGN1cnNvckFkdmFuY2VNZXRob2RzO1xuLy8gVGhpcyBpcyBhIGZ1bmN0aW9uIHRvIHByZXZlbnQgaXQgdGhyb3dpbmcgdXAgaW4gbm9kZSBlbnZpcm9ubWVudHMuXG5mdW5jdGlvbiBnZXRJZGJQcm94eWFibGVUeXBlcygpIHtcbiAgICByZXR1cm4gKGlkYlByb3h5YWJsZVR5cGVzIHx8XG4gICAgICAgIChpZGJQcm94eWFibGVUeXBlcyA9IFtcbiAgICAgICAgICAgIElEQkRhdGFiYXNlLFxuICAgICAgICAgICAgSURCT2JqZWN0U3RvcmUsXG4gICAgICAgICAgICBJREJJbmRleCxcbiAgICAgICAgICAgIElEQkN1cnNvcixcbiAgICAgICAgICAgIElEQlRyYW5zYWN0aW9uLFxuICAgICAgICBdKSk7XG59XG4vLyBUaGlzIGlzIGEgZnVuY3Rpb24gdG8gcHJldmVudCBpdCB0aHJvd2luZyB1cCBpbiBub2RlIGVudmlyb25tZW50cy5cbmZ1bmN0aW9uIGdldEN1cnNvckFkdmFuY2VNZXRob2RzKCkge1xuICAgIHJldHVybiAoY3Vyc29yQWR2YW5jZU1ldGhvZHMgfHxcbiAgICAgICAgKGN1cnNvckFkdmFuY2VNZXRob2RzID0gW1xuICAgICAgICAgICAgSURCQ3Vyc29yLnByb3RvdHlwZS5hZHZhbmNlLFxuICAgICAgICAgICAgSURCQ3Vyc29yLnByb3RvdHlwZS5jb250aW51ZSxcbiAgICAgICAgICAgIElEQkN1cnNvci5wcm90b3R5cGUuY29udGludWVQcmltYXJ5S2V5LFxuICAgICAgICBdKSk7XG59XG5jb25zdCBjdXJzb3JSZXF1ZXN0TWFwID0gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IHRyYW5zYWN0aW9uRG9uZU1hcCA9IG5ldyBXZWFrTWFwKCk7XG5jb25zdCB0cmFuc2FjdGlvblN0b3JlTmFtZXNNYXAgPSBuZXcgV2Vha01hcCgpO1xuY29uc3QgdHJhbnNmb3JtQ2FjaGUgPSBuZXcgV2Vha01hcCgpO1xuY29uc3QgcmV2ZXJzZVRyYW5zZm9ybUNhY2hlID0gbmV3IFdlYWtNYXAoKTtcbmZ1bmN0aW9uIHByb21pc2lmeVJlcXVlc3QocmVxdWVzdCkge1xuICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IHVubGlzdGVuID0gKCkgPT4ge1xuICAgICAgICAgICAgcmVxdWVzdC5yZW1vdmVFdmVudExpc3RlbmVyKCdzdWNjZXNzJywgc3VjY2Vzcyk7XG4gICAgICAgICAgICByZXF1ZXN0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZXJyb3IpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBzdWNjZXNzID0gKCkgPT4ge1xuICAgICAgICAgICAgcmVzb2x2ZSh3cmFwKHJlcXVlc3QucmVzdWx0KSk7XG4gICAgICAgICAgICB1bmxpc3RlbigpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICAgICAgICAgIHJlamVjdChyZXF1ZXN0LmVycm9yKTtcbiAgICAgICAgICAgIHVubGlzdGVuKCk7XG4gICAgICAgIH07XG4gICAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcignc3VjY2VzcycsIHN1Y2Nlc3MpO1xuICAgICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZXJyb3IpO1xuICAgIH0pO1xuICAgIHByb21pc2VcbiAgICAgICAgLnRoZW4oKHZhbHVlKSA9PiB7XG4gICAgICAgIC8vIFNpbmNlIGN1cnNvcmluZyByZXVzZXMgdGhlIElEQlJlcXVlc3QgKCpzaWdoKiksIHdlIGNhY2hlIGl0IGZvciBsYXRlciByZXRyaWV2YWxcbiAgICAgICAgLy8gKHNlZSB3cmFwRnVuY3Rpb24pLlxuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBJREJDdXJzb3IpIHtcbiAgICAgICAgICAgIGN1cnNvclJlcXVlc3RNYXAuc2V0KHZhbHVlLCByZXF1ZXN0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDYXRjaGluZyB0byBhdm9pZCBcIlVuY2F1Z2h0IFByb21pc2UgZXhjZXB0aW9uc1wiXG4gICAgfSlcbiAgICAgICAgLmNhdGNoKCgpID0+IHsgfSk7XG4gICAgLy8gVGhpcyBtYXBwaW5nIGV4aXN0cyBpbiByZXZlcnNlVHJhbnNmb3JtQ2FjaGUgYnV0IGRvZXNuJ3QgZG9lc24ndCBleGlzdCBpbiB0cmFuc2Zvcm1DYWNoZS4gVGhpc1xuICAgIC8vIGlzIGJlY2F1c2Ugd2UgY3JlYXRlIG1hbnkgcHJvbWlzZXMgZnJvbSBhIHNpbmdsZSBJREJSZXF1ZXN0LlxuICAgIHJldmVyc2VUcmFuc2Zvcm1DYWNoZS5zZXQocHJvbWlzZSwgcmVxdWVzdCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG59XG5mdW5jdGlvbiBjYWNoZURvbmVQcm9taXNlRm9yVHJhbnNhY3Rpb24odHgpIHtcbiAgICAvLyBFYXJseSBiYWlsIGlmIHdlJ3ZlIGFscmVhZHkgY3JlYXRlZCBhIGRvbmUgcHJvbWlzZSBmb3IgdGhpcyB0cmFuc2FjdGlvbi5cbiAgICBpZiAodHJhbnNhY3Rpb25Eb25lTWFwLmhhcyh0eCkpXG4gICAgICAgIHJldHVybjtcbiAgICBjb25zdCBkb25lID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjb25zdCB1bmxpc3RlbiA9ICgpID0+IHtcbiAgICAgICAgICAgIHR4LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NvbXBsZXRlJywgY29tcGxldGUpO1xuICAgICAgICAgICAgdHgucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCBlcnJvcik7XG4gICAgICAgICAgICB0eC5yZW1vdmVFdmVudExpc3RlbmVyKCdhYm9ydCcsIGVycm9yKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgY29tcGxldGUgPSAoKSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB1bmxpc3RlbigpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICAgICAgICAgIHJlamVjdCh0eC5lcnJvciB8fCBuZXcgRE9NRXhjZXB0aW9uKCdBYm9ydEVycm9yJywgJ0Fib3J0RXJyb3InKSk7XG4gICAgICAgICAgICB1bmxpc3RlbigpO1xuICAgICAgICB9O1xuICAgICAgICB0eC5hZGRFdmVudExpc3RlbmVyKCdjb21wbGV0ZScsIGNvbXBsZXRlKTtcbiAgICAgICAgdHguYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBlcnJvcik7XG4gICAgICAgIHR4LmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgZXJyb3IpO1xuICAgIH0pO1xuICAgIC8vIENhY2hlIGl0IGZvciBsYXRlciByZXRyaWV2YWwuXG4gICAgdHJhbnNhY3Rpb25Eb25lTWFwLnNldCh0eCwgZG9uZSk7XG59XG5sZXQgaWRiUHJveHlUcmFwcyA9IHtcbiAgICBnZXQodGFyZ2V0LCBwcm9wLCByZWNlaXZlcikge1xuICAgICAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgSURCVHJhbnNhY3Rpb24pIHtcbiAgICAgICAgICAgIC8vIFNwZWNpYWwgaGFuZGxpbmcgZm9yIHRyYW5zYWN0aW9uLmRvbmUuXG4gICAgICAgICAgICBpZiAocHJvcCA9PT0gJ2RvbmUnKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cmFuc2FjdGlvbkRvbmVNYXAuZ2V0KHRhcmdldCk7XG4gICAgICAgICAgICAvLyBQb2x5ZmlsbCBmb3Igb2JqZWN0U3RvcmVOYW1lcyBiZWNhdXNlIG9mIEVkZ2UuXG4gICAgICAgICAgICBpZiAocHJvcCA9PT0gJ29iamVjdFN0b3JlTmFtZXMnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldC5vYmplY3RTdG9yZU5hbWVzIHx8IHRyYW5zYWN0aW9uU3RvcmVOYW1lc01hcC5nZXQodGFyZ2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE1ha2UgdHguc3RvcmUgcmV0dXJuIHRoZSBvbmx5IHN0b3JlIGluIHRoZSB0cmFuc2FjdGlvbiwgb3IgdW5kZWZpbmVkIGlmIHRoZXJlIGFyZSBtYW55LlxuICAgICAgICAgICAgaWYgKHByb3AgPT09ICdzdG9yZScpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVjZWl2ZXIub2JqZWN0U3RvcmVOYW1lc1sxXVxuICAgICAgICAgICAgICAgICAgICA/IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICA6IHJlY2VpdmVyLm9iamVjdFN0b3JlKHJlY2VpdmVyLm9iamVjdFN0b3JlTmFtZXNbMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEVsc2UgdHJhbnNmb3JtIHdoYXRldmVyIHdlIGdldCBiYWNrLlxuICAgICAgICByZXR1cm4gd3JhcCh0YXJnZXRbcHJvcF0pO1xuICAgIH0sXG4gICAgc2V0KHRhcmdldCwgcHJvcCwgdmFsdWUpIHtcbiAgICAgICAgdGFyZ2V0W3Byb3BdID0gdmFsdWU7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gICAgaGFzKHRhcmdldCwgcHJvcCkge1xuICAgICAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgSURCVHJhbnNhY3Rpb24gJiZcbiAgICAgICAgICAgIChwcm9wID09PSAnZG9uZScgfHwgcHJvcCA9PT0gJ3N0b3JlJykpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwcm9wIGluIHRhcmdldDtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIHJlcGxhY2VUcmFwcyhjYWxsYmFjaykge1xuICAgIGlkYlByb3h5VHJhcHMgPSBjYWxsYmFjayhpZGJQcm94eVRyYXBzKTtcbn1cbmZ1bmN0aW9uIHdyYXBGdW5jdGlvbihmdW5jKSB7XG4gICAgLy8gRHVlIHRvIGV4cGVjdGVkIG9iamVjdCBlcXVhbGl0eSAod2hpY2ggaXMgZW5mb3JjZWQgYnkgdGhlIGNhY2hpbmcgaW4gYHdyYXBgKSwgd2VcbiAgICAvLyBvbmx5IGNyZWF0ZSBvbmUgbmV3IGZ1bmMgcGVyIGZ1bmMuXG4gICAgLy8gRWRnZSBkb2Vzbid0IHN1cHBvcnQgb2JqZWN0U3RvcmVOYW1lcyAoYm9vbyksIHNvIHdlIHBvbHlmaWxsIGl0IGhlcmUuXG4gICAgaWYgKGZ1bmMgPT09IElEQkRhdGFiYXNlLnByb3RvdHlwZS50cmFuc2FjdGlvbiAmJlxuICAgICAgICAhKCdvYmplY3RTdG9yZU5hbWVzJyBpbiBJREJUcmFuc2FjdGlvbi5wcm90b3R5cGUpKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoc3RvcmVOYW1lcywgLi4uYXJncykge1xuICAgICAgICAgICAgY29uc3QgdHggPSBmdW5jLmNhbGwodW53cmFwKHRoaXMpLCBzdG9yZU5hbWVzLCAuLi5hcmdzKTtcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uU3RvcmVOYW1lc01hcC5zZXQodHgsIHN0b3JlTmFtZXMuc29ydCA/IHN0b3JlTmFtZXMuc29ydCgpIDogW3N0b3JlTmFtZXNdKTtcbiAgICAgICAgICAgIHJldHVybiB3cmFwKHR4KTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLy8gQ3Vyc29yIG1ldGhvZHMgYXJlIHNwZWNpYWwsIGFzIHRoZSBiZWhhdmlvdXIgaXMgYSBsaXR0bGUgbW9yZSBkaWZmZXJlbnQgdG8gc3RhbmRhcmQgSURCLiBJblxuICAgIC8vIElEQiwgeW91IGFkdmFuY2UgdGhlIGN1cnNvciBhbmQgd2FpdCBmb3IgYSBuZXcgJ3N1Y2Nlc3MnIG9uIHRoZSBJREJSZXF1ZXN0IHRoYXQgZ2F2ZSB5b3UgdGhlXG4gICAgLy8gY3Vyc29yLiBJdCdzIGtpbmRhIGxpa2UgYSBwcm9taXNlIHRoYXQgY2FuIHJlc29sdmUgd2l0aCBtYW55IHZhbHVlcy4gVGhhdCBkb2Vzbid0IG1ha2Ugc2Vuc2VcbiAgICAvLyB3aXRoIHJlYWwgcHJvbWlzZXMsIHNvIGVhY2ggYWR2YW5jZSBtZXRob2RzIHJldHVybnMgYSBuZXcgcHJvbWlzZSBmb3IgdGhlIGN1cnNvciBvYmplY3QsIG9yXG4gICAgLy8gdW5kZWZpbmVkIGlmIHRoZSBlbmQgb2YgdGhlIGN1cnNvciBoYXMgYmVlbiByZWFjaGVkLlxuICAgIGlmIChnZXRDdXJzb3JBZHZhbmNlTWV0aG9kcygpLmluY2x1ZGVzKGZ1bmMpKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICAgICAgLy8gQ2FsbGluZyB0aGUgb3JpZ2luYWwgZnVuY3Rpb24gd2l0aCB0aGUgcHJveHkgYXMgJ3RoaXMnIGNhdXNlcyBJTExFR0FMIElOVk9DQVRJT04sIHNvIHdlIHVzZVxuICAgICAgICAgICAgLy8gdGhlIG9yaWdpbmFsIG9iamVjdC5cbiAgICAgICAgICAgIGZ1bmMuYXBwbHkodW53cmFwKHRoaXMpLCBhcmdzKTtcbiAgICAgICAgICAgIHJldHVybiB3cmFwKGN1cnNvclJlcXVlc3RNYXAuZ2V0KHRoaXMpKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgIC8vIENhbGxpbmcgdGhlIG9yaWdpbmFsIGZ1bmN0aW9uIHdpdGggdGhlIHByb3h5IGFzICd0aGlzJyBjYXVzZXMgSUxMRUdBTCBJTlZPQ0FUSU9OLCBzbyB3ZSB1c2VcbiAgICAgICAgLy8gdGhlIG9yaWdpbmFsIG9iamVjdC5cbiAgICAgICAgcmV0dXJuIHdyYXAoZnVuYy5hcHBseSh1bndyYXAodGhpcyksIGFyZ3MpKTtcbiAgICB9O1xufVxuZnVuY3Rpb24gdHJhbnNmb3JtQ2FjaGFibGVWYWx1ZSh2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpXG4gICAgICAgIHJldHVybiB3cmFwRnVuY3Rpb24odmFsdWUpO1xuICAgIC8vIFRoaXMgZG9lc24ndCByZXR1cm4sIGl0IGp1c3QgY3JlYXRlcyBhICdkb25lJyBwcm9taXNlIGZvciB0aGUgdHJhbnNhY3Rpb24sXG4gICAgLy8gd2hpY2ggaXMgbGF0ZXIgcmV0dXJuZWQgZm9yIHRyYW5zYWN0aW9uLmRvbmUgKHNlZSBpZGJPYmplY3RIYW5kbGVyKS5cbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBJREJUcmFuc2FjdGlvbilcbiAgICAgICAgY2FjaGVEb25lUHJvbWlzZUZvclRyYW5zYWN0aW9uKHZhbHVlKTtcbiAgICBpZiAoaW5zdGFuY2VPZkFueSh2YWx1ZSwgZ2V0SWRiUHJveHlhYmxlVHlwZXMoKSkpXG4gICAgICAgIHJldHVybiBuZXcgUHJveHkodmFsdWUsIGlkYlByb3h5VHJhcHMpO1xuICAgIC8vIFJldHVybiB0aGUgc2FtZSB2YWx1ZSBiYWNrIGlmIHdlJ3JlIG5vdCBnb2luZyB0byB0cmFuc2Zvcm0gaXQuXG4gICAgcmV0dXJuIHZhbHVlO1xufVxuZnVuY3Rpb24gd3JhcCh2YWx1ZSkge1xuICAgIC8vIFdlIHNvbWV0aW1lcyBnZW5lcmF0ZSBtdWx0aXBsZSBwcm9taXNlcyBmcm9tIGEgc2luZ2xlIElEQlJlcXVlc3QgKGVnIHdoZW4gY3Vyc29yaW5nKSwgYmVjYXVzZVxuICAgIC8vIElEQiBpcyB3ZWlyZCBhbmQgYSBzaW5nbGUgSURCUmVxdWVzdCBjYW4geWllbGQgbWFueSByZXNwb25zZXMsIHNvIHRoZXNlIGNhbid0IGJlIGNhY2hlZC5cbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBJREJSZXF1ZXN0KVxuICAgICAgICByZXR1cm4gcHJvbWlzaWZ5UmVxdWVzdCh2YWx1ZSk7XG4gICAgLy8gSWYgd2UndmUgYWxyZWFkeSB0cmFuc2Zvcm1lZCB0aGlzIHZhbHVlIGJlZm9yZSwgcmV1c2UgdGhlIHRyYW5zZm9ybWVkIHZhbHVlLlxuICAgIC8vIFRoaXMgaXMgZmFzdGVyLCBidXQgaXQgYWxzbyBwcm92aWRlcyBvYmplY3QgZXF1YWxpdHkuXG4gICAgaWYgKHRyYW5zZm9ybUNhY2hlLmhhcyh2YWx1ZSkpXG4gICAgICAgIHJldHVybiB0cmFuc2Zvcm1DYWNoZS5nZXQodmFsdWUpO1xuICAgIGNvbnN0IG5ld1ZhbHVlID0gdHJhbnNmb3JtQ2FjaGFibGVWYWx1ZSh2YWx1ZSk7XG4gICAgLy8gTm90IGFsbCB0eXBlcyBhcmUgdHJhbnNmb3JtZWQuXG4gICAgLy8gVGhlc2UgbWF5IGJlIHByaW1pdGl2ZSB0eXBlcywgc28gdGhleSBjYW4ndCBiZSBXZWFrTWFwIGtleXMuXG4gICAgaWYgKG5ld1ZhbHVlICE9PSB2YWx1ZSkge1xuICAgICAgICB0cmFuc2Zvcm1DYWNoZS5zZXQodmFsdWUsIG5ld1ZhbHVlKTtcbiAgICAgICAgcmV2ZXJzZVRyYW5zZm9ybUNhY2hlLnNldChuZXdWYWx1ZSwgdmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3VmFsdWU7XG59XG5jb25zdCB1bndyYXAgPSAodmFsdWUpID0+IHJldmVyc2VUcmFuc2Zvcm1DYWNoZS5nZXQodmFsdWUpO1xuXG5leHBvcnQgeyByZXZlcnNlVHJhbnNmb3JtQ2FjaGUgYXMgYSwgaW5zdGFuY2VPZkFueSBhcyBpLCByZXBsYWNlVHJhcHMgYXMgciwgdW53cmFwIGFzIHUsIHdyYXAgYXMgdyB9O1xuIiwidHJ5e3NlbGZbXCJ3b3JrYm94OndpbmRvdzo0LjMuMVwiXSYmXygpfWNhdGNoKG4pe312YXIgbj1mdW5jdGlvbihuLHQpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihpKXt2YXIgZT1uZXcgTWVzc2FnZUNoYW5uZWw7ZS5wb3J0MS5vbm1lc3NhZ2U9ZnVuY3Rpb24obil7cmV0dXJuIGkobi5kYXRhKX0sbi5wb3N0TWVzc2FnZSh0LFtlLnBvcnQyXSl9KX07ZnVuY3Rpb24gdChuLHQpe2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKXt2YXIgZT10W2ldO2UuZW51bWVyYWJsZT1lLmVudW1lcmFibGV8fCExLGUuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGUmJihlLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkobixlLmtleSxlKX19ZnVuY3Rpb24gaShuKXtpZih2b2lkIDA9PT1uKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gbn10cnl7c2VsZltcIndvcmtib3g6Y29yZTo0LjMuMVwiXSYmXygpfWNhdGNoKG4pe312YXIgZT1mdW5jdGlvbigpe3ZhciBuPXRoaXM7dGhpcy5wcm9taXNlPW5ldyBQcm9taXNlKGZ1bmN0aW9uKHQsaSl7bi5yZXNvbHZlPXQsbi5yZWplY3Q9aX0pfSxyPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIG5ldyBVUkwobixsb2NhdGlvbikuaHJlZj09PW5ldyBVUkwodCxsb2NhdGlvbikuaHJlZn0sbz1mdW5jdGlvbihuLHQpe09iamVjdC5hc3NpZ24odGhpcyx0LHt0eXBlOm59KX07ZnVuY3Rpb24gdShuKXtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10saT0wO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspdFtpXT1hcmd1bWVudHNbaV07dHJ5e3JldHVybiBQcm9taXNlLnJlc29sdmUobi5hcHBseSh0aGlzLHQpKX1jYXRjaChuKXtyZXR1cm4gUHJvbWlzZS5yZWplY3Qobil9fX1mdW5jdGlvbiBhKG4sdCxpKXtyZXR1cm4gaT90P3Qobik6bjoobiYmbi50aGVufHwobj1Qcm9taXNlLnJlc29sdmUobikpLHQ/bi50aGVuKHQpOm4pfWZ1bmN0aW9uIHMoKXt9dmFyIGM9ZnVuY3Rpb24oYyl7dmFyIGYsaDtmdW5jdGlvbiB2KG4sdCl7dmFyIHI7cmV0dXJuIHZvaWQgMD09PXQmJih0PXt9KSwocj1jLmNhbGwodGhpcyl8fHRoaXMpLnQ9bixyLmk9dCxyLm89MCxyLnU9bmV3IGUsci5zPW5ldyBlLHIuaD1uZXcgZSxyLnY9ci52LmJpbmQoaShpKHIpKSksci5sPXIubC5iaW5kKGkoaShyKSkpLHIuZz1yLmcuYmluZChpKGkocikpKSxyLm09ci5tLmJpbmQoaShpKHIpKSkscn1oPWMsKGY9dikucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoaC5wcm90b3R5cGUpLGYucHJvdG90eXBlLmNvbnN0cnVjdG9yPWYsZi5fX3Byb3RvX189aDt2YXIgbCx3LGcsZD12LnByb3RvdHlwZTtyZXR1cm4gZC5yZWdpc3Rlcj11KGZ1bmN0aW9uKG4pe3ZhciB0LGksZT10aGlzLHU9KHZvaWQgMD09PW4/e306bikuaW1tZWRpYXRlLGM9dm9pZCAwIT09dSYmdTtyZXR1cm4gdD1mdW5jdGlvbigpe3JldHVybiBlLnA9Qm9vbGVhbihuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5jb250cm9sbGVyKSxlLlA9ZS5SKCksYShlLmsoKSxmdW5jdGlvbihuKXtlLkI9bixlLlAmJihlLk89ZS5QLGUucy5yZXNvbHZlKGUuUCksZS5oLnJlc29sdmUoZS5QKSxlLmooZS5QKSxlLlAuYWRkRXZlbnRMaXN0ZW5lcihcInN0YXRlY2hhbmdlXCIsZS5sLHtvbmNlOiEwfSkpO3ZhciB0PWUuQi53YWl0aW5nO3JldHVybiB0JiZyKHQuc2NyaXB0VVJMLGUudCkmJihlLk89dCxQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uKCl7ZS5kaXNwYXRjaEV2ZW50KG5ldyBvKFwid2FpdGluZ1wiLHtzdzp0LHdhc1dhaXRpbmdCZWZvcmVSZWdpc3RlcjohMH0pKX0pKSxlLk8mJmUudS5yZXNvbHZlKGUuTyksZS5CLmFkZEV2ZW50TGlzdGVuZXIoXCJ1cGRhdGVmb3VuZFwiLGUuZyksbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNvbnRyb2xsZXJjaGFuZ2VcIixlLm0se29uY2U6ITB9KSxcIkJyb2FkY2FzdENoYW5uZWxcImluIHNlbGYmJihlLkM9bmV3IEJyb2FkY2FzdENoYW5uZWwoXCJ3b3JrYm94XCIpLGUuQy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLGUudikpLG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsZS52KSxlLkJ9KX0sKGk9ZnVuY3Rpb24oKXtpZighYyYmXCJjb21wbGV0ZVwiIT09ZG9jdW1lbnQucmVhZHlTdGF0ZSlyZXR1cm4gZnVuY3Rpb24obix0KXtpZighdClyZXR1cm4gbiYmbi50aGVuP24udGhlbihzKTpQcm9taXNlLnJlc29sdmUoKX0obmV3IFByb21pc2UoZnVuY3Rpb24obil7cmV0dXJuIGFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsbil9KSl9KCkpJiZpLnRoZW4/aS50aGVuKHQpOnQoaSl9KSxkLmdldFNXPXUoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5PfHx0aGlzLnUucHJvbWlzZX0pLGQubWVzc2FnZVNXPXUoZnVuY3Rpb24odCl7cmV0dXJuIGEodGhpcy5nZXRTVygpLGZ1bmN0aW9uKGkpe3JldHVybiBuKGksdCl9KX0pLGQuUj1mdW5jdGlvbigpe3ZhciBuPW5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLmNvbnRyb2xsZXI7aWYobiYmcihuLnNjcmlwdFVSTCx0aGlzLnQpKXJldHVybiBufSxkLms9dShmdW5jdGlvbigpe3ZhciBuPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKG4sdCl7dHJ5e3ZhciBpPW4oKX1jYXRjaChuKXtyZXR1cm4gdChuKX1yZXR1cm4gaSYmaS50aGVuP2kudGhlbih2b2lkIDAsdCk6aX0oZnVuY3Rpb24oKXtyZXR1cm4gYShuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWdpc3RlcihuLnQsbi5pKSxmdW5jdGlvbih0KXtyZXR1cm4gbi5MPXBlcmZvcm1hbmNlLm5vdygpLHR9KX0sZnVuY3Rpb24obil7dGhyb3cgbn0pfSksZC5qPWZ1bmN0aW9uKHQpe24odCx7dHlwZTpcIldJTkRPV19SRUFEWVwiLG1ldGE6XCJ3b3JrYm94LXdpbmRvd1wifSl9LGQuZz1mdW5jdGlvbigpe3ZhciBuPXRoaXMuQi5pbnN0YWxsaW5nO3RoaXMubz4wfHwhcihuLnNjcmlwdFVSTCx0aGlzLnQpfHxwZXJmb3JtYW5jZS5ub3coKT50aGlzLkwrNmU0Pyh0aGlzLlc9bix0aGlzLkIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInVwZGF0ZWZvdW5kXCIsdGhpcy5nKSk6KHRoaXMuTz1uLHRoaXMudS5yZXNvbHZlKG4pKSwrK3RoaXMubyxuLmFkZEV2ZW50TGlzdGVuZXIoXCJzdGF0ZWNoYW5nZVwiLHRoaXMubCl9LGQubD1mdW5jdGlvbihuKXt2YXIgdD10aGlzLGk9bi50YXJnZXQsZT1pLnN0YXRlLHI9aT09PXRoaXMuVyx1PXI/XCJleHRlcm5hbFwiOlwiXCIsYT17c3c6aSxvcmlnaW5hbEV2ZW50Om59OyFyJiZ0aGlzLnAmJihhLmlzVXBkYXRlPSEwKSx0aGlzLmRpc3BhdGNoRXZlbnQobmV3IG8odStlLGEpKSxcImluc3RhbGxlZFwiPT09ZT90aGlzLl89c2V0VGltZW91dChmdW5jdGlvbigpe1wiaW5zdGFsbGVkXCI9PT1lJiZ0LkIud2FpdGluZz09PWkmJnQuZGlzcGF0Y2hFdmVudChuZXcgbyh1K1wid2FpdGluZ1wiLGEpKX0sMjAwKTpcImFjdGl2YXRpbmdcIj09PWUmJihjbGVhclRpbWVvdXQodGhpcy5fKSxyfHx0aGlzLnMucmVzb2x2ZShpKSl9LGQubT1mdW5jdGlvbihuKXt2YXIgdD10aGlzLk87dD09PW5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLmNvbnRyb2xsZXImJih0aGlzLmRpc3BhdGNoRXZlbnQobmV3IG8oXCJjb250cm9sbGluZ1wiLHtzdzp0LG9yaWdpbmFsRXZlbnQ6bn0pKSx0aGlzLmgucmVzb2x2ZSh0KSl9LGQudj1mdW5jdGlvbihuKXt2YXIgdD1uLmRhdGE7dGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBvKFwibWVzc2FnZVwiLHtkYXRhOnQsb3JpZ2luYWxFdmVudDpufSkpfSxsPXYsKHc9W3trZXk6XCJhY3RpdmVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zLnByb21pc2V9fSx7a2V5OlwiY29udHJvbGxpbmdcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oLnByb21pc2V9fV0pJiZ0KGwucHJvdG90eXBlLHcpLGcmJnQobCxnKSx2fShmdW5jdGlvbigpe2Z1bmN0aW9uIG4oKXt0aGlzLkQ9e319dmFyIHQ9bi5wcm90b3R5cGU7cmV0dXJuIHQuYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihuLHQpe3RoaXMuVChuKS5hZGQodCl9LHQucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihuLHQpe3RoaXMuVChuKS5kZWxldGUodCl9LHQuZGlzcGF0Y2hFdmVudD1mdW5jdGlvbihuKXtuLnRhcmdldD10aGlzLHRoaXMuVChuLnR5cGUpLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIHQobil9KX0sdC5UPWZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLkRbbl09dGhpcy5EW25dfHxuZXcgU2V0fSxufSgpKTtleHBvcnR7YyBhcyBXb3JrYm94LG4gYXMgbWVzc2FnZVNXfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdvcmtib3gtd2luZG93LnByb2QuZXM1Lm1qcy5tYXBcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJpbXBvcnQgeyBnZXREYXRhLCBEYXRhTW9kYWwsIGN1c3RvbUZvbnRzIH0gZnJvbSBcIkBkYXRhXCI7XHJcbmltcG9ydCB7IFNjZW5lSGFuZGxlciB9IGZyb20gXCJAc2NlbmVIYW5kbGVyXCI7XHJcbmltcG9ydCB7IEFVRElPX1VSTF9QUkVMT0FELCBJc0NhY2hlZCwgUHJldmlvdXNQbGF5ZWRMZXZlbCB9IGZyb20gXCJAY29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IFdvcmtib3ggfSBmcm9tIFwid29ya2JveC13aW5kb3dcIjtcclxuaW1wb3J0IHsgRmlyZWJhc2VJbnRlZ3JhdGlvbiB9IGZyb20gXCIuL3NyYy9GaXJlYmFzZS9maXJlYmFzZS1pbnRlZ3JhdGlvblwiO1xyXG5pbXBvcnQgeyBVdGlscywgVklTSUJJTElUWV9DSEFOR0UsIERlYnVnZ2VyLCBsYW5nLCBwc2V1ZG9JZCwgaXNEb2N1bWVudFZpc2libGUsIH0gZnJvbSBcIkBjb21tb25cIjtcclxuaW1wb3J0IHsgQXVkaW9QbGF5ZXIgfSBmcm9tIFwiQGNvbXBvbmVudHNcIjtcclxuaW1wb3J0IHsgVVJMIH0gZnJvbSBcIkBkYXRhXCI7XHJcbmNsYXNzIEFwcCB7XHJcbiAgICBjYW52YXM7XHJcbiAgICB2ZXJzaW9uSW5mb0VsZW1lbnQ7XHJcbiAgICBsYW5nO1xyXG4gICAgaXNfY2FjaGVkO1xyXG4gICAgcHJvZ3Jlc3NCYXI7XHJcbiAgICBwcm9ncmVzc0JhckNvbnRhaW5lcjtcclxuICAgIGNoYW5uZWw7XHJcbiAgICBzY2VuZUhhbmRsZXI7XHJcbiAgICBsb2FkaW5nRWxlbWVudDtcclxuICAgIG1halZlcnNpb247XHJcbiAgICBtaW5WZXJzaW9uO1xyXG4gICAgZGF0YU1vZGFsO1xyXG4gICAgc3RhcnRTZXNzaW9uVGltZTtcclxuICAgIHRpdGxlVGV4dEVsZW1lbnQ7XHJcbiAgICBmZWVkQmFja1RleHRFbGVtZW50O1xyXG4gICAgY3VycmVudFByb2dyZXNzO1xyXG4gICAgZmlyZWJhc2VJbnRlZ3JhdGlvbjtcclxuICAgIGNvbnN0cnVjdG9yKGxhbmcpIHtcclxuICAgICAgICB0aGlzLmxhbmcgPSBsYW5nO1xyXG4gICAgICAgIHRoaXMuY3VycmVudFByb2dyZXNzID0gMTA7IC8vIEluaXRpYWxpemUgcHJvZ3Jlc3MgdG8gMFxyXG4gICAgICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW52YXNcIik7XHJcbiAgICAgICAgdGhpcy5jaGFubmVsID0gbmV3IEJyb2FkY2FzdENoYW5uZWwoXCJteS1jaGFubmVsXCIpO1xyXG4gICAgICAgIHRoaXMucHJvZ3Jlc3NCYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2dyZXNzLWJhclwiKTtcclxuICAgICAgICB0aGlzLnRpdGxlVGV4dEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRpdGxlXCIpO1xyXG4gICAgICAgIHRoaXMuZmVlZEJhY2tUZXh0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZmVlZGJhY2stdGV4dFwiKTtcclxuICAgICAgICB0aGlzLnByb2dyZXNzQmFyQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9ncmVzcy1iYXItY29udGFpbmVyXCIpO1xyXG4gICAgICAgIHRoaXMudmVyc2lvbkluZm9FbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2ZXJzaW9uLWluZm8taWRcIik7XHJcbiAgICAgICAgdGhpcy5sb2FkaW5nRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibG9hZGluZy1zY3JlZW5cIik7XHJcbiAgICAgICAgdGhpcy5pc19jYWNoZWQgPSB0aGlzLmluaXRpYWxpemVDYWNoZWREYXRhKCk7XHJcbiAgICAgICAgdGhpcy5maXJlYmFzZUludGVncmF0aW9uID0gbmV3IEZpcmViYXNlSW50ZWdyYXRpb24oKTtcclxuICAgICAgICB0aGlzLnN0YXJ0U2Vzc2lvblRpbWUgPSAwO1xyXG4gICAgICAgIHRoaXMuaW5pdCgpO1xyXG4gICAgICAgIHRoaXMuY2hhbm5lbC5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCB0aGlzLmhhbmRsZVNlcnZpY2VXb3JrZXJNZXNzYWdlKTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLCB0aGlzLmhhbmRsZUJlZm9yZVVubG9hZCk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihWSVNJQklMSVRZX0NIQU5HRSwgdGhpcy5oYW5kbGVWaXNpYmlsaXR5Q2hhbmdlKTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB0aGlzLmhhbmRsZVJlc2l6ZS5iaW5kKHRoaXMpKTtcclxuICAgIH1cclxuICAgIGFzeW5jIGluaXQoKSB7XHJcbiAgICAgICAgY29uc3QgZm9udCA9IGF3YWl0IFV0aWxzLmdldExhbmd1YWdlU3BlY2lmaWNGb250KHRoaXMubGFuZyk7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5sb2FkQW5kQ2FjaGVGb250KGZvbnQsIGAuL2Fzc2V0cy9mb250cy8ke2ZvbnR9LnR0ZmApO1xyXG4gICAgICAgIGF3YWl0IHRoaXMubG9hZFRpdGxlRmVlZGJhY2tDdXN0b21Gb250KCk7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5wcmVsb2FkR2FtZUF1ZGlvcygpO1xyXG4gICAgICAgIHRoaXMuaGFuZGxlTG9hZGluZ1NjcmVlbigpO1xyXG4gICAgICAgIHRoaXMuc2V0dXBDYW52YXMoKTtcclxuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgZ2V0RGF0YSgpO1xyXG4gICAgICAgIHRoaXMubWFqVmVyc2lvbiA9IGRhdGEubWFqdmVyc2lvbjtcclxuICAgICAgICB0aGlzLm1pblZlcnNpb24gPSBkYXRhLm1pbnZlcnNpb247XHJcbiAgICAgICAgdGhpcy5kYXRhTW9kYWwgPSB0aGlzLmNyZWF0ZURhdGFNb2RhbChkYXRhKTtcclxuICAgICAgICB0aGlzLmdsb2JhbEluaXRpYWxpemF0aW9uKGRhdGEpO1xyXG4gICAgICAgIHRoaXMubG9nU2Vzc2lvblN0YXJ0RmlyZWJhc2VFdmVudCgpO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVSZXNpemUodGhpcy5kYXRhTW9kYWwpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IHBsYXllZEluZm8gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLmxhbmcgKyBcImdhbWVQbGF5ZWRJbmZvXCIpO1xyXG4gICAgICAgIGNvbnN0IG5leHRQbGF5YWJsZUxldmVsID0gcGxheWVkSW5mbyA/IEpTT04ucGFyc2UocGxheWVkSW5mbykubGVuZ3RoIC0gMSA6IDA7XHJcbiAgICAgICAgY29uc3Qgc3RvcmFnZUtleSA9IERlYnVnZ2VyLkRlYnVnTW9kZVxyXG4gICAgICAgICAgICA/IFByZXZpb3VzUGxheWVkTGV2ZWwgKyB0aGlzLmxhbmcgKyBcIkRlYnVnXCJcclxuICAgICAgICAgICAgOiBQcmV2aW91c1BsYXllZExldmVsICsgdGhpcy5sYW5nO1xyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHN0b3JhZ2VLZXksIG5leHRQbGF5YWJsZUxldmVsLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIGlmICh0aGlzLmlzX2NhY2hlZC5oYXModGhpcy5sYW5nKSkge1xyXG4gICAgICAgICAgICB0aGlzLmhhbmRsZUNhY2hlZFNjZW5hcmlvKHRoaXMuZGF0YU1vZGFsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5yZWdpc3Rlcldvcmtib3goKTtcclxuICAgIH1cclxuICAgIGFzeW5jIGxvYWRUaXRsZUZlZWRiYWNrQ3VzdG9tRm9udCgpIHtcclxuICAgICAgICBjb25zdCBjdXN0b21UaXRsZUZlZWRiYWNrRm9udCA9IGN1c3RvbUZvbnRzW3RoaXMubGFuZ10gfHwgY3VzdG9tRm9udHMuZGVmYXVsdDtcclxuICAgICAgICBjb25zdCBmb250RmFtaWx5ID0gYCcke2N1c3RvbVRpdGxlRmVlZGJhY2tGb250fScsIHNhbnMtc2VyaWZgO1xyXG4gICAgICAgIGF3YWl0IHRoaXMubG9hZEFuZENhY2hlRm9udChjdXN0b21UaXRsZUZlZWRiYWNrRm9udCwgYC4vYXNzZXRzL2ZvbnRzLyR7Y3VzdG9tVGl0bGVGZWVkYmFja0ZvbnR9LnR0ZmApO1xyXG4gICAgICAgIFt0aGlzLnRpdGxlVGV4dEVsZW1lbnQsIHRoaXMuZmVlZEJhY2tUZXh0RWxlbWVudF0uZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgaWYgKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuZm9udEZhbWlseSA9IGZvbnRGYW1pbHk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGxvZ1Nlc3Npb25TdGFydEZpcmViYXNlRXZlbnQoKSB7XHJcbiAgICAgICAgbGV0IGxhc3RTZXNzaW9uRW5kVGltZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwibGFzdFNlc3Npb25FbmRUaW1lXCIpO1xyXG4gICAgICAgIGxldCBsYXN0VGltZSA9IDA7XHJcbiAgICAgICAgdGhpcy5zdGFydFNlc3Npb25UaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcbiAgICAgICAgaWYgKGxhc3RTZXNzaW9uRW5kVGltZSkge1xyXG4gICAgICAgICAgICBsZXQgcGFyc2VkVGltZXN0YW1wID0gcGFyc2VJbnQobGFzdFNlc3Npb25FbmRUaW1lKTtcclxuICAgICAgICAgICAgaWYgKCFpc05hTihwYXJzZWRUaW1lc3RhbXApKSB7XHJcbiAgICAgICAgICAgICAgICBsYXN0VGltZSA9IE1hdGguYWJzKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gcGFyc2VkVGltZXN0YW1wKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBkYXlzU2luY2VMYXN0ID0gbGFzdFRpbWUgPyBsYXN0VGltZSAvICgxMDAwICogNjAgKiA2MCAqIDI0KSA6IDA7XHJcbiAgICAgICAgY29uc3Qgcm91bmRlZERheXNTaW5jZUxhc3QgPSBwYXJzZUZsb2F0KGRheXNTaW5jZUxhc3QudG9GaXhlZCgzKSk7XHJcbiAgICAgICAgY29uc3Qgc2Vzc2lvblN0YXJ0RGF0YSA9IHtcclxuICAgICAgICAgICAgY3JfdXNlcl9pZDogcHNldWRvSWQsXHJcbiAgICAgICAgICAgIGZ0bV9sYW5ndWFnZTogbGFuZyxcclxuICAgICAgICAgICAgcHJvZmlsZV9udW1iZXI6IDAsXHJcbiAgICAgICAgICAgIHZlcnNpb25fbnVtYmVyOiB0aGlzLnZlcnNpb25JbmZvRWxlbWVudC5pbm5lckhUTUwsXHJcbiAgICAgICAgICAgIGpzb25fdmVyc2lvbl9udW1iZXI6ICEhdGhpcy5tYWpWZXJzaW9uICYmICEhdGhpcy5taW5WZXJzaW9uXHJcbiAgICAgICAgICAgICAgICA/IHRoaXMubWFqVmVyc2lvbi50b1N0cmluZygpICsgXCIuXCIgKyB0aGlzLm1pblZlcnNpb24udG9TdHJpbmcoKVxyXG4gICAgICAgICAgICAgICAgOiBcIlwiLFxyXG4gICAgICAgICAgICBkYXlzX3NpbmNlX2xhc3Q6IHJvdW5kZWREYXlzU2luY2VMYXN0LFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5maXJlYmFzZUludGVncmF0aW9uLnNlbmRTZXNzaW9uU3RhcnRFdmVudChzZXNzaW9uU3RhcnREYXRhKTtcclxuICAgIH1cclxuICAgIGxvZ1Nlc3Npb25FbmRGaXJlYmFzZUV2ZW50KCkge1xyXG4gICAgICAgIGNvbnN0IHNlc3Npb25FbmREYXRhID0ge1xyXG4gICAgICAgICAgICBjcl91c2VyX2lkOiBwc2V1ZG9JZCxcclxuICAgICAgICAgICAgZnRtX2xhbmd1YWdlOiBsYW5nLFxyXG4gICAgICAgICAgICBwcm9maWxlX251bWJlcjogMCxcclxuICAgICAgICAgICAgdmVyc2lvbl9udW1iZXI6IHRoaXMudmVyc2lvbkluZm9FbGVtZW50LmlubmVySFRNTCxcclxuICAgICAgICAgICAganNvbl92ZXJzaW9uX251bWJlcjogISF0aGlzLm1halZlcnNpb24gJiYgISF0aGlzLm1pblZlcnNpb25cclxuICAgICAgICAgICAgICAgID8gdGhpcy5tYWpWZXJzaW9uLnRvU3RyaW5nKCkgKyBcIi5cIiArIHRoaXMubWluVmVyc2lvbi50b1N0cmluZygpXHJcbiAgICAgICAgICAgICAgICA6IFwiXCIsXHJcbiAgICAgICAgICAgIGR1cmF0aW9uOiAobmV3IERhdGUoKS5nZXRUaW1lKCkgLSB0aGlzLnN0YXJ0U2Vzc2lvblRpbWUpIC8gMTAwMCxcclxuICAgICAgICB9O1xyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwibGFzdFNlc3Npb25FbmRUaW1lXCIsIG5ldyBEYXRlKCkuZ2V0VGltZSgpLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIHRoaXMuZmlyZWJhc2VJbnRlZ3JhdGlvbi5zZW5kU2Vzc2lvbkVuZEV2ZW50KHNlc3Npb25FbmREYXRhKTtcclxuICAgIH1cclxuICAgIGluaXRpYWxpemVDYWNoZWREYXRhKCkge1xyXG4gICAgICAgIGNvbnN0IHN0b3JlZERhdGEgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShJc0NhY2hlZCk7XHJcbiAgICAgICAgcmV0dXJuIHN0b3JlZERhdGEgPyBuZXcgTWFwKEpTT04ucGFyc2Uoc3RvcmVkRGF0YSkpIDogbmV3IE1hcCgpO1xyXG4gICAgfVxyXG4gICAgYXN5bmMgbG9hZEFuZENhY2hlRm9udChmb250TmFtZSwgZm9udFBhdGgpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBjYWNoZSA9IGF3YWl0IGNhY2hlcy5vcGVuKFwiZm9udENhY2hlXCIpO1xyXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGNhY2hlLm1hdGNoKGZvbnRQYXRoKTtcclxuICAgICAgICAgICAgaWYgKCFyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZm9udFJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZm9udFBhdGgpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZm9udEJsb2IgPSBhd2FpdCBmb250UmVzcG9uc2UuYmxvYigpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgY2FjaGUucHV0KGZvbnRQYXRoLCBuZXcgUmVzcG9uc2UoZm9udEJsb2IpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBmb250ID0gbmV3IEZvbnRGYWNlKGZvbnROYW1lLCBgdXJsKCR7Zm9udFBhdGh9KSBmb3JtYXQoJ3RydWV0eXBlJylgKTtcclxuICAgICAgICAgICAgYXdhaXQgZm9udC5sb2FkKCk7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmZvbnRzLmFkZChmb250KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBsb2FkIGFuZCBjYWNoZSBmb250OiAke2Vycm9yfWApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGhhbmRsZUxvYWRpbmdTY3JlZW4gPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNfY2FjaGVkLmdldChsYW5nKSkge1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRpbmdFbGVtZW50LnN0eWxlLnpJbmRleCA9IFwiLTFcIjtcclxuICAgICAgICAgICAgdGhpcy5sb2FkaW5nRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgICAgICAgIHRoaXMucHJvZ3Jlc3NCYXJDb250YWluZXIuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICAgICAgICB0aGlzLnByb2dyZXNzQmFyLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvZ3Jlc3NCYXJDb250YWluZXIuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xyXG4gICAgICAgICAgICB0aGlzLnByb2dyZXNzQmFyLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcclxuICAgICAgICAgICAgdGhpcy5wcm9ncmVzc0Jhci5zdHlsZS53aWR0aCA9IFwiMTAlXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGFzeW5jIHJlZ2lzdGVyV29ya2JveCgpIHtcclxuICAgICAgICBpZiAoXCJzZXJ2aWNlV29ya2VyXCIgaW4gbmF2aWdhdG9yKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB3YiA9IG5ldyBXb3JrYm94KFwiLi9zdy5qc1wiLCB7fSk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB3Yi5yZWdpc3RlcigpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVhZHk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNfY2FjaGVkLmhhcyh0aGlzLmxhbmcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFubmVsLnBvc3RNZXNzYWdlKHsgY29tbWFuZDogXCJDYWNoZVwiLCBkYXRhOiB0aGlzLmxhbmcgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBmZXRjaChVUkwgKyBcIj9jYWNoZS1idXN0PVwiICsgbmV3IERhdGUoKS5nZXRUaW1lKCksIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiQ2FjaGUtQ29udHJvbFwiOiBcIm5vLXN0b3JlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlOiBcIm5vLXN0b3JlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oYXN5bmMgKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gZmV0Y2ggdGhlIGNvbnRlbnQgZmlsZSBmcm9tIHRoZSBzZXJ2ZXIhXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0NvbnRlbnRGaWxlRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWhlYWRDb250ZW50VmVyc2lvbiA9IG5ld0NvbnRlbnRGaWxlRGF0YVtcIm1hanZlcnNpb25cIl0gK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIuXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q29udGVudEZpbGVEYXRhW1wibWludmVyc2lvblwiXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FjaGVkVmVyc2lvbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidmVyc2lvblwiICsgbGFuZy50b0xvd2VyQ2FzZSgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgbmVlZCB0byBjaGVjayBoZXJlIGZvciB0aGUgY29udGVudCB2ZXJzaW9uIHVwZGF0ZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlcmUncyBhIG5ldyBjb250ZW50IHZlcnNpb24sIHdlIG5lZWQgdG8gcmVtb3ZlIHRoZSBjYWNoZWQgY29udGVudCBhbmQgcmVsb2FkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGFyZSBjb21wYXJpbmcgaGVyZSB0aGUgY29udGVudFZlcnNpb24gd2l0aCB0aGUgYWhlYWRDb250ZW50VmVyc2lvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWhlYWRDb250ZW50VmVyc2lvbiAmJiBjYWNoZWRWZXJzaW9uICE9IGFoZWFkQ29udGVudFZlcnNpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ29udGVudCB2ZXJzaW9uIG1pc21hdGNoISBSZWxvYWRpbmcuLi5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2FjaGVkSXRlbSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJpc19jYWNoZWRcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJjdXJyZW50IGxhbmcgIFwiICsgbGFuZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV3Q2FjaGVkSXRlbSA9IGNhY2hlZEl0ZW0uZmlsdGVyKChlKSA9PiAhZS50b1N0cmluZygpLmluY2x1ZGVzKGxhbmcpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKElzQ2FjaGVkLCBKU09OLnN0cmluZ2lmeShuZXdDYWNoZWRJdGVtKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcInZlcnNpb25cIiArIGxhbmcudG9Mb3dlckNhc2UoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDbGVhciB0aGUgY2FjaGUgZm9yIHRodCBwYXJ0aWN1bGFyIGNvbnRlbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlcy5kZWxldGUobGFuZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVVwZGF0ZUZvdW5kTWVzc2FnZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgdGhlIGNvbnRlbnQgZmlsZTogXCIgKyBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCB0aGlzLmhhbmRsZVNlcnZpY2VXb3JrZXJNZXNzYWdlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byByZWdpc3RlciBzZXJ2aWNlIHdvcmtlcjogJHtlcnJvcn1gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHNldHVwQ2FudmFzKCkge1xyXG4gICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcclxuICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHdpbmRvdy5zY3JlZW4ud2lkdGggPiAxMDgwID8gNzY4IDogd2luZG93LmlubmVyV2lkdGg7XHJcbiAgICB9XHJcbiAgICBjcmVhdGVEYXRhTW9kYWwoZGF0YSkge1xyXG4gICAgICAgIHJldHVybiBuZXcgRGF0YU1vZGFsKGRhdGEudGl0bGUsIGRhdGEuT3RoZXJBdWRpb3MsIGRhdGEuTGV2ZWxzLCBkYXRhLkZlZWRiYWNrVGV4dHMsIGRhdGEuUmlnaHRUb0xlZnQsIGRhdGEuRmVlZGJhY2tBdWRpb3MsIGRhdGEubWFqdmVyc2lvbiwgZGF0YS5taW52ZXJzaW9uLCBkYXRhLnZlcnNpb24pO1xyXG4gICAgfVxyXG4gICAgZ2xvYmFsSW5pdGlhbGl6YXRpb24oZGF0YSkge1xyXG4gICAgICAgIGdsb2JhbFRoaXMuYWJvdXRDb21wYW55ID0gZGF0YS5hYm91dENvbXBhbnk7XHJcbiAgICAgICAgZ2xvYmFsVGhpcy5kZXNjcmlwdGlvblRleHQgPSBkYXRhLmRlc2NyaXB0aW9uVGV4dDtcclxuICAgIH1cclxuICAgIGhhbmRsZVJlc2l6ZShkYXRhTW9kYWwpIHtcclxuICAgICAgICBpZiAodGhpcy5pc19jYWNoZWQuaGFzKHRoaXMubGFuZykpIHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVWZXJzaW9uSW5mb0VsZW1lbnQoZGF0YU1vZGFsKTtcclxuICAgICAgICAgICAgdGhpcy5zZXR1cENhbnZhcygpO1xyXG4gICAgICAgICAgICB0aGlzLnJlaW5pdGlhbGl6ZVNjZW5lSGFuZGxlcihkYXRhTW9kYWwpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHVwZGF0ZVZlcnNpb25JbmZvRWxlbWVudChkYXRhTW9kYWwpIHtcclxuICAgICAgICBpZiAodGhpcy5pc19jYWNoZWQuaGFzKHRoaXMubGFuZykgJiYgRGVidWdnZXIuRGV2ZWxvcG1lbnRMaW5rKSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhTW9kYWwubWFqVmVyc2lvbiAmJiBkYXRhTW9kYWwubWluVmVyc2lvbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy52ZXJzaW9uSW5mb0VsZW1lbnQuaW5uZXJIVE1MICs9IGAvai52JHtkYXRhTW9kYWwubWFqVmVyc2lvbn0uJHtkYXRhTW9kYWwubWluVmVyc2lvbn1gO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGRhdGFNb2RhbC52ZXJzaW9uKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZlcnNpb25JbmZvRWxlbWVudC5pbm5lckhUTUwgKz0gYC9qLnYke2RhdGFNb2RhbC52ZXJzaW9ufWA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0b2dnbGUtYnRuXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmVpbml0aWFsaXplU2NlbmVIYW5kbGVyKGRhdGFNb2RhbCkge1xyXG4gICAgICAgIGRlbGV0ZSB0aGlzLnNjZW5lSGFuZGxlcjtcclxuICAgICAgICB0aGlzLnNjZW5lSGFuZGxlciA9IG5ldyBTY2VuZUhhbmRsZXIodGhpcy5jYW52YXMsIGRhdGFNb2RhbCk7XHJcbiAgICAgICAgdGhpcy5wYXNzaW5nRGF0YVRvQ29udGFpbmVyKCk7XHJcbiAgICB9XHJcbiAgICBoYW5kbGVDYWNoZWRTY2VuYXJpbyhkYXRhTW9kYWwpIHtcclxuICAgICAgICB0aGlzLnVwZGF0ZVZlcnNpb25JbmZvRWxlbWVudChkYXRhTW9kYWwpO1xyXG4gICAgICAgIHRoaXMuc2NlbmVIYW5kbGVyID0gbmV3IFNjZW5lSGFuZGxlcih0aGlzLmNhbnZhcywgZGF0YU1vZGFsKTtcclxuICAgICAgICB0aGlzLnBhc3NpbmdEYXRhVG9Db250YWluZXIoKTtcclxuICAgIH1cclxuICAgIHBhc3NpbmdEYXRhVG9Db250YWluZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKHdpbmRvdy5BbmRyb2lkKSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5BbmRyb2lkLmNhY2hlZFN0YXR1cyh0aGlzLmlzX2NhY2hlZC5nZXQodGhpcy5sYW5nKSA9PSB0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgc2V0Q29udGFpbmVyQXBwT3JpZW50YXRpb24oKSB7XHJcbiAgICAgICAgaWYgKHdpbmRvdy5BbmRyb2lkKSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5BbmRyb2lkLnNldENvbnRhaW5lckFwcE9yaWVudGF0aW9uKFwicG9ydHJhaXRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaGFuZGxlVXBkYXRlRm91bmRNZXNzYWdlKCkge1xyXG4gICAgICAgIGxldCB0ZXh0ID0gXCJVcGRhdGUgRm91bmRcXG5QcmVzcyBvayB0byB1cGRhdGVcIjtcclxuICAgICAgICBjb25zdCB1c2VyQ29uZmlybWVkID0gY29uZmlybSh0ZXh0KTtcclxuICAgICAgICBpZiAodXNlckNvbmZpcm1lZCkge1xyXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaGFuZGxlTG9hZGluZ01lc3NhZ2UgPSAoZGF0YSkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnByb2dyZXNzQmFyQ29udGFpbmVyICYmIHRoaXMucHJvZ3Jlc3NCYXIpIHtcclxuICAgICAgICAgICAgdGhpcy5zaG93UHJvZ3Jlc3NCYXIoKTtcclxuICAgICAgICAgICAgY29uc3QgcHJvZ3Jlc3NWYWx1ZSA9IE1hdGgubWluKDEwMCwgTWF0aC5tYXgoMCwgZGF0YS5kYXRhKSk7IC8vIEVuc3VyZSBwcm9ncmVzcyBpcyBiZXR3ZWVuIDAgYW5kIDEwMFxyXG4gICAgICAgICAgICAvLyBPbmx5IHVwZGF0ZSBpZiBuZXcgcHJvZ3Jlc3MgaXMgZ3JlYXRlciB0aGFuIHRoZSBjdXJyZW50IHByb2dyZXNzXHJcbiAgICAgICAgICAgIGlmIChwcm9ncmVzc1ZhbHVlID4gdGhpcy5jdXJyZW50UHJvZ3Jlc3MpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFByb2dyZXNzID0gcHJvZ3Jlc3NWYWx1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvZ3Jlc3NCYXIuc3R5bGUud2lkdGggPSBgJHt0aGlzLmN1cnJlbnRQcm9ncmVzc30lYDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBkb3dubG9hZCBjb21wbGV0ZWRcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNEb3dubG9hZENvbXBsZXRlZCh0aGlzLmN1cnJlbnRQcm9ncmVzcykpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FjaGVMYW5ndWFnZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kQ29tcGxldGlvbkV2ZW50KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhpZGVMb2FkaW5nU2NyZWVuKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLy9TaG93cyB0aGUgcHJvZ3Jlc3MgYmFyLlxyXG4gICAgc2hvd1Byb2dyZXNzQmFyKCkge1xyXG4gICAgICAgIHRoaXMucHJvZ3Jlc3NCYXJDb250YWluZXIuY2xhc3NMaXN0LmFkZChcInZpc2libGVcIik7XHJcbiAgICAgICAgdGhpcy5wcm9ncmVzc0Jhci5jbGFzc0xpc3QuYWRkKFwidmlzaWJsZVwiKTtcclxuICAgIH1cclxuICAgIC8vQ2hlY2tzIGlmIGRvd25sb2FkIGlzIGNvbXBsZXRlZC5cclxuICAgIGlzRG93bmxvYWRDb21wbGV0ZWQocHJvZ3Jlc3MpIHtcclxuICAgICAgICByZXR1cm4gcHJvZ3Jlc3MgPT09IDEwMCAmJiAhdGhpcy5pc19jYWNoZWQuZ2V0KHRoaXMubGFuZyk7XHJcbiAgICB9XHJcbiAgICAvL0hhbmRsZXMgY2FjaGluZy5cclxuICAgIGNhY2hlTGFuZ3VhZ2UoKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5pc19jYWNoZWQuc2V0KHRoaXMubGFuZywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKElzQ2FjaGVkLCBKU09OLnN0cmluZ2lmeShBcnJheS5mcm9tKHRoaXMuaXNfY2FjaGVkLmVudHJpZXMoKSkpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBjYWNoaW5nIGxhbmd1YWdlOlwiLCBlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gSGFuZGxlcyBFdmVudCBzZW5kaW5nLlxyXG4gICAgc2VuZENvbXBsZXRpb25FdmVudCgpIHtcclxuICAgICAgICBjb25zdCBkb3dubG9hZENvbXBsZXRlZCA9IHtcclxuICAgICAgICAgICAgY3JfdXNlcl9pZDogcHNldWRvSWQsXHJcbiAgICAgICAgICAgIGZ0bV9sYW5ndWFnZTogbGFuZyxcclxuICAgICAgICAgICAgcHJvZmlsZV9udW1iZXI6IDAsXHJcbiAgICAgICAgICAgIHZlcnNpb25fbnVtYmVyOiB0aGlzLnZlcnNpb25JbmZvRWxlbWVudC5pbm5lckhUTUwsXHJcbiAgICAgICAgICAgIGpzb25fdmVyc2lvbl9udW1iZXI6IHRoaXMuZ2V0SnNvblZlcnNpb25OdW1iZXIoKSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuZmlyZWJhc2VJbnRlZ3JhdGlvbi5zZW5kRG93bmxvYWRDb21wbGV0ZWRFdmVudChkb3dubG9hZENvbXBsZXRlZCk7XHJcbiAgICB9XHJcbiAgICBnZXRKc29uVmVyc2lvbk51bWJlcigpIHtcclxuICAgICAgICByZXR1cm4gISF0aGlzLm1halZlcnNpb24gJiYgISF0aGlzLm1pblZlcnNpb25cclxuICAgICAgICAgICAgPyB0aGlzLm1halZlcnNpb24gKyBcIi5cIiArIHRoaXMubWluVmVyc2lvblxyXG4gICAgICAgICAgICA6IFwiXCI7XHJcbiAgICB9XHJcbiAgICAvL0hpZGVzIHRoZSBsb2FkaW5nIHNjcmVlbi5cclxuICAgIGhpZGVMb2FkaW5nU2NyZWVuKCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwidmVyc2lvblwiICsgdGhpcy5sYW5nLCB0aGlzLmdldEpzb25WZXJzaW9uTnVtYmVyKCkpO1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRpbmdFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVSZXNpemUodGhpcy5kYXRhTW9kYWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGhpZGluZyBsb2FkaW5nIHNjcmVlbjpcIiwgZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGhhbmRsZVNlcnZpY2VXb3JrZXJNZXNzYWdlID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKGV2ZW50LmRhdGEubXNnID09PSBcIkxvYWRpbmdcIikge1xyXG4gICAgICAgICAgICB0aGlzLmhhbmRsZUxvYWRpbmdNZXNzYWdlKGV2ZW50LmRhdGEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChldmVudC5kYXRhLm1zZyA9PT0gXCJVcGRhdGUgRm91bmRcIikge1xyXG4gICAgICAgICAgICB0aGlzLmhhbmRsZVVwZGF0ZUZvdW5kTWVzc2FnZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlID0gKCkgPT4ge1xyXG4gICAgICAgIGlmIChpc0RvY3VtZW50VmlzaWJsZSgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nU2Vzc2lvblN0YXJ0RmlyZWJhc2VFdmVudCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dTZXNzaW9uRW5kRmlyZWJhc2VFdmVudCgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBoYW5kbGVCZWZvcmVVbmxvYWQgPSBhc3luYyAoZXZlbnQpID0+IHtcclxuICAgICAgICB0aGlzLmxvZ1Nlc3Npb25FbmRGaXJlYmFzZUV2ZW50KCk7XHJcbiAgICAgICAgdGhpcy5kaXNwb3NlKCk7XHJcbiAgICB9O1xyXG4gICAgcHJlbG9hZEdhbWVBdWRpb3MgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgbGV0IGF1ZGlvVXJscyA9IEFVRElPX1VSTF9QUkVMT0FEO1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHByZWxvYWRQcm9taXNlcyA9IGF1ZGlvVXJscy5tYXAoKGF1ZGlvU3JjKSA9PiBuZXcgQXVkaW9QbGF5ZXIoKS5wcmVsb2FkR2FtZUF1ZGlvKGF1ZGlvU3JjKSk7XHJcbiAgICAgICAgICAgIFByb21pc2UuYWxsKHByZWxvYWRQcm9taXNlcylcclxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHJlc29sdmUoKSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBwcmVsb2FkaW5nIGF1ZGlvOlwiLCBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvLyBBZGQgdGhlIGRpc3Bvc2UgbWV0aG9kXHJcbiAgICBkaXNwb3NlKCkge1xyXG4gICAgICAgIHRoaXMuY2hhbm5lbC5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCB0aGlzLmhhbmRsZVNlcnZpY2VXb3JrZXJNZXNzYWdlKTtcclxuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLCB0aGlzLmhhbmRsZUJlZm9yZVVubG9hZCk7XHJcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihWSVNJQklMSVRZX0NIQU5HRSwgdGhpcy5oYW5kbGVWaXNpYmlsaXR5Q2hhbmdlKTtcclxuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB0aGlzLmhhbmRsZVJlc2l6ZSk7XHJcbiAgICAgICAgaWYgKG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyKSB7XHJcbiAgICAgICAgICAgIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIHRoaXMuaGFuZGxlU2VydmljZVdvcmtlck1lc3NhZ2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBQZXJmb3JtIGFkZGl0aW9uYWwgY2xlYW51cCBpZiBuZWNlc3NhcnlcclxuICAgIH1cclxufVxyXG5jb25zdCBhcHAgPSBuZXcgQXBwKGxhbmcpO1xyXG4iXSwibmFtZXMiOlsiQ09OU1RBTlRTIiwiTk9ERV9DTElFTlQiLCJOT0RFX0FETUlOIiwiU0RLX1ZFUlNJT04iLCJhc3NlcnQiLCJhc3NlcnRpb24iLCJtZXNzYWdlIiwiYXNzZXJ0aW9uRXJyb3IiLCJFcnJvciIsInN0cmluZ1RvQnl0ZUFycmF5JDEiLCJzdHIiLCJvdXQiLCJwIiwiaSIsImxlbmd0aCIsImMiLCJjaGFyQ29kZUF0IiwiYmFzZTY0IiwiYnl0ZVRvQ2hhck1hcF8iLCJjaGFyVG9CeXRlTWFwXyIsImJ5dGVUb0NoYXJNYXBXZWJTYWZlXyIsImNoYXJUb0J5dGVNYXBXZWJTYWZlXyIsIkVOQ09ERURfVkFMU19CQVNFIiwiRU5DT0RFRF9WQUxTIiwidGhpcyIsIkVOQ09ERURfVkFMU19XRUJTQUZFIiwiSEFTX05BVElWRV9TVVBQT1JUIiwiYXRvYiIsImVuY29kZUJ5dGVBcnJheSIsImlucHV0Iiwid2ViU2FmZSIsIkFycmF5IiwiaXNBcnJheSIsImluaXRfIiwiYnl0ZVRvQ2hhck1hcCIsIm91dHB1dCIsImJ5dGUxIiwiaGF2ZUJ5dGUyIiwiYnl0ZTIiLCJoYXZlQnl0ZTMiLCJieXRlMyIsIm91dEJ5dGUxIiwib3V0Qnl0ZTIiLCJvdXRCeXRlMyIsIm91dEJ5dGU0IiwicHVzaCIsImpvaW4iLCJlbmNvZGVTdHJpbmciLCJidG9hIiwiZGVjb2RlU3RyaW5nIiwiYnl0ZXMiLCJwb3MiLCJjMSIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsImMyIiwidSIsImMzIiwiYnl0ZUFycmF5VG9TdHJpbmciLCJkZWNvZGVTdHJpbmdUb0J5dGVBcnJheSIsImNoYXJUb0J5dGVNYXAiLCJjaGFyQXQiLCJieXRlNCIsIkRlY29kZUJhc2U2NFN0cmluZ0Vycm9yIiwiY29uc3RydWN0b3IiLCJzdXBlciIsImFyZ3VtZW50cyIsIm5hbWUiLCJiYXNlNjRFbmNvZGUiLCJ1dGY4Qnl0ZXMiLCJiYXNlNjR1cmxFbmNvZGVXaXRob3V0UGFkZGluZyIsInJlcGxhY2UiLCJiYXNlNjREZWNvZGUiLCJlIiwiY29uc29sZSIsImVycm9yIiwiZGVlcENvcHkiLCJ2YWx1ZSIsImRlZXBFeHRlbmQiLCJ1bmRlZmluZWQiLCJ0YXJnZXQiLCJzb3VyY2UiLCJPYmplY3QiLCJEYXRlIiwiZ2V0VGltZSIsInByb3AiLCJoYXNPd25Qcm9wZXJ0eSIsImdldEdsb2JhbCIsInNlbGYiLCJ3aW5kb3ciLCJnIiwiZ2V0RGVmYXVsdHMiLCJfX0ZJUkVCQVNFX0RFRkFVTFRTX18iLCJwcm9jZXNzIiwiZW52IiwiZGVmYXVsdHNKc29uU3RyaW5nIiwiSlNPTiIsInBhcnNlIiwiZ2V0RGVmYXVsdHNGcm9tRW52VmFyaWFibGUiLCJkb2N1bWVudCIsIm1hdGNoIiwiY29va2llIiwiZGVjb2RlZCIsImdldERlZmF1bHRzRnJvbUNvb2tpZSIsImluZm8iLCJnZXREZWZhdWx0RW11bGF0b3JIb3N0IiwicHJvZHVjdE5hbWUiLCJfYSIsIl9iIiwiZW11bGF0b3JIb3N0cyIsImdldERlZmF1bHRFbXVsYXRvckhvc3RuYW1lQW5kUG9ydCIsImhvc3QiLCJzZXBhcmF0b3JJbmRleCIsImxhc3RJbmRleE9mIiwicG9ydCIsInBhcnNlSW50Iiwic3Vic3RyaW5nIiwiZ2V0RGVmYXVsdEFwcENvbmZpZyIsImNvbmZpZyIsImdldEV4cGVyaW1lbnRhbFNldHRpbmciLCJEZWZlcnJlZCIsInJlamVjdCIsInJlc29sdmUiLCJwcm9taXNlIiwiUHJvbWlzZSIsIndyYXBDYWxsYmFjayIsImNhbGxiYWNrIiwiY2F0Y2giLCJjcmVhdGVNb2NrVXNlclRva2VuIiwidG9rZW4iLCJwcm9qZWN0SWQiLCJ1aWQiLCJwcm9qZWN0IiwiaWF0Iiwic3ViIiwidXNlcl9pZCIsInBheWxvYWQiLCJhc3NpZ24iLCJpc3MiLCJhdWQiLCJleHAiLCJhdXRoX3RpbWUiLCJmaXJlYmFzZSIsInNpZ25faW5fcHJvdmlkZXIiLCJpZGVudGl0aWVzIiwic3RyaW5naWZ5IiwiYWxnIiwidHlwZSIsImdldFVBIiwibmF2aWdhdG9yIiwiaXNNb2JpbGVDb3Jkb3ZhIiwidGVzdCIsImlzTm9kZSIsImZvcmNlRW52aXJvbm1lbnQiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsImNhbGwiLCJpc0Jyb3dzZXIiLCJpc0Jyb3dzZXJFeHRlbnNpb24iLCJydW50aW1lIiwiY2hyb21lIiwiYnJvd3NlciIsImlkIiwiaXNSZWFjdE5hdGl2ZSIsImlzRWxlY3Ryb24iLCJpbmRleE9mIiwiaXNJRSIsInVhIiwiaXNVV1AiLCJpc05vZGVTZGsiLCJpc1NhZmFyaSIsInVzZXJBZ2VudCIsImluY2x1ZGVzIiwiaXNJbmRleGVkREJBdmFpbGFibGUiLCJpbmRleGVkREIiLCJ2YWxpZGF0ZUluZGV4ZWREQk9wZW5hYmxlIiwicHJlRXhpc3QiLCJEQl9DSEVDS19OQU1FIiwicmVxdWVzdCIsIm9wZW4iLCJvbnN1Y2Nlc3MiLCJyZXN1bHQiLCJjbG9zZSIsImRlbGV0ZURhdGFiYXNlIiwib251cGdyYWRlbmVlZGVkIiwib25lcnJvciIsImFyZUNvb2tpZXNFbmFibGVkIiwiY29va2llRW5hYmxlZCIsIkZpcmViYXNlRXJyb3IiLCJjb2RlIiwiY3VzdG9tRGF0YSIsInNldFByb3RvdHlwZU9mIiwiY2FwdHVyZVN0YWNrVHJhY2UiLCJFcnJvckZhY3RvcnkiLCJjcmVhdGUiLCJzZXJ2aWNlIiwic2VydmljZU5hbWUiLCJlcnJvcnMiLCJkYXRhIiwiZnVsbENvZGUiLCJ0ZW1wbGF0ZSIsIlBBVFRFUk4iLCJfIiwia2V5IiwicmVwbGFjZVRlbXBsYXRlIiwiZnVsbE1lc3NhZ2UiLCJqc29uRXZhbCIsImRlY29kZSIsImhlYWRlciIsImNsYWltcyIsInNpZ25hdHVyZSIsInBhcnRzIiwic3BsaXQiLCJpc1ZhbGlkVGltZXN0YW1wIiwibm93IiwiTWF0aCIsImZsb29yIiwidmFsaWRTaW5jZSIsInZhbGlkVW50aWwiLCJpc3N1ZWRBdFRpbWUiLCJpc1ZhbGlkRm9ybWF0IiwiaXNBZG1pbiIsImNvbnRhaW5zIiwib2JqIiwic2FmZUdldCIsImlzRW1wdHkiLCJtYXAiLCJmbiIsImNvbnRleHRPYmoiLCJyZXMiLCJkZWVwRXF1YWwiLCJhIiwiYiIsImFLZXlzIiwia2V5cyIsImJLZXlzIiwiayIsImFQcm9wIiwiYlByb3AiLCJpc09iamVjdCIsInRoaW5nIiwicHJvbWlzZVdpdGhUaW1lb3V0IiwidGltZUluTVMiLCJkZWZlcnJlZFByb21pc2UiLCJzZXRUaW1lb3V0IiwidGhlbiIsInF1ZXJ5c3RyaW5nIiwicXVlcnlzdHJpbmdQYXJhbXMiLCJwYXJhbXMiLCJlbnRyaWVzIiwiZm9yRWFjaCIsImFycmF5VmFsIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwicXVlcnlzdHJpbmdEZWNvZGUiLCJkZWNvZGVVUklDb21wb25lbnQiLCJleHRyYWN0UXVlcnlzdHJpbmciLCJ1cmwiLCJxdWVyeVN0YXJ0IiwiZnJhZ21lbnRTdGFydCIsIlNoYTEiLCJjaGFpbl8iLCJidWZfIiwiV18iLCJwYWRfIiwiaW5idWZfIiwidG90YWxfIiwiYmxvY2tTaXplIiwicmVzZXQiLCJjb21wcmVzc18iLCJidWYiLCJvZmZzZXQiLCJXIiwidCIsImYiLCJkIiwidXBkYXRlIiwibGVuZ3RoTWludXNCbG9jayIsIm4iLCJpbmJ1ZiIsImRpZ2VzdCIsInRvdGFsQml0cyIsImoiLCJjcmVhdGVTdWJzY3JpYmUiLCJleGVjdXRvciIsIm9uTm9PYnNlcnZlcnMiLCJwcm94eSIsIk9ic2VydmVyUHJveHkiLCJzdWJzY3JpYmUiLCJiaW5kIiwib2JzZXJ2ZXJzIiwidW5zdWJzY3JpYmVzIiwib2JzZXJ2ZXJDb3VudCIsInRhc2siLCJmaW5hbGl6ZWQiLCJuZXh0IiwiZm9yRWFjaE9ic2VydmVyIiwib2JzZXJ2ZXIiLCJjb21wbGV0ZSIsIm5leHRPck9ic2VydmVyIiwibWV0aG9kcyIsIm1ldGhvZCIsImltcGxlbWVudHNBbnlNZXRob2RzIiwibm9vcCIsInVuc3ViIiwidW5zdWJzY3JpYmVPbmUiLCJmaW5hbEVycm9yIiwic2VuZE9uZSIsImVyciIsImFzeW5jIiwib25FcnJvciIsImFyZ3MiLCJ2YWxpZGF0ZUFyZ0NvdW50IiwiZm5OYW1lIiwibWluQ291bnQiLCJtYXhDb3VudCIsImFyZ0NvdW50IiwiYXJnRXJyb3IiLCJlcnJvclByZWZpeCIsImFyZ05hbWUiLCJ2YWxpZGF0ZU5hbWVzcGFjZSIsIm5hbWVzcGFjZSIsIm9wdGlvbmFsIiwidmFsaWRhdGVDYWxsYmFjayIsImFyZ3VtZW50TmFtZSIsInZhbGlkYXRlQ29udGV4dE9iamVjdCIsImNvbnRleHQiLCJzdHJpbmdUb0J5dGVBcnJheSIsImhpZ2giLCJzdHJpbmdMZW5ndGgiLCJ1dWlkdjQiLCJyIiwicmFuZG9tIiwiREVGQVVMVF9JTlRFUlZBTF9NSUxMSVMiLCJERUZBVUxUX0JBQ0tPRkZfRkFDVE9SIiwiTUFYX1ZBTFVFX01JTExJUyIsIlJBTkRPTV9GQUNUT1IiLCJjYWxjdWxhdGVCYWNrb2ZmTWlsbGlzIiwiYmFja29mZkNvdW50IiwiaW50ZXJ2YWxNaWxsaXMiLCJiYWNrb2ZmRmFjdG9yIiwiY3VyckJhc2VWYWx1ZSIsInBvdyIsInJhbmRvbVdhaXQiLCJyb3VuZCIsIm1pbiIsIm9yZGluYWwiLCJOdW1iZXIiLCJpc0Zpbml0ZSIsImFicyIsImNlbnQiLCJkZWMiLCJpbmRpY2F0b3IiLCJnZXRNb2R1bGFySW5zdGFuY2UiLCJfZGVsZWdhdGUiLCJCYXNlRmlyZWJhc2VJbnRlZ3JhdGlvbiIsImZpcmViYXNlQXBwIiwiYW5hbHl0aWNzIiwiaW5pdGlhbGl6ZUZpcmViYXNlIiwiY3VzdG9tRXZlbnRzIiwiZXZlbnROYW1lIiwiZXZlbnQiLCJsb2dFdmVudCIsInNlc3Npb25FbmQiLCJvbkxpbmUiLCJpbml0aWFsaXplQXBwIiwiZmlyZWJhc2VDb25maWciLCJnZXRBbmFseXRpY3MiLCJhcGlLZXkiLCJhdXRoRG9tYWluIiwiZGF0YWJhc2VVUkwiLCJzdG9yYWdlQnVja2V0IiwibWVzc2FnaW5nU2VuZGVySWQiLCJhcHBJZCIsIm1lYXN1cmVtZW50SWQiLCJGaXJlYmFzZUludGVncmF0aW9uIiwic3RhdGljIiwiZ2V0SW5zdGFuY2UiLCJpbnN0YW5jZSIsInNlbmRTZXNzaW9uU3RhcnRFdmVudCIsInNlbmRTZXNzaW9uRW5kRXZlbnQiLCJzZW5kU2VsZWN0ZWRMZXZlbEV2ZW50Iiwic2VuZFRhcHBlZFN0YXJ0RXZlbnQiLCJzZW5kUHV6emxlQ29tcGxldGVkRXZlbnQiLCJzZW5kTGV2ZWxDb21wbGV0ZWRFdmVudCIsInNlbmRVc2VyQ2xpY2tlZE9uUGxheUV2ZW50IiwiY2xpY2siLCJzZW5kRG93bmxvYWRDb21wbGV0ZWRFdmVudCIsIkxPQURQVVpaTEUiLCJTVE9ORURST1AiLCJNT1VTRU1PVkUiLCJNT1VTRURPV04iLCJNT1VTRVVQIiwiVE9VQ0hTVEFSVCIsIlRPVUNITU9WRSIsIlRPVUNIRU5EIiwiQ0xJQ0siLCJWSVNJQklMSVRZX0NIQU5HRSIsInVybFBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsImxvY2F0aW9uIiwic2VhcmNoIiwicHNldWRvSWQiLCJnZXQiLCJsYW5nIiwiZm9udCIsIlV0aWxzIiwiZ2V0TGFuZ3VhZ2VTcGVjaWZpY0ZvbnQiLCJEZWJ1Z2dlciIsIkRldmVsb3BtZW50TGluayIsImhyZWYiLCJEZXZlbG9wbWVudFNlcnZlciIsIkRlYnVnTW9kZSIsIlN0b25lQ29uZmlnIiwieCIsInkiLCJvcmlneCIsIm9yaWd5IiwidGV4dCIsImltZyIsImltYWdlU2l6ZSIsInRleHRGb250U2l6ZSIsImNhbnZhc1dpZHRoIiwiY2FudmFzSGVpZ2h0IiwiaW1hZ2VDZW50ZXJPZmZzZXRYIiwiaW1hZ2VDZW50ZXJPZmZzZXRZIiwidHV0b3JpYWxJbnN0YW5jZSIsInRpbWVyVGlja2luZ0luc3RhbmNlIiwiZnJhbWUiLCJzdG9uZUxldHRlciIsInhQb3MiLCJ5UG9zIiwiY2FsY3VsYXRlSW1hZ2VBbmRGb250U2l6ZSIsIm1lYXN1cmVUZXh0Iiwid2lkdGgiLCJnZXRFYXNlIiwiY3VycmVudFByb2dyZXNzIiwic3RhcnQiLCJkaXN0YW5jZSIsInN0ZXBzIiwiY29zIiwiUEkiLCJnZXRYIiwiZ2V0WSIsImFkanVzdFNpemUiLCJzaG91bGRSZXNpemUiLCJudW0iLCJkcmF3IiwiZGVsdGFUaW1lIiwiZmlsbFN0eWxlIiwic2hhZG93Q29sb3IiLCJzaGFkb3dCbHVyIiwic2hhZG93T2Zmc2V0WCIsInNoYWRvd09mZnNldFkiLCJkcmF3SW1hZ2UiLCJ0ZXh0QWxpZ24iLCJmaWxsVGV4dCIsImdldENvbnZlcnRlZERldlByb2RVUkwiLCJzbGljZSIsIlVybFN1YnN0cmluZyIsImxhbmd1YWdlIiwibG93ZXJDYXNlTGFuZ3VhZ2UiLCJ0b0xvd2VyQ2FzZSIsImxhbmd1YWdlRm9udE1hcHBpbmciLCJsb2ciLCJnZXRSYW5kb21OdW1iZXIiLCJtYXgiLCJnZXRFeGNsdWRlZENvb3JkaW5hdGVzIiwiY2FudmFzIiwiZXhjbHVzaW9uUGVyY2VudGFnZSIsImV4Y2x1ZGVYIiwiZXhjbHVkZVkiLCJoZWlnaHQiLCJjcmVhdGVSaXBwbGVFZmZlY3QiLCJjdHgiLCJjZW50ZXJYIiwiY2VudGVyWSIsIm91dGVyUmFkaXVzIiwiaW5uZXJSYWRpdXMiLCJyZXN0YXJ0IiwiYmVnaW5QYXRoIiwiYXJjIiwic3Ryb2tlU3R5bGUiLCJsaW5lV2lkdGgiLCJzdHJva2UiLCJjbG9zZVBhdGgiLCJsb2FkSW1hZ2VzIiwic291cmNlcyIsImltYWdlcyIsImxvYWRlZEltYWdlcyIsIm51bUltYWdlcyIsInNyYyIsIkltYWdlIiwib25sb2FkIiwic3luY0xvYWRpbmdJbWFnZXMiLCJsb2FkSW1nUHJvbWlzZXMiLCJhcnJLZXkiLCJpbWFnZSIsIm5ld0ltYWdlIiwiY3JlYXRlSW1nIiwiYWxsIiwicmVkdWNlIiwiYWNjdW11bGF0b3IiLCJjdXJyZW50IiwiaXNDbGlja0luc2lkZUJ1dHRvbiIsInhDbGljayIsInlDbGljayIsImJ1dHRvblgiLCJidXR0b25ZIiwiYnV0dG9uV2lkdGgiLCJidXR0b25IZWlnaHQiLCJpc0NpcmN1bGFyIiwic3FydCIsImlzRG9jdW1lbnRWaXNpYmxlIiwidmlzaWJpbGl0eVN0YXRlIiwidG9nZ2xlRGVidWdNb2RlIiwidG9nZ2xlQnRuIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiaXNPbiIsImlubmVyVGV4dCIsImhpZGVFbGVtZW50IiwiaXNIaWRlIiwiZWxlbWVudCIsInJlbW92ZSIsImFkZCIsIkF1ZGlvUGxheWVyIiwiYXVkaW9Db250ZXh0Iiwic291cmNlTm9kZSIsImF1ZGlvUXVldWUiLCJwcm9tcHRBdWRpb0J1ZmZlciIsImNsaWNrU291bmRCdWZmZXIiLCJNYXAiLCJhdWRpb1NvdXJjcyIsImlzQ2xpY2tTb3VuZExvYWRlZCIsIkF1ZGlvQ29udGV4dE1hbmFnZXIiLCJnZXRBdWRpb0NvbnRleHQiLCJwbGF5QnV0dG9uQ2xpY2tTb3VuZCIsImF1ZGlvU3JjIiwiQVVESU9fUEFUSF9CVE5fQ0xJQ0siLCJsb2FkQW5kRGVjb2RlQXVkaW8iLCJhdWRpb0J1ZmZlcnMiLCJzZXQiLCJjcmVhdGVCdWZmZXJTb3VyY2UiLCJidWZmZXIiLCJjb25uZWN0IiwiZGVzdGluYXRpb24iLCJyZXNwb25zZSIsImZldGNoIiwiYXJyYXlCdWZmZXIiLCJkZWNvZGVBdWRpb0RhdGEiLCJwcmVsb2FkUHJvbXB0QXVkaW8iLCJhdWRpb0J1ZmZlciIsInByZWxvYWRHYW1lQXVkaW8iLCJoYXMiLCJwbGF5QXVkaW8iLCJwbGF5RmVlZGJhY2tBdWRpb3MiLCJsb29wIiwiZmlsZVVybCIsInBsYXlGZXRjaCIsInBsYXlQcm9tcHRBdWRpbyIsInN0b3BGZWVkYmFja0F1ZGlvIiwic3RvcCIsInN0b3BBbGxBdWRpb3MiLCJpbmRleCIsIm9uZW5kZWQiLCJoYW5kbGVBdWRpb0VuZGVkIiwiZGlzY29ubmVjdCIsIkF1ZGlvQ29udGV4dCIsIndlYmtpdEF1ZGlvQ29udGV4dCIsImJnSW1nIiwiREVGQVVMVF9CQUNLR1JPVU5EXzEiLCJoaWxsSW1nIiwiQVNTRVRTX1BBVEhfSElMTCIsInBpbGxlckltZyIsIkFTU0VUU19QQVRIX1RPVEVNIiwiZmVuY2hJbWciLCJBU1NFVFNfUEFUSF9GRU5DRSIsImF1dHVtbkJnSW1nIiwiQVVUVU1OX0JBQ0tHUk9VTkRfMSIsImF1dHVtbkhpbGxJbWciLCJBVVRVTU5fSElMTF8xIiwiYXV0dW1uUGlsbGVySW1nIiwiQVVUVU1OX1BJTExBUl8xIiwiYXV0dW1uU2lnbkltZyIsIkFVVFVNTl9TSUdOXzEiLCJhdXR1bW5GZW5jZUltZyIsIkFVVFVNTl9GRU5DRV8xIiwid2ludGVyQmdJbWciLCJXSU5URVJfQkFDS0dST1VORF8xIiwid2ludGVySGlsbEltZyIsIldJTlRFUl9ISUxMXzEiLCJ3aW50ZXJTaWduSW1nIiwiV0lOVEVSX1NJR05fMSIsIndpbnRlckZlbmNlSW1nIiwiV0lOVEVSX0ZFTkNFXzEiLCJ3aW50ZXJQaWxsZXJJbWciLCJXSU5URVJfUElMTEFSXzEiLCJCYWNrZ3JvdW5kIiwiaW1hZ2VzTG9hZGVkIiwibGV2ZWxOdW1iZXIiLCJhdmFpbGFibGVCYWNrZ3JvdW5kVHlwZXMiLCJiYWNrZ3JvdW5kVHlwZSIsIkNhbmNlbEJ1dHRvbiIsInBvc1giLCJwb3NZIiwiY2FuY2VsX2J1dHRvbl9pbWFnZSIsImJ0blNpemVBbmltYXRpb24iLCJidG5PcmlnaW5hbFNpemUiLCJvcmlnbmFsUG9zIiwiQ0FOQ0VMX0JUTl9JTUciLCJvbkNsaWNrIiwiaXNJbnNpZGUiLCJDbG9zZUJ1dHRvbiIsImNsb3NlX2J1dHRvbl9pbWFnZSIsIk1BUF9CVE5fSU1HIiwiTGV2ZWxCbG9vbkJ1dHRvbiIsImxldmVsRGF0YSIsIm9yaWdpbmFsUG9zWCIsIm9yaWdpbmFsUG9zWSIsInNpemUiLCJyYWRpdXNPZmZTZXQiLCJibG9vblNpemUiLCJidG5TaXplIiwibG9ja1NpemUiLCJpc0xldmVsU3BlY2lhbCIsImlzU3BlY2lhbExldmVsIiwiU1BFQ0lBTF9MRVZFTFMiLCJpc1NwZWNpYWwiLCJsZXZlbFNlbGVjdGlvblBhZ2VJbmRleCIsInVubG9ja0xldmVsSW5kZXgiLCJnYW1lTGV2ZWxEYXRhIiwidG90YWxHYW1lTGV2ZWxzIiwiYmFsbG9vbkltZyIsImRyYXdJY29ucyIsImFwcGx5UHVsc2VFZmZlY3QiLCJHcm93UGhhc2VUaHJlc2hvbGQiLCJhbmltYXRpb25Qcm9ncmVzcyIsImdyb3dQaGFzZSIsInByb2dyZXNzIiwic2hhZG93U2l6ZSIsInNoYWRvd09wYWNpdHkiLCJzY2FsZVgiLCJzY2FsZVkiLCJyYWRpdXMiLCJzY2FsZVJhZGl1cyIsInNhdmUiLCJmaWxsIiwicmVzdG9yZSIsInBhZ2VJbmRleCIsImRyYXdMb2NrIiwiY2hlY2tTdGFycyIsInN0YXJDb3VudCIsImxvY2tJbWciLCJkcmF3U3RhciIsInN0YXJJbWciLCJjYWxsQmFjayIsIk5leHRCdXR0b24iLCJuZXh0X2J1dHRvbl9pbWFnZSIsIk5FWFRfQlROX0lNRyIsIk5vQnV0dG9uIiwibm9fYnV0dG9uX2ltYWdlIiwiUGF1c2VCdXR0b24iLCJwYXVzZV9idXR0b25faW1hZ2UiLCJQQVVTRV9CVE5fSU1HIiwicHVibGlzaCIsIkVWRU5UUyIsIkdBTUVfUEFVU0VfU1RBVFVTX0VWRU5UIiwiUGxheUJ1dHRvbiIsIm1halZlcnNpb24iLCJtaW5WZXJzaW9uIiwiZmlyZWJhc2VJbnRlZ3JhdGlvbiIsImluaXQiLCJQTEFZX0JUTl9JTUciLCJnZXREYXRhIiwibWFqdmVyc2lvbiIsIm1pbnZlcnNpb24iLCJsb2dUYXBwZWRTdGFydEZpcmViYXNlRXZlbnQiLCJ0YXBwZWRTdGFydERhdGEiLCJjcl91c2VyX2lkIiwiZnRtX2xhbmd1YWdlIiwicHJvZmlsZV9udW1iZXIiLCJ2ZXJzaW9uX251bWJlciIsImdldEVsZW1lbnRCeUlkIiwiaW5uZXJIVE1MIiwianNvbl92ZXJzaW9uX251bWJlciIsIlJldHJ5QnV0dG9uIiwicmV0cnlfYnV0dG9uX2ltYWdlIiwiUkVUUllfQlROX0lNRyIsIlllc0J1dHRvbiIsInllc19idXR0b25faW1hZ2UiLCJZRVNfQlROX0lNRyIsIkZlZWRiYWNrVGV4dEVmZmVjdHMiLCJmZWVkYmFja1RleHRFbGVtZW50IiwiaGlkZVRpbWVvdXRJZCIsImluaXRpYWxpemUiLCJpc0ZlZWRiYWNrRWxlbWVudEF2YWlsYWJsZSIsIndyYXBUZXh0IiwidGV4dENvbnRlbnQiLCJzZXRIaWRlVGltZW91dCIsImNsZWFyVGltZW91dCIsIkxldmVsSW5kaWNhdG9ycyIsIkV2ZW50TWFuYWdlciIsImFjdGl2ZUluZGljYXRvcnMiLCJzdG9uZURyb3BDYWxsYmFja0hhbmRsZXIiLCJoYW5kbGVTdG9uZURyb3AiLCJsb2FkUHV6emxlQ2FsbGJhY2tIYW5kbGVyIiwiaGFuZGxlTG9hZFB1enpsZSIsImxldmVsX2luZGljYXRvciIsIkxFVkVMX0lORElDQVRPUiIsImJhcl9lbXB0eSIsIkJBUl9FTVBUWSIsImJhcl9mdWxsIiwiQkFSX0ZVTEwiLCJzZXRJbmRpY2F0b3JzIiwiaW5kaWNhdG9yQ291bnQiLCJhZGREcm9wU3RvbmVFdmVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJkaXNwb3NlIiwidW5yZWdpc3RlckV2ZW50TGlzdGVuZXIiLCJkZXRhaWwiLCJjb3VudGVyIiwiTW9uc3RlciIsInppbmRleCIsImZyYW1lWCIsImZyYW1lWSIsIm1heEZyYW1lIiwiZnBzIiwiY291bnRGcmFtZSIsImZyYW1lSW50ZXJ2YWwiLCJmcmFtZVRpbWVyIiwiY2FudmFzU3RhY2siLCJjYW5hdnNFbGVtZW50IiwiZ2FtZSIsIm1vbnN0ZXJQaGFzZSIsImNhbGxCYWNrRnVuY3Rpb24iLCJnZXRDb250ZXh0IiwiZWF0SW1nIiwiaWRsZUltZyIsInNwaXRJbWciLCJkcmFnSW1nIiwiY2hhbmdlVG9JZGxlQW5pbWF0aW9uIiwiY2hhbmdlSW1hZ2UiLCJjaGFuZ2VUb0RyYWdBbmltYXRpb24iLCJjaGFuZ2VUb0VhdEFuaW1hdGlvbiIsImNoYW5nZVRvU3BpdEFuaW1hdGlvbiIsImlzQ29ycmVjdCIsIlBhdXNlUG9wVXAiLCJjYW5jZWxCdXR0b24iLCJyZXRyeUJ1dHRvbiIsImNsb3NlQnV0dG9uIiwicG9wX3VwX2ltYWdlIiwic3dpdGNoVG9MZXZlbFNlbGVjdGlvbiIsInJlbG9hZFNjZW5lIiwiZ2FtZXBsYXlEYXRhIiwiYXVkaW9QbGF5ZXIiLCJyZXRyeVN1cmVQb3B1cCIsIkNsb3NlU3VyZVBvcHVwIiwiaXNSZXRyeUJ1dHRvbkNsaWNrZWQiLCJpc0Nsb3NlQnV0dG9uQ2xpY2tlZCIsInNlbGZJZEVsZW1lbnQiLCJQT1BVUF9CR19JTUciLCJ5ZXNSZXRyeUNhbGxiYWNrIiwibm9SZXRyeUNhbGxiYWNrIiwibm9DbG9zZUNhbGxiYWNrIiwicGxheUNsaWNrU291bmQiLCJhZGRMaXN0bmVyIiwiaGFuZGxlTW91c2VDbGljayIsInNlbGZFbGVtZW50IiwicHJldmVudERlZmF1bHQiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiY2xpZW50WCIsImxlZnQiLCJjbGllbnRZIiwidG9wIiwicGxheUFyZVlvdVN1cmVTb3VuZCIsImZpbGxSZWN0IiwiQVVESU9fQVJFX1lPVV9TVVJFIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIkFyZVlvdVN1cmVQb3BVcCIsInllc0J1dHRvbiIsIm5vQnV0dG9uIiwieWVzQ2FsbGJhY2siLCJub0NhbGxiYWNrIiwiUHJvbXB0VGV4dCIsImN1cnJlbnRQcm9tcHRUZXh0IiwiY3VycmVudFB1enpsZURhdGEiLCJwcm9tcHRfaW1hZ2UiLCJ0YXJnZXRTdG9uZXMiLCJyaWdodFRvTGVmdCIsImlzU3RvbmVEcm9wcGVkIiwiZHJvcHBlZFN0b25lcyIsInRpbWUiLCJwcm9tcHRJbWFnZVdpZHRoIiwiaXNBcHBGb3JlZ3JvdW5kIiwic2NhbGUiLCJpc1NjYWxpbmdVcCIsInNjYWxlRmFjdG9yIiwicHJvbXB0SW1hZ2VIZWlnaHQiLCJwcm9tcHRQbGF5QnV0dG9uIiwicHJvbXB0IiwicHJvbXB0VGV4dCIsImdldFByb21wdEF1ZGlvVXJsIiwiaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSIsImhhbmRsZU1vdXNlRG93biIsInBsYXlTb3VuZCIsInByb21wdEF1ZGlvIiwic2V0Q3VycnJlbnRQdXp6bGVEYXRhIiwiZHJhd1JUTExhbmciLCJmb250U2l6ZSIsImNhbGN1bGF0ZUZvbnQiLCJzY2FsZWRXaWR0aCIsInNjYWxlZEhlaWdodCIsImxldmVsTWV0YSIsImxldmVsVHlwZSIsInByb3RvVHlwZSIsImxldHRlckluV29yZCIsIlJlZ0V4cCIsIm9mZnNldFgiLCJvZmZzZXRZIiwiZHJhd090aGVycyIsInByb21wdFRleHRMZXR0ZXJzIiwic3RhcnRQcm9tcHR0ZXh0WCIsImN1cnJlbnRXb3JkV2lkdGgiLCJsZXR0ZXJIaWdobGlnaHQiLCJ1cGRhdGVTY2FsaW5nIiwicHV6emxlcyIsImRyb3BwZWRTdG9uZUluZGV4IiwiaW1hZ2UxUHJvbWlzZSIsImxvYWRJbWFnZSIsIlBST01QVF9URVhUX0JHIiwiaW1hZ2UyUHJvbWlzZSIsIlBST01QVF9QTEFZX0JVVFRPTiIsIlN0b25lSGFuZGxlciIsInN0b25lUG9zIiwicGlja2VkU3RvbmUiLCJmb2lsU3RvbmVzIiwiYW5zd2VyIiwicHV6emxlTnVtYmVyIiwiY29ycmVjdEFuc3dlciIsInB1enpsZVN0YXJ0VGltZSIsInNob3dUdXRvcmlhbCIsIkdhbWVTY29yZSIsImdldERhdGFmcm9tU3RvcmFnZSIsImNvcnJlY3RTdG9uZUF1ZGlvIiwidHV0b3JpYWwiLCJjb3JyZWN0VGFyZ2V0U3RvbmUiLCJzdG9uZWJnIiwiZmVlZGJhY2tBdWRpb3MiLCJpc0dhbWVQYXVzZWQiLCJzZXRUYXJnZXRTdG9uZSIsImluaXRpYWxpemVTdG9uZVBvcyIsIkF1ZGlvIiwiQVVESU9fUEFUSF9DT1JSRUNUX1NUT05FIiwiY29udmVydEZlZWRCYWNrQXVkaW9zVG9MaXN0IiwiVHV0b3JpYWwiLCJBU1NFVFNfUEFUSF9TVE9ORV9QSU5LX0JHIiwiY3JlYXRlU3RvbmVzIiwic2V0R2FtZVBhdXNlIiwiZ2V0Rm9pbFN0b25lcyIsInVwZGF0ZVRhcmdldFN0b25lUG9zaXRpb25zIiwiZHJhd1dvcmRQdXp6bGVMZXR0ZXJzIiwic2hvdWxkSGlkZVN0b25lQ2hlY2tlciIsImdyb3VwZWRMZXR0ZXJzIiwib2Zmc2V0Q29vcmRpbmF0ZVZhbHVlIiwic29ydCIsInNldFB1enpsZU51bWJlciIsInVuc3Vic2NyaWJlIiwiaXNTdG9uZUxldHRlckRyb3BDb3JyZWN0IiwiZHJvcHBlZFN0b25lIiwiZmVlZEJhY2tJbmRleCIsImlzV29yZCIsImlzTGV0dGVyRHJvcENvcnJlY3QiLCJwcm9jZXNzTGV0dGVyRHJvcEZlZWRiYWNrQXVkaW8iLCJnZXRDb3JyZWN0VGFyZ2V0U3RvbmUiLCJwbGF5Q29ycmVjdEFuc3dlckZlZWRiYWNrU291bmQiLCJBVURJT19QQVRIX0VBVFMiLCJBVURJT19QQVRIX0NIRUVSSU5HX0ZVTkMiLCJBVURJT19QQVRIX01PTlNURVJfU1BJVCIsIkFVRElPX1BBVEhfTU9OU1RFUl9ESVNTQVBPSU5URUQiLCJzcGxpY2UiLCJ0b3RhbFN0b25lc0NvdW50IiwiZXh0cmFTdG9uZXNDb3VudCIsInBhdXNlIiwicmFuZG9tTnVtYmVyIiwiQVVESU9fUEFUSF9QT0lOVFNfQUREIiwicGxheSIsInJlc2V0U3RvbmVQb3NpdGlvbiIsInBpY2tlZFN0b25lT2JqZWN0Iiwic3RvbmUiLCJzdG9uZU9iaiIsInhMaW1pdCIsImhhbGZXaWR0aCIsImNvbXB1dGVDdXJzb3JEaXN0YW5jZSIsInNjIiwiaGFuZGxlUGlja1N0b25lVXAiLCJjdHIiLCJoYW5kbGVIb3ZlcmluZ1RvQW5vdGhlclN0b25lIiwic2hvdWxkR3JvdXBMZXR0ZXIiLCJoYW5kbGVNb3ZpbmdTdG9uZUxldHRlciIsImRyYWdnaW5nU3RvbmUiLCJ1cGRhdGVkU3RvbmVDb29yZGluYXRlcyIsIlRpbWVyVGlja2luZyIsInRpbWVyV2lkdGgiLCJ0aW1lckhlaWdodCIsIndpZHRoVG9DbGVhciIsInRpbWVyIiwiaXNUaW1lclN0YXJ0ZWQiLCJpc1RpbWVyRW5kZWQiLCJpc1RpbWVyUnVubmluZ091dCIsInRpbWVyX2Z1bGwiLCJwYXVzZUJ1dHRvbkNsaWNrZWQiLCJzdGFydE15VGltZXIiLCJpc015VGltZXJPdmVyIiwicGxheUxldmVsRW5kQXVkaW9PbmNlIiwidGltZXJfZW1wdHkiLCJUSU1FUl9FTVBUWSIsInJvdGF0aW5nX2Nsb2NrIiwiUk9UQVRJTkdfQ0xPQ0siLCJUSU1FUl9GVUxMIiwic3RhcnRUaW1lciIsInJlYWR5VGltZXIiLCJBVURJT19USU1FT1VUIiwiVHJhaWxFZmZlY3QiLCJwYXJ0aWNsZXMiLCJtb3VzZSIsImlzRGlhbW9uZCIsImNsaWNrVHJhaWxUb2dnbGUiLCJ0cmFpbFRvZ2dsZUxpc3RlbmVyIiwiR0FNRV9UUkFJTF9FRkZFQ1RfVE9HR0xFX0VWRU5UIiwiaXNUcmFpbEVmZmVjdE9uIiwiZHJhd1RyYWlsIiwidGVtcCIsInR0bCIsImFkZFRyYWlsUGFydGljbGVzT25Nb3ZlIiwiUGFydGljbGVzIiwicmVzZXRQYXJ0aWNsZXMiLCJjbGVhclRyYWlsU3Vic2NyaXB0aW9uIiwiZW5kIiwic3R5bGUiLCJyZ2IiLCJoeXAiLCJzdGFyWCIsInN0YXJZIiwic3RhckFuZ2xlIiwic3RhcnRQb3NYIiwiZGV0ZXJtaW5lVmFsdWVCeVNjcmVlbldpZHRoIiwic3RhcnRQb3NZIiwiZW5kUG9zWCIsImVuZFBvc1kiLCJnZXRSYW5kb21JbnQiLCJiZ1NjcmVlblZhbCIsInNtYWxsU2NyZWVuVmFsIiwic2NyZWVuIiwiZWFzZU91dFF1YXJ0IiwiaXNEcmF3RGlhbW9uZCIsInN0YXJQYXJ0aWNsZSIsImNpcmNsZVBhcnRpY2xlIiwibW92ZVRvIiwibGluZVRvIiwidHV0b3JpYWxJbWciLCJ0YXJnZXRTdG9uZVBvc2l0aW9ucyIsInN0YXJ0eCIsInN0YXJ0eSIsImVuZHgiLCJlbmR5IiwiZW5kVHV0b3JpYWwiLCJwbGF5TW5zdHJDbGtUdHJsQW5pbSIsInRvdGFsVGltZSIsIm1vbnN0ZXJTdG9uZURpZmZlcmVuY2UiLCJkeCIsImR5IiwiYWJzZHgiLCJhYnNkeSIsInN0YXJ0UmlwcGxlIiwiZHJhd1JpcHBsZSIsIlRVVE9SSUFMX0hBTkQiLCJ0YXJnZXRTdG9uZVBvc2l0aW9uIiwiYW5pbWF0ZUltYWdlIiwiaXNNb2JpbGUiLCJzZXRUdXRvcmlhbEVuZCIsInNob3VsZFBsYXlUdXRvcmlhbCIsImRpc3giLCJkaXN5IiwibW9uc3RlclN0b25lRGlmZmVyZW5jZUluUGVyY2VudGFnZSIsImNyZWF0ZUhhbmRTY2FsZUFuaW1hdGlvbiIsInByZXZpb3VzQWxwaGEiLCJnbG9iYWxBbHBoYSIsInNob3VsZENyZWF0ZVJpcHBsZSIsInNpbnVzb2lkYWxJbnRlcnBvbGF0aW9uIiwibWluU2NhbGUiLCJtYXhTY2FsZSIsImR1cmF0aW9uIiwiYW1wbGl0dWRlIiwiZnJlcXVlbmN5Iiwic2luIiwiY2xpY2tPbk1vbnN0ZXJUdXRvcmlhbCIsInNob3VsZFBsYXlNb25zdGVyQ2xpY2tUdXRvcmlhbEFuaW1hdGlvbiIsInRyYW5zaXRpb25EdXJhdGlvbiIsImJvdHRvbVBvc2l0aW9uIiwidG9wUG9zaXRpb24iLCJjdXJyZW50T2Zmc2V0WSIsImdldEFsbEdhbWVMZXZlbEluZm8iLCJwdXp6bGVOdW1lciIsInNldFBsYXlNb25zdGVyQ2xpY2tBbmltYXRpb24iLCJCQUNLR1JPVU5EX0FTU0VUX0xJU1QiLCJzdW1tZXIiLCJCR19HUk9VUF9JTUdTIiwiREVGQVVMVF9CR19HUk9VUF9JTUdTIiwiZGVmYXVsdEJnRHJhd2luZyIsImF1dHVtbiIsIkFVVFVNTl9CR19HUk9VUF9JTUdTIiwiYXV0dW1CZ0RyYXdpbmciLCJ3aW50ZXIiLCJXSU5URVJfQkdfR1JPVVBfSU1HUyIsIndpbnRlckJnRHJhd2luZyIsImNyZWF0ZUJhY2tncm91bmQiLCJiYWNrZ3JvdW5kSW1nIiwiZHJhd01ldGhvZCIsImxvYWREeW5hbWljQmdBc3NldHMiLCJhc3NldHNMaXN0IiwiYXJyIiwiYmdJbWFnZXMiLCJsZXZlbFNlbGVjdEJnRHJhd2luZyIsIkxFVkVMX1NFTEVDVElPTl9CQUNLR1JPVU5EIiwiZ2V0ZGVmYXVsdENsb3VkQnRuc1BvcyIsImxvYWRMZXZlbEltYWdlcyIsIk1BUF9JQ09OX0lNRyIsInNwZWNpYWxCbG9vbkltZyIsIk1BUF9JQ09OX1NQRUNJQUxfSU1HIiwiTUFQX0xPQ0tfSU1HIiwiU1RBUl9JTUciLCJjcmVhdGVMZXZlbE9iamVjdCIsIkZpcmViYXNlVXNlckNsaWNrZWQiLCJGaXJlYmFzZVVzZXJJbnN0YWxsIiwiUFdBSW5zdGFsbFN0YXR1cyIsIlVzZXJDYW5jZWxsZWQiLCJOYXRpdmVQbGF5QnV0dG9uIiwiUHJldmlvdXNQbGF5ZWRMZXZlbCIsIlN0b3JlTW9uc3RlclBoYXNlTnVtYmVyIiwiSXNDYWNoZWQiLCJNb25zdGVyQXVkaW8iLCJGZWVkYmFja0F1ZGlvIiwiSW50cm9NdXNpYyIsIlByb21wdEF1ZGlvIiwiQnV0dG9uQ2xpY2siLCJUaW1lT3ZlciIsIlN0b25lTXVzaWMiLCJQaHJhc2VBdWRpbyIsIkxldmVsRW5kQXVkaW8iLCJGT05UX0JBU0VfUEFUSCIsIkFVRElPX1BBVEhfT05fRFJBRyIsIkFVRElPX0lOVFJPIiwiQVVESU9fTEVWRUxfTE9TRSIsIkFVRElPX0xFVkVMX1dJTiIsIkFVRElPX1VSTF9QUkVMT0FEIiwiQVNTRVRTX1BBVEhfQkdfMDEiLCJBU1NFVFNfUEFUSF9NT05TVEVSX0lETEUiLCJXSU5fQkciLCJQSU5fU1RBUl8xIiwiUElOX1NUQVJfMiIsIlBJTl9TVEFSXzMiLCJDTE9VRF82IiwiQ0xPVURfNyIsIkNMT1VEXzgiLCJCQUNLX0JUTl9JTUciLCJHQU1FUExBWV9CR19HUk9VUF9JTUdTIiwiU0NFTkVfTkFNRV9TVEFSVCIsIlNDRU5FX05BTUVfTEVWRUxfU0VMRUNUIiwiU0NFTkVfTkFNRV9HQU1FX1BMQVkiLCJTQ0VORV9OQU1FX0xFVkVMX0VORCIsIlVSTCIsImdldEZ0bURhdGEiLCJoZWFkZXJzIiwianNvbiIsImN1c3RvbUZvbnRzIiwiZGVmYXVsdCIsImVuZ2xpc2giLCJzd2FoaWxpIiwid29sb2YiLCJ0YWppayIsIm1hcmF0aGkiLCJhbWhhcmljIiwicHVuamFiaSIsInRhbWlsIiwic2VwZWRpIiwiZ3VqYXJhdGkiLCJ0ZWx1Z3UiLCJ0c29uZ2EiLCJtYWxheSIsIm5kZWJlbGUiLCJ2ZW5kYSIsInNpc3dhdGkiLCJ0c3dhbmEiLCJ0aGFpIiwiZnVsYSIsImZhcnNpIiwiYnVybWVzZSIsImJlbmdhbGkiLCJBemVyYmFpamFuaSIsIlNlc290aG8iLCJHZW9yZ2lhbiIsIkJyYXppbGlhblBvcnR1Z3Vlc2UiLCJTb21hbGkiLCJIYXVzYSIsIklnYm8iLCJIYXRpYW5DcmVvbGUiLCJPcm9tbyIsIkx1Z2FuZGEiLCJZb3J1YmEiLCJLaG1lciIsIkphdmFuZXNlIiwiVXJkdSIsIktpbnlhcndhbmRhIiwiU2hvbmEiLCJLdXJkaXNoIiwiRnJlbmNoIiwiaXNpWGhvc2EiLCJBZnJpa2FhbnMiLCJOZXBhbGkiLCJVa3JhaW5pYW4iLCJIaW5kaSIsIlRhZ2Fsb2ciLCJWaWV0bmFtZXNlIiwiUGFzaHRvIiwiVHdpIiwiQXJhYmljIiwiRGF0YU1vZGFsIiwidGl0bGUiLCJvdGhlckF1ZGlvcyIsImxldmVscyIsIkZlZWRiYWNrVGV4dHMiLCJGZWVkYmFja0F1ZGlvcyIsInZlcnNpb24iLCJmZWVkYmFja1RleHRzIiwiT3RoZXJBdWRpb3MiLCJnZXRMZXZlbHMiLCJsZXZlbEFycmF5IiwiTGV2ZWxzIiwic2VsY3RZb3VyUGxheWVyIiwid2F0Y2hNZUdyb3ciLCJhcmVZb3VTdXJlIiwiZmFudGFzdGljIiwiZ3JlYXQiLCJhbWF6aW5nIiwiZ2V0UHV6emxlRGF0YSIsIkxldmVsTWV0YSIsIkxldmVsTnVtYmVyIiwicHV6emxlT2JqZWN0cyIsIlB1enpsZXMiLCJwdXp6bGVEYXRhIiwic2VnbWVudE51bWJlciIsInB1enpsZSIsIlNlZ21lbnROdW1iZXIiLCJQcm9tcHQiLCJnZXRUYXJnZXRTdG9uZXMiLCJmb2lsU3RvbmVBcnJheSIsImZvaWxzdG9uZXMiLCJzdG9uZXMiLCJTdG9uZVRleHQiLCJ0YXJnZXRTdG9uZUFycmF5IiwidGFyZ2V0c3RvbmVzIiwiRm9pbFN0b25lIiwic3RvbmVUZXh0IiwiVGFyZ2V0U3RvbmUiLCJwcm9tcHRGYWRlT3V0IiwibGV0dGVyR3JvdXAiLCJQcm9tcHRGYWRlb3V0IiwiTGV0dGVyR3JvdXAiLCJQcm9tcHRUeXBlIiwiTGV2ZWxUeXBlIiwic2V0R2FtZUxldmVsU2NvcmUiLCJjdXJyZW50TGV2ZWxJbmZvIiwic2NvcmUiLCJzdGFyc0dhaW5lZCIsImNhbGN1bGF0ZVN0YXJDb3VudCIsImxldmVsUGxheWVkSW5mbyIsImxldmVsTmFtZSIsInNldFRvdGFsU3RhckNvdW50IiwiYWxsR2FtZWxldmVsSW5mbyIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJjdXJyZW50bGFuZ3VhZ2UiLCJnZXRJdGVtIiwidG90YWxTdGFyQ291bnQiLCJnZXRUb3RhbFN0YXJDb3VudCIsImhhbmRsZXIiLCJoYW5kbGVTdG9uZURyb3BwZWRFdmVudCIsImhhbmRsZUxvYWRQdXp6bGVFdmVudCIsIlB1YlN1YiIsInN1YnNjcmliZXJzIiwiU0NFTkVfTkFNRV9FVkVOVCIsIkdBTUVQTEFZX0RBVEFfRVZFTlQiLCJ0ZXN0Q2hlY2tTdWJzY3JpYmVycyIsImlzRXZlbnRIYXNGdW5jdGlvbnMiLCJsaXN0ZW5lciIsImZpbHRlciIsImV2ZW50RnVuYyIsImNyZWF0ZUdhbWVwbGF5U2NlbmVEQU8iLCJnYW1lRGF0YSIsInZlcnNpb25OdW1iZXIiLCJnYW1lQ2FudmFzQ29udGV4dCIsImdhbWVQbGF5RGF0YSIsImN1cnJlbnRMZXZlbERhdGEiLCJzZWxlY3RlZExldmVsTnVtYmVyIiwiZmVlZEJhY2tUZXh0cyIsImpzb25WZXJzaW9uTnVtYmVyIiwiR2FtZURhdGEiLCJjdXJyZW50U2NlbmUiLCJwcmV2aW91c1NjZW5lIiwiR2FtZVN0YXRlU2VydmljZSIsImdhbWVTdGF0ZVNldFNjZW5lTGlzdGVuZXIiLCJnYW1lU3RhdGVHYW1lUGxheURhdGFMaXN0ZW5lciIsInVwZGF0ZUdhbWVQYXVzZUFjdGl2aXR5IiwidXBkYXRlR2FtZVRyYWlsVG9nZ2xlIiwiaW5pdExpc3RlbmVycyIsIm5leHRTY2VuZSIsInVwZGF0ZWRHYW1lUGxheURhdGEiLCJpc1BhdXNlZCIsInNldERlZmF1bHRHYW1lU3RhdGVWYWx1ZXMiLCJ3aWxsUmVhZEZyZXF1ZW50bHkiLCJnZXRHYW1lUGxheVNjZW5lRGV0YWlscyIsIldvcmRQdXp6bGVMb2dpYyIsImRyb3BwZWRMZXR0ZXJzIiwiZ3JvdXBlZE9iaiIsImRyb3BwZWRIaXN0b3J5IiwiaGlkZUxpc3RPYmoiLCJnZXRUYXJnZXRXb3JkIiwiZ2V0VmFsdWVzIiwiY2hlY2tJc1dvcmRQdXp6bGUiLCJ1cGRhdGVQdXp6bGVMZXZlbCIsImNsZWFyQWxsVmFsdWVzIiwiY2xlYXJQaWNrZWRVcCIsInZhbGlkYXRlU2hvdWxkSGlkZUxldHRlciIsImZvaWxTdG9uZUluZGV4IiwiaGFuZGxlQ2hlY2tIb3ZlcmVkU3RvbmUiLCJmb2lsU3RvbmVUZXh0IiwiY29tYmluZWRMZXR0ZXJzIiwidGFyZ2V0V29yZCIsImlzTGV0dGVyQWxyZWFkeUFkZGVkIiwiaXNTYW1lTGV0dGVyVW5pcXVlIiwidmFsaWRhdGVGZWRMZXR0ZXJzIiwidmFsaWRhdGVXb3JkUHV6emxlIiwic2V0R3JvdXBUb0Ryb3BwZWQiLCJzZXRQaWNrVXBMZXR0ZXIiLCJsZXR0ZXIiLCJhcnJGb2lsU3RvbmVJbmRleCIsIlNjZW5lSGFuZGxlciIsInN0YXJ0U2NlbmUiLCJsZXZlbFNlbGVjdGlvblNjZW5lIiwiZ2FtZXBsYXlTY2VuZSIsImxldmVsRW5kU2NlbmUiLCJsb2FkaW5nU2NyZWVuIiwibG9hZGluZyIsImxhc3RUaW1lIiwidGl0bGVUZXh0RWxlbWVudCIsImhhbmRsZUluc3RhbGxQcm9tcHQiLCJTdGFydFNjZW5lIiwic3dpdGNoU2NlbmVUb0xldmVsU2VsZWN0aW9uIiwiU2NlbmVOYW1lIiwiTG9hZGluZ1NjZW5lIiwicmVtb3ZlTG9hZGluZyIsInN0YXJ0QW5pbWF0aW9uTG9vcCIsImFuaW1hdGUiLCJ0aW1lU3RhbXAiLCJhbmltYXRpb24iLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJkZXZUb2dnbGUiLCJjaGVja01vbnN0ZXJQaGFzZVVwZGF0aW9uIiwibW9uc3RlclBoYXNlTnVtYmVyIiwiY2xlYXJSZWN0IiwiZHJhd0xldmVsU2VsZWN0aW9uIiwic3dpdGNoU2NlbmVUb0dhbWVwbGF5IiwiY2hhbmdlU2NlbmVSZXF1ZXN0RnJvbSIsInNob3dMb2FkaW5nIiwiR2FtZXBsYXlTY2VuZSIsInN3aXRjaFNjZW5lVG9FbmQiLCJzd2l0Y2hTY2VuZVRvRW5kTGV2ZWwiLCJjdXJyZW50TGV2ZWxOdW1iZXIiLCJpbml0Q2xvdWQiLCJMZXZlbEVuZFNjZW5lIiwiTGV2ZWxTZWxlY3Rpb25TY3JlZW4iLCJkaXNwbGF5IiwibGFzdFNjZW5lTmFtZSIsInpJbmRleCIsIm1vbnN0ZXIiLCJ0aW1lclRpY2tpbmciLCJwYXVzZUJ1dHRvbiIsImxldmVsSW5kaWNhdG9ycyIsInN0b25lc0NvdW50IiwiaXNQdXp6bGVDb21wbGV0ZWQiLCJzdG9uZUhhbmRsZXIiLCJwYXVzZVBvcHVwIiwiaXNQYXVzZUJ1dHRvbkNsaWNrZWQiLCJiYWNrZ3JvdW5kIiwiZmVlZEJhY2tUZXh0Q2FuYXZzRWxlbWVudCIsImZlZWRiYWNrVGV4dEVmZmVjdHMiLCJpc0dhbWVTdGFydGVkIiwic3RhcnRUaW1lIiwicHV6emxlVGltZSIsImlzRGlzcG9zaW5nIiwicmVzZXRBbmltYXRpb25JRCIsInRyYWlsUGFydGljbGVzIiwiaGFzRmVkIiwid29yZFB1enpsZUxvZ2ljIiwibG9hZFB1enpsZSIsInJlc3VtZUdhbWUiLCJwcm9maWxlTW9uc3RlciIsInByZXZpb3VzUGxheWVkTGV2ZWwiLCJhZGRFdmVudExpc3RlbmVycyIsInNldHVwQmciLCJzdGFydEdhbWVUaW1lIiwic3RhcnRQdXp6bGVUaW1lIiwiZ2FtZXBsYXlQYXVzZUxpc3RlbmVyIiwiaXNQYXVzZSIsImdldFJhbmRvbUZlZWRCYWNrVGV4dCIsInJhbmRvbUluZGV4Iiwic2VsZWN0ZWRLZXkiLCJkZWZpbmVkVmFsdWVzTWF4Q291bnQiLCJ2YWx1ZXMiLCJoYW5kbGVNb3VzZVVwIiwibGV0dGVyUHV6emxlIiwid29yZFB1enpsZSIsInNldFBpY2tlZFVwIiwiaGFuZGxlTW91c2VNb3ZlIiwidHJhaWxYIiwidHJhaWxZIiwibmV3U3RvbmVDb29yZGluYXRlcyIsIm5ld1N0b25lTGV0dGVyIiwicGF1c2VHYW1lUGxheSIsImhhbmRsZVRvdWNoU3RhcnQiLCJ0b3VjaCIsInRvdWNoZXMiLCJoYW5kbGVUb3VjaE1vdmUiLCJoYW5kbGVUb3VjaEVuZCIsImNoYW5nZWRUb3VjaGVzIiwiaGFuZGxlU3RvbmVMZXR0ZXJEcmF3aW5nIiwicmVtb3ZlRXZlbnRMaXN0ZW5lcnMiLCJ0aW1lckVuZGVkIiwiQm9vbGVhbiIsImxvZ1B1enpsZUVuZEZpcmViYXNlRXZlbnQiLCJsb2dMZXZlbEVuZEZpcmViYXNlRXZlbnQiLCJsb2FkUHV6emxlRXZlbnQiLCJDdXN0b21FdmVudCIsImluaXROZXdQdXp6bGUiLCJjaGVja1N0b25lRHJvcHBlZCIsImhhbmRsZUNvcnJlY3RTdG9uZURyb3AiLCJoYW5kbGVTdG9uZURyb3BFbmQiLCJkcm9wcGVkU3RvbmVJbnN0YW5jZSIsInJlc2V0VG9JZGxlQW5pbWF0aW9uIiwiZGVsYXkiLCJwdXp6bGVUeXBlIiwiZGlzcGF0Y2hTdG9uZURyb3BFdmVudCIsImZlZWRiYWNrSW5kZXgiLCJkcm9wU3RvbmVFdmVudCIsImRpc3BhdGNoRXZlbnQiLCJlbmRUaW1lIiwicHV6emxlQ29tcGxldGVkRGF0YSIsInN1Y2Nlc3Nfb3JfZmFpbHVyZSIsImxldmVsX251bWJlciIsInB1enpsZV9udW1iZXIiLCJpdGVtX3NlbGVjdGVkIiwiZm9pbHMiLCJyZXNwb25zZV90aW1lIiwibGV2ZWxDb21wbGV0ZWREYXRhIiwibnVtYmVyX29mX3N1Y2Nlc3NmdWxfcHV6emxlcyIsImNhbnZhc0VsZW1lbnQiLCJ4RG93biIsInlEb3duIiwicHJldmlvdXNQbGF5ZWRMZXZlbE51bWJlciIsImxldmVsc1NlY3Rpb25Db3VudCIsInJpZ2h0QnRuU2l6ZSIsInJpZ2h0QnRuWCIsInJpZ2h0QnRuWSIsImxlZnRCdG5TaXplIiwibGVmdEJ0blgiLCJsZWZ0QnRuWSIsImxldmVsQnV0dG9ucyIsImNyZWF0ZUxldmVsQnV0dG9ucyIsIm5leHRidG4iLCJiYWNrYnRuIiwiYWRkTGlzdGVuZXJzIiwibGV2ZWxzQXJyIiwiY29vcmRpbmF0ZXMiLCJidG5Db29yZGluYXRlcyIsInBhdXNlUGxheUF1ZGlvcyIsImdldFRvdWNoZXMiLCJldnQiLCJvcmlnaW5hbEV2ZW50IiwiZmlyc3RUb3VjaCIsInhVcCIsInlVcCIsInhEaWZmIiwieURpZmYiLCJkb3duQnV0dG9uIiwiaXNXaXRoaW5CdXR0b25BcmVhIiwiYnRuWCIsImJ0blkiLCJpc1JpZ2h0IiwiaXNMZWZ0IiwiYnRuIiwic3RhcnRHYW1lIiwiZHJhd0xldmVsIiwibGV2ZWxCdG4iLCJjdXJyZW50TGV2ZWxJbmRleCIsImN1cnJlbnRMZXZlbCIsImNoZWNrVW5sb2NrZWRMZXZlbCIsImxldmVsIiwibG9nU2VsZWN0ZWRMZXZlbEV2ZW50Iiwic2VsZWN0ZWRMZXZlbHREYXRhIiwibGV2ZWxfc2VsZWN0ZWQiLCJuZXh0QnV0dG9uIiwic3dpdGNoVG9HYW1lcGxheUNCIiwic3dpdGNoVG9MZXZlbFNlbGVjdGlvbkNCIiwidGltZW91dHMiLCJzdGFyRHJhd25Db3VudCIsImlzTGFzdExldmVsIiwic3dpdGNoVG9SZWFjdGlvbkFuaW1hdGlvbiIsInN0YXIxSW1nIiwic3RhcjJJbWciLCJzdGFyM0ltZyIsIndpbkJhY2tncm91bmRJbWciLCJzdGFyQW5pbWF0aW9uIiwiZHJhd1N0YXJzIiwiY291bnQiLCJwYXVzZUF1ZGlvcyIsInRpbWVvdXQiLCJjbG91ZFhQb3NpdGlvbiIsInN0b3BDbG91ZE1vdmluZyIsImNsb3VkTW92aW5nVGltZU91dCIsImNsb3VkNiIsImNsb3VkNyIsImNsb3VkOCIsInB3YV9zdGF0dXMiLCJmaXJlYmFzZV9hbmFseXRpY3MiLCJidXR0b25Db250ZXh0IiwicGxheUJ1dHRvbiIsInB3YV9pbnN0YWxsX3N0YXR1cyIsImNyZWF0ZVBsYXlCdXR0b24iLCJoYW5kbGVySW5zdGFsbFByb21wdCIsImdlbmVyYXRlR2FtZVRpdGxlIiwiZmJxIiwiVGVzdEdhbWVwbGF5U2NlbmUiLCJsZXZlbEluZGljYXRvciIsIm91dGNvbWUiLCJwZXJmb3JtYW5jZSIsInRpbWVPdmVyQ2FsbGJhY2siLCJtb3VzZUV2ZW50IiwiTW91c2VFdmVudCIsIkFOQUxZVElDU19UWVBFIiwiR0FfRklEX0tFWSIsIk9SSUdJTl9LRVkiLCJGRVRDSF9USU1FT1VUX01JTExJUyIsIkRZTkFNSUNfQ09ORklHX1VSTCIsIkdUQUdfVVJMIiwibG9nZ2VyIiwiTG9nZ2VyIiwiRVJST1JTIiwiRVJST1JfRkFDVE9SWSIsImNyZWF0ZUd0YWdUcnVzdGVkVHlwZXNTY3JpcHRVUkwiLCJzdGFydHNXaXRoIiwiZ3RhZ1VSTCIsIndhcm4iLCJwcm9taXNlQWxsU2V0dGxlZCIsInByb21pc2VzIiwiaW5zZXJ0U2NyaXB0VGFnIiwiZGF0YUxheWVyTmFtZSIsInRydXN0ZWRUeXBlc1BvbGljeSIsInBvbGljeU5hbWUiLCJwb2xpY3lPcHRpb25zIiwidHJ1c3RlZFR5cGVzIiwiY3JlYXRlUG9saWN5IiwiY3JlYXRlVHJ1c3RlZFR5cGVzUG9saWN5IiwiY3JlYXRlU2NyaXB0VVJMIiwic2NyaXB0IiwiY3JlYXRlRWxlbWVudCIsImd0YWdTY3JpcHRVUkwiLCJoZWFkIiwiYXBwZW5kQ2hpbGQiLCJ3cmFwR3RhZyIsImd0YWdDb3JlIiwiaW5pdGlhbGl6YXRpb25Qcm9taXNlc01hcCIsImR5bmFtaWNDb25maWdQcm9taXNlc0xpc3QiLCJtZWFzdXJlbWVudElkVG9BcHBJZCIsImNvbW1hbmQiLCJndGFnUGFyYW1zIiwiaW5pdGlhbGl6YXRpb25Qcm9taXNlc1RvV2FpdEZvciIsImdhU2VuZFRvTGlzdCIsImR5bmFtaWNDb25maWdSZXN1bHRzIiwic2VuZFRvSWQiLCJmb3VuZENvbmZpZyIsImZpbmQiLCJpbml0aWFsaXphdGlvblByb21pc2UiLCJndGFnT25FdmVudCIsImNvcnJlc3BvbmRpbmdBcHBJZCIsImd0YWdPbkNvbmZpZyIsImZpZWxkTmFtZSIsImN1c3RvbVBhcmFtcyIsIkxPTkdfUkVUUllfRkFDVE9SIiwiZGVmYXVsdFJldHJ5RGF0YSIsInRocm90dGxlTWV0YWRhdGEiLCJnZXRUaHJvdHRsZU1ldGFkYXRhIiwic2V0VGhyb3R0bGVNZXRhZGF0YSIsIm1ldGFkYXRhIiwiZGVsZXRlVGhyb3R0bGVNZXRhZGF0YSIsImdldEhlYWRlcnMiLCJIZWFkZXJzIiwiQWNjZXB0IiwiZmV0Y2hEeW5hbWljQ29uZmlnV2l0aFJldHJ5IiwiYXBwIiwicmV0cnlEYXRhIiwidGltZW91dE1pbGxpcyIsIm9wdGlvbnMiLCJ0aHJvdHRsZUVuZFRpbWVNaWxsaXMiLCJzaWduYWwiLCJBbmFseXRpY3NBYm9ydFNpZ25hbCIsImFib3J0IiwiYXR0ZW1wdEZldGNoRHluYW1pY0NvbmZpZ1dpdGhSZXRyeSIsImFwcEZpZWxkcyIsImJhY2tvZmZNaWxsaXMiLCJzZXRBYm9ydGFibGVUaW1lb3V0IiwiYXBwVXJsIiwic3RhdHVzIiwiZXJyb3JNZXNzYWdlIiwianNvblJlc3BvbnNlIiwiX2lnbm9yZWQiLCJodHRwU3RhdHVzIiwicmVzcG9uc2VNZXNzYWdlIiwiZmV0Y2hEeW5hbWljQ29uZmlnIiwiaXNSZXRyaWFibGVFcnJvciIsImRlYnVnIiwibGlzdGVuZXJzIiwiZGVmYXVsdEV2ZW50UGFyYW1ldGVyc0ZvckluaXQiLCJkZWZhdWx0Q29uc2VudFNldHRpbmdzRm9ySW5pdCIsIl9zZXRDb25zZW50RGVmYXVsdEZvckluaXQiLCJjb25zZW50U2V0dGluZ3MiLCJfc2V0RGVmYXVsdEV2ZW50UGFyYW1ldGVyc0ZvckluaXQiLCJfaW5pdGlhbGl6ZUFuYWx5dGljcyIsImluc3RhbGxhdGlvbnMiLCJkeW5hbWljQ29uZmlnUHJvbWlzZSIsImZpZFByb21pc2UiLCJlcnJvckluZm8iLCJ2YWxpZGF0ZUluZGV4ZWREQiIsImVudklzVmFsaWQiLCJnZXRJZCIsImR5bmFtaWNDb25maWciLCJmaWQiLCJzY3JpcHRUYWdzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJ0YWciLCJmaW5kR3RhZ1NjcmlwdE9uUGFnZSIsImNvbmZpZ1Byb3BlcnRpZXMiLCJBbmFseXRpY3NTZXJ2aWNlIiwiX2RlbGV0ZSIsImd0YWdDb3JlRnVuY3Rpb24iLCJ3cmFwcGVkR3RhZ0Z1bmN0aW9uIiwiZ3RhZ05hbWUiLCJnbG9iYWxJbml0RG9uZSIsInNldHRpbmdzIiwiZmFjdG9yeSIsIm1pc21hdGNoZWRFbnZNZXNzYWdlcyIsImRldGFpbHMiLCJ3YXJuT25Ccm93c2VyQ29udGV4dE1pc21hdGNoIiwiZGF0YUxheWVyIiwiZ2V0T3JDcmVhdGVEYXRhTGF5ZXIiLCJ3cmFwcGVkR3RhZyIsImd0YWdGdW5jdGlvbk5hbWUiLCJfYXJncyIsIndyYXBPckNyZWF0ZUd0YWciLCJnZXRBcHAiLCJhbmFseXRpY3NQcm92aWRlciIsIl9nZXRQcm92aWRlciIsImlzSW5pdGlhbGl6ZWQiLCJnZXRJbW1lZGlhdGUiLCJpbml0aWFsaXplQW5hbHl0aWNzIiwiZXhpc3RpbmdJbnN0YW5jZSIsImdldE9wdGlvbnMiLCJpc1N1cHBvcnRlZCIsInNldEN1cnJlbnRTY3JlZW4iLCJhbmFseXRpY3NJbnN0YW5jZSIsInNjcmVlbk5hbWUiLCJndGFnRnVuY3Rpb24iLCJnbG9iYWwiLCJzZXRDdXJyZW50U2NyZWVuJDEiLCJnZXRHb29nbGVBbmFseXRpY3NDbGllbnRJZCIsImNsaWVudElkIiwiaW50ZXJuYWxHZXRHb29nbGVBbmFseXRpY3NDbGllbnRJZCIsInNldFVzZXJJZCIsInNldFVzZXJJZCQxIiwic2V0VXNlclByb3BlcnRpZXMiLCJwcm9wZXJ0aWVzIiwiZmxhdFByb3BlcnRpZXMiLCJzZXRVc2VyUHJvcGVydGllcyQxIiwic2V0QW5hbHl0aWNzQ29sbGVjdGlvbkVuYWJsZWQiLCJlbmFibGVkIiwic2V0QW5hbHl0aWNzQ29sbGVjdGlvbkVuYWJsZWQkMSIsInNldERlZmF1bHRFdmVudFBhcmFtZXRlcnMiLCJldmVudFBhcmFtcyIsImxvZ0V2ZW50JDEiLCJzZXRDb25zZW50IiwiX3JlZ2lzdGVyQ29tcG9uZW50IiwiQ29tcG9uZW50IiwiY29udGFpbmVyIiwiYW5hbHl0aWNzT3B0aW9ucyIsImdldFByb3ZpZGVyIiwicmVhc29uIiwicmVnaXN0ZXJWZXJzaW9uIiwiUGxhdGZvcm1Mb2dnZXJTZXJ2aWNlSW1wbCIsImdldFBsYXRmb3JtSW5mb1N0cmluZyIsImdldFByb3ZpZGVycyIsInByb3ZpZGVyIiwiY29tcG9uZW50IiwiZ2V0Q29tcG9uZW50IiwiaXNWZXJzaW9uU2VydmljZVByb3ZpZGVyIiwibGlicmFyeSIsImxvZ1N0cmluZyIsIm5hbWUkbyIsInZlcnNpb24kMSIsIm5hbWUkbiIsIm5hbWUkbSIsIm5hbWUkbCIsIm5hbWUkayIsIm5hbWUkaiIsIm5hbWUkaSIsIm5hbWUkaCIsIm5hbWUkZyIsIm5hbWUkZiIsIm5hbWUkZSIsIm5hbWUkZCIsIm5hbWUkYyIsIm5hbWUkYiIsIm5hbWUkYSIsIm5hbWUkOSIsIm5hbWUkOCIsIm5hbWUkNyIsIm5hbWUkNiIsIm5hbWUkNSIsIm5hbWUkNCIsIm5hbWUkMyIsIm5hbWUkMiIsIm5hbWUkMSIsIkRFRkFVTFRfRU5UUllfTkFNRSIsIlBMQVRGT1JNX0xPR19TVFJJTkciLCJfYXBwcyIsIl9jb21wb25lbnRzIiwiX2FkZENvbXBvbmVudCIsImFkZENvbXBvbmVudCIsIl9hZGRPck92ZXJ3cml0ZUNvbXBvbmVudCIsImFkZE9yT3ZlcndyaXRlQ29tcG9uZW50IiwiY29tcG9uZW50TmFtZSIsImhlYXJ0YmVhdENvbnRyb2xsZXIiLCJ0cmlnZ2VySGVhcnRiZWF0IiwiX3JlbW92ZVNlcnZpY2VJbnN0YW5jZSIsImluc3RhbmNlSWRlbnRpZmllciIsImNsZWFySW5zdGFuY2UiLCJfY2xlYXJDb21wb25lbnRzIiwiY2xlYXIiLCJGaXJlYmFzZUFwcEltcGwiLCJfaXNEZWxldGVkIiwiX29wdGlvbnMiLCJfY29uZmlnIiwiX25hbWUiLCJfYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkIiwiYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkIiwiX2NvbnRhaW5lciIsImNoZWNrRGVzdHJveWVkIiwidmFsIiwiaXNEZWxldGVkIiwiYXBwTmFtZSIsInJhd0NvbmZpZyIsImV4aXN0aW5nQXBwIiwiQ29tcG9uZW50Q29udGFpbmVyIiwibmV3QXBwIiwiZ2V0QXBwcyIsImZyb20iLCJkZWxldGVBcHAiLCJkZWxldGUiLCJsaWJyYXJ5S2V5T3JOYW1lIiwidmFyaWFudCIsImxpYnJhcnlNaXNtYXRjaCIsInZlcnNpb25NaXNtYXRjaCIsIndhcm5pbmciLCJvbkxvZyIsImxvZ0NhbGxiYWNrIiwic2V0VXNlckxvZ0hhbmRsZXIiLCJzZXRMb2dMZXZlbCIsImxvZ0xldmVsIiwiREJfTkFNRSIsIkRCX1ZFUlNJT04iLCJTVE9SRV9OQU1FIiwiZGJQcm9taXNlIiwiZ2V0RGJQcm9taXNlIiwib3BlbkRCIiwidXBncmFkZSIsImRiIiwib2xkVmVyc2lvbiIsImNyZWF0ZU9iamVjdFN0b3JlIiwib3JpZ2luYWxFcnJvck1lc3NhZ2UiLCJ3cml0ZUhlYXJ0YmVhdHNUb0luZGV4ZWREQiIsImhlYXJ0YmVhdE9iamVjdCIsInR4IiwidHJhbnNhY3Rpb24iLCJvYmplY3RTdG9yZSIsInB1dCIsImNvbXB1dGVLZXkiLCJkb25lIiwiaWRiR2V0RXJyb3IiLCJIZWFydGJlYXRTZXJ2aWNlSW1wbCIsIl9oZWFydGJlYXRzQ2FjaGUiLCJfc3RvcmFnZSIsIkhlYXJ0YmVhdFN0b3JhZ2VJbXBsIiwiX2hlYXJ0YmVhdHNDYWNoZVByb21pc2UiLCJyZWFkIiwiYWdlbnQiLCJkYXRlIiwiZ2V0VVRDRGF0ZVN0cmluZyIsImxhc3RTZW50SGVhcnRiZWF0RGF0ZSIsImhlYXJ0YmVhdHMiLCJzb21lIiwic2luZ2xlRGF0ZUhlYXJ0YmVhdCIsImhiVGltZXN0YW1wIiwidmFsdWVPZiIsIm92ZXJ3cml0ZSIsImdldEhlYXJ0YmVhdHNIZWFkZXIiLCJoZWFydGJlYXRzVG9TZW5kIiwidW5zZW50RW50cmllcyIsImhlYXJ0YmVhdHNDYWNoZSIsIm1heFNpemUiLCJoZWFydGJlYXRFbnRyeSIsImhiIiwiZGF0ZXMiLCJjb3VudEJ5dGVzIiwicG9wIiwiZXh0cmFjdEhlYXJ0YmVhdHNGb3JIZWFkZXIiLCJoZWFkZXJTdHJpbmciLCJ0b0lTT1N0cmluZyIsIl9jYW5Vc2VJbmRleGVkREJQcm9taXNlIiwicnVuSW5kZXhlZERCRW52aXJvbm1lbnRDaGVjayIsInJlYWRIZWFydGJlYXRzRnJvbUluZGV4ZWREQiIsImhlYXJ0YmVhdHNPYmplY3QiLCJleGlzdGluZ0hlYXJ0YmVhdHNPYmplY3QiLCJpbnN0YW5jZUZhY3RvcnkiLCJtdWx0aXBsZUluc3RhbmNlcyIsInNlcnZpY2VQcm9wcyIsImluc3RhbnRpYXRpb25Nb2RlIiwib25JbnN0YW5jZUNyZWF0ZWQiLCJzZXRJbnN0YW50aWF0aW9uTW9kZSIsIm1vZGUiLCJzZXRNdWx0aXBsZUluc3RhbmNlcyIsInNldFNlcnZpY2VQcm9wcyIsInByb3BzIiwic2V0SW5zdGFuY2VDcmVhdGVkQ2FsbGJhY2siLCJQcm92aWRlciIsImluc3RhbmNlcyIsImluc3RhbmNlc0RlZmVycmVkIiwiaW5zdGFuY2VzT3B0aW9ucyIsIm9uSW5pdENhbGxiYWNrcyIsImlkZW50aWZpZXIiLCJub3JtYWxpemVkSWRlbnRpZmllciIsIm5vcm1hbGl6ZUluc3RhbmNlSWRlbnRpZmllciIsImRlZmVycmVkIiwic2hvdWxkQXV0b0luaXRpYWxpemUiLCJnZXRPckluaXRpYWxpemVTZXJ2aWNlIiwic2V0Q29tcG9uZW50IiwiaXNDb21wb25lbnRFYWdlciIsImluc3RhbmNlRGVmZXJyZWQiLCJzZXJ2aWNlcyIsIklOVEVSTkFMIiwiaXNDb21wb25lbnRTZXQiLCJvcHRzIiwib25Jbml0IiwiZXhpc3RpbmdDYWxsYmFja3MiLCJTZXQiLCJpbnZva2VPbkluaXRDYWxsYmFja3MiLCJjYWxsYmFja3MiLCJwcm92aWRlcnMiLCJQRU5ESU5HX1RJTUVPVVRfTVMiLCJQQUNLQUdFX1ZFUlNJT04iLCJJTlRFUk5BTF9BVVRIX1ZFUlNJT04iLCJJTlNUQUxMQVRJT05TX0FQSV9VUkwiLCJUT0tFTl9FWFBJUkFUSU9OX0JVRkZFUiIsIkVSUk9SX0RFU0NSSVBUSU9OX01BUCIsImlzU2VydmVyRXJyb3IiLCJnZXRJbnN0YWxsYXRpb25zRW5kcG9pbnQiLCJleHRyYWN0QXV0aFRva2VuSW5mb0Zyb21SZXNwb25zZSIsInJlcXVlc3RTdGF0dXMiLCJleHBpcmVzSW4iLCJyZXNwb25zZUV4cGlyZXNJbiIsImNyZWF0aW9uVGltZSIsImdldEVycm9yRnJvbVJlc3BvbnNlIiwicmVxdWVzdE5hbWUiLCJlcnJvckRhdGEiLCJzZXJ2ZXJDb2RlIiwic2VydmVyTWVzc2FnZSIsInNlcnZlclN0YXR1cyIsImdldEhlYWRlcnNXaXRoQXV0aCIsImFwcENvbmZpZyIsInJlZnJlc2hUb2tlbiIsImFwcGVuZCIsImdldEF1dGhvcml6YXRpb25IZWFkZXIiLCJyZXRyeUlmU2VydmVyRXJyb3IiLCJzbGVlcCIsIm1zIiwiVkFMSURfRklEX1BBVFRFUk4iLCJJTlZBTElEX0ZJRCIsImdlbmVyYXRlRmlkIiwiZmlkQnl0ZUFycmF5IiwiVWludDhBcnJheSIsImNyeXB0byIsIm1zQ3J5cHRvIiwiZ2V0UmFuZG9tVmFsdWVzIiwiYjY0U3RyaW5nIiwiYXJyYXkiLCJzdWJzdHIiLCJlbmNvZGUiLCJnZXRLZXkiLCJmaWRDaGFuZ2VDYWxsYmFja3MiLCJmaWRDaGFuZ2VkIiwiY2FsbEZpZENoYW5nZUNhbGxiYWNrcyIsImNoYW5uZWwiLCJnZXRCcm9hZGNhc3RDaGFubmVsIiwicG9zdE1lc3NhZ2UiLCJjbG9zZUJyb2FkY2FzdENoYW5uZWwiLCJicm9hZGNhc3RGaWRDaGFuZ2UiLCJicm9hZGNhc3RDaGFubmVsIiwiQnJvYWRjYXN0Q2hhbm5lbCIsIm9ubWVzc2FnZSIsIkRBVEFCQVNFX05BTUUiLCJEQVRBQkFTRV9WRVJTSU9OIiwiT0JKRUNUX1NUT1JFX05BTUUiLCJvbGRWYWx1ZSIsInVwZGF0ZUZuIiwic3RvcmUiLCJuZXdWYWx1ZSIsImdldEluc3RhbGxhdGlvbkVudHJ5IiwicmVnaXN0cmF0aW9uUHJvbWlzZSIsImluc3RhbGxhdGlvbkVudHJ5Iiwib2xkRW50cnkiLCJlbnRyeSIsInJlZ2lzdHJhdGlvblN0YXR1cyIsImNsZWFyVGltZWRPdXRSZXF1ZXN0IiwidXBkYXRlT3JDcmVhdGVJbnN0YWxsYXRpb25FbnRyeSIsImVudHJ5V2l0aFByb21pc2UiLCJpblByb2dyZXNzRW50cnkiLCJyZWdpc3RyYXRpb25UaW1lIiwicmVnaXN0ZXJlZEluc3RhbGxhdGlvbkVudHJ5IiwiaGVhcnRiZWF0U2VydmljZVByb3ZpZGVyIiwiZW5kcG9pbnQiLCJoZWFydGJlYXRTZXJ2aWNlIiwiaGVhcnRiZWF0c0hlYWRlciIsImJvZHkiLCJhdXRoVmVyc2lvbiIsInNka1ZlcnNpb24iLCJvayIsInJlc3BvbnNlVmFsdWUiLCJhdXRoVG9rZW4iLCJjcmVhdGVJbnN0YWxsYXRpb25SZXF1ZXN0IiwicmVnaXN0ZXJJbnN0YWxsYXRpb24iLCJ3YWl0VW50aWxGaWRSZWdpc3RyYXRpb24iLCJ0cmlnZ2VyUmVnaXN0cmF0aW9uSWZOZWNlc3NhcnkiLCJ1cGRhdGVJbnN0YWxsYXRpb25SZXF1ZXN0IiwiZ2VuZXJhdGVBdXRoVG9rZW5SZXF1ZXN0IiwiZ2V0R2VuZXJhdGVBdXRoVG9rZW5FbmRwb2ludCIsImluc3RhbGxhdGlvbiIsInJlZnJlc2hBdXRoVG9rZW4iLCJmb3JjZVJlZnJlc2giLCJ0b2tlblByb21pc2UiLCJpc0VudHJ5UmVnaXN0ZXJlZCIsIm9sZEF1dGhUb2tlbiIsImlzQXV0aFRva2VuRXhwaXJlZCIsImlzQXV0aFRva2VuVmFsaWQiLCJ1cGRhdGVBdXRoVG9rZW5SZXF1ZXN0Iiwid2FpdFVudGlsQXV0aFRva2VuUmVxdWVzdCIsImluUHJvZ3Jlc3NBdXRoVG9rZW4iLCJyZXF1ZXN0VGltZSIsIm1ha2VBdXRoVG9rZW5SZXF1ZXN0SW5Qcm9ncmVzc0VudHJ5IiwidXBkYXRlZEluc3RhbGxhdGlvbkVudHJ5IiwiZmV0Y2hBdXRoVG9rZW5Gcm9tU2VydmVyIiwiaW5zdGFsbGF0aW9uc0ltcGwiLCJnZXRUb2tlbiIsImNvbXBsZXRlSW5zdGFsbGF0aW9uUmVnaXN0cmF0aW9uIiwiZGVsZXRlSW5zdGFsbGF0aW9uUmVxdWVzdCIsImdldERlbGV0ZUVuZHBvaW50IiwiZGVsZXRlSW5zdGFsbGF0aW9ucyIsIm9uSWRDaGFuZ2UiLCJjYWxsYmFja1NldCIsImFkZENhbGxiYWNrIiwicmVtb3ZlQ2FsbGJhY2siLCJnZXRJbnN0YWxsYXRpb25zIiwiZ2V0TWlzc2luZ1ZhbHVlRXJyb3IiLCJ2YWx1ZU5hbWUiLCJJTlNUQUxMQVRJT05TX05BTUUiLCJwdWJsaWNGYWN0b3J5IiwiY29uZmlnS2V5cyIsImtleU5hbWUiLCJleHRyYWN0QXBwQ29uZmlnIiwiaW50ZXJuYWxGYWN0b3J5IiwiYmxvY2tlZCIsImJsb2NraW5nIiwidGVybWluYXRlZCIsIm9wZW5Qcm9taXNlIiwidyIsIm5ld1ZlcnNpb24iLCJkZWxldGVEQiIsInJlYWRNZXRob2RzIiwid3JpdGVNZXRob2RzIiwiY2FjaGVkTWV0aG9kcyIsImdldE1ldGhvZCIsIklEQkRhdGFiYXNlIiwidGFyZ2V0RnVuY05hbWUiLCJ1c2VJbmRleCIsImlzV3JpdGUiLCJJREJJbmRleCIsIklEQk9iamVjdFN0b3JlIiwic3RvcmVOYW1lIiwic2hpZnQiLCJvbGRUcmFwcyIsInJlY2VpdmVyIiwiaW5zdGFuY2VPZkFueSIsIm9iamVjdCIsImNvbnN0cnVjdG9ycyIsImlkYlByb3h5YWJsZVR5cGVzIiwiY3Vyc29yQWR2YW5jZU1ldGhvZHMiLCJjdXJzb3JSZXF1ZXN0TWFwIiwiV2Vha01hcCIsInRyYW5zYWN0aW9uRG9uZU1hcCIsInRyYW5zYWN0aW9uU3RvcmVOYW1lc01hcCIsInRyYW5zZm9ybUNhY2hlIiwicmV2ZXJzZVRyYW5zZm9ybUNhY2hlIiwiaWRiUHJveHlUcmFwcyIsIklEQlRyYW5zYWN0aW9uIiwib2JqZWN0U3RvcmVOYW1lcyIsIndyYXAiLCJyZXBsYWNlVHJhcHMiLCJ3cmFwRnVuY3Rpb24iLCJmdW5jIiwiSURCQ3Vyc29yIiwiYWR2YW5jZSIsImNvbnRpbnVlIiwiY29udGludWVQcmltYXJ5S2V5IiwiYXBwbHkiLCJ1bndyYXAiLCJzdG9yZU5hbWVzIiwidHJhbnNmb3JtQ2FjaGFibGVWYWx1ZSIsInVubGlzdGVuIiwiRE9NRXhjZXB0aW9uIiwiY2FjaGVEb25lUHJvbWlzZUZvclRyYW5zYWN0aW9uIiwiUHJveHkiLCJJREJSZXF1ZXN0Iiwic3VjY2VzcyIsInByb21pc2lmeVJlcXVlc3QiLCJMb2dMZXZlbCIsImxldmVsU3RyaW5nVG9FbnVtIiwiREVCVUciLCJWRVJCT1NFIiwiSU5GTyIsIldBUk4iLCJFUlJPUiIsIlNJTEVOVCIsImRlZmF1bHRMb2dMZXZlbCIsIkNvbnNvbGVNZXRob2QiLCJkZWZhdWx0TG9nSGFuZGxlciIsImxvZ1R5cGUiLCJfbG9nTGV2ZWwiLCJfbG9nSGFuZGxlciIsIl91c2VyTG9nSGFuZGxlciIsIlR5cGVFcnJvciIsImxvZ0hhbmRsZXIiLCJ1c2VyTG9nSGFuZGxlciIsImluc3QiLCJjdXN0b21Mb2dMZXZlbCIsImFyZyIsImlnbm9yZWQiLCJNZXNzYWdlQ2hhbm5lbCIsInBvcnQxIiwicG9ydDIiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJkZWZpbmVQcm9wZXJ0eSIsIlJlZmVyZW5jZUVycm9yIiwibyIsInMiLCJoIiwidiIsImwiLCJtIiwiX19wcm90b19fIiwicmVnaXN0ZXIiLCJpbW1lZGlhdGUiLCJzZXJ2aWNlV29ya2VyIiwiY29udHJvbGxlciIsIlAiLCJSIiwiQiIsIk8iLCJvbmNlIiwid2FpdGluZyIsInNjcmlwdFVSTCIsInN3Iiwid2FzV2FpdGluZ0JlZm9yZVJlZ2lzdGVyIiwiQyIsInJlYWR5U3RhdGUiLCJnZXRTVyIsIm1lc3NhZ2VTVyIsIkwiLCJtZXRhIiwiaW5zdGFsbGluZyIsInN0YXRlIiwiaXNVcGRhdGUiLCJEIiwiVCIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZGVmaW5pdGlvbiIsImdsb2JhbFRoaXMiLCJGdW5jdGlvbiIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmVyc2lvbkluZm9FbGVtZW50IiwiaXNfY2FjaGVkIiwicHJvZ3Jlc3NCYXIiLCJwcm9ncmVzc0JhckNvbnRhaW5lciIsInNjZW5lSGFuZGxlciIsImxvYWRpbmdFbGVtZW50IiwiZGF0YU1vZGFsIiwic3RhcnRTZXNzaW9uVGltZSIsImZlZWRCYWNrVGV4dEVsZW1lbnQiLCJpbml0aWFsaXplQ2FjaGVkRGF0YSIsImhhbmRsZVNlcnZpY2VXb3JrZXJNZXNzYWdlIiwiaGFuZGxlQmVmb3JlVW5sb2FkIiwiaGFuZGxlUmVzaXplIiwibG9hZEFuZENhY2hlRm9udCIsImxvYWRUaXRsZUZlZWRiYWNrQ3VzdG9tRm9udCIsInByZWxvYWRHYW1lQXVkaW9zIiwiaGFuZGxlTG9hZGluZ1NjcmVlbiIsInNldHVwQ2FudmFzIiwiY3JlYXRlRGF0YU1vZGFsIiwiZ2xvYmFsSW5pdGlhbGl6YXRpb24iLCJsb2dTZXNzaW9uU3RhcnRGaXJlYmFzZUV2ZW50IiwicGxheWVkSW5mbyIsIm5leHRQbGF5YWJsZUxldmVsIiwic3RvcmFnZUtleSIsImhhbmRsZUNhY2hlZFNjZW5hcmlvIiwicmVnaXN0ZXJXb3JrYm94IiwiY3VzdG9tVGl0bGVGZWVkYmFja0ZvbnQiLCJmb250RmFtaWx5IiwibGFzdFNlc3Npb25FbmRUaW1lIiwicGFyc2VkVGltZXN0YW1wIiwiaXNOYU4iLCJyb3VuZGVkRGF5c1NpbmNlTGFzdCIsInBhcnNlRmxvYXQiLCJ0b0ZpeGVkIiwic2Vzc2lvblN0YXJ0RGF0YSIsImRheXNfc2luY2VfbGFzdCIsImxvZ1Nlc3Npb25FbmRGaXJlYmFzZUV2ZW50Iiwic2Vzc2lvbkVuZERhdGEiLCJzdG9yZWREYXRhIiwiZm9udE5hbWUiLCJmb250UGF0aCIsImNhY2hlIiwiY2FjaGVzIiwiZm9udFJlc3BvbnNlIiwiZm9udEJsb2IiLCJibG9iIiwiUmVzcG9uc2UiLCJGb250RmFjZSIsImxvYWQiLCJmb250cyIsIndiIiwiV29ya2JveCIsInJlYWR5IiwibmV3Q29udGVudEZpbGVEYXRhIiwiYWhlYWRDb250ZW50VmVyc2lvbiIsImNhY2hlZFZlcnNpb24iLCJjYWNoZWRJdGVtIiwibmV3Q2FjaGVkSXRlbSIsInJlbW92ZUl0ZW0iLCJoYW5kbGVVcGRhdGVGb3VuZE1lc3NhZ2UiLCJpbm5lckhlaWdodCIsImlubmVyV2lkdGgiLCJSaWdodFRvTGVmdCIsImFib3V0Q29tcGFueSIsImRlc2NyaXB0aW9uVGV4dCIsInVwZGF0ZVZlcnNpb25JbmZvRWxlbWVudCIsInJlaW5pdGlhbGl6ZVNjZW5lSGFuZGxlciIsInBhc3NpbmdEYXRhVG9Db250YWluZXIiLCJBbmRyb2lkIiwiY2FjaGVkU3RhdHVzIiwic2V0Q29udGFpbmVyQXBwT3JpZW50YXRpb24iLCJjb25maXJtIiwicmVsb2FkIiwiaGFuZGxlTG9hZGluZ01lc3NhZ2UiLCJzaG93UHJvZ3Jlc3NCYXIiLCJwcm9ncmVzc1ZhbHVlIiwiaXNEb3dubG9hZENvbXBsZXRlZCIsImNhY2hlTGFuZ3VhZ2UiLCJzZW5kQ29tcGxldGlvbkV2ZW50IiwiaGlkZUxvYWRpbmdTY3JlZW4iLCJkb3dubG9hZENvbXBsZXRlZCIsImdldEpzb25WZXJzaW9uTnVtYmVyIiwibXNnIiwiYXVkaW9VcmxzIiwicHJlbG9hZFByb21pc2VzIl0sInNvdXJjZVJvb3QiOiIifQ==