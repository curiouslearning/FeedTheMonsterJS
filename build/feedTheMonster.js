/*! For license information please see feedTheMonster.js.LICENSE.txt */
(()=>{"use strict";var t={};function e(t,e){var i={},s=0,a=0;for(var n in t)a++;for(var n in t)i[n]=new Image,i[n].onload=function(){++s>=a&&e(i)},i[n].src=t[n]}t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}();const i="pwa_installed_status",s="storePreviousPlayedLevel",a="is_cached",n="StartScene1",o="LevelSelection1",r="GameScene1",h="EndScene1",l={english:"Consolas",swahili:"Consolas",wolof:"Consolas",tajik:"Consolas",marathi:"Consolas",amharic:"Consolas",punjabi:"Consolas",tamil:"Consolas",sepedi:"Consolas",gujarati:"Consolas",telugu:"Consolas",tsonga:"Consolas",malay:"Consolas",ndebele:"Consolas",venda:"NotoSans-Regular",siswati:"Consolas",tswana:"Consolas",thai:"Consolas",fula:"Consolas",farsi:"Consolas",burmese:"Consolas",bengali:"Consolas",Azerbaijani:"NotoSans-Regular",Sesotho:"Consolas",Georgian:"Consolas",BrazilianPortuguese:"Consolas",Somali:"Consolas",Hausa:"NotoSans-Regular",Igbo:"Consolas",HatianCreole:"Consolas",Oromo:"Consolas",Luganda:"Consolas",Yoruba:"Consolas",Khmer:"Consolas",Javanese:"Consolas",Urdu:"Consolas",Kinyarwanda:"Consolas",Shona:"Consolas",Kurdish:"Consolas",French:"Consolas",isiXhosa:"Consolas",Afrikaans:"Consolas",Nepali:"Consolas",Ukrainian:"Consolas",Hindi:"Consolas",Tagalog:"Consolas",Vietnamese:"NotoSans-Regular",Pashto:"Consolas",Twi:"NotoSans-Regular",Arabic:"Adobe-Arabic-Bold"};class c{static UrlSubstring="/feedthemonster";static getConvertedDevProdURL(t){return p.DevelopmentLink?t.slice(0,t.indexOf(this.UrlSubstring)+this.UrlSubstring.length)+"dev"+t.slice(t.indexOf(this.UrlSubstring)+this.UrlSubstring.length):t}static getLanguageSpecificFont(t){const e=t.toLowerCase();for(const t in l)if(t.toLowerCase()===e)return l[t];return console.log(`Font not found for language: ${t}`),"NotoSans-Regular"}static getRandomNumber(t,e){return Math.floor(Math.random()*(e-t+1))+t}static getExcludedCoordinates(t,e){return{excludeX:t.width*(e/100),excludeY:t.height*(e/100)}}}const d=new URLSearchParams(window.location.search);var u=d.get("cr_user_id"),g=null==d.get("cr_lang")?"english":d.get("cr_lang");const m=c.getLanguageSpecificFont(g),p={DevelopmentLink:!!window.location.href.includes("https://feedthemonsterdev.curiouscontent.org"),DebugMode:!1};window.feedbackTextWorkerPath="./workers/feedback-text-worker.js";const v="./lang/"+g+"/ftm_"+g+".json";async function f(){return await fetch(v,{method:"GET",headers:{"Content-Type":"application/json"}}).then((t=>t.json().then((t=>t))))}class w{title;otherAudios;levels;FeedbackTexts;FeedbackAudios;rightToLeft;majVersion;minVersion;version;constructor(t,e,i,s,a,n,o,r,h){this.title=t,this.otherAudios=new y(e),this.levels=this.getLevels(i),this.FeedbackTexts=new b(s),this.FeedbackAudios=new S(n),this.rightToLeft=a,this.majVersion=o,this.minVersion=r,this.version=h}getLevels(t){let e=[];for(let i=0;i<t.length;i++)e.push(new I(t[i]));return e}}class y{selctYourPlayer;watchMeGrow;areYouSure;constructor(t){this.selctYourPlayer=t["Select your player"],this.watchMeGrow=t["Watch me grow"],this.areYouSure=t["Are you sure"]}}class b{fantastic;great;amazing;constructor(t){t.length>=1&&(this.fantastic=t[0]),t.length>=2&&(this.great=t[1]),t.length>=3&&(this.amazing=t[2])}}class S{fantastic;great;amazing;constructor(t){t.length>=1&&(this.fantastic=t[0]),t.length>=2&&(this.great=t[1]),t.length>=3&&(this.amazing=t[2])}}class I{puzzles;levelMeta;levelNumber;constructor(t){this.puzzles=this.getPuzzleData(t),this.levelMeta=new E(t.LevelMeta),this.levelNumber=t.LevelNumber}getPuzzleData(t){let e=[];return t.Puzzles.map(((t,i)=>{e.push(new x(t))})),e}}class x{segmentNumber;prompt;foilStones;targetStones;constructor(t){this.segmentNumber=t.SegmentNumber,this.prompt=new C(t.prompt),this.foilStones=this.getFoilStones(t),this.targetStones=this.getTargetStones(t)}getFoilStones(t){let e=[];return t.foilstones.map(((t,i)=>{e.push(t.StoneText)})),e}getTargetStones(t){let e=[];return t.targetstones.map(((t,i)=>{e.push(t.StoneText)})),e}}class C{promptText;promptAudio;constructor(t){this.promptText=t.PromptText,this.promptAudio=t.PromptAudio}}class E{promptFadeOut;letterGroup;levelNumber;protoType;levelType;constructor(t){this.promptFadeOut=t.PromptFadeout,this.letterGroup=t.LetterGroup,this.levelNumber=t.LevelNumber,this.protoType=t.PromptType,this.levelType=t.LevelType}}const T="loadpuzzle",P="stonesdropped",k="click",L="visibilitychange";class D{handler;stoneDropCallbackHandler;loadPuzzleCallbackHandler;constructor(t){this.handler=t,this.stoneDropCallbackHandler=t.stoneDropCallbackHandler,this.loadPuzzleCallbackHandler=t.loadPuzzleCallbackHandler,document.addEventListener(P,this.handleStoneDroppedEvent,!1),document.addEventListener(T,this.handleLoadPuzzleEvent,!1)}handleStoneDroppedEvent=t=>{this.stoneDropCallbackHandler(t)};handleLoadPuzzleEvent=t=>{this.loadPuzzleCallbackHandler(t)};unregisterEventListener=()=>{document.removeEventListener(P,this.handleStoneDroppedEvent,!1),document.removeEventListener(T,this.handleLoadPuzzleEvent,!1)}}class B extends D{zindex;width;height;image;frameX;frameY;maxFrame;x;y;fps;countFrame;frameInterval;frameTimer;canvasStack;canavsElement;context;game;images;loadedImages;imagesLoaded=!1;monsterPhase;constructor(t,i,s){super({stoneDropCallbackHandler:t=>this.handleStoneDrop(t),loadPuzzleCallbackHandler:t=>this.handleLoadPuzzle(t)}),this.game=t,this.monsterPhase=i,this.width=this.game.width,this.height=this.game.height,this.canavsElement=document.getElementById("canvas"),this.context=this.canavsElement.getContext("2d"),this.image=document.getElementById("monster"),this.frameX=0,this.frameY=0,this.maxFrame=6,this.x=this.game.width/2-.243*this.game.width,this.y=this.game.width/3,this.fps=10,this.countFrame=0,this.frameInterval=1e3/this.fps,this.frameTimer=0,this.images={eatImg:"./assets/images/eat1"+this.monsterPhase+".png",idleImg:"./assets/images/idle1"+this.monsterPhase+".png",spitImg:"./assets/images/spit1"+this.monsterPhase+".png",dragImg:"./assets/images/drag1"+this.monsterPhase+".png"},e(this.images,(t=>{this.loadedImages=Object.assign({},t),this.changeToIdleAnimation(),this.imagesLoaded=!0,s&&s()}))}update(t){this.frameTimer>=this.frameInterval?(this.frameTimer=0,this.frameX<this.maxFrame?this.frameX++:this.frameX=0):this.frameTimer+=t,this.draw()}draw(){this.imagesLoaded&&this.context.drawImage(this.image,770*this.frameX,1386*this.frameY,768,1386,.5*this.x,.1*this.y,this.width/2*1.5,this.height/1.5*1.5)}changeImage(t){this.image.src=t}changeToDragAnimation(){this.maxFrame=6,this.image=this.loadedImages.dragImg}changeToEatAnimation(){this.maxFrame=12,this.image=this.loadedImages.eatImg}changeToIdleAnimation(){this.maxFrame=6,this.image=this.loadedImages.idleImg}changeToSpitAnimation(){this.maxFrame=12,this.image=this.loadedImages.spitImg}handleStoneDrop(t){t.detail.isCorrect?this.changeToEatAnimation():this.changeToSpitAnimation()}handleLoadPuzzle(t){this.changeToIdleAnimation()}dispose(){this.unregisterEventListener()}onClick(t,e){if(Math.sqrt((t-this.x-this.width/4)*(t-this.x-this.width/4)+(e-this.y-this.height/2.2)*(e-this.y-this.height/2.2))<=100)return!0}}var z={bgImg:"./assets/images/bg_v01.jpg",hillImg:"./assets/images/hill_v01.png",pillerImg:"./assets/images/Totem_v02_v01.png",fenchImg:"./assets/images/fence_v01.png",autumnBgImg:"./assets/images/Autumn_bg_v01.jpg",autumnHillImg:"./assets/images/Autumn_hill_v01.png",autumnPillerImg:"./assets/images/Autumn_sign_v01.png",autumnSignImg:"./assets/images/Autumn_sign_v01.png",autumnFenceImg:"./assets/images/Autumn_fence_v01.png",winterBgImg:"./assets/images/Winter_bg_01.jpg",winterHillImg:"./assets/images/Winter_hill_v01.png",winterSignImg:"./assets/images/Winter_sign_v01.png",winterFenceImg:"./assets/images/Winter_fence_v01.png",winterPillerImg:"./assets/images/Winter_sign_v01.png"};class A{width;height;context;imagesLoaded=!1;loadedImages;levelNumber;availableBackgroundTypes=["Summer","Autumn","Winter"];backgroundType;constructor(t,i,s,a){this.width=i,this.height=s,this.context=t,this.levelNumber=a,this.backgroundType=Math.floor(this.levelNumber/10)%this.availableBackgroundTypes.length,this.levelNumber>=30&&(this.backgroundType=this.backgroundType%3),e(z,(t=>{this.loadedImages=Object.assign({},t),this.imagesLoaded=!0}))}draw(){if(this.imagesLoaded)switch(this.availableBackgroundTypes[this.backgroundType]){case"Winter":this.context.drawImage(this.loadedImages.winterBgImg,0,0,this.width,this.height),this.context.drawImage(this.loadedImages.winterPillerImg,.38*this.width,this.height/6,this.width/1.2,this.height/2),this.context.drawImage(this.loadedImages.winterFenceImg,.4*-this.width,this.height/4,this.width,this.height/2),this.context.drawImage(this.loadedImages.winterHillImg,.25*-this.width,this.height/2,1.5*this.width,this.height/2);break;case"Autumn":this.context.drawImage(this.loadedImages.autumnBgImg,0,0,this.width,this.height),this.context.drawImage(this.loadedImages.autumnPillerImg,.38*this.width,this.height/6,this.width/1.2,this.height/2),this.context.drawImage(this.loadedImages.autumnFenceImg,.4*-this.width,this.height/4,this.width,this.height/2),this.context.drawImage(this.loadedImages.autumnHillImg,.25*-this.width,this.height/2,1.5*this.width,this.height/2);break;default:this.context.drawImage(this.loadedImages.bgImg,0,0,this.width,this.height),this.context.drawImage(this.loadedImages.pillerImg,.6*this.width,this.height/6,this.width,this.height/2),this.context.drawImage(this.loadedImages.fenchImg,.4*-this.width,this.height/3,this.width,this.height/3),this.context.drawImage(this.loadedImages.hillImg,.25*-this.width,this.height/2,1.5*this.width,this.height/2)}}}class M{audioContext;sourceNode;audioQueue;promptAudioBuffer;static audioBuffers=new Map;audioSourcs=[];constructor(){this.audioContext=N.getAudioContext(),this.sourceNode=null,this.audioQueue=[]}async preloadPromptAudio(t){const e=await this.loadAndDecodeAudio(t);e&&(this.promptAudioBuffer=e)}async preloadGameAudio(t){if(M.audioBuffers.has(t))return;const e=await this.loadAndDecodeAudio(t);e&&M.audioBuffers.set(t,e)}playAudio(t){const e=M.audioBuffers.get(t);if(e){const t=this.audioContext.createBufferSource();t.buffer=e,t.connect(this.audioContext.destination),this.audioSourcs.push(t),t.start()}}playFeedbackAudios=(t=!1,...e)=>{this.audioQueue=e,this.audioQueue.length>0&&this.playFetch(0,t)};playPromptAudio=t=>{if(this.promptAudioBuffer){const t=this.audioContext.createBufferSource();t.buffer=this.promptAudioBuffer,t.connect(this.audioContext.destination),this.audioSourcs.push(t),t.start()}};playButtonClickSound=t=>{const e=M.audioBuffers.get(t);if(e){const t=this.audioContext.createBufferSource();t.buffer=e,t.connect(this.audioContext.destination),t.start()}};stopFeedbackAudio=()=>{this.sourceNode&&(this.sourceNode.stop(),this.sourceNode=null),this.audioQueue=[]};stopAllAudios=()=>{this.sourceNode&&(this.sourceNode.stop(),this.sourceNode=null),this.audioQueue=[],this.audioSourcs.forEach((t=>{t.stop()})),this.audioSourcs=[]};playFetch=(t,e)=>{t>=this.audioQueue.length?this.stopFeedbackAudio():fetch(this.audioQueue[t]).then((t=>t.arrayBuffer())).then((i=>{this.audioContext?.decodeAudioData(i,(i=>{this.sourceNode=this.audioContext?.createBufferSource(),this.sourceNode.buffer=i,this.sourceNode.connect(this.audioContext?.destination),this.sourceNode.loop=e,this.sourceNode.onended=()=>this.handleAudioEnded(t,e),this.sourceNode.start()}))}))};handleAudioEnded=(t,e)=>{this.sourceNode&&(this.sourceNode.onended=null,this.sourceNode.stop(),this.sourceNode.disconnect(),this.sourceNode=null),this.playFetch(t+1,e)};async loadAndDecodeAudio(t){return new Promise((async(e,i)=>{try{const i=await fetch(t),s=await i.arrayBuffer();e(await this.audioContext.decodeAudioData(s))}catch(t){console.error("Error loading or decoding audio:",t),i(t)}}))}}class N{static instance=null;static getAudioContext(){return N.instance||(N.instance=new(window.AudioContext||window.webkitAudioContext)),N.instance}}const F=function(t){const e=[];let i=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[i++]=a:a<2048?(e[i++]=a>>6|192,e[i++]=63&a|128):55296==(64512&a)&&s+1<t.length&&56320==(64512&t.charCodeAt(s+1))?(a=65536+((1023&a)<<10)+(1023&t.charCodeAt(++s)),e[i++]=a>>18|240,e[i++]=a>>12&63|128,e[i++]=a>>6&63|128,e[i++]=63&a|128):(e[i++]=a>>12|224,e[i++]=a>>6&63|128,e[i++]=63&a|128)}return e},O={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let e=0;e<t.length;e+=3){const a=t[e],n=e+1<t.length,o=n?t[e+1]:0,r=e+2<t.length,h=r?t[e+2]:0,l=a>>2,c=(3&a)<<4|o>>4;let d=(15&o)<<2|h>>6,u=63&h;r||(u=64,n||(d=64)),s.push(i[l],i[c],i[d],i[u])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(F(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let i=0,s=0;for(;i<t.length;){const a=t[i++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const n=t[i++];e[s++]=String.fromCharCode((31&a)<<6|63&n)}else if(a>239&&a<365){const n=((7&a)<<18|(63&t[i++])<<12|(63&t[i++])<<6|63&t[i++])-65536;e[s++]=String.fromCharCode(55296+(n>>10)),e[s++]=String.fromCharCode(56320+(1023&n))}else{const n=t[i++],o=t[i++];e[s++]=String.fromCharCode((15&a)<<12|(63&n)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let e=0;e<t.length;){const a=i[t.charAt(e++)],n=e<t.length?i[t.charAt(e)]:0;++e;const o=e<t.length?i[t.charAt(e)]:64;++e;const r=e<t.length?i[t.charAt(e)]:64;if(++e,null==a||null==n||null==o||null==r)throw new j;const h=a<<2|n>>4;if(s.push(h),64!==o){const t=n<<4&240|o>>2;if(s.push(t),64!==r){const t=o<<6&192|r;s.push(t)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class j extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const W=function(t){return function(t){const e=F(t);return O.encodeByteArray(e,!0)}(t).replace(/\./g,"")},H=function(t){try{return O.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const R=()=>function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==t.g)return t.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,X=()=>{try{return R()||(()=>{if("undefined"==typeof process||void 0===process.env)return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if("undefined"==typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(t){return}const e=t&&H(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},V=()=>{var t;return null===(t=X())||void 0===t?void 0:t.config};class ${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),"function"==typeof t&&(this.promise.catch((()=>{})),1===t.length?t(e):t(e,i))}}}function Y(){try{return"object"==typeof indexedDB}catch(t){return!1}}function G(){return new Promise(((t,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),i||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{i=!1},a.onerror=()=>{var t;e((null===(t=a.error)||void 0===t?void 0:t.message)||"")}}catch(t){e(t)}}))}class U extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,U.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,q.prototype.create)}}class q{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},s=`${this.service}/${t}`,a=this.errors[t],n=a?function(t,e){return t.replace(K,((t,i)=>{const s=e[i];return null!=s?String(s):`<${i}?>`}))}(a,i):"Error",o=`${this.serviceName}: ${n} (${s}).`;return new U(s,o,i)}}const K=/\{\$([^}]+)}/g;function J(t,e){if(t===e)return!0;const i=Object.keys(t),s=Object.keys(e);for(const a of i){if(!s.includes(a))return!1;const i=t[a],n=e[a];if(Q(i)&&Q(n)){if(!J(i,n))return!1}else if(i!==n)return!1}for(const t of s)if(!i.includes(t))return!1;return!0}function Q(t){return null!==t&&"object"==typeof t}const Z=1e3,tt=2,et=144e5,it=.5;function st(t,e=Z,i=tt){const s=e*Math.pow(i,t),a=Math.round(it*s*(Math.random()-.5)*2);return Math.min(et,s+a)}function at(t){return t&&t._delegate?t._delegate:t}class nt{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const ot="[DEFAULT]";class rt{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new $;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:e});i&&t.resolve(i)}catch(t){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),s=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(s)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(t){if(s)return null;throw t}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:ot})}catch(t){}for(const[t,e]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:i});e.resolve(t)}catch(t){}}}}clearInstance(t=ot){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter((t=>"INTERNAL"in t)).map((t=>t.INTERNAL.delete())),...t.filter((t=>"_delete"in t)).map((t=>t._delete()))])}isComponentSet(){return null!=this.component}isInitialized(t=ot){return this.instances.has(t)}getOptions(t=ot){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[t,e]of this.instancesDeferred.entries()){i===this.normalizeInstanceIdentifier(t)&&e.resolve(s)}return s}onInit(t,e){var i;const s=this.normalizeInstanceIdentifier(e),a=null!==(i=this.onInitCallbacks.get(s))&&void 0!==i?i:new Set;a.add(t),this.onInitCallbacks.set(s,a);const n=this.instances.get(s);return n&&t(n,s),()=>{a.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const s of i)try{s(t,e)}catch(t){}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(s=t,s===ot?void 0:s),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(t){}var s;return i||null}normalizeInstanceIdentifier(t=ot){return this.component?this.component.multipleInstances?t:ot:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ht{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new rt(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const lt=[];var ct;!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(ct||(ct={}));const dt={debug:ct.DEBUG,verbose:ct.VERBOSE,info:ct.INFO,warn:ct.WARN,error:ct.ERROR,silent:ct.SILENT},ut=ct.INFO,gt={[ct.DEBUG]:"log",[ct.VERBOSE]:"log",[ct.INFO]:"info",[ct.WARN]:"warn",[ct.ERROR]:"error"},mt=(t,e,...i)=>{if(e<t.logLevel)return;const s=(new Date).toISOString(),a=gt[e];if(!a)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[a](`[${s}]  ${t.name}:`,...i)};class pt{constructor(t){this.name=t,this._logLevel=ut,this._logHandler=mt,this._userLogHandler=null,lt.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ct))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?dt[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ct.DEBUG,...t),this._logHandler(this,ct.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ct.VERBOSE,...t),this._logHandler(this,ct.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ct.INFO,...t),this._logHandler(this,ct.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ct.WARN,...t),this._logHandler(this,ct.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ct.ERROR,...t),this._logHandler(this,ct.ERROR,...t)}}const vt=(t,e)=>e.some((e=>t instanceof e));let ft,wt;const yt=new WeakMap,bt=new WeakMap,St=new WeakMap,It=new WeakMap,xt=new WeakMap;let Ct={get(t,e,i){if(t instanceof IDBTransaction){if("done"===e)return bt.get(t);if("objectStoreNames"===e)return t.objectStoreNames||St.get(t);if("store"===e)return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Pt(t[e])},set:(t,e,i)=>(t[e]=i,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Et(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(wt||(wt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(_t(this),e),Pt(yt.get(this))}:function(...e){return Pt(t.apply(_t(this),e))}:function(e,...i){const s=t.call(_t(this),e,...i);return St.set(s,e.sort?e.sort():[e]),Pt(s)}}function Tt(t){return"function"==typeof t?Et(t):(t instanceof IDBTransaction&&function(t){if(bt.has(t))return;const e=new Promise(((e,i)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",n),t.removeEventListener("abort",n)},a=()=>{e(),s()},n=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",n),t.addEventListener("abort",n)}));bt.set(t,e)}(t),vt(t,ft||(ft=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(t,Ct):t)}function Pt(t){if(t instanceof IDBRequest)return function(t){const e=new Promise(((e,i)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",n)},a=()=>{e(Pt(t.result)),s()},n=()=>{i(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",n)}));return e.then((e=>{e instanceof IDBCursor&&yt.set(e,t)})).catch((()=>{})),xt.set(e,t),e}(t);if(It.has(t))return It.get(t);const e=Tt(t);return e!==t&&(It.set(t,e),xt.set(e,t)),e}const _t=t=>xt.get(t);const kt=["get","getKey","getAll","getAllKeys","count"],Lt=["put","add","delete","clear"],Dt=new Map;function Bt(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Dt.get(e))return Dt.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,a=Lt.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!a&&!kt.includes(i))return;const n=async function(t,...e){const n=this.transaction(t,a?"readwrite":"readonly");let o=n.store;return s&&(o=o.index(e.shift())),(await Promise.all([o[i](...e),a&&n.done]))[0]};return Dt.set(e,n),n}Ct=(t=>({...t,get:(e,i,s)=>Bt(e,i)||t.get(e,i,s),has:(e,i)=>!!Bt(e,i)||t.has(e,i)}))(Ct);class zt{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map((t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const e=t.getImmediate();return`${e.library}/${e.version}`}return null})).filter((t=>t)).join(" ")}}const At="@firebase/app",Mt="0.9.15",Nt=new pt("@firebase/app"),Ft="@firebase/app-compat",Ot="@firebase/analytics-compat",jt="@firebase/analytics",Wt="@firebase/app-check-compat",Ht="@firebase/app-check",Rt="@firebase/auth",Xt="@firebase/auth-compat",Vt="@firebase/database",$t="@firebase/database-compat",Yt="@firebase/functions",Gt="@firebase/functions-compat",Ut="@firebase/installations",qt="@firebase/installations-compat",Kt="@firebase/messaging",Jt="@firebase/messaging-compat",Qt="@firebase/performance",Zt="@firebase/performance-compat",te="@firebase/remote-config",ee="@firebase/remote-config-compat",ie="@firebase/storage",se="@firebase/storage-compat",ae="@firebase/firestore",ne="@firebase/firestore-compat",oe="firebase",re="[DEFAULT]",he={[At]:"fire-core",[Ft]:"fire-core-compat",[jt]:"fire-analytics",[Ot]:"fire-analytics-compat",[Ht]:"fire-app-check",[Wt]:"fire-app-check-compat",[Rt]:"fire-auth",[Xt]:"fire-auth-compat",[Vt]:"fire-rtdb",[$t]:"fire-rtdb-compat",[Yt]:"fire-fn",[Gt]:"fire-fn-compat",[Ut]:"fire-iid",[qt]:"fire-iid-compat",[Kt]:"fire-fcm",[Jt]:"fire-fcm-compat",[Qt]:"fire-perf",[Zt]:"fire-perf-compat",[te]:"fire-rc",[ee]:"fire-rc-compat",[ie]:"fire-gcs",[se]:"fire-gcs-compat",[ae]:"fire-fst",[ne]:"fire-fst-compat","fire-js":"fire-js",[oe]:"fire-js-all"},le=new Map,ce=new Map;function de(t,e){try{t.container.addComponent(e)}catch(i){Nt.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,i)}}function ue(t){const e=t.name;if(ce.has(e))return Nt.debug(`There were multiple attempts to register component ${e}.`),!1;ce.set(e,t);for(const e of le.values())de(e,t);return!0}function ge(t,e){const i=t.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),t.container.getProvider(e)}const me=new q("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class pe{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new nt("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw me.create("app-deleted",{appName:this._name})}}function ve(t,e={}){let i=t;if("object"!=typeof e){e={name:e}}const s=Object.assign({name:re,automaticDataCollectionEnabled:!1},e),a=s.name;if("string"!=typeof a||!a)throw me.create("bad-app-name",{appName:String(a)});if(i||(i=V()),!i)throw me.create("no-options");const n=le.get(a);if(n){if(J(i,n.options)&&J(s,n.config))return n;throw me.create("duplicate-app",{appName:a})}const o=new ht(a);for(const t of ce.values())o.addComponent(t);const r=new pe(i,s,o);return le.set(a,r),r}function fe(t,e,i){var s;let a=null!==(s=he[t])&&void 0!==s?s:t;i&&(a+=`-${i}`);const n=a.match(/\s|\//),o=e.match(/\s|\//);if(n||o){const t=[`Unable to register library "${a}" with version "${e}":`];return n&&t.push(`library name "${a}" contains illegal characters (whitespace or "/")`),n&&o&&t.push("and"),o&&t.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Nt.warn(t.join(" "))}ue(new nt(`${a}-version`,(()=>({library:a,version:e})),"VERSION"))}const we="firebase-heartbeat-database",ye=1,be="firebase-heartbeat-store";let Se=null;function Ie(){return Se||(Se=function(t,e,{blocked:i,upgrade:s,blocking:a,terminated:n}={}){const o=indexedDB.open(t,e),r=Pt(o);return s&&o.addEventListener("upgradeneeded",(t=>{s(Pt(o.result),t.oldVersion,t.newVersion,Pt(o.transaction),t)})),i&&o.addEventListener("blocked",(t=>i(t.oldVersion,t.newVersion,t))),r.then((t=>{n&&t.addEventListener("close",(()=>n())),a&&t.addEventListener("versionchange",(t=>a(t.oldVersion,t.newVersion,t)))})).catch((()=>{})),r}(we,ye,{upgrade:(t,e)=>{if(0===e)t.createObjectStore(be)}}).catch((t=>{throw me.create("idb-open",{originalErrorMessage:t.message})}))),Se}async function xe(t,e){try{const i=(await Ie()).transaction(be,"readwrite"),s=i.objectStore(be);await s.put(e,Ce(t)),await i.done}catch(t){if(t instanceof U)Nt.warn(t.message);else{const e=me.create("idb-set",{originalErrorMessage:null==t?void 0:t.message});Nt.warn(e.message)}}}function Ce(t){return`${t.name}!${t.options.appId}`}class Ee{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new Pe(e),this._heartbeatsCachePromise=this._storage.read().then((t=>(this._heartbeatsCache=t,t)))}async triggerHeartbeat(){const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),e=Te();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==e&&!this._heartbeatsCache.heartbeats.some((t=>t.date===e)))return this._heartbeatsCache.heartbeats.push({date:e,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((t=>{const e=new Date(t.date).valueOf();return Date.now()-e<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const t=Te(),{heartbeatsToSend:e,unsentEntries:i}=function(t,e=1024){const i=[];let s=t.slice();for(const a of t){const t=i.find((t=>t.agent===a.agent));if(t){if(t.dates.push(a.date),_e(i)>e){t.dates.pop();break}}else if(i.push({agent:a.agent,dates:[a.date]}),_e(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}(this._heartbeatsCache.heartbeats),s=W(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Te(){return(new Date).toISOString().substring(0,10)}class Pe{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Y()&&G().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const t=await async function(t){try{const e=await Ie();return await e.transaction(be).objectStore(be).get(Ce(t))}catch(t){if(t instanceof U)Nt.warn(t.message);else{const e=me.create("idb-get",{originalErrorMessage:null==t?void 0:t.message});Nt.warn(e.message)}}}(this.app);return t||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const i=await this.read();return xe(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){var e;if(await this._canUseIndexedDBPromise){const i=await this.read();return xe(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}}}function _e(t){return W(JSON.stringify({version:2,heartbeats:t})).length}var ke;ke="",ue(new nt("platform-logger",(t=>new zt(t)),"PRIVATE")),ue(new nt("heartbeat",(t=>new Ee(t)),"PRIVATE")),fe(At,Mt,ke),fe(At,Mt,"esm2017"),fe("fire-js","");fe("firebase","10.1.0","app");const Le=(t,e)=>e.some((e=>t instanceof e));let De,Be;const ze=new WeakMap,Ae=new WeakMap,Me=new WeakMap,Ne=new WeakMap,Fe=new WeakMap;let Oe={get(t,e,i){if(t instanceof IDBTransaction){if("done"===e)return Ae.get(t);if("objectStoreNames"===e)return t.objectStoreNames||Me.get(t);if("store"===e)return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return He(t[e])},set:(t,e,i)=>(t[e]=i,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function je(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Be||(Be=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(Re(this),e),He(ze.get(this))}:function(...e){return He(t.apply(Re(this),e))}:function(e,...i){const s=t.call(Re(this),e,...i);return Me.set(s,e.sort?e.sort():[e]),He(s)}}function We(t){return"function"==typeof t?je(t):(t instanceof IDBTransaction&&function(t){if(Ae.has(t))return;const e=new Promise(((e,i)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",n),t.removeEventListener("abort",n)},a=()=>{e(),s()},n=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",n),t.addEventListener("abort",n)}));Ae.set(t,e)}(t),Le(t,De||(De=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(t,Oe):t)}function He(t){if(t instanceof IDBRequest)return function(t){const e=new Promise(((e,i)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",n)},a=()=>{e(He(t.result)),s()},n=()=>{i(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",n)}));return e.then((e=>{e instanceof IDBCursor&&ze.set(e,t)})).catch((()=>{})),Fe.set(e,t),e}(t);if(Ne.has(t))return Ne.get(t);const e=We(t);return e!==t&&(Ne.set(t,e),Fe.set(e,t)),e}const Re=t=>Fe.get(t);const Xe=["get","getKey","getAll","getAllKeys","count"],Ve=["put","add","delete","clear"],$e=new Map;function Ye(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if($e.get(e))return $e.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,a=Ve.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!a&&!Xe.includes(i))return;const n=async function(t,...e){const n=this.transaction(t,a?"readwrite":"readonly");let o=n.store;return s&&(o=o.index(e.shift())),(await Promise.all([o[i](...e),a&&n.done]))[0]};return $e.set(e,n),n}!function(t){Oe=t(Oe)}((t=>({...t,get:(e,i,s)=>Ye(e,i)||t.get(e,i,s),has:(e,i)=>!!Ye(e,i)||t.has(e,i)})));const Ge="@firebase/installations",Ue="0.6.4",qe=1e4,Ke=`w:${Ue}`,Je="FIS_v2",Qe="https://firebaseinstallations.googleapis.com/v1",Ze=36e5,ti=new q("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ei(t){return t instanceof U&&t.code.includes("request-failed")}function ii({projectId:t}){return`${Qe}/projects/${t}/installations`}function si(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}async function ai(t,e){const i=(await e.json()).error;return ti.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function ni({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function oi(t,{refreshToken:e}){const i=ni(t);return i.append("Authorization",function(t){return`${Je} ${t}`}(e)),i}async function ri(t){const e=await t();return e.status>=500&&e.status<600?t():e}function hi(t){return new Promise((e=>{setTimeout(e,t)}))}const li=/^[cdef][\w-]{21}$/,ci="";function di(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const e=function(t){const e=(i=t,btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_"));var i;return e.substr(0,22)}(t);return li.test(e)?e:ci}catch(t){return ci}}function ui(t){return`${t.appName}!${t.appId}`}const gi=new Map;function mi(t,e){const i=ui(t);pi(i,e),function(t,e){const i=fi();i&&i.postMessage({key:t,fid:e});wi()}(i,e)}function pi(t,e){const i=gi.get(t);if(i)for(const t of i)t(e)}let vi=null;function fi(){return!vi&&"BroadcastChannel"in self&&(vi=new BroadcastChannel("[Firebase] FID Change"),vi.onmessage=t=>{pi(t.data.key,t.data.fid)}),vi}function wi(){0===gi.size&&vi&&(vi.close(),vi=null)}const yi="firebase-installations-database",bi=1,Si="firebase-installations-store";let Ii=null;function xi(){return Ii||(Ii=function(t,e,{blocked:i,upgrade:s,blocking:a,terminated:n}={}){const o=indexedDB.open(t,e),r=He(o);return s&&o.addEventListener("upgradeneeded",(t=>{s(He(o.result),t.oldVersion,t.newVersion,He(o.transaction))})),i&&o.addEventListener("blocked",(()=>i())),r.then((t=>{n&&t.addEventListener("close",(()=>n())),a&&t.addEventListener("versionchange",(()=>a()))})).catch((()=>{})),r}(yi,bi,{upgrade:(t,e)=>{if(0===e)t.createObjectStore(Si)}})),Ii}async function Ci(t,e){const i=ui(t),s=(await xi()).transaction(Si,"readwrite"),a=s.objectStore(Si),n=await a.get(i);return await a.put(e,i),await s.done,n&&n.fid===e.fid||mi(t,e.fid),e}async function Ei(t){const e=ui(t),i=(await xi()).transaction(Si,"readwrite");await i.objectStore(Si).delete(e),await i.done}async function Ti(t,e){const i=ui(t),s=(await xi()).transaction(Si,"readwrite"),a=s.objectStore(Si),n=await a.get(i),o=e(n);return void 0===o?await a.delete(i):await a.put(o,i),await s.done,!o||n&&n.fid===o.fid||mi(t,o.fid),o}async function Pi(t){let e;const i=await Ti(t.appConfig,(i=>{const s=function(t){const e=t||{fid:di(),registrationStatus:0};return Li(e)}(i),a=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine){return{installationEntry:e,registrationPromise:Promise.reject(ti.create("app-offline"))}}const i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=async function(t,e){try{const i=await async function({appConfig:t,heartbeatServiceProvider:e},{fid:i}){const s=ii(t),a=ni(t),n=e.getImmediate({optional:!0});if(n){const t=await n.getHeartbeatsHeader();t&&a.append("x-firebase-client",t)}const o={fid:i,authVersion:Je,appId:t.appId,sdkVersion:Ke},r={method:"POST",headers:a,body:JSON.stringify(o)},h=await ri((()=>fetch(s,r)));if(h.ok){const t=await h.json();return{fid:t.fid||i,registrationStatus:2,refreshToken:t.refreshToken,authToken:si(t.authToken)}}throw await ai("Create Installation",h)}(t,e);return Ci(t.appConfig,i)}catch(i){throw ei(i)&&409===i.customData.serverCode?await Ei(t.appConfig):await Ci(t.appConfig,{fid:e.fid,registrationStatus:0}),i}}(t,i);return{installationEntry:i,registrationPromise:s}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:_i(t)}:{installationEntry:e}}(t,s);return e=a.registrationPromise,a.installationEntry}));return i.fid===ci?{installationEntry:await e}:{installationEntry:i,registrationPromise:e}}async function _i(t){let e=await ki(t.appConfig);for(;1===e.registrationStatus;)await hi(100),e=await ki(t.appConfig);if(0===e.registrationStatus){const{installationEntry:e,registrationPromise:i}=await Pi(t);return i||e}return e}function ki(t){return Ti(t,(t=>{if(!t)throw ti.create("installation-not-found");return Li(t)}))}function Li(t){return 1===(e=t).registrationStatus&&e.registrationTime+qe<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}async function Di({appConfig:t,heartbeatServiceProvider:e},i){const s=function(t,{fid:e}){return`${ii(t)}/${e}/authTokens:generate`}(t,i),a=oi(t,i),n=e.getImmediate({optional:!0});if(n){const t=await n.getHeartbeatsHeader();t&&a.append("x-firebase-client",t)}const o={installation:{sdkVersion:Ke,appId:t.appId}},r={method:"POST",headers:a,body:JSON.stringify(o)},h=await ri((()=>fetch(s,r)));if(h.ok){return si(await h.json())}throw await ai("Generate Auth Token",h)}async function Bi(t,e=!1){let i;const s=await Ti(t.appConfig,(s=>{if(!Ai(s))throw ti.create("not-registered");const a=s.authToken;if(!e&&function(t){return 2===t.requestStatus&&!function(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Ze}(t)}(a))return s;if(1===a.requestStatus)return i=async function(t,e){let i=await zi(t.appConfig);for(;1===i.authToken.requestStatus;)await hi(100),i=await zi(t.appConfig);const s=i.authToken;return 0===s.requestStatus?Bi(t,e):s}(t,e),s;{if(!navigator.onLine)throw ti.create("app-offline");const e=function(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return i=async function(t,e){try{const i=await Di(t,e),s=Object.assign(Object.assign({},e),{authToken:i});return await Ci(t.appConfig,s),i}catch(i){if(!ei(i)||401!==i.customData.serverCode&&404!==i.customData.serverCode){const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Ci(t.appConfig,i)}else await Ei(t.appConfig);throw i}}(t,e),e}}));return i?await i:s.authToken}function zi(t){return Ti(t,(t=>{if(!Ai(t))throw ti.create("not-registered");const e=t.authToken;return 1===(i=e).requestStatus&&i.requestTime+qe<Date.now()?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t;var i}))}function Ai(t){return void 0!==t&&2===t.registrationStatus}async function Mi(t,e=!1){const i=t;await async function(t){const{registrationPromise:e}=await Pi(t);e&&await e}(i);return(await Bi(i,e)).token}function Ni(t){return ti.create("missing-app-config-values",{valueName:t})}const Fi="installations",Oi=t=>{const e=t.getProvider("app").getImmediate(),i=function(t){if(!t||!t.options)throw Ni("App Configuration");if(!t.name)throw Ni("App Name");const e=["projectId","apiKey","appId"];for(const i of e)if(!t.options[i])throw Ni(i);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:i,heartbeatServiceProvider:ge(e,"heartbeat"),_delete:()=>Promise.resolve()}},ji=t=>{const e=ge(t.getProvider("app").getImmediate(),Fi).getImmediate();return{getId:()=>async function(t){const e=t,{installationEntry:i,registrationPromise:s}=await Pi(e);return s?s.catch(console.error):Bi(e).catch(console.error),i.fid}(e),getToken:t=>Mi(e,t)}};ue(new nt(Fi,Oi,"PUBLIC")),ue(new nt("installations-internal",ji,"PRIVATE")),fe(Ge,Ue),fe(Ge,Ue,"esm2017");const Wi="analytics",Hi="firebase_id",Ri="origin",Xi=6e4,Vi="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",$i="https://www.googletagmanager.com/gtag/js",Yi=new pt("@firebase/analytics"),Gi=new q("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Ui(t){if(!t.startsWith($i)){const e=Gi.create("invalid-gtag-resource",{gtagURL:t});return Yi.warn(e.message),""}return t}function qi(t){return Promise.all(t.map((t=>t.catch((t=>t)))))}function Ki(t,e){const i=function(t,e){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(t,e)),i}("firebase-js-sdk-policy",{createScriptURL:Ui}),s=document.createElement("script"),a=`${$i}?l=${t}&id=${e}`;s.src=i?null==i?void 0:i.createScriptURL(a):a,s.async=!0,document.head.appendChild(s)}function Ji(t,e,i,s){return async function(a,...n){try{if("event"===a){const[s,a]=n;await async function(t,e,i,s,a){try{let n=[];if(a&&a.send_to){let t=a.send_to;Array.isArray(t)||(t=[t]);const s=await qi(i);for(const i of t){const t=s.find((t=>t.measurementId===i)),a=t&&e[t.appId];if(!a){n=[];break}n.push(a)}}0===n.length&&(n=Object.values(e)),await Promise.all(n),t("event",s,a||{})}catch(t){Yi.error(t)}}(t,e,i,s,a)}else if("config"===a){const[a,o]=n;await async function(t,e,i,s,a,n){const o=s[a];try{if(o)await e[o];else{const t=(await qi(i)).find((t=>t.measurementId===a));t&&await e[t.appId]}}catch(t){Yi.error(t)}t("config",a,n)}(t,e,i,s,a,o)}else if("consent"===a){const[e]=n;t("consent","update",e)}else if("get"===a){const[e,i,s]=n;t("get",e,i,s)}else if("set"===a){const[e]=n;t("set",e)}else t(a,...n)}catch(t){Yi.error(t)}}}const Qi=30;const Zi=new class{constructor(t={},e=1e3){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}};function ts(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function es(t,e=Zi,i){const{appId:s,apiKey:a,measurementId:n}=t.options;if(!s)throw Gi.create("no-app-id");if(!a){if(n)return{measurementId:n,appId:s};throw Gi.create("no-api-key")}const o=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},r=new ss;return setTimeout((async()=>{r.abort()}),void 0!==i?i:Xi),is({appId:s,apiKey:a,measurementId:n},o,r,e)}async function is(t,{throttleEndTimeMillis:e,backoffCount:i},s,a=Zi){var n;const{appId:o,measurementId:r}=t;try{await function(t,e){return new Promise(((i,s)=>{const a=Math.max(e-Date.now(),0),n=setTimeout(i,a);t.addEventListener((()=>{clearTimeout(n),s(Gi.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}(s,e)}catch(t){if(r)return Yi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${r} provided in the "measurementId" field in the local Firebase config. [${null==t?void 0:t.message}]`),{appId:o,measurementId:r};throw t}try{const e=await async function(t){var e;const{appId:i,apiKey:s}=t,a={method:"GET",headers:ts(s)},n=Vi.replace("{app-id}",i),o=await fetch(n,a);if(200!==o.status&&304!==o.status){let t="";try{const i=await o.json();(null===(e=i.error)||void 0===e?void 0:e.message)&&(t=i.error.message)}catch(t){}throw Gi.create("config-fetch-failed",{httpStatus:o.status,responseMessage:t})}return o.json()}(t);return a.deleteThrottleMetadata(o),e}catch(e){const h=e;if(!function(t){if(!(t instanceof U&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(h)){if(a.deleteThrottleMetadata(o),r)return Yi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${r} provided in the "measurementId" field in the local Firebase config. [${null==h?void 0:h.message}]`),{appId:o,measurementId:r};throw e}const l=503===Number(null===(n=null==h?void 0:h.customData)||void 0===n?void 0:n.httpStatus)?st(i,a.intervalMillis,Qi):st(i,a.intervalMillis),c={throttleEndTimeMillis:Date.now()+l,backoffCount:i+1};return a.setThrottleMetadata(o,c),Yi.debug(`Calling attemptFetch again in ${l} millis`),is(t,c,s,a)}}class ss{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach((t=>t()))}}let as,ns;function os(t){ns=t}function rs(t){as=t}async function hs(t,e,i,s,a,n,o){var r;const h=es(t);h.then((e=>{i[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&Yi.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${e.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)})).catch((t=>Yi.error(t))),e.push(h);const l=async function(){if(!Y())return Yi.warn(Gi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await G()}catch(t){return Yi.warn(Gi.create("indexeddb-unavailable",{errorInfo:null==t?void 0:t.toString()}).message),!1}return!0}().then((t=>t?s.getId():void 0)),[c,d]=await Promise.all([h,l]);(function(t){const e=window.document.getElementsByTagName("script");for(const i of Object.values(e))if(i.src&&i.src.includes($i)&&i.src.includes(t))return i;return null})(n)||Ki(n,c.measurementId),ns&&(a("consent","default",ns),os(void 0)),a("js",new Date);const u=null!==(r=null==o?void 0:o.config)&&void 0!==r?r:{};return u[Ri]="firebase",u.update=!0,null!=d&&(u[Hi]=d),a("config",c.measurementId,u),as&&(a("set",as),rs(void 0)),c.measurementId}class ls{constructor(t){this.app=t}_delete(){return delete cs[this.app.options.appId],Promise.resolve()}}let cs={},ds=[];const us={};let gs,ms,ps="dataLayer",vs="gtag",fs=!1;function ws(){const t=[];if(function(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}()&&t.push("This is a browser extension environment."),"undefined"!=typeof navigator&&navigator.cookieEnabled||t.push("Cookies are not available."),t.length>0){const e=t.map(((t,e)=>`(${e+1}) ${t}`)).join(" "),i=Gi.create("invalid-analytics-context",{errorInfo:e});Yi.warn(i.message)}}function ys(t,e,i){ws();const s=t.options.appId;if(!s)throw Gi.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Gi.create("no-api-key");Yi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=cs[s])throw Gi.create("already-exists",{id:s});if(!fs){!function(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(ps);const{wrappedGtag:t,gtagCore:e}=function(t,e,i,s,a){let n=function(...t){window[s].push(arguments)};return window[a]&&"function"==typeof window[a]&&(n=window[a]),window[a]=Ji(n,t,e,i),{gtagCore:n,wrappedGtag:window[a]}}(cs,ds,us,ps,vs);ms=t,gs=e,fs=!0}cs[s]=hs(t,ds,us,e,gs,ps,i);return new ls(t)}function bs(t=function(t=re){const e=le.get(t);if(!e&&t===re&&V())return ve();if(!e)throw me.create("no-app",{appName:t});return e}()){const e=ge(t=at(t),Wi);return e.isInitialized()?e.getImmediate():function(t,e={}){const i=ge(t,Wi);if(i.isInitialized()){const t=i.getImmediate();if(J(e,i.getOptions()))return t;throw Gi.create("already-initialized")}const s=i.initialize({options:e});return s}(t)}function Ss(t,e,i,s){t=at(t),async function(t,e,i,s,a){if(a&&a.global)t("event",i,s);else{const a=await e;t("event",i,Object.assign(Object.assign({},s),{send_to:a}))}}(ms,cs[t.app.options.appId],e,i,s).catch((t=>Yi.error(t)))}const Is="@firebase/analytics",xs="0.10.0";ue(new nt(Wi,((t,{options:e})=>ys(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),e)),"PUBLIC")),ue(new nt("analytics-internal",(function(t){try{const e=t.getProvider(Wi).getImmediate();return{logEvent:(t,i,s)=>Ss(e,t,i,s)}}catch(t){throw Gi.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),fe(Is,xs),fe(Is,xs,"esm2017");const Cs={apiKey:"AIzaSyB8c2lBVi26u7YRL9sxOP97Uaq3yN8hTl4",authDomain:"ftm-b9d99.firebaseapp.com",databaseURL:"https://ftm-b9d99.firebaseio.com",projectId:"ftm-b9d99",storageBucket:"ftm-b9d99.appspot.com",messagingSenderId:"602402387941",appId:"1:602402387941:web:a63f4eaddc949f539de10c",measurementId:"G-FVLSN7D7NM"};class Es{firebaseApp;analytics;constructor(){this.initializeFirebase()}customEvents(t,e){try{console.log(`Sending custom event ${t} with data:`,e),Ss(this.analytics,t,e)}catch(t){console.error("Error while logging custom event:",t)}}sessionEnd(){try{navigator.onLine&&void 0!==this.analytics&&Ss(this.analytics,"session_end")}catch(t){console.error("Error while logging session_end event:",t)}}initializeFirebase(){try{this.firebaseApp=ve(Cs),this.analytics=bs(this.firebaseApp)}catch(t){console.error("Error while initializing Firebase:",t)}}}class Ts extends Es{static instance;constructor(){super()}static getInstance(){return Ts.instance||(Ts.instance=new Ts),Ts.instance}sendSessionStartEvent(t){this.customEvents("session_start",t)}sendSessionEndEvent(t){this.customEvents("session_end",t)}sendSelectedLevelEvent(t){this.customEvents("selected_level",t)}sendTappedStartEvent(t){this.customEvents("tapped_start",t)}sendPuzzleCompletedEvent(t){this.customEvents("puzzle_completed",t)}sendLevelCompletedEvent(t){this.customEvents("level_completed",t)}sendUserClickedOnPlayEvent(){this.customEvents("user_clicked",{click:"Click"})}sendDownloadCompletedEvent(t){this.customEvents("download_completed",t)}}class Ps{posX;posY;context;canvas;images;loadedImages;imagesLoaded=!1;majVersion;minVersion;firebaseIntegration;constructor(t,i,s,a){this.posX=s,this.posY=a,this.context=t,this.canvas=i,this.firebaseIntegration=new Ts,this.init(),this.images={pause_button_image:"./assets/images/Play_button.png"},e(this.images,(t=>{this.loadedImages=Object.assign({},t),this.imagesLoaded=!0}))}async init(){const t=await f();this.majVersion=t.majversion,this.minVersion=t.minversion}draw(){this.imagesLoaded&&this.context.drawImage(this.loadedImages.pause_button_image,this.posX,this.posY,this.canvas.width/3,this.canvas.width/3)}onClick(t,e){const i=Math.sqrt((t-this.posX-this.canvas.width/6)*(t-this.posX-this.canvas.width/6)+(e-this.posY-this.canvas.width/6)*(e-this.posY-this.canvas.width/6));if(this.logTappedStartFirebaseEvent(),i<this.canvas.width/8)return!0}logTappedStartFirebaseEvent(){Date.now();const t={cr_user_id:u,ftm_language:g,profile_number:0,version_number:document.getElementById("version-info-id").innerHTML,json_version_number:this.majVersion&&this.minVersion?this.majVersion.toString()+"."+this.minVersion.toString():""};this.firebaseIntegration.sendTappedStartEvent(t)}}class _s{canvas;data;width;height;monster;pickedStone;pwa_status;firebase_analytics;id;canavsElement;context;buttonContext;playButton;images;loadedImages;imagesLoaded=!1;handler;static SceneName;switchSceneToLevelSelection;titleFont;background1;audioPlayer;toggleBtn;pwa_install_status;constructor(t,e,s){this.canvas=t,this.data=e,this.width=t.width,this.height=t.height,this.canavsElement=document.getElementById("canvas"),this.context=this.canavsElement.getContext("2d"),this.toggleBtn=document.getElementById("toggle-btn"),this.monster=new B(this.canvas,4),this.switchSceneToLevelSelection=s,this.background1=new A(this.context,this.width,this.height,1),this.audioPlayer=new M,this.pwa_status=localStorage.getItem(i),this.handler=document.getElementById("canvas"),this.devToggle(),this.createPlayButton(),_s.SceneName=n,window.addEventListener("beforeinstallprompt",this.handlerInstallPrompt)}devToggle=()=>{this.toggleBtn.addEventListener("click",(()=>{this.toggleBtn.classList.toggle("on"),this.toggleBtn.classList.contains("on")?(p.DebugMode=!0,this.toggleBtn.innerText="Dev"):(p.DebugMode=!1,this.toggleBtn.innerText="Dev")}))};animation=t=>{this.titleFont=this.getFontWidthOfTitle(),this.context.clearRect(0,0,this.width,this.height),_s.SceneName==n&&(this.background1.draw(),this.context.font=`${this.titleFont}px ${m}, monospace`,this.context.fillStyle="white",this.context.textAlign="center",this.context.fillText(this.data.title,.5*this.width,this.height/10),this.monster.update(t),this.playButton.draw())};createPlayButton(){this.playButton=new Ps(this.context,this.canvas,.35*this.canvas.width,this.canvas.height/7),document.addEventListener("selectstart",(function(t){t.preventDefault()})),this.handler.addEventListener("click",this.handleMouseClick,!1)}handleMouseClick=t=>{let e=this;const i=document.getElementById("canvas");t.preventDefault();var s=i.getBoundingClientRect();const a=t.clientX-s.left,n=t.clientY-s.top,{excludeX:o,excludeY:r}=c.getExcludedCoordinates(i,15);a<o&&n<r||(Ts.getInstance().sendUserClickedOnPlayEvent(),fbq("trackCustom","user_clicked",{event:"click"}),this.toggleBtn.style.display="none",this.audioPlayer.playButtonClickSound("./assets/audios/ButtonClick.mp3"),e.switchSceneToLevelSelection("StartScene"))};dispose(){this.audioPlayer.stopAllAudios(),this.handler.removeEventListener("click",this.handleMouseClick,!1),window.removeEventListener("beforeinstallprompt",this.handlerInstallPrompt,!1)}getFontWidthOfTitle(){return(this.width+200)/this.data.title.length}handlerInstallPrompt=t=>{t.preventDefault(),this.pwa_install_status=t,localStorage.setItem(i,"false")}}class ks{x;y;index;drawready;img;constructor(t,e,i){this.x=t,this.y=e,this.index=i,this.drawready=!1,this.img=new Image,this.img.src="./assets/images/mapIcon.png",this.img.onload=function(){}}}class Ls{static currentlanguage=g;static setGameLevelScore(t,e){let i=this.calculateStarCount(e),s={levelName:t.levelMeta.levelType,levelNumber:t.levelMeta.levelNumber,score:e,starCount:i};this.setTotalStarCount(i);let a=this.getAllGameLevelInfo(),n=-1;for(let t=0;t<a.length;t++)if(a[t].levelNumber===s.levelNumber){n=t;break}-1!==n&&s.score>a[n].score?a[n]=s:a.push(s),localStorage.setItem(this.currentlanguage+"gamePlayedInfo",JSON.stringify(a))}static getAllGameLevelInfo(){const t=localStorage.getItem(this.currentlanguage+"gamePlayedInfo");return null==t?[]:JSON.parse(t)}static setTotalStarCount(t){let e=this.getTotalStarCount()+t;localStorage.setItem(this.currentlanguage+"totalStarCount",e)}static getTotalStarCount(){const t=localStorage.getItem(this.currentlanguage+"totalStarCount");return null==t?0:parseInt(t)}static calculateStarCount(t){return 200==t?1:300==t||400==t?2:500==t?3:0}static getDatafromStorage(){return p.DebugMode?JSON.parse(localStorage.getItem(g+"ProfileDebug")||"{}"):JSON.parse(localStorage.getItem(g+"Profile")||"{}")}}class Ds{canvas;data;levelButtonPos;canvasElement;context;levels;gameLevelData;callBack;audioPlayer;images;loadedImages;imagesLoaded=!1;xDown;yDown;previousPlayedLevelNumber;levelSelectionPageIndex=0;levelNumber;levelsSectionCount;unlockLevelIndex;majVersion;minVersion;firebaseIntegration;constructor(t,i,a){this.canvas=t,this.data=i;let n=this;this.callBack=a,this.levelsSectionCount=n.data.levels.length/10>Math.floor(n.data.levels.length/10)?Math.floor(n.data.levels.length/10)+1:Math.floor(n.data.levels.length/10),this.initialiseButtonPos(),this.levels=[],this.firebaseIntegration=new Ts,this.init(),this.canvasElement=document.getElementById("canvas"),this.context=this.canvasElement.getContext("2d"),this.createLevelButtons(this.levelButtonPos),this.gameLevelData=Ls.getAllGameLevelInfo(),this.callBack=a,this.audioPlayer=new M,this.unlockLevelIndex=-1,this.previousPlayedLevelNumber=0|parseInt(p.DebugMode?localStorage.getItem(s+g+"Debug"):localStorage.getItem(s+g)),null!=this.previousPlayedLevelNumber&&(this.levelSelectionPageIndex=10*Math.floor(this.previousPlayedLevelNumber/10)),this.images={mapIcon:"./assets/images/mapIcon.png",mapIconSpecial:"./assets/images/map_icon_monster_level_v01.png",mapLock:"./assets/images/mapLock.png",map:"./assets/images/map.jpg",star:"./assets/images/star.png",nextbtn:"./assets/images/next_btn.png",backbtn:"./assets/images/back_btn.png"},e(this.images,(t=>{this.loadedImages=Object.assign({},t),this.imagesLoaded=!0,"visible"===document.visibilityState&&this.audioPlayer.playAudio("./assets/audios/intro.mp3")})),this.addListeners()}async init(){const t=await f();this.majVersion=t.majversion,this.minVersion=t.minversion}initialiseButtonPos(){this.levelButtonPos=[[[this.canvas.width/10,this.canvas.height/10],[this.canvas.width/2.5,this.canvas.height/10],[this.canvas.width/3+this.canvas.width/2.8,this.canvas.height/10],[this.canvas.width/10,this.canvas.height/3],[this.canvas.width/2.5,this.canvas.height/3],[this.canvas.width/3+this.canvas.width/2.8,this.canvas.height/3],[this.canvas.width/10,this.canvas.height/1.8],[this.canvas.width/2.5,this.canvas.height/1.8],[this.canvas.width/3+this.canvas.width/2.8,this.canvas.height/1.8],[this.canvas.width/2.5,this.canvas.height/1.3]]]}createLevelButtons(t){let e=t[0],i=0;for(let t=0;t<10;t++){let t=new ks(e[i][0],e[i][1],i+1);this.levels.push(t),i+=1}}addListeners(){document.getElementById("canvas").addEventListener("mousedown",this.handleMouseDown,!1),document.addEventListener("visibilitychange",this.pausePlayAudios,!1),document.getElementById("canvas").addEventListener("touchstart",this.handleTouchStart,!1),document.getElementById("canvas").addEventListener("touchmove",this.handleTouchMove,!1)}pausePlayAudios=()=>{"visible"===document.visibilityState?this.audioPlayer.playAudio("./assets/audios/intro.mp3"):this.audioPlayer.stopAllAudios()};getTouches(t){return t.touches||t.originalEvent.touches}handleTouchStart=t=>{const e=this.getTouches(t)[0];this.xDown=e.clientX,this.yDown=e.clientY};handleTouchMove=t=>{if(!this.xDown||!this.yDown)return;let e=t.touches[0].clientX,i=t.touches[0].clientY,s=this.xDown-e,a=this.yDown-i;Math.abs(s)>Math.abs(a)&&(s>0?this.levelSelectionPageIndex!=10*this.levelsSectionCount-10&&(this.levelSelectionPageIndex=this.levelSelectionPageIndex+10,this.downButton(this.levelSelectionPageIndex)):(0!=this.levelSelectionPageIndex&&(this.levelSelectionPageIndex=this.levelSelectionPageIndex-10),this.downButton(this.levelSelectionPageIndex))),this.xDown=null,this.yDown=null};handleMouseDown=t=>{t.preventDefault();let e=document.getElementById("canvas").getBoundingClientRect();const i=t.clientX-e.left,s=t.clientY-e.top;i>=.7*this.canvas.width&&i<.7*this.canvas.width+this.canvas.height/10&&s>this.canvas.height/1.3&&s<this.canvas.height/1.3+this.canvas.height/10&&this.levelSelectionPageIndex!=10*this.levelsSectionCount-10&&(this.levelSelectionPageIndex=this.levelSelectionPageIndex+10,this.downButton(this.levelSelectionPageIndex)),i>=this.canvas.width/10&&i<this.canvas.width/10+this.canvas.height/10&&s>this.canvas.height/1.3&&s<this.canvas.height/1.3+this.canvas.height/10&&(0!=this.levelSelectionPageIndex&&(this.levelSelectionPageIndex=this.levelSelectionPageIndex-10),this.downButton(this.levelSelectionPageIndex));for(let t of this.levels)Math.sqrt((i-t.x-this.canvas.height/20)*(i-t.x-this.canvas.height/20)+(s-t.y-this.canvas.height/20)*(s-t.y-this.canvas.height/20))<45&&(p.DebugMode||t.index+this.levelSelectionPageIndex-1<=this.unlockLevelIndex+1)&&(this.audioPlayer.playButtonClickSound("./assets/audios/ButtonClick.mp3"),this.levelNumber=t.index+this.levelSelectionPageIndex-1,this.startGame(this.levelNumber))};drawLevel(t,e){let i=e.height/5,s=i/6;const a=[5,13,20,30,42];if(t.index+this.levelSelectionPageIndex<=this.data.levels.length){const e=t.index+this.levelSelectionPageIndex,n=a.includes(e);this.context.drawImage(n?this.loadedImages.mapIconSpecial:this.loadedImages.mapIcon,t.x,t.y,n?.9*i:i,n?.9*i:i),this.context.fillStyle="white",this.context.font=s+`px ${m}, monospace`,this.context.textAlign="center",this.context.fillText(t.index+this.levelSelectionPageIndex,t.x+i/3.5,t.y+i/3),this.context.font=s-i/30+`px ${m}, monospace`,p.DebugMode&&this.context.fillText(this.data.levels[t.index+this.levelSelectionPageIndex-1].levelMeta.levelType,t.x+i/3.5,t.y+i/1.3)}}draw(){for(let t of this.levels)this.drawLevel(t,this.canvas)}downButton(t){let e=this.canvas.height/10;t!=10*this.levelsSectionCount-10&&this.context.drawImage(this.loadedImages.nextbtn,.7*this.canvas.width,this.canvas.height/1.3,e,e),0!=t&&this.context.drawImage(this.loadedImages.backbtn,this.canvas.width/10,this.canvas.height/1.3,e,e)}drawStars(t){if(null!=t){if(null!=t.length)for(let e of t)this.unlockLevelIndex<parseInt(e.levelNumber)&&e.starCount>=2&&(this.unlockLevelIndex=parseInt(e.levelNumber));for(let e of this.levels)if(e.index+this.levelSelectionPageIndex<=this.data.levels.length){p.DebugMode||e.index+this.levelSelectionPageIndex-1>this.unlockLevelIndex+1&&this.context.drawImage(this.loadedImages.mapLock,e.x,e.y,this.canvas.height/13,this.canvas.height/13);for(let i=0;i<t.length;i++)if(e.index-1+this.levelSelectionPageIndex==parseInt(t[i].levelNumber)){this.drawStar(e,this.canvas,t[i].starCount,this.context);break}}}}drawStar(t,e,i,s){let a=e.height/5;i>=1&&s.drawImage(this.loadedImages.star,t.x,t.y-.01*a,a/5,a/5),i>1&&s.drawImage(this.loadedImages.star,t.x+a/2.5,t.y-.01*a,a/5,a/5),3==i&&s.drawImage(this.loadedImages.star,t.x+a/5,t.y-.1*a,a/5,a/5)}startGame(t){this.dispose(),this.audioPlayer.stopAllAudios();let e={currentLevelData:this.data.levels[t],selectedLevelNumber:t};this.logSelectedLevelEvent(),this.callBack(e,"LevelSelection")}logSelectedLevelEvent(){const t={cr_user_id:u,ftm_language:g,profile_number:0,version_number:document.getElementById("version-info-id").innerHTML,json_version_number:this.majVersion&&this.minVersion?this.majVersion.toString()+"."+this.minVersion.toString():"",level_selected:this.levelNumber};this.firebaseIntegration.sendSelectedLevelEvent(t)}drawLevelSelection(){this.imagesLoaded&&(this.context.drawImage(this.loadedImages.map,0,0,this.canvas.width,this.canvas.height),this.draw(),this.downButton(this.levelSelectionPageIndex),this.drawStars(this.gameLevelData))}dispose(){this.audioPlayer.stopAllAudios(),document.getElementById("canvas").removeEventListener("mousedown",this.handleMouseDown,!1),document.removeEventListener("visibilitychange",this.pausePlayAudios,!1),document.getElementById("canvas").removeEventListener("touchstart",this.handleTouchStart,!1),document.getElementById("canvas").removeEventListener("touchmove",this.handleTouchMove,!1)}}class Bs extends D{width;height;timerWidth;timerHeight;widthToClear;timer;isTimerStarted;isTimerEnded;isTimerRunningOut;canavsElement;context;timer_full;pauseButtonClicked;images;loadedImages;callback;imagesLoaded=!1;startMyTimer=!0;isMyTimerOver=!1;isStoneDropped=!1;audioPlayer;playLevelEndAudioOnce=!0;constructor(t,i,s){super({stoneDropCallbackHandler:t=>this.handleStoneDrop(t),loadPuzzleCallbackHandler:t=>this.handleLoadPuzzle(t)}),this.width=t,this.height=i,this.widthToClear=this.width/3.4,this.timerHeight=112,this.timerWidth=888,this.callback=s,this.canavsElement=document.getElementById("canvas"),this.context=this.canavsElement.getContext("2d"),this.timer=0,this.isTimerStarted=!1,this.isTimerEnded=!1,this.isTimerRunningOut=!1,this.audioPlayer=new M,this.playLevelEndAudioOnce=!0,this.images={timer_empty:"./assets/images/timer_empty.png",rotating_clock:"./assets/images/timer.png",timer_full:"./assets/images/timer_full.png"},e(this.images,(t=>{this.loadedImages=Object.assign({},t),this.imagesLoaded=!0}))}startTimer(){this.readyTimer(),this.startMyTimer=!0,this.isMyTimerOver=!1}readyTimer(){this.timer=0}update(t){this.startMyTimer&&!this.isStoneDropped&&(this.timer+=.008*t),40!=Math.floor(.87*this.width-.87*this.width*this.timer*.01)||this.isMyTimerOver||(this.playLevelEndAudioOnce&&this.audioPlayer.playAudio("./assets/audios/timeout.mp3"),this.playLevelEndAudioOnce=!1),.87*this.width-.87*this.width*this.timer*.01<0&&!this.isMyTimerOver&&(this.isMyTimerOver=!0,this.callback(!0))}draw(){this.imagesLoaded&&(this.context.drawImage(this.loadedImages.timer_empty,0,.1*this.height,this.width,.05*this.height),this.context.drawImage(this.loadedImages.rotating_clock,5,.09*this.height,.12*this.width,.06*this.height),this.context.drawImage(this.loadedImages.timer_full,0,0,this.timerWidth-this.timerWidth*this.timer*.01,this.timerHeight,.14*this.width,.099*this.height,.87*this.width-.87*this.width*this.timer*.01,.05*this.height))}handleStoneDrop(t){this.isStoneDropped=!0}handleLoadPuzzle(t){this.playLevelEndAudioOnce=!0,this.isStoneDropped=!1,this.startTimer()}dispose(){this.unregisterEventListener()}}class zs extends D{width;height;levelData;currentPromptText;currentPuzzleData;canavsElement;context;prompt_image;targetStones;rightToLeft;imagesLoaded=!1;audioPlayer;isStoneDropped=!1;droppedStones=0;time=0;promptImageWidth=0;isAppForeground=!0;scale=1;isScalingUp=!0;scaleFactor=5e-4;promptImageHeight=0;promptPlayButton;constructor(t,e,i,s,a){super({stoneDropCallbackHandler:t=>this.handleStoneDrop(t),loadPuzzleCallbackHandler:t=>this.handleLoadPuzzle(t)}),this.width=t,this.height=e,this.levelData=s,this.rightToLeft=a,this.currentPromptText=i.prompt.promptText,this.currentPuzzleData=i,this.targetStones=this.currentPuzzleData.targetStones,this.canavsElement=document.getElementById("canvas"),this.context=this.canavsElement.getContext("2d"),this.audioPlayer=new M,this.audioPlayer.preloadPromptAudio(this.getPromptAudioUrl()),this.prompt_image=new Image,this.promptPlayButton=new Image,this.loadImages().then((()=>{})),this.time=0,this.promptImageWidth=.65*this.width,this.promptImageHeight=.3*this.height,document.addEventListener(L,this.handleVisibilityChange,!1)}handleMouseDown=t=>{const e=document.getElementById("canvas");t.preventDefault();var i=e.getBoundingClientRect();const s=t.clientX-i.left,a=t.clientY-i.top;this.onClick(s,a)&&this.playSound()};getPromptAudioUrl=()=>c.getConvertedDevProdURL(this.currentPuzzleData.prompt.promptAudio);playSound=()=>{this.isAppForeground&&this.audioPlayer.playPromptAudio(c.getConvertedDevProdURL(this.currentPuzzleData.prompt.promptAudio))};onClick(t,e){if(Math.sqrt(t-this.width/3)<12&&Math.sqrt(e-this.height/5.5)<10)return!0}setCurrrentPuzzleData(t){this.currentPuzzleData=t,this.currentPromptText=t.prompt.promptText,this.targetStones=this.currentPuzzleData.targetStones}drawRTLLang(){var t=this.width/2;const e=.26*this.height;this.context.textAlign="center";var i=this.calculateFont();const s=this.promptImageWidth,a=this.promptImageHeight;if(this.context.font=`${i}px ${m}, monospace`,"LetterInWord"==this.levelData.levelMeta.levelType)if("Visible"==this.levelData.levelMeta.protoType){var n=this.currentPromptText.replace(new RegExp(this.currentPuzzleData.targetStones[0],"g"),"");this.context.fillStyle="red",this.context.fillText(this.targetStones[0],t+this.context.measureText(n).width/2,e),this.context.fillStyle="black",this.context.fillText(n,t-this.context.measureText(this.targetStones[0]).width/2,e)}else this.context.drawImage(this.promptPlayButton,this.width/2.4,e/1.15,s/4,a/4);else if("Word"==this.levelData.levelMeta.levelType)if("Visible"==this.levelData.levelMeta.protoType){t-=.5*this.context.measureText(this.currentPromptText).width;for(let i=this.targetStones.length-1;i>=0;i--)this.droppedStones>i||null==this.droppedStones?(this.context.fillStyle="black",this.context.fillText(this.targetStones[i],t,e)):(this.context.fillStyle="red",this.context.fillText(this.targetStones[i],t,e)),t=t+this.context.measureText(this.targetStones[i]).width+5}else this.context.drawImage(this.promptPlayButton,this.width/2.4,e/1.15,s/4,a/4);else if("audioPlayerWord"==this.levelData.levelMeta.levelType){const t=1.25*(this.width-s),e=.33*(this.height-a);this.context.drawImage(this.promptPlayButton,t,e,s/4,a/4)}else"Visible"==this.levelData.levelMeta.protoType?(this.context.fillStyle="black",this.context.fillText(this.currentPromptText,t,e)):this.context.drawImage(this.promptPlayButton,this.width/2.4,e/1.15,s/4,a/4)}drawOthers(){const t=this.currentPromptText.split(""),e=(this.width,.28*this.height),i=this.promptImageWidth,s=this.promptImageHeight;var a=this.calculateFont();this.context.font=`${a}px ${m}, monospace`;let n=this.width/2-this.context.measureText(this.currentPromptText).width/2,o=0;var r=this.currentPuzzleData.targetStones[0].split("");for(let a=0;a<t.length;a++){switch(this.levelData.levelMeta.levelType){case"LetterInWord":if("Visible"==this.levelData.levelMeta.protoType){r.includes(t[a])?(r=r.slice(1,r.length),this.context.fillStyle="red",this.context.fillText(t[a],n,e)):(this.context.fillStyle="black",this.context.fillText(t[a],n,e));break}this.context.drawImage(this.promptPlayButton,this.width/2.4,e/1.25,i/4,s/4);case"Word":if("Visible"==this.levelData.levelMeta.protoType){this.droppedStones>a||null==this.droppedStones?(this.context.fillStyle="black",this.context.fillText(t[a],n,e)):(this.context.fillStyle="red",this.context.fillText(t[a],n,e));break}this.context.drawImage(this.promptPlayButton,this.width/2.4,e/1.25,i/4,s/4);case"SoundWord":this.context.drawImage(this.promptPlayButton,this.width/2.4,e/1.25,i/4,s/4);break;default:if("Visible"==this.levelData.levelMeta.protoType){this.context.fillStyle="black",this.context.fillText(this.currentPromptText,this.width/2.1,e);break}this.context.drawImage(this.promptPlayButton,this.width/2.4,e/1.25,i/4,s/4)}o=(this.context.measureText(t[a]).width+this.context.measureText(t[a+1]).width)/2,n+=o}}draw(t){if(this.updateScaling(),this.time=t<17?this.time+Math.floor(t):this.time+16,Math.floor(this.time)>=1910&&Math.floor(this.time)<=1926&&this.playSound(),!this.isStoneDropped){const t=this.promptImageWidth*this.scale,e=this.promptImageHeight*this.scale,i=(this.width-t)/2,s=(this.height-e)/5;this.context.drawImage(this.prompt_image,i,s,t,e),this.context.fillStyle="black",this.rightToLeft?this.drawRTLLang():this.drawOthers()}}handleStoneDrop(t){this.isStoneDropped=!0}handleLoadPuzzle(t){this.droppedStones=0,this.currentPuzzleData=this.levelData.puzzles[t.detail.counter],this.currentPromptText=this.currentPuzzleData.prompt.promptText,this.targetStones=this.currentPuzzleData.targetStones,this.audioPlayer.preloadPromptAudio(this.getPromptAudioUrl()),this.isStoneDropped=!1,this.time=0}dispose(){document.removeEventListener(L,this.handleVisibilityChange,!1),this.unregisterEventListener()}update(){}droppedStoneIndex(t){this.droppedStones=t}calculateFont(){return this.promptImageWidth/this.currentPromptText.length>35?35:.65*this.width/this.currentPromptText.length}updateScaling(){this.isScalingUp?(this.scale+=this.scaleFactor,this.scale>=1.05&&(this.isScalingUp=!1)):(this.scale-=this.scaleFactor,this.scale<=1&&(this.scale=1,this.isScalingUp=!0))}handleVisibilityChange=()=>{"hidden"==document.visibilityState&&(this.audioPlayer.stopAllAudios(),this.isAppForeground=!1),"visible"==document.visibilityState&&(this.isAppForeground=!0)};async loadImages(){const t=this.loadImage(this.prompt_image,"./assets/images/promptTextBg.png"),e=this.loadImage(this.promptPlayButton,"./assets/images/promptPlayButton.png");await Promise.all([t,e]),this.imagesLoaded=!0}loadImage(t,e){return new Promise(((i,s)=>{t.onload=()=>{i()},t.src=e,t.onerror=t=>{s(t)}}))}}class As{posX;posY;context;canvas;imagesLoaded=!1;pause_button_image;constructor(t,e){this.posX=e.width-.09*e.height,this.posY=0,this.context=t,this.canvas=e,this.pause_button_image=new Image,this.pause_button_image.src="./assets/images/pause_v01.png",this.pause_button_image.onload=t=>{this.imagesLoaded=!0,this.pause_button_image=this.pause_button_image}}draw(){this.imagesLoaded&&this.context.drawImage(this.pause_button_image,this.posX,this.posY,.09*this.canvas.height,.09*this.canvas.height)}onClick(t,e){if(Math.sqrt((t-this.posX-.09*this.canvas.height/2)*(t-this.posX-.09*this.canvas.height/2)+(e-this.posY-.09*this.canvas.height/2)*(e-this.posY-.09*this.canvas.height/2))<.09*this.canvas.height/2)return!0}}class Ms extends D{context;canvas;activeIndicators;images;loadedImages;imagesLoaded=!1;constructor(t,i,s){super({stoneDropCallbackHandler:t=>this.handleStoneDrop(t),loadPuzzleCallbackHandler:t=>this.handleLoadPuzzle(t)}),this.context=t,this.canvas=i,this.activeIndicators=s,this.images={level_indicator:"./assets/images/levels_v01.png",bar_empty:"./assets/images/bar_empty_v01.png",bar_full:"./assets/images/bar_full_v01.png"},e(this.images,(t=>{this.loadedImages=Object.assign({},t),this.imagesLoaded=!0}))}setIndicators(t){this.activeIndicators=t}addDropStoneEvent(){document.addEventListener("dropstone",(t=>{this.setIndicators(2)}))}draw(){if(this.imagesLoaded){this.context.drawImage(this.loadedImages.level_indicator,.15*this.canvas.width,0,.35*this.canvas.width,.09*this.canvas.height);for(var t=0;t<5;t++)this.context.drawImage(this.loadedImages.bar_empty,.35*this.canvas.width/7*(t+1)+.15*this.canvas.width,.09*this.canvas.height/2-.09*this.canvas.height/6,.35*this.canvas.width/10,.09*this.canvas.height/3);for(t=0;t<this.activeIndicators;t++)this.context.drawImage(this.loadedImages.bar_full,.35*this.canvas.width/7*(t+1)+.15*this.canvas.width,.09*this.canvas.height/2-.09*this.canvas.height/6,.35*this.canvas.width/10,.09*this.canvas.height/3)}}dispose(){this.unregisterEventListener()}handleStoneDrop(t){}handleLoadPuzzle(t){this.setIndicators(t.detail.counter)}}class Ns{x;y;origx;origy;text;img;imageSize;textFontSize;canvasWidth;canvasHeight;imageCenterOffsetX;imageCenterOffsetY;context;tutorialInstance;timerTickingInstance;frame=0;constructor(t,e,i,s,a,n,o,r,h){this.x=a,this.y=n,this.origx=a,this.origy=n,this.canvasWidth=e,this.canvasHeight=i,this.tutorialInstance=h,this.text=s,this.img=o,this.context=t,this.calculateImageAndFontSize(),this.imageCenterOffsetX=this.imageSize/2.3,this.imageCenterOffsetY=this.imageSize/1.5,this.timerTickingInstance=r}calculateImageAndFontSize(){1.4*this.context.measureText(this.text).width>this.canvasHeight/13?(this.imageSize=1.1*this.context.measureText(this.text).width,this.textFontSize=this.canvasHeight/25,this.text.length>=3&&this.origx<50&&this.origx<this.canvasWidth/2&&(this.x=this.origx+25)):(this.imageSize=this.canvasHeight/13,this.textFontSize=this.canvasHeight/20)}getEase=(t,e,i,s)=>-i/2*(Math.cos(Math.PI*t/s)-1)+e;getX=()=>this.frame>=100?this.x:this.getEase(this.frame,0,this.x,100);getY=()=>this.frame>=100?this.y:this.getEase(this.frame,0,this.y,100);draw(t){this.context.drawImage(this.img,this.getX()-this.imageCenterOffsetX,this.getY()-this.imageCenterOffsetY,this.imageSize,this.imageSize),this.context.fillStyle="white",this.context.font=this.textFontSize+`px ${m}, monospace`,this.context.textAlign="center",this.context.fillText(this.text,this.getX(),this.getY()),this.frame<100?this.frame=this.frame+1:null==this.tutorialInstance&&null==this.tutorialInstance||this.tutorialInstance.draw(t,this.img,this.imageSize)}}class Fs{width;height;context;tutorialImg;imagesLoaded=!1;targetStonePositions;startx;starty;endx;endy;endTutorial=!1;puzzleNumber;playMnstrClkTtrlAnim=!0;totalTime=0;monsterStoneDifference=0;x;y;dx;dy;absdx;absdy;startRipple=!1;drawRipple;constructor(t,e,i,s){this.width=e,this.height=i,this.context=t,this.startx=0,this.starty=0,this.endx=this.width/2,this.endy=this.height/2,this.puzzleNumber=s>=0?s:null,this.tutorialImg=new Image,this.tutorialImg.src="./assets/images/tutorial_hand.png",this.drawRipple=function(t){const e=t;if(!e)throw new Error("Canvas context is null");let i=0,s=0,a=10,n=10;return function(t,o,r){r&&(a=0,n=0),i=t,s=o,e.beginPath(),e.arc(i,s,a,0,2*Math.PI),e.strokeStyle="white",e.lineWidth=2,e.stroke(),e.closePath(),e.beginPath(),e.arc(i,s,n,0,2*Math.PI),e.strokeStyle="white",e.lineWidth=2,e.stroke(),e.closePath(),a+=.5,n+=.5,(a>=60||n>=60)&&(a=10,n=10)}}(this.context),this.tutorialImg.onload=()=>{this.imagesLoaded=!0}}updateTargetStonePositions(t){this.startx=t[0]-22,this.starty=t[1]-50,this.monsterStoneDifference=Math.sqrt((this.startx-this.endx)*(this.startx-this.endx)+(this.starty-this.endy)*(this.starty-this.endy)),this.animateImage()}isMobile(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}setTutorialEnd(t){this.endTutorial=t}animateImage(){this.x=this.startx,this.y=this.starty,this.dx=(this.endx-this.startx)/5e3,this.dy=(this.endy-this.starty)/5e3,this.absdx=this.isMobile()?3*Math.abs(this.dx):Math.abs(this.dx),this.absdy=this.isMobile()?3*Math.abs(this.dy):Math.abs(this.dy),this.setTutorialEnd(!1)}draw(t,e,i){if(this.imagesLoaded&&!this.endTutorial&&this.shouldPlayTutorial()){this.x=this.dx>=0?this.x+this.absdx*t:this.x-this.absdx*t,this.y=this.dy>=0?this.y+this.absdy*t:this.y-this.absdy*t;const s=this.x-this.endx+this.absdx,a=this.y-this.endy+this.absdy;let n=100*Math.sqrt(s*s+a*a)/this.monsterStoneDifference;if(n<15)n>1?this.createHandScaleAnimation(t,this.endx,this.endy+30,!0):(this.x=this.startx,this.y=this.starty);else if(n>80)this.createHandScaleAnimation(t,this.startx+15,this.starty+10,!1);else{let t=this.context.globalAlpha;this.context.globalAlpha=.4,this.context.drawImage(e,this.x,this.y+20,i,i),this.context.globalAlpha=t,this.context.drawImage(this.tutorialImg,this.x+15,this.y+10)}}}createHandScaleAnimation(t,e,i,s){this.totalTime+=Math.floor(t);const a=this.sinusoidalInterpolation(this.totalTime,1,1.5,500),n=this.tutorialImg.width*a,o=this.tutorialImg.height*a;this.context.drawImage(this.tutorialImg,e,i,n,o),!s&&this.drawRipple(e+.02*this.width,i+this.tutorialImg.height/2,!1)}sinusoidalInterpolation(t,e,i,s){const a=(i-e)/2,n=Math.PI/s;return e+a*Math.sin(n*t)}clickOnMonsterTutorial(t){if(this.shouldPlayMonsterClickTutorialAnimation()){const e=2e3,i=this.height/1.9+this.tutorialImg.height/.8,s=this.height/1.9+this.tutorialImg.height/.8-this.tutorialImg.height;let a;const n=this.endx;this.totalTime<e/2?(a=s+this.totalTime/(e/2)*(i-s),this.drawRipple(n,this.height/1.9+this.tutorialImg.height/1.5,!0)):(a=i-(this.totalTime-e/2)/(e/2)*(i-s),this.drawRipple(n,this.height/1.9+this.tutorialImg.height/1.2+this.tutorialImg.height)),this.context.drawImage(this.tutorialImg,n,a,this.tutorialImg.width,this.tutorialImg.height),a<=s&&(this.totalTime=0),this.totalTime+=t}}shouldPlayTutorial(){return Ls.getAllGameLevelInfo().length<=0&&0==this.puzzleNumber}shouldPlayMonsterClickTutorialAnimation(){return Ls.getAllGameLevelInfo().length<=0&&this.playMnstrClkTtrlAnim}setPuzzleNumber(t){this.puzzleNumber=t}setPlayMonsterClickAnimation(t){this.playMnstrClkTtrlAnim=t}}class Os extends D{context;canvas;currentPuzzleData;targetStones;stonePos;pickedStone;foilStones=new Array;answer="";puzzleNumber;levelData;correctAnswer;puzzleStartTime;showTutorial=null==Ls.getDatafromStorage().length;correctStoneAudio;tutorial;correctTargetStone;stonebg;audioPlayer;feedbackAudios;timerTickingInstance;isGamePaused=!1;constructor(t,e,i,s,a,n){super({stoneDropCallbackHandler:t=>this.handleStoneDrop(t),loadPuzzleCallbackHandler:t=>this.handleLoadPuzzle(t)}),this.context=t,this.canvas=e,this.puzzleNumber=i,this.levelData=s,this.setTargetStone(this.puzzleNumber),this.initializeStonePos(),this.correctStoneAudio=new Audio("assets/audios/CorrectStoneFinal.mp3"),this.correctStoneAudio.loop=!1,this.feedbackAudios=this.convertFeedBackAudiosToList(a),this.puzzleStartTime=new Date,this.tutorial=new Fs(t,e.width,e.height,i),this.stonebg=new Image,this.stonebg.src="./assets/images/stone_pink_v02.png",this.audioPlayer=new M,this.stonebg.onload=t=>{this.createStones(this.stonebg)},this.audioPlayer=new M,this.timerTickingInstance=n,document.addEventListener(L,this.handleVisibilityChange,!1)}createStones(t){const e=this.getFoilStones();for(var i=0;i<e.length;i++)e[i]==this.correctTargetStone&&this.tutorial.updateTargetStonePositions(this.stonePos[i]),this.foilStones.push(new Ns(this.context,this.canvas.width,this.canvas.height,e[i],this.stonePos[i][0],this.stonePos[i][1],t,this.timerTickingInstance,i==e.length-1?this.tutorial:null))}draw(t){for(var e=0;e<this.foilStones.length;e++)this.foilStones[e].draw(t);this.foilStones[this.foilStones.length-1].frame>=100&&!this.isGamePaused&&this.timerTickingInstance.update(t)}initializeStonePos(){var t=32;this.stonePos=[[this.canvas.width/5-t,this.canvas.height/1.9-t],[this.canvas.width/2-t,this.canvas.height/1.15-t],[this.canvas.width/3.5+this.canvas.width/2-t,this.canvas.height/1.2-t],[this.canvas.width/4-t,this.canvas.height/1.28-t],[this.canvas.width/7-t,this.canvas.height/1.5-t],[this.canvas.width/2.3+this.canvas.width/2.1-t,this.canvas.height/1.9-t],[this.canvas.width/2.3+this.canvas.width/2.1-t,this.canvas.height/1.42-t],[this.canvas.width/6-t,this.canvas.height/1.1-t]],this.stonePos=this.stonePos.sort((()=>Math.random()-.5))}setTargetStone(t){this.currentPuzzleData=this.levelData.puzzles[t],this.targetStones=[...this.currentPuzzleData.targetStones],this.correctTargetStone=this.targetStones.join("")}isDroppedStoneCorrect(t){return t==this.correctTargetStone}handleStoneDrop(t){this.foilStones=[]}handleLoadPuzzle(t){this.foilStones=[],this.tutorial.setPuzzleNumber(t.detail.counter),this.puzzleNumber=t.detail.counter,this.setTargetStone(this.puzzleNumber),this.initializeStonePos(),this.createStones(this.stonebg)}dispose(){document.removeEventListener(L,this.handleVisibilityChange,!1),this.unregisterEventListener()}isStoneDroppedCorrectForLetterOnly(t,e){return t==this.correctTargetStone?(this.playCorrectAnswerFeedbackSound(e),!0):(Math.round(Math.random())>0?this.audioPlayer.playFeedbackAudios(!1,"./assets/audios/Eat.mp3","./assets/audios/Disapointed-05.mp3","./assets/audios/MonsterSpit.mp3"):this.audioPlayer.playFeedbackAudios(!1,"./assets/audios/Eat.mp3","./assets/audios/MonsterSpit.mp3"),!1)}isStoneDroppedCorrectForLetterInWord(t,e){return t==this.correctTargetStone?(this.playCorrectAnswerFeedbackSound(e),!0):(Math.round(Math.random())>0?this.audioPlayer.playFeedbackAudios(!1,"./assets/audios/Eat.mp3","./assets/audios/Disapointed-05.mp3","./assets/audios/MonsterSpit.mp3"):this.audioPlayer.playFeedbackAudios(!1,"./assets/audios/Eat.mp3","./assets/audios/MonsterSpit.mp3"),!1)}isStonDroppedCorrectForWord(t,e){return t==this.correctTargetStone.substring(0,t.length)&&(t==this.getCorrectTargetStone()?this.playCorrectAnswerFeedbackSound(e):(this.audioPlayer.playFeedbackAudios(!1,"./assets/audios/Eat.mp3","./assets/audios/Cheering-02.mp3"),this.correctStoneAudio.play()),!0)}getCorrectTargetStone(){return this.correctTargetStone}getFoilStones(){this.currentPuzzleData.targetStones.forEach((t=>{const e=this.currentPuzzleData.foilStones.indexOf(t);-1!==e&&this.currentPuzzleData.foilStones.splice(e,1)}));const t=this.currentPuzzleData.targetStones.length+this.currentPuzzleData.foilStones.length;if(t>8){const e=t-8;this.currentPuzzleData.foilStones.splice(0,e)}return this.currentPuzzleData.targetStones.forEach((t=>{this.currentPuzzleData.foilStones.push(t)})),this.currentPuzzleData.foilStones.sort((()=>Math.random()-.5))}handleVisibilityChange=()=>{this.audioPlayer.stopAllAudios(),this.correctStoneAudio.pause()};convertFeedBackAudiosToList(t){let e=[];return e.push(t.fantastic,t.great,t.amazing),e}setGamePause(t){this.isGamePaused=t}playCorrectAnswerFeedbackSound(t){const e=c.getRandomNumber(1,3).toString();this.audioPlayer.playFeedbackAudios(!1,"./assets/audios/Eat.mp3",`./assets/audios/Cheering-0${e}.mp3`,"assets/audios/PointsAdd.wav",c.getConvertedDevProdURL(this.feedbackAudios[t])),this.correctStoneAudio.play()}}class js{posX;posY;context;canvas;imagesLoaded=!1;cancel_button_image;constructor(t,e){this.posX=.1*e.width+.15*e.width/2,this.posY=.2*e.height,this.context=t,this.canvas=e,this.cancel_button_image=new Image,this.cancel_button_image.src="./assets/images/close_btn.png",this.cancel_button_image.onload=t=>{this.imagesLoaded=!0,this.cancel_button_image=this.cancel_button_image}}draw(){this.imagesLoaded&&this.context.drawImage(this.cancel_button_image,this.posX,this.posY,.15*this.canvas.width,.15*this.canvas.width)}onClick(t,e){if(Math.sqrt((t-this.posX-.15*this.canvas.width/2)*(t-this.posX-.15*this.canvas.width/2)+(e-this.posY-.15*this.canvas.width/2)*(e-this.posY-.15*this.canvas.width/2))<.15*this.canvas.width/2)return!0}}class Ws{posX;posY;context;canvas;imagesLoaded=!1;close_button_image;constructor(t,e,i,s){this.posX=i,this.posY=s,this.context=t,this.canvas=e,this.close_button_image=new Image,this.close_button_image.src="./assets/images/map_btn.png",this.close_button_image.onload=t=>{this.imagesLoaded=!0,this.close_button_image=this.close_button_image}}draw(){this.imagesLoaded&&this.context.drawImage(this.close_button_image,this.posX,this.posY,.19*this.canvas.width,.19*this.canvas.width)}onClick(t,e){if(Math.sqrt((t-this.posX-.19*this.canvas.width/2)*(t-this.posX-.19*this.canvas.width/2)+(e-this.posY-.19*this.canvas.width/2)*(e-this.posY-.19*this.canvas.width/2))<.19*this.canvas.width/2)return!0}}class Hs{posX;posY;context;canvas;imagesLoaded=!1;retry_button_image;constructor(t,e,i,s){this.posX=i,this.posY=s,this.context=t,this.canvas=e,this.retry_button_image=new Image,this.retry_button_image.src="./assets/images/retry_btn.png",this.retry_button_image.onload=t=>{this.imagesLoaded=!0,this.retry_button_image=this.retry_button_image}}draw(){this.imagesLoaded&&this.context.drawImage(this.retry_button_image,this.posX,this.posY,.19*this.canvas.width,.19*this.canvas.width)}onClick(t,e){if(Math.sqrt((t-this.posX-.19*this.canvas.width/2)*(t-this.posX-.19*this.canvas.width/2)+(e-this.posY-.19*this.canvas.width/2)*(e-this.posY-.19*this.canvas.width/2))<.19*this.canvas.width/2)return!0}}class Rs{posX;posY;context;canvas;imagesLoaded=!1;yes_button_image;constructor(t,e,i,s){this.posX=i,this.posY=s,this.context=t,this.canvas=e,this.yes_button_image=new Image,this.yes_button_image.src="./assets/images/confirm_btn.png",this.yes_button_image.onload=t=>{this.imagesLoaded=!0,this.yes_button_image=this.yes_button_image}}draw(){this.imagesLoaded&&this.context.drawImage(this.yes_button_image,this.posX-5,this.posY,.2*this.canvas.width,.2*this.canvas.width)}onClick(t,e){if(Math.sqrt((t-this.posX-.15*this.canvas.width/2)*(t-this.posX-.15*this.canvas.width/2)+(e-this.posY-.15*this.canvas.width/2)*(e-this.posY-.15*this.canvas.width/2))<.15*this.canvas.width/2)return!0}}class Xs{posX;posY;context;canvas;imagesLoaded=!1;no_button_image;constructor(t,e,i,s){this.posX=i,this.posY=s,this.context=t,this.canvas=e,this.no_button_image=new Image,this.no_button_image.src="./assets/images/close_btn.png",this.no_button_image.onload=t=>{this.imagesLoaded=!0,this.no_button_image=this.no_button_image}}draw(){this.imagesLoaded&&this.context.drawImage(this.no_button_image,this.posX+5,this.posY+10,.18*this.canvas.width,.18*this.canvas.width)}onClick(t,e){if(Math.sqrt((t-this.posX-.15*this.canvas.width/2)*(t-this.posX-.15*this.canvas.width/2)+(e-this.posY-.15*this.canvas.width/2)*(e-this.posY-.15*this.canvas.width/2))<.15*this.canvas.width/2)return!0}}class Vs{canvas;context;yesButton;noButton;imagesLoaded=!1;pop_up_image;yesCallback;noCallback;audioPlayer;constructor(t,e,i){this.canvas=t,this.yesCallback=e,this.noCallback=i,this.context=this.canvas.getContext("2d"),this.audioPlayer=new M,this.yesButton=new Rs(this.context,this.canvas,.55*this.canvas.width,.2*this.canvas.height+.4*this.canvas.width-.15*this.canvas.width/2),this.noButton=new Xs(this.context,this.canvas,.25*this.canvas.width,.2*this.canvas.height+.4*this.canvas.width-.15*this.canvas.width/2),this.pop_up_image=new Image,this.pop_up_image.src="./assets/images/popup_bg_v01.png",this.pop_up_image.onload=t=>{this.pop_up_image=this.pop_up_image,this.imagesLoaded=!0}}addListner=()=>{this.canvas.addEventListener(k,this.handleMouseClick,!1)};handleMouseClick=t=>{const e=document.getElementById("canvas");t.preventDefault();var i=e.getBoundingClientRect();const s=t.clientX-i.left,a=t.clientY-i.top;this.yesButton.onClick(s,a)&&(this.playClickSound(),this.dispose(),this.yesCallback()),this.noButton.onClick(s,a)&&(this.playClickSound(),this.dispose(),this.noCallback())};draw(){if(this.imagesLoaded){this.context.fillStyle="rgba(0,0,0,0.5)",this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this.context.drawImage(this.pop_up_image,.1*this.canvas.width,.2*this.canvas.height,.8*this.canvas.width,.8*this.canvas.width);this.canvas.height;this.context.fillStyle="white",this.context.font="28px Arial",this.context.fillText("Are you sure?",this.canvas.width/2,this.canvas.height/2.8),this.yesButton.draw(),this.noButton.draw()}}playClickSound=()=>{this.audioPlayer.playButtonClickSound("./assets/audios/ButtonClick.mp3")};dispose=()=>{this.canvas.removeEventListener(k,this.handleMouseClick,!1)}}class $s{canvas;context;cancelButton;retryButton;closeButton;imagesLoaded=!1;pop_up_image;callback;switchToLevelSelection;reloadScene;gameplayData;audioPlayer;retrySurePopup;CloseSurePopup;isRetryButtonClicked=!1;isCloseButtonClicked=!1;constructor(t,e,i,s,a){this.canvas=t,this.callback=e,this.gameplayData=a,this.switchToLevelSelection=i,this.reloadScene=s;const n=document.getElementById("canvas");this.context=n.getContext("2d"),this.audioPlayer=new M,this.cancelButton=new js(this.context,this.canvas),this.retryButton=new Hs(this.context,this.canvas,.55*this.canvas.width,.2*this.canvas.height+.4*this.canvas.width-.19*this.canvas.width/2),this.closeButton=new Ws(this.context,this.canvas,.25*this.canvas.width,.2*this.canvas.height+.4*this.canvas.width-.19*this.canvas.width/2),this.pop_up_image=new Image,this.pop_up_image.src="./assets/images/popup_bg_v01.png",this.pop_up_image.onload=t=>{this.pop_up_image=this.pop_up_image,this.imagesLoaded=!0},this.retrySurePopup=new Vs(this.canvas,this.yesRetryCallback,this.noRetryCallback),this.CloseSurePopup=new Vs(this.canvas,this.switchToLevelSelection,this.noCloseCallback)}yesRetryCallback=()=>{this.playClickSound(),this.reloadScene(this.gameplayData,"GamePlay")};noRetryCallback=()=>{this.isRetryButtonClicked&&(this.isRetryButtonClicked=!1,this.callback())};noCloseCallback=()=>{this.isCloseButtonClicked&&(this.isCloseButtonClicked=!1,this.callback())};addListner=()=>{document.getElementById("canvas").addEventListener(k,this.handleMouseClick,!1)};handleMouseClick=t=>{const e=document.getElementById("canvas");t.preventDefault();var i=e.getBoundingClientRect();const s=t.clientX-i.left,a=t.clientY-i.top;this.cancelButton.onClick(s,a)&&(this.playClickSound(),this.callback()),this.retryButton.onClick(s,a)&&("english"==g?(this.playClickSound(),this.dispose(),this.isRetryButtonClicked=!0,this.retrySurePopup.addListner(),this.playAreYouSureSound()):(this.playClickSound(),this.dispose(),this.reloadScene(this.gameplayData,"GamePlay"))),this.closeButton.onClick(s,a)&&("english"==g?(this.playClickSound(),this.dispose(),this.isCloseButtonClicked=!0,this.CloseSurePopup.addListner(),this.playAreYouSureSound()):(this.playClickSound(),this.dispose(),this.switchToLevelSelection("GamePlay")))};draw(){this.imagesLoaded&&(this.context.fillStyle="rgba(0,0,0,0.5)",this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this.context.drawImage(this.pop_up_image,.1*this.canvas.width,.2*this.canvas.height,.8*this.canvas.width,.8*this.canvas.width),this.cancelButton.draw(),this.retryButton.draw(),this.closeButton.draw(),1==this.isRetryButtonClicked&&"english"==g&&this.retrySurePopup.draw(),1==this.isCloseButtonClicked&&"english"==g&&this.CloseSurePopup.draw())}playClickSound=()=>{this.audioPlayer.playButtonClickSound("./assets/audios/ButtonClick.mp3")};playAreYouSureSound=()=>{this.audioPlayer.playAudio("./assets/audios/are-you-sure.mp3")};dispose=()=>{document.getElementById("canvas").removeEventListener(k,this.handleMouseClick,!1)}}class Ys{feedbackTextEffects;x;y;color;originX;originY;size;ease;constructor(t,e,i,s){this.feedbackTextEffects=t,this.x=Math.random()*this.feedbackTextEffects.canvasWidth,this.y=0,this.color=s,this.originX=e,this.originY=i,this.size=this.feedbackTextEffects.gap,this.ease=.1*Math.random()+.055}draw(){this.feedbackTextEffects.context.fillStyle=this.color,this.feedbackTextEffects.context.fillRect(this.x,this.y,this.size,this.size)}update(){this.x+=(this.originX-this.x)*this.ease,this.y+=this.originY-this.y}}class Gs{context;canvasWidth;canvasHeight;textX;textY;fontSize;lineHeight;maxTextWidth;particleDuration;startTime;particles;gap;mouse;textWorker;constructor(t,e,i){this.context=t,this.canvasWidth=e,this.canvasHeight=i,this.textX=this.canvasWidth/1.8,this.textY=this.canvasHeight/2,this.fontSize=this.canvasWidth/7.5,this.lineHeight=.8*this.fontSize,this.maxTextWidth=5*this.canvasWidth,this.particleDuration=5e3,this.startTime=null,this.particles=[],this.gap=3,this.mouse={radius:2e3,x:0,y:0},this.textWorker=new Worker(window.feedbackTextWorkerPath),this.textWorker.addEventListener("message",this.handleTextWorkerMessage.bind(this))}wrapText(t){const e=this.context.createLinearGradient(0,0,this.canvasWidth,this.canvasHeight);e.addColorStop(.3,"#F8E218"),e.addColorStop(.5,"#F8E218"),e.addColorStop(.7,"#E39D37"),this.context.fillStyle=e,this.context.textAlign="center",this.context.textBaseline="middle",this.context.lineWidth=3,this.context.strokeStyle="#A46225",this.context.font=`${this.fontSize-.3*t.length}px ${m}, monospace`;let i=[],s=t.split(" "),a=0,n="";for(let t=0;t<s.length;t++){let e=n+s[t]+" ";this.context.measureText(e).width>this.maxTextWidth?(n=s[t]+" ",a++):n=e,i[a]=n}let o=this.lineHeight*a;this.textY=this.canvasHeight/4.2-o/2;t=t.trim(),i.forEach(((t,e)=>{let i=t.lastIndexOf(" ",t.lastIndexOf(" ")-1);if(this.fontSize*t.length>1.7*this.canvasWidth&&-1!=i){let s=t.slice(0,i),a=" "+t.slice(i+1);this.context.fillText(s,this.textX,this.textY+e*this.lineHeight),this.context.fillText(a,this.textX,this.textY+e*this.lineHeight+this.canvasHeight/12)}else this.context.fillText(t,this.textX,this.textY+e*this.lineHeight)})),this.convertToParticle()}handleTextWorkerMessage=t=>{const e=t.data;this.particles=e.map((({x:t,y:e,color:i})=>new Ys(this,t,e,i)))};convertToParticle(){const t=this.context.getImageData(0,0,this.canvasWidth,this.canvasHeight).data;this.context.clearRect(0,0,this.canvasWidth,this.canvasHeight),this.textWorker.postMessage({canvasWidth:this.canvasWidth,canvasHeight:this.canvasHeight,gap:this.gap,pixels:t})}render(){this.context.clearRect(0,0,this.canvasWidth,this.canvasHeight),this.particles.forEach((t=>{t.draw(),t.update()}))}updateParticles(){this.textWorker.postMessage({particles:this.particles,particleDuration:this.particleDuration,startTime:this.startTime})}clearParticle(){this.particles=[]}unregisterEventListener=()=>{this.textWorker.removeEventListener("message",this.handleTextWorkerMessage)}}class Us{width;height;monster;jsonVersionNumber;canvas;levelData;timerTicking;promptText;pauseButton;tutorial;puzzleData;id;context;levelIndicators;stonesCount=1;monsterPhaseNumber;pickedStone;puzzleStartTime;showTutorial;feedBackTexts;isPuzzleCompleted;rightToLeft;imagesLoaded=!1;switchSceneToEnd;levelNumber;loadedImages;stoneHandler;counter=0;images;handler;pickedStoneObject;pausePopup;isPauseButtonClicked=!1;background1;feedBackTextCanavsElement;feedbackTextEffects;isGameStarted=!1;time=0;score=0;tempWordforWordPuzzle="";switchToLevelSelection;reloadScene;audioPlayer;firebaseIntegration;startTime;puzzleTime;constructor(t,i,a,n,o,r,h,l,c,d,u){this.width=t.width,this.height=t.height,this.rightToLeft=o,this.canvas=t,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.monsterPhaseNumber=a||1,this.levelData=i,this.switchSceneToEnd=r,this.levelNumber=h,this.switchToLevelSelection=l,this.reloadScene=c,this.jsonVersionNumber=d,this.startGameTime(),this.startPuzzleTime(),this.pauseButton=new As(this.context,this.canvas),this.timerTicking=new Bs(this.width,this.height,this.loadPuzzle),this.stoneHandler=new Os(this.context,this.canvas,this.counter,this.levelData,u,this.timerTicking),this.tutorial=new Fs(this.context,t.width,t.height),this.promptText=new zs(this.width,this.height,this.levelData.puzzles[this.counter],this.levelData,this.rightToLeft),this.levelIndicators=new Ms(this.context,this.canvas,0),this.levelIndicators.setIndicators(this.counter),this.monster=new B(this.canvas,this.monsterPhaseNumber);let m={currentLevelData:i,selectedLevelNumber:h};this.pausePopup=new $s(this.canvas,this.resumeGame,this.switchToLevelSelection,this.reloadScene,m),this.background1=new A(this.context,this.width,this.height,this.levelData.levelNumber),this.firebaseIntegration=new Ts,this.feedBackTextCanavsElement=document.getElementById("feedback-text"),this.feedBackTextCanavsElement.height=this.height,this.feedBackTextCanavsElement.width=this.width,this.feedbackTextEffects=new Gs(this.feedBackTextCanavsElement.getContext("2d",{willReadFrequently:!0}),this.width,this.height),this.audioPlayer=new M,this.handler=document.getElementById("canvas"),this.puzzleData=i.puzzles,this.feedBackTexts=n,this.images={pillerImg:"./assets/images/Totem_v02_v01.png",bgImg:"./assets/images/bg_v01.jpg",hillImg:"./assets/images/hill_v01.png",fenchImg:"./assets/images/fence_v01.png",profileMonster:"./assets/images/idle4.png"},e(this.images,(t=>{this.loadedImages=Object.assign({},t),this.imagesLoaded=!0}));var v=this.levelData.levelMeta.levelNumber;p.DebugMode?localStorage.setItem(s+g+"Debug",v):localStorage.setItem(s+g,v),this.addEventListeners()}resumeGame=()=>{this.addEventListeners(),this.isPauseButtonClicked=!1,this.stoneHandler.setGamePause(!1),this.pausePopup.dispose()};getRandomFeedBackText(t){const e=Object.keys(this.feedBackTexts)[t];return this.feedBackTexts[e]}getRandomInt(t,e){const i=Object.values(this.feedBackTexts).filter((t=>null!=t)).length-1;return Math.floor(Math.random()*(i-t+1))+t}handleMouseUp=t=>{let e=this.canvas.getBoundingClientRect();const i=t.clientX-e.left,s=t.clientY-e.top;if(Math.sqrt((i-this.monster.x-this.canvas.width/4)**2+(s-this.monster.y-this.canvas.height/2.2)**2)<=100){if(this.pickedStone){console.log("Picked Stone:",this.pickedStone);const{text:t}=this.pickedStone;switch(this.levelData.levelMeta.levelType){case"LetterOnly":this.letterOnlyPuzzle(t);break;case"LetterInWord":this.letterInWordPuzzle(t);break;case"Word":case"SoundWord":this.wordPuzzle(t,this.pickedStone)}}}else if(this.pickedStone&&this.pickedStoneObject&&this.pickedStone.text&&"number"==typeof this.pickedStoneObject.origx&&"number"==typeof this.pickedStoneObject.origy){const t=50,e=this.width/2;this.pickedStone.x=this.pickedStone.text.length<=3&&this.pickedStoneObject.origx<t&&this.pickedStoneObject.origx<e?this.pickedStoneObject.origx+25:this.pickedStoneObject.origx,this.pickedStone.y=this.pickedStoneObject.origy}this.pickedStone=null};handleMouseDown=t=>{let e=this.canvas.getBoundingClientRect();const i=t.clientX-e.left,s=t.clientY-e.top;for(let t of this.stoneHandler.foilStones){if(Math.sqrt((i-t.x)**2+(s-t.y)**2)<=40){this.pickedStoneObject=t,this.pickedStone=t,this.audioPlayer.playAudio("./assets/audios/onDrag.mp3");break}}};handleMouseMove=t=>{if(this.pickedStone){let e=this.canvas.getBoundingClientRect();const i=t.clientX-e.left,s=t.clientY-e.top;this.monster.changeToDragAnimation(),this.pickedStone.x=i,this.pickedStone.y=s}};handleMouseClick=t=>{let e=this.canvas.getBoundingClientRect();const i=t.clientX-e.left,s=t.clientY-e.top;this.monster.onClick(i,s)&&(this.isGameStarted=!0,this.time=0,this.tutorial.setPlayMonsterClickAnimation(!1)),this.pauseButton.onClick(i,s)&&(this.audioPlayer.playButtonClickSound("./assets/audios/ButtonClick.mp3"),this.pauseGamePlay()),this.promptText.onClick(i,s)&&this.promptText.playSound()};handleTouchStart=t=>{const e=t.touches[0];this.handleMouseDown({clientX:e.clientX,clientY:e.clientY})};handleTouchMove=t=>{const e=t.touches[0];this.handleMouseMove({clientX:e.clientX,clientY:e.clientY})};handleTouchEnd=t=>{const e=t.changedTouches[0];this.handleMouseUp({clientX:e.clientX,clientY:e.clientY})};draw(t){this.isGameStarted||this.isPauseButtonClicked||(this.time=this.time+t,this.time>=5e3&&(this.isGameStarted=!0,this.time=0,this.tutorial.setPlayMonsterClickAnimation(!1))),this.imagesLoaded&&this.background1.draw(),this.isPauseButtonClicked&&this.isGameStarted&&(this.pauseButton.draw(),this.levelIndicators.draw(),this.promptText.draw(t),this.monster.update(t),this.timerTicking.draw(),this.stoneHandler.draw(t),this.pausePopup.draw()),this.isPauseButtonClicked||this.isGameStarted||(this.pauseButton.draw(),this.levelIndicators.draw(),this.promptText.draw(t),this.monster.update(t),this.timerTicking.draw(),this.feedbackTextEffects.render(),0==this.counter&&this.tutorial.clickOnMonsterTutorial(t)),this.isPauseButtonClicked&&!this.isGameStarted&&(this.pauseButton.draw(),this.levelIndicators.draw(),this.promptText.draw(t),this.monster.update(t),this.timerTicking.draw(),this.pausePopup.draw()),!this.isPauseButtonClicked&&this.isGameStarted&&(this.pauseButton.draw(),this.levelIndicators.draw(),this.promptText.draw(t),this.monster.update(t),this.timerTicking.draw(),this.stoneHandler.draw(t))}addEventListeners(){this.handler.addEventListener("mouseup",this.handleMouseUp,!1),this.handler.addEventListener("mousemove",this.handleMouseMove,!1),this.handler.addEventListener("mousedown",this.handleMouseDown,!1),this.handler.addEventListener("touchstart",this.handleTouchStart,!1),this.handler.addEventListener("touchmove",this.handleTouchMove,!1),this.handler.addEventListener("touchend",this.handleTouchEnd,!1),this.handler.addEventListener(k,this.handleMouseClick,!1),document.addEventListener(L,this.handleVisibilityChange,!1)}removeEventListeners(){this.handler.removeEventListener(k,this.handleMouseClick,!1),this.handler.removeEventListener("mouseup",this.handleMouseUp,!1),this.handler.removeEventListener("mousemove",this.handleMouseMove,!1),this.handler.removeEventListener("mousedown",this.handleMouseDown,!1),this.handler.removeEventListener("touchstart",this.handleTouchStart,!1),this.handler.removeEventListener("touchmove",this.handleTouchMove,!1),this.handler.removeEventListener("touchend",this.handleTouchEnd,!1)}loadPuzzle=t=>{this.stonesCount=1;let e=null!=t;if(e&&this.logPuzzleEndFirebaseEvent(!1),this.removeEventListeners(),this.incrementPuzzle(),this.isGameStarted=!1,this.counter==this.levelData.puzzles.length)this.levelIndicators.setIndicators(this.counter),this.logLevelEndFirebaseEvent(),Ls.setGameLevelScore(this.levelData,this.score),this.switchSceneToEnd(this.levelData,Ls.calculateStarCount(this.score),this.monsterPhaseNumber,this.levelNumber,e);else{const t={counter:this.counter},i=new CustomEvent(T,{detail:t});e?this.initNewPuzzle(i):setTimeout((()=>{this.initNewPuzzle(i)}),4500)}};dispose=()=>{this.audioPlayer.stopAllAudios(),this.removeEventListeners(),this.feedbackTextEffects.unregisterEventListener(),this.monster.unregisterEventListener(),this.timerTicking.unregisterEventListener(),this.levelIndicators.unregisterEventListener(),this.stoneHandler.unregisterEventListener(),this.promptText.unregisterEventListener(),document.removeEventListener(L,this.handleVisibilityChange,!1)};letterInWordPuzzle(t){const e=this.getRandomInt(0,1),i=this.stoneHandler.isStoneDroppedCorrectForLetterInWord(t,e);i&&this.handleCorrectStoneDrop(e),this.logPuzzleEndFirebaseEvent(i),this.dispatchStoneDropEvent(i),this.loadPuzzle()}letterOnlyPuzzle(t){const e=this.getRandomInt(0,1),i=this.stoneHandler.isStoneDroppedCorrectForLetterOnly(t,e);i&&this.handleCorrectStoneDrop(e),this.logPuzzleEndFirebaseEvent(i),this.dispatchStoneDropEvent(i),this.loadPuzzle()}wordPuzzle(t,e){this.audioPlayer.stopFeedbackAudio(),e.x=-999,e.y=-999;const i=this.getRandomInt(0,1);this.tempWordforWordPuzzle=this.tempWordforWordPuzzle+t;const s=this.stoneHandler.isStonDroppedCorrectForWord(this.tempWordforWordPuzzle,i);if(this.stoneHandler.getCorrectTargetStone()==this.tempWordforWordPuzzle&&s)return this.handleCorrectStoneDrop(i),this.logPuzzleEndFirebaseEvent(s,"Word"),this.dispatchStoneDropEvent(s),this.loadPuzzle(),void(this.stonesCount=1);s?(this.timerTicking.startTimer(),this.monster.changeToEatAnimation(),"arabic"==g?this.promptText.droppedStoneIndex(this.stonesCount):this.promptText.droppedStoneIndex(this.tempWordforWordPuzzle.length),this.stonesCount++,setTimeout((()=>{this.monster.changeToIdleAnimation()}),1500)):(Math.round(Math.random())>0?this.audioPlayer.playFeedbackAudios(!1,"./assets/audios/Eat.mp3","./assets/audios/Disapointed-05.mp3","./assets/audios/MonsterSpit.mp3"):this.audioPlayer.playFeedbackAudios(!1,"./assets/audios/Eat.mp3","./assets/audios/MonsterSpit.mp3"),this.logPuzzleEndFirebaseEvent(s,"Word"),this.dispatchStoneDropEvent(s),this.loadPuzzle(),this.stonesCount=1)}handleCorrectStoneDrop=t=>{this.score+=100,this.feedbackTextEffects.wrapText(this.getRandomFeedBackText(t)),this.feedBackTextCanavsElement.style.zIndex="2"};dispatchStoneDropEvent(t){const e=new CustomEvent(P,{detail:{isCorrect:t}});document.dispatchEvent(e)}initNewPuzzle(t){this.isGameStarted=!1,this.time=0,this.tempWordforWordPuzzle="",this.pickedStone=null,this.feedbackTextEffects.clearParticle(),this.feedBackTextCanavsElement.style.zIndex="0",document.dispatchEvent(t),this.addEventListeners(),this.audioPlayer.stopAllAudios(),this.startPuzzleTime()}incrementPuzzle(){this.counter+=1}logPuzzleEndFirebaseEvent(t,e){let i=Date.now();const s={cr_user_id:u,ftm_language:g,profile_number:0,version_number:document.getElementById("version-info-id").innerHTML,json_version_number:this.jsonVersionNumber,success_or_failure:t?"success":"failure",level_number:this.levelData.levelMeta.levelNumber,puzzle_number:this.counter,item_selected:"Word"==e?null==this.tempWordforWordPuzzle||null==this.tempWordforWordPuzzle?"TIMEOUT":this.tempWordforWordPuzzle:null==this.pickedStone||null==this.pickedStone?"TIMEOUT":this.pickedStone?.text,target:this.stoneHandler.getCorrectTargetStone(),foils:this.stoneHandler.getFoilStones(),response_time:(i-this.puzzleTime)/1e3};this.firebaseIntegration.sendPuzzleCompletedEvent(s)}logLevelEndFirebaseEvent(){let t=Date.now();const e={cr_user_id:u,ftm_language:g,profile_number:0,version_number:document.getElementById("version-info-id").innerHTML,json_version_number:this.jsonVersionNumber,success_or_failure:Ls.calculateStarCount(this.score)>=3?"success":"failure",number_of_successful_puzzles:this.score/100,level_number:this.levelData.levelMeta.levelNumber,duration:(t-this.startTime)/1e3};this.firebaseIntegration.sendLevelCompletedEvent(e)}startGameTime(){this.startTime=Date.now()}startPuzzleTime(){this.puzzleTime=Date.now()}pauseGamePlay=()=>{this.isPauseButtonClicked=!0,this.stoneHandler.setGamePause(!0),this.removeEventListeners(),this.pausePopup.addListner(),this.audioPlayer.stopAllAudios()};handleVisibilityChange=()=>{this.audioPlayer.stopAllAudios(),this.pauseGamePlay()}}class qs{canvas;height;width;context;images;loadedImages;imagesLoaded;cloudXPosition=-500;stopCloudMoving=!1;cloudMovingTimeOut=0;removeLoading;constructor(t,i,s){this.canvas=document.getElementById("loading"),this.canvas.height=i,this.canvas.width=t,this.height=i,this.width=t,this.removeLoading=s,this.context=this.canvas.getContext("2d"),this.images={cloud6:"./assets/images/cloud_01.png",cloud7:"./assets/images/cloud_02.png",cloud8:"./assets/images/cloud_03.png"},e(this.images,(t=>{this.loadedImages=Object.assign({},t),this.imagesLoaded=!0}))}draw(t){this.context.clearRect(0,0,this.width,this.height),this.cloudXPosition+=.75*t,this.cloudMovingTimeOut+=t,this.cloudMovingTimeOut>2983&&this.removeLoading(),this.cloudXPosition>=.5*this.width&&!this.stopCloudMoving&&(this.cloudMovingTimeOut+=t,this.cloudMovingTimeOut>2e3&&(this.stopCloudMoving=!0,this.cloudXPosition=0)),this.imagesLoaded&&(this.stopCloudMoving?(this.context.drawImage(this.loadedImages.cloud6,0+this.cloudXPosition,.6*this.height,this.width,.5*this.height),this.context.drawImage(this.loadedImages.cloud6,.4*this.width+this.cloudXPosition,.15*this.height,this.width,.5*this.height),this.context.drawImage(this.loadedImages.cloud7,0+this.cloudXPosition,.15*this.height,this.width,.5*this.height),this.context.drawImage(this.loadedImages.cloud8,.4*-this.width+this.cloudXPosition,.15*-this.height,this.width,.5*this.height),this.context.drawImage(this.loadedImages.cloud8,.4*this.width+this.cloudXPosition,.15*-this.height,this.width,.5*this.height),this.context.drawImage(this.loadedImages.cloud8,.05*this.width+this.cloudXPosition,.2*-this.height,this.width,.5*this.height),this.context.drawImage(this.loadedImages.cloud8,.6*-this.width+this.cloudXPosition,.3*this.height,this.width,.5*this.height),this.context.drawImage(this.loadedImages.cloud7,.5*this.width+this.cloudXPosition,.4*this.height,this.width,.4*this.height),this.context.drawImage(this.loadedImages.cloud7,.4*-this.width+this.cloudXPosition,.7*this.height,this.width,.5*this.height),this.context.drawImage(this.loadedImages.cloud8,.4*this.width+this.cloudXPosition,.7*this.height,this.width,.5*this.height),this.context.drawImage(this.loadedImages.cloud6,.2*-this.width+this.cloudXPosition,.2*this.height,this.width,.5*this.height)):(this.context.drawImage(this.loadedImages.cloud6,this.cloudXPosition>=0?0:this.cloudXPosition,.6*this.height,this.width,.5*this.height),this.context.drawImage(this.loadedImages.cloud6,this.cloudXPosition>=.4*this.width?.4*this.width:this.cloudXPosition,.15*this.height,this.width,.5*this.height),this.context.drawImage(this.loadedImages.cloud7,this.cloudXPosition>=0?0:this.cloudXPosition,.15*this.height,this.width,.5*this.height),this.context.drawImage(this.loadedImages.cloud8,this.cloudXPosition>=.4*-this.width?.4*-this.width:this.cloudXPosition,.15*-this.height,this.width,.5*this.height),this.context.drawImage(this.loadedImages.cloud8,this.cloudXPosition>=.4*this.width?.4*this.width:this.cloudXPosition,.15*-this.height,this.width,.5*this.height),this.context.drawImage(this.loadedImages.cloud8,this.cloudXPosition>=.05*this.width?.05*this.width:this.cloudXPosition,.2*-this.height,this.width,.5*this.height),this.context.drawImage(this.loadedImages.cloud8,this.cloudXPosition>=.6*-this.width?.6*-this.width:this.cloudXPosition,.3*this.height,this.width,.5*this.height),this.context.drawImage(this.loadedImages.cloud7,this.cloudXPosition>=.5*this.width?.5*this.width:this.cloudXPosition,.4*this.height,this.width,.4*this.height),this.context.drawImage(this.loadedImages.cloud7,this.cloudXPosition>=.4*-this.width?.4*-this.width:this.cloudXPosition,.7*this.height,this.width,.5*this.height),this.context.drawImage(this.loadedImages.cloud8,this.cloudXPosition>=.4*this.width?.4*this.width:this.cloudXPosition,.7*this.height,this.width,.5*this.height),this.context.drawImage(this.loadedImages.cloud6,this.cloudXPosition>=.2*-this.width?.2*-this.width:this.cloudXPosition,.2*this.height,this.width,.5*this.height)))}initCloud=()=>{this.cloudXPosition=-500,this.stopCloudMoving=!1,this.cloudMovingTimeOut=0}}class Ks{posX;posY;context;width;height;imagesLoaded=!1;next_button_image;constructor(t,e,i,s,a){this.posX=s,this.posY=a,this.context=t,this.width=e,this.height=i,this.next_button_image=new Image,this.next_button_image.src="./assets/images/next_btn.png",this.next_button_image.onload=t=>{this.imagesLoaded=!0,this.next_button_image=this.next_button_image}}draw(){this.imagesLoaded&&this.context.drawImage(this.next_button_image,this.posX,this.posY,.19*this.width,.19*this.width)}onClick(t,e){if(Math.sqrt((t-this.posX-.19*this.width/2)*(t-this.posX-.19*this.width/2)+(e-this.posY-.19*this.width/2)*(e-this.posY-.19*this.width/2))<.19*this.width/2)return!0}}class Js{canvas;height;width;images;loadedImages;imagesLoaded;id;context;monster;closeButton;retryButton;nextButton;starCount;currentLevel;switchToGameplayCB;switchToLevelSelectionCB;data;background;audioPlayer;timeouts;starDrawnCount;constructor(t,i,s,a,n,o,r,h,l,c){this.canvas=t,this.height=i,this.width=s,this.context=a,this.monster=new B(this.canvas,c,this.switchToReactionAnimation),this.background=new A(this.context,this.width,this.height,o),this.switchToGameplayCB=r,this.switchToLevelSelectionCB=h,this.data=l,this.starDrawnCount=0,this.closeButton=new Ws(a,t,.2*this.width-.19*this.width/2,this.height/1.25),this.retryButton=new Hs(this.context,this.canvas,.5*this.width-.19*this.width/2,this.height/1.25),this.nextButton=new Ks(this.context,this.width,this.height,.8*this.width-.19*this.width/2,this.height/1.25),this.audioPlayer=new M,this.starCount=n,this.currentLevel=o,this.images={backgroundImg:"./assets/images/WIN_screen_bg.png",star1Img:"./assets/images/pinStar1.png",star2Img:"./assets/images/pinStar2.png",star3Img:"./assets/images/pinStar3.png",winBackgroundImg:"./assets/images/bg_v01.jpg"},e(this.images,(t=>{this.loadedImages=Object.assign({},t),this.imagesLoaded=!0,this.starAnimation()})),this.addEventListener(),this.audioPlayer=new M}switchToReactionAnimation=()=>{this.starCount<=1?("visible"===document.visibilityState&&this.audioPlayer.playAudio("./assets/audios/LevelLoseFanfare.mp3"),this.monster.changeToSpitAnimation()):("visible"===document.visibilityState&&(this.audioPlayer.playAudio("./assets/audios/LevelWinFanfare.mp3"),this.audioPlayer.playAudio("./assets/audios/intro.mp3")),this.monster.changeToEatAnimation())};draw(t){this.background.draw(),this.imagesLoaded&&(this.context.drawImage(this.loadedImages.backgroundImg,0,0,this.width,this.height+.12*this.height),this.drawStars(),this.monster.update(t),this.closeButton.draw(),this.retryButton.draw(),this.starCount>=2&&this.nextButton.draw())}starAnimation(){this.timeouts=[{delay:500,count:1},{delay:1e3,count:2},{delay:1500,count:3}].map((t=>setTimeout((()=>{this.starDrawnCount=t.count}),t.delay)))}drawStars(){this.starCount>=1&&this.starDrawnCount>=1&&(this.context.drawImage(this.loadedImages.star1Img,.2*this.width-.19*this.width/2,.2*this.height,.19*this.width,.19*this.width),this.starCount<=3&&this.starCount>1&&this.starDrawnCount<=3&&this.starDrawnCount>1&&(this.context.drawImage(this.loadedImages.star2Img,.5*this.width-.19*this.width/2,.15*this.height,.19*this.width,.19*this.width),this.starCount>=3&&this.starDrawnCount>=3&&this.context.drawImage(this.loadedImages.star3Img,.82*this.width-.19*this.width/2,.2*this.height,.19*this.width,.19*this.width)))}addEventListener(){document.getElementById("canvas").addEventListener(k,this.handleMouseClick,!1),document.addEventListener("visibilitychange",this.pauseAudios,!1)}handleMouseClick=t=>{var e=document.getElementById("canvas").getBoundingClientRect();const i=t.clientX-e.left,s=t.clientY-e.top;if(this.closeButton.onClick(i,s)&&(this.audioPlayer.playButtonClickSound("./assets/audios/ButtonClick.mp3"),this.switchToLevelSelectionCB("LevelEnd")),this.retryButton.onClick(i,s)){this.audioPlayer.playButtonClickSound("./assets/audios/ButtonClick.mp3");let t={currentLevelData:this.data.levels[this.currentLevel],selectedLevelNumber:this.currentLevel};this.switchToGameplayCB(t,"LevelEnd")}if(this.nextButton.onClick(i,s)&&this.starCount>=2){this.audioPlayer.playButtonClickSound("./assets/audios/ButtonClick.mp3");let t=Number(this.currentLevel)+1,e={currentLevelData:this.data.levels[t],selectedLevelNumber:t};this.switchToGameplayCB(e,"LevelEnd")}};pauseAudios=()=>{"visible"===document.visibilityState?this.starCount>=2&&this.audioPlayer.playAudio("./assets/audios/intro.mp3"):this.audioPlayer.stopAllAudios()};dispose=()=>{this.audioPlayer.stopAllAudios(),this.timeouts.forEach((t=>clearTimeout(t))),document.getElementById("canvas").removeEventListener(k,this.handleMouseClick,!1),document.removeEventListener("visibilitychange",this.pauseAudios,!1)}}class Qs{canvas;data;width;height;startScene;levelSelectionScene;gameplayScene;levelEndScene;canavsElement;context;static SceneName;loadingScreen;loading=!1;lastTime=0;pwa_install_status;toggleBtn;constructor(t,e){this.canvas=t,this.data=e,this.width=t.width,this.height=t.height,this.canavsElement=document.getElementById("canvas"),this.toggleBtn=document.getElementById("this.toggleBtn"),window.addEventListener("beforeinstallprompt",this.handleInstallPrompt),this.context=this.canavsElement.getContext("2d"),this.startScene=new _s(t,e,this.switchSceneToLevelSelection),Qs.SceneName=n,this.loadingScreen=new qs(this.width,this.height,this.removeLoading),this.startAnimationLoop()}startAnimationLoop(){const t=e=>{this.animation(e),requestAnimationFrame(t)};requestAnimationFrame(t)}devToggle(){this.toggleBtn.addEventListener("click",(()=>{this.toggleBtn.classList.toggle("on"),this.toggleBtn.classList.contains("on")?(p.DebugMode=!0,this.toggleBtn.innerText="Dev"):(p.DebugMode=!1,this.toggleBtn.innerText="Dev")}))}checkMonsterPhaseUpdation(){let t=Ls.getTotalStarCount(),e=Math.floor(t/12)+1||1;return e<=4?e:4}animation=t=>{let e=t-this.lastTime;this.lastTime=t,this.context.clearRect(0,0,this.width,this.height),Qs.SceneName==n?(this.startScene.animation(e),this.loading&&this.loadingScreen.draw(e)):Qs.SceneName==o?(this.loading&&this.loadingScreen.draw(e),this.levelSelectionScene.drawLevelSelection()):Qs.SceneName==r?(this.loading&&this.loadingScreen.draw(e),this.gameplayScene.draw(e)):Qs.SceneName==h&&(this.loading&&this.loadingScreen.draw(e),this.levelEndScene.draw(e))};switchSceneToGameplay=(t,e)=>{this.showLoading(),this.dispose(e,"GamePlay");let i=this.data.majVersion&&this.data.minVersion?this.data.majVersion.toString()+"."+this.data.minVersion.toString():"";setTimeout((()=>{this.gameplayScene=new Us(this.canvas,t.currentLevelData,this.checkMonsterPhaseUpdation(),this.data.FeedbackTexts,this.data.rightToLeft,this.switchSceneToEndLevel,t.selectedLevelNumber,this.switchSceneToLevelSelection,this.switchSceneToGameplay,i,this.data.FeedbackAudios),Qs.SceneName=r}),800)};switchSceneToEndLevel=(t,e,i,s,a)=>{this.loadingScreen.initCloud();var n=this;function o(){n.gameplayScene.dispose(),document.getElementById("feedback-text").style.zIndex="0",n.levelEndScene=new Js(n.canvas,n.height,n.width,n.context,e,s,n.switchSceneToGameplay,n.switchSceneToLevelSelection,n.data,i),Qs.SceneName=h}a?o():setTimeout((()=>{o()}),4e3)};switchSceneToLevelSelection=t=>{this.showLoading(),this.dispose(t,"LevelSelection"),setTimeout((()=>{this.levelSelectionScene=new Ds(this.canvas,this.data,this.switchSceneToGameplay),Qs.SceneName=o}),800)};dispose=(t,e)=>{"LevelSelection"!=t||"GamePlay"!=e?!("GamePlay"==t&&"GamePlay"==e||"GamePlay"==t&&"LevelSelection"==e)?"StartScene"!=t||"LevelSelection"!=e?("LevelEnd"!=t||"LevelSelection"!=e)&&("LevelEnd"!=t||"GamePlay"!=e)||this.levelEndScene.dispose():this.startScene.dispose():this.gameplayScene.dispose():this.levelSelectionScene.dispose()};showLoading=()=>{this.loadingScreen.initCloud(),this.loading=!0,document.getElementById("loading").style.zIndex="3"};removeLoading=()=>{document.getElementById("loading").style.zIndex="-1",this.loading=!1};handleInstallPrompt=t=>{t.preventDefault(),this.pwa_install_status=t,localStorage.setItem(i,"false")}}try{self["workbox:window:4.3.1"]&&_()}catch(Zs){}var Zs=function(t,e){return new Promise((function(i){var s=new MessageChannel;s.port1.onmessage=function(t){return i(t.data)},t.postMessage(e,[s.port2])}))};function ta(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function ea(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}try{self["workbox:core:4.3.1"]&&_()}catch(Zs){}var ia=function(){var t=this;this.promise=new Promise((function(e,i){t.resolve=e,t.reject=i}))},sa=function(t,e){return new URL(t,location).href===new URL(e,location).href},aa=function(t,e){Object.assign(this,e,{type:t})};function na(t){return function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];try{return Promise.resolve(t.apply(this,e))}catch(t){return Promise.reject(t)}}}function oa(t,e,i){return i?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}function ra(){}var ha=function(t){var e,i;function s(e,i){var s;return void 0===i&&(i={}),(s=t.call(this)||this).t=e,s.i=i,s.o=0,s.u=new ia,s.s=new ia,s.h=new ia,s.v=s.v.bind(ea(ea(s))),s.l=s.l.bind(ea(ea(s))),s.g=s.g.bind(ea(ea(s))),s.m=s.m.bind(ea(ea(s))),s}i=t,(e=s).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i;var a,n,o=s.prototype;return o.register=na((function(t){var e,i,s=this,a=(void 0===t?{}:t).immediate,n=void 0!==a&&a;return e=function(){return s.p=Boolean(navigator.serviceWorker.controller),s.P=s.R(),oa(s.k(),(function(t){s.B=t,s.P&&(s.O=s.P,s.s.resolve(s.P),s.h.resolve(s.P),s.j(s.P),s.P.addEventListener("statechange",s.l,{once:!0}));var e=s.B.waiting;return e&&sa(e.scriptURL,s.t)&&(s.O=e,Promise.resolve().then((function(){s.dispatchEvent(new aa("waiting",{sw:e,wasWaitingBeforeRegister:!0}))}))),s.O&&s.u.resolve(s.O),s.B.addEventListener("updatefound",s.g),navigator.serviceWorker.addEventListener("controllerchange",s.m,{once:!0}),"BroadcastChannel"in self&&(s.C=new BroadcastChannel("workbox"),s.C.addEventListener("message",s.v)),navigator.serviceWorker.addEventListener("message",s.v),s.B}))},(i=function(){if(!n&&"complete"!==document.readyState)return function(t,e){return t&&t.then?t.then(ra):Promise.resolve()}(new Promise((function(t){return addEventListener("load",t)})))}())&&i.then?i.then(e):e()})),o.getSW=na((function(){return this.O||this.u.promise})),o.messageSW=na((function(t){return oa(this.getSW(),(function(e){return Zs(e,t)}))})),o.R=function(){var t=navigator.serviceWorker.controller;if(t&&sa(t.scriptURL,this.t))return t},o.k=na((function(){var t=this;return function(t,e){try{var i=t()}catch(t){return e(t)}return i&&i.then?i.then(void 0,e):i}((function(){return oa(navigator.serviceWorker.register(t.t,t.i),(function(e){return t.L=performance.now(),e}))}),(function(t){throw t}))})),o.j=function(t){Zs(t,{type:"WINDOW_READY",meta:"workbox-window"})},o.g=function(){var t=this.B.installing;this.o>0||!sa(t.scriptURL,this.t)||performance.now()>this.L+6e4?(this.W=t,this.B.removeEventListener("updatefound",this.g)):(this.O=t,this.u.resolve(t)),++this.o,t.addEventListener("statechange",this.l)},o.l=function(t){var e=this,i=t.target,s=i.state,a=i===this.W,n=a?"external":"",o={sw:i,originalEvent:t};!a&&this.p&&(o.isUpdate=!0),this.dispatchEvent(new aa(n+s,o)),"installed"===s?this._=setTimeout((function(){"installed"===s&&e.B.waiting===i&&e.dispatchEvent(new aa(n+"waiting",o))}),200):"activating"===s&&(clearTimeout(this._),a||this.s.resolve(i))},o.m=function(t){var e=this.O;e===navigator.serviceWorker.controller&&(this.dispatchEvent(new aa("controlling",{sw:e,originalEvent:t})),this.h.resolve(e))},o.v=function(t){var e=t.data;this.dispatchEvent(new aa("message",{data:e,originalEvent:t}))},a=s,(n=[{key:"active",get:function(){return this.s.promise}},{key:"controlling",get:function(){return this.h.promise}}])&&ta(a.prototype,n),s}(function(){function t(){this.D={}}var e=t.prototype;return e.addEventListener=function(t,e){this.T(t).add(e)},e.removeEventListener=function(t,e){this.T(t).delete(e)},e.dispatchEvent=function(t){t.target=this,this.T(t.type).forEach((function(e){return e(t)}))},e.T=function(t){return this.D[t]=this.D[t]||new Set},t}());new class{canvas;versionInfoElement;lang;is_cached;progressBar;progressBarContainer;channel;sceneHandler;loadingElement;majVersion;minVersion;startSessionTime;firebaseIntegration;constructor(t){this.lang=t,this.canvas=document.getElementById("canvas"),this.channel=new BroadcastChannel("my-channel"),this.progressBar=document.getElementById("progress-bar"),this.progressBarContainer=document.getElementById("progress-bar-container"),this.versionInfoElement=document.getElementById("version-info-id"),this.loadingElement=document.getElementById("loading-screen"),this.is_cached=this.initializeCachedData(),this.firebaseIntegration=new Ts,this.startSessionTime=0,this.init(),this.channel.addEventListener("message",this.handleServiceWorkerMessage),window.addEventListener("beforeunload",this.handleBeforeUnload),document.addEventListener(L,this.handleVisibilityChange)}async init(){const t=c.getLanguageSpecificFont(this.lang);await this.loadAndCacheFont(t,`./assets/fonts/${t}.ttf`),await this.preloadGameAudios(),this.handleLoadingScreen(),this.registerWorkbox(),this.setupCanvas();const e=await f();this.majVersion=e.majversion,this.minVersion=e.minversion;const i=this.createDataModal(e);this.globalInitialization(e),this.logSessionStartFirebaseEvent(),window.addEventListener("resize",(async()=>{this.handleResize(i)})),this.is_cached.has(this.lang)&&this.handleCachedScenario(i)}logSessionStartFirebaseEvent(){let t=localStorage.getItem("lastSessionEndTime"),e=0;if(this.startSessionTime=(new Date).getTime(),t){let i=parseInt(t);isNaN(i)||(e=Math.abs((new Date).getTime()-i))}const i=parseFloat((e?e/864e5:0).toFixed(3)),s={cr_user_id:u,ftm_language:g,profile_number:0,version_number:this.versionInfoElement.innerHTML,json_version_number:this.majVersion&&this.minVersion?this.majVersion.toString()+"."+this.minVersion.toString():"",days_since_last:i};this.firebaseIntegration.sendSessionStartEvent(s)}logSessionEndFirebaseEvent(){const t={cr_user_id:u,ftm_language:g,profile_number:0,version_number:this.versionInfoElement.innerHTML,json_version_number:this.majVersion&&this.minVersion?this.majVersion.toString()+"."+this.minVersion.toString():"",duration:((new Date).getTime()-this.startSessionTime)/1e3};localStorage.setItem("lastSessionEndTime",(new Date).getTime().toString()),this.firebaseIntegration.sendSessionEndEvent(t)}initializeCachedData(){const t=localStorage.getItem(a);return t?new Map(JSON.parse(t)):new Map}async loadAndCacheFont(t,e){try{const i=await caches.open("fontCache");if(!await i.match(e)){const t=await fetch(e),s=await t.blob();await i.put(e,new Response(s))}const s=new FontFace(t,`url(${e}) format('truetype')`);await s.load(),document.fonts.add(s)}catch(t){console.error(`Failed to load and cache font: ${t}`)}}handleLoadingScreen=()=>{this.is_cached.get(g)?(this.loadingElement.style.zIndex="-1",this.loadingElement.style.display="none",this.progressBarContainer.style.display="none",this.progressBar.style.display="none"):(this.progressBarContainer.style.display="flex",this.progressBar.style.display="flex",this.progressBar.style.width="30%")};async registerWorkbox(){if("serviceWorker"in navigator)try{const t=new ha("./sw.js",{});await t.register(),await navigator.serviceWorker.ready,this.is_cached.has(this.lang)||this.channel.postMessage({command:"Cache",data:this.lang}),navigator.serviceWorker.addEventListener("message",this.handleServiceWorkerMessage)}catch(t){console.error(`Failed to register service worker: ${t}`)}}setupCanvas(){this.canvas.height=window.innerHeight,this.canvas.width=window.screen.width>1024?1024:window.innerWidth}createDataModal(t){return new w(t.title,t.OtherAudios,t.Levels,t.FeedbackTexts,t.RightToLeft,t.FeedbackAudios,t.majversion,t.minversion,t.version)}globalInitialization(t){globalThis.aboutCompany=t.aboutCompany,globalThis.descriptionText=t.descriptionText}handleResize(t){this.is_cached.has(this.lang)&&(this.updateVersionInfoElement(t),this.setupCanvas(),this.reinitializeSceneHandler(t))}updateVersionInfoElement(t){this.is_cached.has(this.lang)&&p.DevelopmentLink&&(t.majVersion&&t.minVersion?this.versionInfoElement.innerHTML+=`/j.v${t.majVersion}.${t.minVersion}`:t.version&&(this.versionInfoElement.innerHTML+=`/j.v${t.version}`),document.getElementById("toggle-btn").style.display="block")}reinitializeSceneHandler(t){delete this.sceneHandler,this.sceneHandler=new Qs(this.canvas,t),this.passingDataToContainer()}handleCachedScenario(t){this.updateVersionInfoElement(t),this.sceneHandler=new Qs(this.canvas,t),this.passingDataToContainer()}passingDataToContainer=()=>{window.Android&&window.Android.cachedStatus(1==this.is_cached.get(this.lang))};setContainerAppOrientation(){window.Android&&window.Android.setContainerAppOrientation("portrait")}handleUpdateFoundMessage(){confirm("Update Found\nPress ok to update")&&window.location.reload()}handleLoadingMessage=t=>{if(this.progressBarContainer&&this.progressBar){if(this.progressBarContainer.style.display="flex",this.progressBar.style.display="flex",parseInt(this.progressBar.style.width||"0")>=40&&(this.progressBar.style.width=`${t.data}%`),t.data%100==0&&!this.is_cached.get(this.lang)){this.is_cached.set(this.lang,!0),localStorage.setItem(a,JSON.stringify(Array.from(this.is_cached.entries())));const e={cr_user_id:u,ftm_language:g,profile_number:0,version_number:this.versionInfoElement.innerHTML,json_version_number:this.majVersion&&this.minVersion?this.majVersion.toString()+"."+this.minVersion.toString():""};this.firebaseIntegration.sendDownloadCompletedEvent(e),localStorage.setItem("version"+this.lang,t.version),window.location.reload()}this.progressBar.style.width=`${t.data}%`}};handleServiceWorkerMessage=t=>{"Loading"===t.data.msg?this.handleLoadingMessage(t.data):"Update Found"===t.data.msg&&this.handleUpdateFoundMessage()};handleVisibilityChange=()=>{"visible"===document.visibilityState?this.logSessionStartFirebaseEvent():this.logSessionEndFirebaseEvent()};handleBeforeUnload=async t=>{this.logSessionEndFirebaseEvent()};preloadGameAudios=async()=>{let t=["./assets/audios/intro.mp3","./assets/audios/Cheering-02.mp3","./assets/audios/Cheering-03.mp3","./assets/audios/Cheering-01.mp3","./assets/audios/onDrag.mp3","./assets/audios/timeout.mp3","./assets/audios/LevelWinFanfare.mp3","./assets/audios/LevelLoseFanfare.mp3","./assets/audios/ButtonClick.mp3","./assets/audios/Monster Spits wrong stones-01.mp3","./assets/audios/Disapointed-05.mp3","./assets/audios/MonsterSpit.mp3","./assets/audios/Eat.mp3","./assets/audios/PointsAdd.wav","./assets/audios/are-you-sure.mp3"];return new Promise(((e,i)=>{const s=t.map((t=>(new M).preloadGameAudio(t)));Promise.all(s).then((()=>e())).catch((t=>{console.error("Error preloading audio:",t),i(t)}))}))}}(g)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFLc2tELDBCQUNULEVBRUp4Yyx1QkFBeUIsS0FDWSxZQUE3QnY4QixTQUFTaTRCLGdCQUNUeGpDLEtBQUs4aEQsK0JBR0w5aEQsS0FBSzBpRCw0QkFDVCxFQUVKckIsbUJBQXFCOTZDLE1BQU9vRixJQUN4QjNMLEtBQUswaUQsNEJBQTRCLEVBRXJDbkIsa0JBQW9CaDdDLFVBQ2hCLElBQUlxK0MsRUFBWSxDQUNaLDRCQUNBLGtDQUNBLGtDQUNBLGtDQUNBLDZCQUNBLDhCQUNBLHNDQUNBLHVDQUNBLGtDQUNBLG9EQUNBLHFDQUNBLGtDQUNBLDBCQUNBLGdDQUNBLG9DQUVKLE9BQU8sSUFBSXh5QyxTQUFRLENBQUNDLEVBQVNDLEtBQ3pCLE1BQU11eUMsRUFBa0JELEVBQVUzN0MsS0FBS3NILElBQWEsSUFBSVYsR0FBY2EsaUJBQWlCSCxLQUN2RjZCLFFBQVF5TCxJQUFJZ25DLEdBQ1BqK0MsTUFBSyxJQUFNeUwsTUFDWHdGLE9BQU90RixJQUNSM04sUUFBUTJOLE1BQU0sMEJBQTJCQSxHQUN6Q0QsRUFBT0MsRUFBTSxHQUNmLEdBQ0osR0FHVXRNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmVlZHRoZW1vbnN0ZXJqcy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9mZWVkdGhlbW9uc3RlcmpzLy4vc3JjL2NvbW1vbi9jb21tb24udHMiLCJ3ZWJwYWNrOi8vZmVlZHRoZW1vbnN0ZXJqcy93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL2ZlZWR0aGVtb25zdGVyanMvLi9zcmMvZGF0YS9pMTgtZm9udC1tYXBwaW5nLnRzIiwid2VicGFjazovL2ZlZWR0aGVtb25zdGVyanMvLi9zcmMvY29tbW9uL3V0aWxzLnRzIiwid2VicGFjazovL2ZlZWR0aGVtb25zdGVyanMvLi9nbG9iYWwtdmFyaWFibGVzLnRzIiwid2VicGFjazovL2ZlZWR0aGVtb25zdGVyanMvLi9zcmMvZGF0YS9hcGktZGF0YS50cyIsIndlYnBhY2s6Ly9mZWVkdGhlbW9uc3RlcmpzLy4vc3JjL2RhdGEvZGF0YS1tb2RhbC50cyIsIndlYnBhY2s6Ly9mZWVkdGhlbW9uc3RlcmpzLy4vc3JjL2NvbW1vbi9ldmVudC1uYW1lcy50cyIsIndlYnBhY2s6Ly9mZWVkdGhlbW9uc3RlcmpzLy4vc3JjL2V2ZW50cy9FdmVudE1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vZmVlZHRoZW1vbnN0ZXJqcy8uL3NyYy9jb21wb25lbnRzL21vbnN0ZXIudHMiLCJ3ZWJwYWNrOi8vZmVlZHRoZW1vbnN0ZXJqcy8uL3NyYy9jb21wb25lbnRzL2JhY2tncm91bmQudHMiLCJ3ZWJwYWNrOi8vZmVlZHRoZW1vbnN0ZXJqcy8uL3NyYy9jb21wb25lbnRzL2F1ZGlvLXBsYXllci50cyIsIndlYnBhY2s6Ly9mZWVkdGhlbW9uc3RlcmpzLy4vbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS91dGlsL2Rpc3QvaW5kZXguZXNtMjAxNy5qcyIsIndlYnBhY2s6Ly9mZWVkdGhlbW9uc3RlcmpzLy4vbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9jb21wb25lbnQvZGlzdC9lc20vaW5kZXguZXNtMjAxNy5qcyIsIndlYnBhY2s6Ly9mZWVkdGhlbW9uc3RlcmpzLy4vbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9sb2dnZXIvZGlzdC9lc20vaW5kZXguZXNtMjAxNy5qcyIsIndlYnBhY2s6Ly9mZWVkdGhlbW9uc3RlcmpzLy4vbm9kZV9tb2R1bGVzL2lkYi9idWlsZC93cmFwLWlkYi12YWx1ZS5qcyIsIndlYnBhY2s6Ly9mZWVkdGhlbW9uc3RlcmpzLy4vbm9kZV9tb2R1bGVzL2lkYi9idWlsZC9pbmRleC5qcyIsIndlYnBhY2s6Ly9mZWVkdGhlbW9uc3RlcmpzLy4vbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hcHAvZGlzdC9lc20vaW5kZXguZXNtMjAxNy5qcyIsIndlYnBhY2s6Ly9mZWVkdGhlbW9uc3RlcmpzLy4vbm9kZV9tb2R1bGVzL2ZpcmViYXNlL2FwcC9kaXN0L2VzbS9pbmRleC5lc20uanMiLCJ3ZWJwYWNrOi8vZmVlZHRoZW1vbnN0ZXJqcy8uL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvaW5zdGFsbGF0aW9ucy9ub2RlX21vZHVsZXMvaWRiL2J1aWxkL3dyYXAtaWRiLXZhbHVlLmpzIiwid2VicGFjazovL2ZlZWR0aGVtb25zdGVyanMvLi9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2luc3RhbGxhdGlvbnMvbm9kZV9tb2R1bGVzL2lkYi9idWlsZC9pbmRleC5qcyIsIndlYnBhY2s6Ly9mZWVkdGhlbW9uc3RlcmpzLy4vbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9pbnN0YWxsYXRpb25zL2Rpc3QvZXNtL2luZGV4LmVzbTIwMTcuanMiLCJ3ZWJwYWNrOi8vZmVlZHRoZW1vbnN0ZXJqcy8uL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYW5hbHl0aWNzL2Rpc3QvZXNtL2luZGV4LmVzbTIwMTcuanMiLCJ3ZWJwYWNrOi8vZmVlZHRoZW1vbnN0ZXJqcy8uL3NyYy9GaXJlYmFzZS9maXJlYmFzZS1jb25maWcudHMiLCJ3ZWJwYWNrOi8vZmVlZHRoZW1vbnN0ZXJqcy8uL3NyYy9GaXJlYmFzZS9iYXNlLWZpcmViYXNlLWludGVncmF0aW9uLnRzIiwid2VicGFjazovL2ZlZWR0aGVtb25zdGVyanMvLi9zcmMvRmlyZWJhc2UvZmlyZWJhc2UtaW50ZWdyYXRpb24udHMiLCJ3ZWJwYWNrOi8vZmVlZHRoZW1vbnN0ZXJqcy8uL3NyYy9jb21wb25lbnRzL3BsYXktYnV0dG9uLnRzIiwid2VicGFjazovL2ZlZWR0aGVtb25zdGVyanMvLi9zcmMvc2NlbmVzL3N0YXJ0LXNjZW5lLnRzIiwid2VicGFjazovL2ZlZWR0aGVtb25zdGVyanMvLi9zcmMvY29tbW9uL2xldmVsLWNvbmZpZy50cyIsIndlYnBhY2s6Ly9mZWVkdGhlbW9uc3RlcmpzLy4vc3JjL2RhdGEvZ2FtZS1zY29yZS50cyIsIndlYnBhY2s6Ly9mZWVkdGhlbW9uc3RlcmpzLy4vc3JjL3NjZW5lcy9sZXZlbC1zZWxlY3Rpb24tc2NlbmUudHMiLCJ3ZWJwYWNrOi8vZmVlZHRoZW1vbnN0ZXJqcy8uL3NyYy9jb21wb25lbnRzL3RpbWVyLXRpY2tpbmcudHMiLCJ3ZWJwYWNrOi8vZmVlZHRoZW1vbnN0ZXJqcy8uL3NyYy9jb21wb25lbnRzL3Byb21wdC10ZXh0LnRzIiwid2VicGFjazovL2ZlZWR0aGVtb25zdGVyanMvLi9zcmMvY29tcG9uZW50cy9idXR0b25zL3BhdXNlLWJ1dHRvbi50cyIsIndlYnBhY2s6Ly9mZWVkdGhlbW9uc3RlcmpzLy4vc3JjL2NvbXBvbmVudHMvbGV2ZWwtaW5kaWNhdG9yLnRzIiwid2VicGFjazovL2ZlZWR0aGVtb25zdGVyanMvLi9zcmMvY29tbW9uL3N0b25lLWNvbmZpZy50cyIsIndlYnBhY2s6Ly9mZWVkdGhlbW9uc3RlcmpzLy4vc3JjL2NvbXBvbmVudHMvdHV0b3JpYWwudHMiLCJ3ZWJwYWNrOi8vZmVlZHRoZW1vbnN0ZXJqcy8uL3NyYy9jb21wb25lbnRzL3N0b25lLWhhbmRsZXIudHMiLCJ3ZWJwYWNrOi8vZmVlZHRoZW1vbnN0ZXJqcy8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvY2FuY2VsLWJ1dHRvbi50cyIsIndlYnBhY2s6Ly9mZWVkdGhlbW9uc3RlcmpzLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9jbG9zZS1idXR0b24udHMiLCJ3ZWJwYWNrOi8vZmVlZHRoZW1vbnN0ZXJqcy8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvcmV0cnktYnV0dG9uLnRzIiwid2VicGFjazovL2ZlZWR0aGVtb25zdGVyanMvLi9zcmMvY29tcG9uZW50cy9idXR0b25zL3llcy1idXR0b24udHMiLCJ3ZWJwYWNrOi8vZmVlZHRoZW1vbnN0ZXJqcy8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvbm8tYnV0dG9uLnRzIiwid2VicGFjazovL2ZlZWR0aGVtb25zdGVyanMvLi9zcmMvY29tcG9uZW50cy9mZWVkYmFjay1wYXJ0aWNsZS1lZmZlY3Qvc3VyZS1wb3B1cC50cyIsIndlYnBhY2s6Ly9mZWVkdGhlbW9uc3RlcmpzLy4vc3JjL2NvbXBvbmVudHMvcGF1c2UtcG9wdXAudHMiLCJ3ZWJwYWNrOi8vZmVlZHRoZW1vbnN0ZXJqcy8uL3NyYy9jb21wb25lbnRzL2ZlZWRiYWNrLXBhcnRpY2xlLWVmZmVjdC90ZXh0LXBhcnRpY2xlLnRzIiwid2VicGFjazovL2ZlZWR0aGVtb25zdGVyanMvLi9zcmMvY29tcG9uZW50cy9mZWVkYmFjay1wYXJ0aWNsZS1lZmZlY3QvZmVlZGJhY2stdGV4dC1lZmZlY3RzLnRzIiwid2VicGFjazovL2ZlZWR0aGVtb25zdGVyanMvLi9zcmMvc2NlbmVzL2dhbWVwbGF5LXNjZW5lLnRzIiwid2VicGFjazovL2ZlZWR0aGVtb25zdGVyanMvLi9zcmMvc2NlbmVzL2xvYWRpbmctc2NlbmUudHMiLCJ3ZWJwYWNrOi8vZmVlZHRoZW1vbnN0ZXJqcy8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvbmV4dC1idXR0b24udHMiLCJ3ZWJwYWNrOi8vZmVlZHRoZW1vbnN0ZXJqcy8uL3NyYy9zY2VuZXMvbGV2ZWxlbmQtc2NlbmUudHMiLCJ3ZWJwYWNrOi8vZmVlZHRoZW1vbnN0ZXJqcy8uL3NyYy9zY2VuZUhhbmRsZXIvc2NlbmUtaGFuZGxlci50cyIsIndlYnBhY2s6Ly9mZWVkdGhlbW9uc3RlcmpzLy4vbm9kZV9tb2R1bGVzL3dvcmtib3gtd2luZG93L2J1aWxkL3dvcmtib3gtd2luZG93LnByb2QuZXM1Lm1qcyIsIndlYnBhY2s6Ly9mZWVkdGhlbW9uc3RlcmpzLy4vZmVlZFRoZU1vbnN0ZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsImV4cG9ydCBmdW5jdGlvbiBsb2FkSW1hZ2VzKHNvdXJjZXMsIGNhbGxiYWNrKSB7XHJcbiAgICB2YXIgaW1hZ2VzID0ge307XHJcbiAgICB2YXIgbG9hZGVkSW1hZ2VzID0gMDtcclxuICAgIHZhciBudW1JbWFnZXMgPSAwO1xyXG4gICAgLy8gZ2V0IG51bSBvZiBzb3VyY2VzXHJcbiAgICBmb3IgKHZhciBzcmMgaW4gc291cmNlcykge1xyXG4gICAgICAgIG51bUltYWdlcysrO1xyXG4gICAgfVxyXG4gICAgZm9yICh2YXIgc3JjIGluIHNvdXJjZXMpIHtcclxuICAgICAgICBpbWFnZXNbc3JjXSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgIGltYWdlc1tzcmNdLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKCsrbG9hZGVkSW1hZ2VzID49IG51bUltYWdlcykge1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2soaW1hZ2VzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgaW1hZ2VzW3NyY10uc3JjID0gc291cmNlc1tzcmNdO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBjb25zdCBGaXJlYmFzZVVzZXJDbGlja2VkID0gXCJ1c2VyX2NsaWNrZWRcIjtcclxuZXhwb3J0IGNvbnN0IEZpcmViYXNlVXNlckluc3RhbGwgPSBcInVzZXJfaW5zdGFsbGVkXCI7XHJcbmV4cG9ydCBjb25zdCBQV0FJbnN0YWxsU3RhdHVzID0gXCJwd2FfaW5zdGFsbGVkX3N0YXR1c1wiO1xyXG5leHBvcnQgY29uc3QgVXNlckNhbmNlbGxlZCA9IFwidXNlcl9jYW5jZWxfaW5zdGFsbGF0aW9uXCI7XHJcbmV4cG9ydCBjb25zdCBOYXRpdmVQbGF5QnV0dG9uID0gXCJuYXRpdmVfcGxheWJ1dHRvbl9jbGlja2VkXCI7XHJcbmV4cG9ydCBjb25zdCBQcmV2aW91c1BsYXllZExldmVsID0gXCJzdG9yZVByZXZpb3VzUGxheWVkTGV2ZWxcIjtcclxuZXhwb3J0IGNvbnN0IFN0b3JlTW9uc3RlclBoYXNlTnVtYmVyID0gXCJzdG9yZU1vbnN0ZXJQaGFzZU51bWJlclwiO1xyXG5leHBvcnQgY29uc3QgSXNDYWNoZWQgPSBcImlzX2NhY2hlZFwiO1xyXG5leHBvcnQgY29uc3QgTW9uc3RlckF1ZGlvID0gXCJtb25zdGVyX2F1ZGlvXCI7XHJcbmV4cG9ydCBjb25zdCBGZWVkYmFja0F1ZGlvID0gXCJmZWVkYmFja19hdWRpb1wiO1xyXG5leHBvcnQgY29uc3QgSW50cm9NdXNpYyA9IFwiaW50cm9fbXVzaWNcIjtcclxuZXhwb3J0IGNvbnN0IFByb21wdEF1ZGlvID0gXCJwcm9tcHRfYXVkaW9cIjtcclxuZXhwb3J0IGNvbnN0IEJ1dHRvbkNsaWNrID0gXCJidXR0b25fY2xpY2tcIjtcclxuZXhwb3J0IGNvbnN0IFRpbWVPdmVyID0gXCJ0aW1lX292ZXJcIjtcclxuZXhwb3J0IGNvbnN0IFN0b25lTXVzaWMgPSBcInN0b25lX211c2ljXCI7XHJcbmV4cG9ydCBjb25zdCBQaHJhc2VBdWRpbyA9IFwicGhyYXNlX2F1ZGlvXCI7XHJcbmV4cG9ydCBjb25zdCBMZXZlbEVuZEF1ZGlvID0gXCJsZXZlbF9lbmRfYXVkaW9cIjtcclxuZXhwb3J0IGNvbnN0IFVybFN1YnN0cmluZyA9IFwiL2ZlZWR0aGVtb25zdGVyXCI7XHJcbmV4cG9ydCBjb25zdCBEZXZlbG9wbWVudFNlcnZlciA9IFwiaHR0cHM6Ly9mZWVkdGhlbW9uc3RlcmRldi5jdXJpb3VzY29udGVudC5vcmdcIjtcclxuZXhwb3J0IGNvbnN0IFN0YXJ0U2NlbmUxID0gXCJTdGFydFNjZW5lMVwiO1xyXG5leHBvcnQgY29uc3QgTGV2ZWxTZWxlY3Rpb24xID0gXCJMZXZlbFNlbGVjdGlvbjFcIjtcclxuZXhwb3J0IGNvbnN0IEdhbWVTY2VuZTEgPSBcIkdhbWVTY2VuZTFcIjtcclxuZXhwb3J0IGNvbnN0IEVuZFNjZW5lMSA9IFwiRW5kU2NlbmUxXCI7XHJcbiIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwiY29uc3QgbGFuZ3VhZ2VGb250TWFwcGluZyA9IHtcclxuICAgIGVuZ2xpc2g6IFwiQ29uc29sYXNcIixcclxuICAgIHN3YWhpbGk6IFwiQ29uc29sYXNcIixcclxuICAgIHdvbG9mOiBcIkNvbnNvbGFzXCIsXHJcbiAgICB0YWppazogXCJDb25zb2xhc1wiLFxyXG4gICAgbWFyYXRoaTogXCJDb25zb2xhc1wiLFxyXG4gICAgYW1oYXJpYzogXCJDb25zb2xhc1wiLFxyXG4gICAgcHVuamFiaTogXCJDb25zb2xhc1wiLFxyXG4gICAgdGFtaWw6IFwiQ29uc29sYXNcIixcclxuICAgIHNlcGVkaTogXCJDb25zb2xhc1wiLFxyXG4gICAgZ3VqYXJhdGk6IFwiQ29uc29sYXNcIixcclxuICAgIHRlbHVndTogXCJDb25zb2xhc1wiLFxyXG4gICAgdHNvbmdhOiBcIkNvbnNvbGFzXCIsXHJcbiAgICBtYWxheTogXCJDb25zb2xhc1wiLFxyXG4gICAgbmRlYmVsZTogXCJDb25zb2xhc1wiLFxyXG4gICAgdmVuZGE6IFwiTm90b1NhbnMtUmVndWxhclwiLFxyXG4gICAgc2lzd2F0aTogXCJDb25zb2xhc1wiLFxyXG4gICAgdHN3YW5hOiBcIkNvbnNvbGFzXCIsXHJcbiAgICB0aGFpOiBcIkNvbnNvbGFzXCIsXHJcbiAgICBmdWxhOiBcIkNvbnNvbGFzXCIsXHJcbiAgICBmYXJzaTogXCJDb25zb2xhc1wiLFxyXG4gICAgYnVybWVzZTogXCJDb25zb2xhc1wiLFxyXG4gICAgYmVuZ2FsaTogXCJDb25zb2xhc1wiLFxyXG4gICAgQXplcmJhaWphbmk6IFwiTm90b1NhbnMtUmVndWxhclwiLFxyXG4gICAgU2Vzb3RobzogXCJDb25zb2xhc1wiLFxyXG4gICAgR2VvcmdpYW46IFwiQ29uc29sYXNcIixcclxuICAgIEJyYXppbGlhblBvcnR1Z3Vlc2U6IFwiQ29uc29sYXNcIixcclxuICAgIFNvbWFsaTogXCJDb25zb2xhc1wiLFxyXG4gICAgSGF1c2E6IFwiTm90b1NhbnMtUmVndWxhclwiLFxyXG4gICAgSWdibzogXCJDb25zb2xhc1wiLFxyXG4gICAgSGF0aWFuQ3Jlb2xlOiBcIkNvbnNvbGFzXCIsXHJcbiAgICBPcm9tbzogXCJDb25zb2xhc1wiLFxyXG4gICAgTHVnYW5kYTogXCJDb25zb2xhc1wiLFxyXG4gICAgWW9ydWJhOiBcIkNvbnNvbGFzXCIsXHJcbiAgICBLaG1lcjogXCJDb25zb2xhc1wiLFxyXG4gICAgSmF2YW5lc2U6IFwiQ29uc29sYXNcIixcclxuICAgIFVyZHU6IFwiQ29uc29sYXNcIixcclxuICAgIEtpbnlhcndhbmRhOiBcIkNvbnNvbGFzXCIsXHJcbiAgICBTaG9uYTogXCJDb25zb2xhc1wiLFxyXG4gICAgS3VyZGlzaDogXCJDb25zb2xhc1wiLFxyXG4gICAgRnJlbmNoOiBcIkNvbnNvbGFzXCIsXHJcbiAgICBpc2lYaG9zYTogXCJDb25zb2xhc1wiLFxyXG4gICAgQWZyaWthYW5zOiBcIkNvbnNvbGFzXCIsXHJcbiAgICBOZXBhbGk6IFwiQ29uc29sYXNcIixcclxuICAgIFVrcmFpbmlhbjogXCJDb25zb2xhc1wiLFxyXG4gICAgSGluZGk6IFwiQ29uc29sYXNcIixcclxuICAgIFRhZ2Fsb2c6IFwiQ29uc29sYXNcIixcclxuICAgIFZpZXRuYW1lc2U6IFwiTm90b1NhbnMtUmVndWxhclwiLFxyXG4gICAgUGFzaHRvOiBcIkNvbnNvbGFzXCIsXHJcbiAgICBUd2k6IFwiTm90b1NhbnMtUmVndWxhclwiLFxyXG4gICAgQXJhYmljOiBcIkFkb2JlLUFyYWJpYy1Cb2xkXCJcclxufTtcclxuZXhwb3J0IGRlZmF1bHQgbGFuZ3VhZ2VGb250TWFwcGluZztcclxuIiwiaW1wb3J0IHsgRGVidWdnZXIgfSBmcm9tIFwiLi4vLi4vZ2xvYmFsLXZhcmlhYmxlc1wiO1xyXG5pbXBvcnQgbGFuZ3VhZ2VGb250TWFwcGluZyBmcm9tIFwiLi4vZGF0YS9pMTgtZm9udC1tYXBwaW5nXCI7XHJcbmV4cG9ydCBjbGFzcyBVdGlscyB7XHJcbiAgICBzdGF0aWMgVXJsU3Vic3RyaW5nID0gXCIvZmVlZHRoZW1vbnN0ZXJcIjtcclxuICAgIHN0YXRpYyBnZXRDb252ZXJ0ZWREZXZQcm9kVVJMKHVybCkge1xyXG4gICAgICAgIHJldHVybiBEZWJ1Z2dlci5EZXZlbG9wbWVudExpbmtcclxuICAgICAgICAgICAgPyB1cmwuc2xpY2UoMCwgdXJsLmluZGV4T2YodGhpcy5VcmxTdWJzdHJpbmcpICsgdGhpcy5VcmxTdWJzdHJpbmcubGVuZ3RoKSArXHJcbiAgICAgICAgICAgICAgICBcImRldlwiICtcclxuICAgICAgICAgICAgICAgIHVybC5zbGljZSh1cmwuaW5kZXhPZih0aGlzLlVybFN1YnN0cmluZykgKyB0aGlzLlVybFN1YnN0cmluZy5sZW5ndGgpXHJcbiAgICAgICAgICAgIDogdXJsO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIGdldExhbmd1YWdlU3BlY2lmaWNGb250KGxhbmd1YWdlKSB7XHJcbiAgICAgICAgY29uc3QgbG93ZXJDYXNlTGFuZ3VhZ2UgPSBsYW5ndWFnZS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGxhbmd1YWdlRm9udE1hcHBpbmcpIHtcclxuICAgICAgICAgICAgaWYgKGtleS50b0xvd2VyQ2FzZSgpID09PSBsb3dlckNhc2VMYW5ndWFnZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxhbmd1YWdlRm9udE1hcHBpbmdba2V5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmxvZyhgRm9udCBub3QgZm91bmQgZm9yIGxhbmd1YWdlOiAke2xhbmd1YWdlfWApO1xyXG4gICAgICAgIHJldHVybiBcIk5vdG9TYW5zLVJlZ3VsYXJcIjtcclxuICAgIH1cclxuICAgIHN0YXRpYyBnZXRSYW5kb21OdW1iZXIobWluLCBtYXgpIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKSArIG1pbjtcclxuICAgIH1cclxuICAgIHN0YXRpYyBnZXRFeGNsdWRlZENvb3JkaW5hdGVzKGNhbnZhcywgZXhjbHVzaW9uUGVyY2VudGFnZSkge1xyXG4gICAgICAgIGNvbnN0IGV4Y2x1ZGVkQXJlYVdpZHRoID0gY2FudmFzLndpZHRoICogKGV4Y2x1c2lvblBlcmNlbnRhZ2UgLyAxMDApO1xyXG4gICAgICAgIGNvbnN0IGV4Y2x1ZGVkQXJlYUhlaWdodCA9IGNhbnZhcy5oZWlnaHQgKiAoZXhjbHVzaW9uUGVyY2VudGFnZSAvIDEwMCk7XHJcbiAgICAgICAgcmV0dXJuIHsgZXhjbHVkZVg6IGV4Y2x1ZGVkQXJlYVdpZHRoLCBleGNsdWRlWTogZXhjbHVkZWRBcmVhSGVpZ2h0IH07XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVJpcHBsZUVmZmVjdChjb250ZXh0KSB7XHJcbiAgICBjb25zdCBjdHggPSBjb250ZXh0O1xyXG4gICAgaWYgKCFjdHgpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW52YXMgY29udGV4dCBpcyBudWxsXCIpO1xyXG4gICAgfVxyXG4gICAgbGV0IGNlbnRlclggPSAwO1xyXG4gICAgbGV0IGNlbnRlclkgPSAwO1xyXG4gICAgY29uc3QgaW5pdGlhbE91dGVyUmFkaXVzID0gMTA7XHJcbiAgICBjb25zdCBpbml0aWFsSW5uZXJSYWRpdXMgPSAxMDtcclxuICAgIGNvbnN0IG1heFJhZGl1cyA9IDYwO1xyXG4gICAgbGV0IGluY3JlbWVudCA9IDAuNTtcclxuICAgIGxldCBvdXRlclJhZGl1cyA9IGluaXRpYWxPdXRlclJhZGl1cztcclxuICAgIGxldCBpbm5lclJhZGl1cyA9IGluaXRpYWxJbm5lclJhZGl1cztcclxuICAgIGZ1bmN0aW9uIGRyYXdSaXBwbGUoeCwgeSwgcmVzdGFydCkge1xyXG4gICAgICAgIGlmIChyZXN0YXJ0KSB7XHJcbiAgICAgICAgICAgIG91dGVyUmFkaXVzID0gMDtcclxuICAgICAgICAgICAgaW5uZXJSYWRpdXMgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjZW50ZXJYID0geDtcclxuICAgICAgICBjZW50ZXJZID0geTtcclxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY3R4LmFyYyhjZW50ZXJYLCBjZW50ZXJZLCBvdXRlclJhZGl1cywgMCwgMiAqIE1hdGguUEkpO1xyXG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IFwid2hpdGVcIjtcclxuICAgICAgICBjdHgubGluZVdpZHRoID0gMjtcclxuICAgICAgICBjdHguc3Ryb2tlKCk7XHJcbiAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xyXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBjdHguYXJjKGNlbnRlclgsIGNlbnRlclksIGlubmVyUmFkaXVzLCAwLCAyICogTWF0aC5QSSk7XHJcbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gXCJ3aGl0ZVwiO1xyXG4gICAgICAgIGN0eC5saW5lV2lkdGggPSAyO1xyXG4gICAgICAgIGN0eC5zdHJva2UoKTtcclxuICAgICAgICBjdHguY2xvc2VQYXRoKCk7XHJcbiAgICAgICAgb3V0ZXJSYWRpdXMgKz0gaW5jcmVtZW50O1xyXG4gICAgICAgIGlubmVyUmFkaXVzICs9IGluY3JlbWVudDtcclxuICAgICAgICBpZiAob3V0ZXJSYWRpdXMgPj0gbWF4UmFkaXVzIHx8IGlubmVyUmFkaXVzID49IG1heFJhZGl1cykge1xyXG4gICAgICAgICAgICBvdXRlclJhZGl1cyA9IGluaXRpYWxPdXRlclJhZGl1cztcclxuICAgICAgICAgICAgaW5uZXJSYWRpdXMgPSBpbml0aWFsSW5uZXJSYWRpdXM7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRyYXdSaXBwbGU7XHJcbn1cclxuIiwiY29uc3QgdXJsUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcclxuaW1wb3J0IHsgRGV2ZWxvcG1lbnRTZXJ2ZXIgfSBmcm9tIFwiLi9zcmMvY29tbW9uL2NvbW1vblwiO1xyXG5pbXBvcnQgeyBVdGlscyB9IGZyb20gXCIuL3NyYy9jb21tb24vdXRpbHNcIjtcclxuZXhwb3J0IHZhciBwc2V1ZG9JZCA9IHVybFBhcmFtcy5nZXQoXCJjcl91c2VyX2lkXCIpO1xyXG5leHBvcnQgdmFyIGxhbmcgPSB1cmxQYXJhbXMuZ2V0KFwiY3JfbGFuZ1wiKSA9PSBudWxsID8gXCJlbmdsaXNoXCIgOiB1cmxQYXJhbXMuZ2V0KFwiY3JfbGFuZ1wiKTtcclxuZXhwb3J0IGNvbnN0IGZvbnQgPSBVdGlscy5nZXRMYW5ndWFnZVNwZWNpZmljRm9udChsYW5nKTtcclxuZXhwb3J0IGNvbnN0IERlYnVnZ2VyID0ge1xyXG4gICAgRGV2ZWxvcG1lbnRMaW5rOiB3aW5kb3cubG9jYXRpb24uaHJlZi5pbmNsdWRlcyhEZXZlbG9wbWVudFNlcnZlcilcclxuICAgICAgICA/IHRydWVcclxuICAgICAgICA6IGZhbHNlLFxyXG4gICAgRGVidWdNb2RlOiBmYWxzZSxcclxufTtcclxud2luZG93LmZlZWRiYWNrVGV4dFdvcmtlclBhdGggPSAnLi93b3JrZXJzL2ZlZWRiYWNrLXRleHQtd29ya2VyLmpzJztcclxuIiwiaW1wb3J0IHsgbGFuZyB9IGZyb20gXCIuLi8uLi9nbG9iYWwtdmFyaWFibGVzXCI7XHJcbmNvbnN0IFVSTCA9IFwiLi9sYW5nL1wiICsgbGFuZyArIFwiL2Z0bV9cIiArIGxhbmcgKyBcIi5qc29uXCI7XHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRGdG1EYXRhKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKFVSTCwge1xyXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICAgIH0sXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHJlcy5qc29uKCkudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgfSkpO1xyXG59XHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXREYXRhKCkge1xyXG4gICAgLy8gbGV0IGQgPSB7XHJcbiAgICAvLyAgICAgXCJPdGhlckF1ZGlvc1wiOiBudWxsLFxyXG4gICAgLy8gICAgIFwiRmVlZGJhY2tUZXh0c1wiOiBudWxsLFxyXG4gICAgLy8gICAgIFwiTGV2ZWxzXCI6IG51bGwsXHJcbiAgICAvLyAgICAgXCJGZWVkYmFja0F1ZGlvc1wiOiBudWxsLFxyXG4gICAgLy8gICAgIFwiUmlnaHRUb0xlZnRcIjogbnVsbFxyXG4gICAgLy8gfVxyXG4gICAgcmV0dXJuIGF3YWl0IGdldEZ0bURhdGEoKTtcclxufVxyXG4iLCJleHBvcnQgY2xhc3MgRGF0YU1vZGFsIHtcclxuICAgIHRpdGxlO1xyXG4gICAgb3RoZXJBdWRpb3M7XHJcbiAgICBsZXZlbHM7XHJcbiAgICBGZWVkYmFja1RleHRzO1xyXG4gICAgRmVlZGJhY2tBdWRpb3M7XHJcbiAgICByaWdodFRvTGVmdDtcclxuICAgIG1halZlcnNpb247XHJcbiAgICBtaW5WZXJzaW9uO1xyXG4gICAgdmVyc2lvbjtcclxuICAgIGNvbnN0cnVjdG9yKHRpdGxlLCBvdGhlckF1ZGlvcywgbGV2ZWxzLCBmZWVkYmFja1RleHRzLCByaWdodFRvTGVmdCwgZmVlZGJhY2tBdWRpb3MsIG1halZlcnNpb24sIG1pblZlcnNpb24sIHZlcnNpb24pIHtcclxuICAgICAgICB0aGlzLnRpdGxlID0gdGl0bGU7XHJcbiAgICAgICAgdGhpcy5vdGhlckF1ZGlvcyA9IG5ldyBPdGhlckF1ZGlvcyhvdGhlckF1ZGlvcyk7XHJcbiAgICAgICAgdGhpcy5sZXZlbHMgPSB0aGlzLmdldExldmVscyhsZXZlbHMpO1xyXG4gICAgICAgIHRoaXMuRmVlZGJhY2tUZXh0cyA9IG5ldyBGZWVkYmFja1RleHRzKGZlZWRiYWNrVGV4dHMpO1xyXG4gICAgICAgIHRoaXMuRmVlZGJhY2tBdWRpb3MgPSBuZXcgRmVlZGJhY2tBdWRpb3MoZmVlZGJhY2tBdWRpb3MpO1xyXG4gICAgICAgIHRoaXMucmlnaHRUb0xlZnQgPSByaWdodFRvTGVmdDtcclxuICAgICAgICB0aGlzLm1halZlcnNpb24gPSBtYWpWZXJzaW9uO1xyXG4gICAgICAgIHRoaXMubWluVmVyc2lvbiA9IG1pblZlcnNpb247XHJcbiAgICAgICAgdGhpcy52ZXJzaW9uID0gdmVyc2lvbjtcclxuICAgIH1cclxuICAgIGdldExldmVscyhsZXZlbHMpIHtcclxuICAgICAgICBsZXQgbGV2ZWxBcnJheSA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGV2ZWxzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldmVsQXJyYXkucHVzaChuZXcgTGV2ZWxzKGxldmVsc1tpXSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbGV2ZWxBcnJheTtcclxuICAgIH1cclxufVxyXG5leHBvcnQgY2xhc3MgT3RoZXJBdWRpb3Mge1xyXG4gICAgc2VsY3RZb3VyUGxheWVyO1xyXG4gICAgd2F0Y2hNZUdyb3c7XHJcbiAgICBhcmVZb3VTdXJlO1xyXG4gICAgY29uc3RydWN0b3Iob3RoZXJBdWRpb3MpIHtcclxuICAgICAgICB0aGlzLnNlbGN0WW91clBsYXllciA9IG90aGVyQXVkaW9zW1wiU2VsZWN0IHlvdXIgcGxheWVyXCJdO1xyXG4gICAgICAgIHRoaXMud2F0Y2hNZUdyb3cgPSBvdGhlckF1ZGlvc1tcIldhdGNoIG1lIGdyb3dcIl07XHJcbiAgICAgICAgdGhpcy5hcmVZb3VTdXJlID0gb3RoZXJBdWRpb3NbXCJBcmUgeW91IHN1cmVcIl07XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGNsYXNzIEZlZWRiYWNrVGV4dHMge1xyXG4gICAgZmFudGFzdGljO1xyXG4gICAgZ3JlYXQ7XHJcbiAgICBhbWF6aW5nO1xyXG4gICAgY29uc3RydWN0b3IoZmVlZGJhY2tUZXh0cykge1xyXG4gICAgICAgIGlmIChmZWVkYmFja1RleHRzLmxlbmd0aCA+PSAxKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZmFudGFzdGljID0gZmVlZGJhY2tUZXh0c1swXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGZlZWRiYWNrVGV4dHMubGVuZ3RoID49IDIpIHtcclxuICAgICAgICAgICAgdGhpcy5ncmVhdCA9IGZlZWRiYWNrVGV4dHNbMV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChmZWVkYmFja1RleHRzLmxlbmd0aCA+PSAzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYW1hemluZyA9IGZlZWRiYWNrVGV4dHNbMl07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBjbGFzcyBGZWVkYmFja0F1ZGlvcyB7XHJcbiAgICBmYW50YXN0aWM7XHJcbiAgICBncmVhdDtcclxuICAgIGFtYXppbmc7XHJcbiAgICBjb25zdHJ1Y3RvcihmZWVkYmFja0F1ZGlvcykge1xyXG4gICAgICAgIGlmIChmZWVkYmFja0F1ZGlvcy5sZW5ndGggPj0gMSkge1xyXG4gICAgICAgICAgICB0aGlzLmZhbnRhc3RpYyA9IGZlZWRiYWNrQXVkaW9zWzBdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZmVlZGJhY2tBdWRpb3MubGVuZ3RoID49IDIpIHtcclxuICAgICAgICAgICAgdGhpcy5ncmVhdCA9IGZlZWRiYWNrQXVkaW9zWzFdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZmVlZGJhY2tBdWRpb3MubGVuZ3RoID49IDMpIHtcclxuICAgICAgICAgICAgdGhpcy5hbWF6aW5nID0gZmVlZGJhY2tBdWRpb3NbMl07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBjbGFzcyBMZXZlbHMge1xyXG4gICAgcHV6emxlcztcclxuICAgIGxldmVsTWV0YTtcclxuICAgIGxldmVsTnVtYmVyO1xyXG4gICAgY29uc3RydWN0b3IobGV2ZWxzKSB7XHJcbiAgICAgICAgdGhpcy5wdXp6bGVzID0gdGhpcy5nZXRQdXp6bGVEYXRhKGxldmVscyk7XHJcbiAgICAgICAgdGhpcy5sZXZlbE1ldGEgPSBuZXcgTGV2ZWxNZXRhKGxldmVscy5MZXZlbE1ldGEpO1xyXG4gICAgICAgIHRoaXMubGV2ZWxOdW1iZXIgPSBsZXZlbHMuTGV2ZWxOdW1iZXI7XHJcbiAgICB9XHJcbiAgICBnZXRQdXp6bGVEYXRhKGxldmVscykge1xyXG4gICAgICAgIGxldCBwdXp6bGVPYmplY3RzID0gW107XHJcbiAgICAgICAgbGV2ZWxzLlB1enpsZXMubWFwKChwdXp6bGVEYXRhLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICBwdXp6bGVPYmplY3RzLnB1c2gobmV3IFB1enpsZXMocHV6emxlRGF0YSkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBwdXp6bGVPYmplY3RzO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBjbGFzcyBQdXp6bGVzIHtcclxuICAgIHNlZ21lbnROdW1iZXI7XHJcbiAgICBwcm9tcHQ7XHJcbiAgICBmb2lsU3RvbmVzO1xyXG4gICAgdGFyZ2V0U3RvbmVzO1xyXG4gICAgY29uc3RydWN0b3IocHV6emxlKSB7XHJcbiAgICAgICAgdGhpcy5zZWdtZW50TnVtYmVyID0gcHV6emxlLlNlZ21lbnROdW1iZXI7XHJcbiAgICAgICAgdGhpcy5wcm9tcHQgPSBuZXcgUHJvbXB0KHB1enpsZS5wcm9tcHQpO1xyXG4gICAgICAgIHRoaXMuZm9pbFN0b25lcyA9IHRoaXMuZ2V0Rm9pbFN0b25lcyhwdXp6bGUpO1xyXG4gICAgICAgIHRoaXMudGFyZ2V0U3RvbmVzID0gdGhpcy5nZXRUYXJnZXRTdG9uZXMocHV6emxlKTtcclxuICAgIH1cclxuICAgIGdldEZvaWxTdG9uZXMocHV6emxlKSB7XHJcbiAgICAgICAgbGV0IGZvaWxTdG9uZUFycmF5ID0gW107XHJcbiAgICAgICAgcHV6emxlLmZvaWxzdG9uZXMubWFwKChzdG9uZXMsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIGZvaWxTdG9uZUFycmF5LnB1c2goc3RvbmVzLlN0b25lVGV4dCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGZvaWxTdG9uZUFycmF5O1xyXG4gICAgfVxyXG4gICAgZ2V0VGFyZ2V0U3RvbmVzKHB1enpsZSkge1xyXG4gICAgICAgIGxldCB0YXJnZXRTdG9uZUFycmF5ID0gW107XHJcbiAgICAgICAgcHV6emxlLnRhcmdldHN0b25lcy5tYXAoKHN0b25lcywgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgdGFyZ2V0U3RvbmVBcnJheS5wdXNoKHN0b25lcy5TdG9uZVRleHQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB0YXJnZXRTdG9uZUFycmF5O1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBjbGFzcyBGb2lsU3RvbmUge1xyXG4gICAgc3RvbmVUZXh0O1xyXG4gICAgY29uc3RydWN0b3Ioc3RvbmVUZXh0KSB7XHJcbiAgICAgICAgdGhpcy5zdG9uZVRleHQgPSBzdG9uZVRleHQ7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGNsYXNzIFRhcmdldFN0b25lIHtcclxuICAgIHN0b25lVGV4dDtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuc3RvbmVUZXh0O1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBjbGFzcyBQcm9tcHQge1xyXG4gICAgcHJvbXB0VGV4dDtcclxuICAgIHByb21wdEF1ZGlvO1xyXG4gICAgY29uc3RydWN0b3IocHJvbXB0KSB7XHJcbiAgICAgICAgdGhpcy5wcm9tcHRUZXh0ID0gcHJvbXB0LlByb21wdFRleHQ7XHJcbiAgICAgICAgdGhpcy5wcm9tcHRBdWRpbyA9IHByb21wdC5Qcm9tcHRBdWRpbztcclxuICAgIH1cclxufVxyXG5leHBvcnQgY2xhc3MgTGV2ZWxNZXRhIHtcclxuICAgIHByb21wdEZhZGVPdXQ7XHJcbiAgICBsZXR0ZXJHcm91cDtcclxuICAgIGxldmVsTnVtYmVyO1xyXG4gICAgcHJvdG9UeXBlO1xyXG4gICAgbGV2ZWxUeXBlO1xyXG4gICAgY29uc3RydWN0b3IobGV2ZWxNZXRhKSB7XHJcbiAgICAgICAgdGhpcy5wcm9tcHRGYWRlT3V0ID0gbGV2ZWxNZXRhLlByb21wdEZhZGVvdXQ7XHJcbiAgICAgICAgdGhpcy5sZXR0ZXJHcm91cCA9IGxldmVsTWV0YS5MZXR0ZXJHcm91cDtcclxuICAgICAgICB0aGlzLmxldmVsTnVtYmVyID0gbGV2ZWxNZXRhLkxldmVsTnVtYmVyO1xyXG4gICAgICAgIHRoaXMucHJvdG9UeXBlID0gbGV2ZWxNZXRhLlByb21wdFR5cGU7XHJcbiAgICAgICAgdGhpcy5sZXZlbFR5cGUgPSBsZXZlbE1ldGEuTGV2ZWxUeXBlO1xyXG4gICAgfVxyXG59XHJcbiIsIi8vIGN1c3RvbSBFdmVudHNcclxuZXhwb3J0IGNvbnN0IExPQURQVVpaTEUgPSBcImxvYWRwdXp6bGVcIjtcclxuZXhwb3J0IGNvbnN0IFNUT05FRFJPUCA9IFwic3RvbmVzZHJvcHBlZFwiO1xyXG4vLyBkZWZhdWx0IEV2ZW50c1xyXG5leHBvcnQgY29uc3QgTU9VU0VNT1ZFID0gXCJtb3VzZW1vdmVcIjtcclxuZXhwb3J0IGNvbnN0IE1PVVNFRE9XTiA9IFwibW91c2Vkb3duXCI7XHJcbmV4cG9ydCBjb25zdCBNT1VTRVVQID0gXCJtb3VzZXVwXCI7XHJcbmV4cG9ydCBjb25zdCBUT1VDSFNUQVJUID0gXCJ0b3VjaHN0YXJ0XCI7XHJcbmV4cG9ydCBjb25zdCBUT1VDSE1PVkUgPSBcInRvdWNobW92ZVwiO1xyXG5leHBvcnQgY29uc3QgVE9VQ0hFTkQgPSBcInRvdWNoZW5kXCI7XHJcbmV4cG9ydCBjb25zdCBDTElDSyA9IFwiY2xpY2tcIjtcclxuZXhwb3J0IGNvbnN0IFZJU0lCSUxJVFlfQ0hBTkdFID0gXCJ2aXNpYmlsaXR5Y2hhbmdlXCI7XHJcbiIsImltcG9ydCB7IExPQURQVVpaTEUsIFNUT05FRFJPUCB9IGZyb20gXCIuLi9jb21tb24vZXZlbnQtbmFtZXNcIjtcclxuZXhwb3J0IGNsYXNzIEV2ZW50TWFuYWdlciB7XHJcbiAgICBoYW5kbGVyO1xyXG4gICAgc3RvbmVEcm9wQ2FsbGJhY2tIYW5kbGVyO1xyXG4gICAgbG9hZFB1enpsZUNhbGxiYWNrSGFuZGxlcjtcclxuICAgIGNvbnN0cnVjdG9yKGhhbmRsZXIpIHtcclxuICAgICAgICB0aGlzLmhhbmRsZXIgPSBoYW5kbGVyO1xyXG4gICAgICAgIHRoaXMuc3RvbmVEcm9wQ2FsbGJhY2tIYW5kbGVyID0gaGFuZGxlci5zdG9uZURyb3BDYWxsYmFja0hhbmRsZXI7XHJcbiAgICAgICAgdGhpcy5sb2FkUHV6emxlQ2FsbGJhY2tIYW5kbGVyID0gaGFuZGxlci5sb2FkUHV6emxlQ2FsbGJhY2tIYW5kbGVyO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoU1RPTkVEUk9QLCB0aGlzLmhhbmRsZVN0b25lRHJvcHBlZEV2ZW50LCBmYWxzZSk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihMT0FEUFVaWkxFLCB0aGlzLmhhbmRsZUxvYWRQdXp6bGVFdmVudCwgZmFsc2UpO1xyXG4gICAgfVxyXG4gICAgaGFuZGxlU3RvbmVEcm9wcGVkRXZlbnQgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICB0aGlzLnN0b25lRHJvcENhbGxiYWNrSGFuZGxlcihldmVudCk7XHJcbiAgICB9O1xyXG4gICAgaGFuZGxlTG9hZFB1enpsZUV2ZW50ID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgdGhpcy5sb2FkUHV6emxlQ2FsbGJhY2tIYW5kbGVyKGV2ZW50KTtcclxuICAgIH07XHJcbiAgICB1bnJlZ2lzdGVyRXZlbnRMaXN0ZW5lciA9ICgpID0+IHtcclxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFNUT05FRFJPUCwgdGhpcy5oYW5kbGVTdG9uZURyb3BwZWRFdmVudCwgZmFsc2UpO1xyXG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoTE9BRFBVWlpMRSwgdGhpcy5oYW5kbGVMb2FkUHV6emxlRXZlbnQsIGZhbHNlKTtcclxuICAgIH07XHJcbn1cclxuIiwiaW1wb3J0IHsgbG9hZEltYWdlcywgfSBmcm9tIFwiLi4vY29tbW9uL2NvbW1vblwiO1xyXG5pbXBvcnQgeyBFdmVudE1hbmFnZXIgfSBmcm9tIFwiLi4vZXZlbnRzL0V2ZW50TWFuYWdlclwiO1xyXG5leHBvcnQgY2xhc3MgTW9uc3RlciBleHRlbmRzIEV2ZW50TWFuYWdlciB7XHJcbiAgICB6aW5kZXg7XHJcbiAgICB3aWR0aDtcclxuICAgIGhlaWdodDtcclxuICAgIGltYWdlO1xyXG4gICAgZnJhbWVYO1xyXG4gICAgZnJhbWVZO1xyXG4gICAgbWF4RnJhbWU7XHJcbiAgICB4O1xyXG4gICAgeTtcclxuICAgIGZwcztcclxuICAgIGNvdW50RnJhbWU7XHJcbiAgICBmcmFtZUludGVydmFsO1xyXG4gICAgZnJhbWVUaW1lcjtcclxuICAgIGNhbnZhc1N0YWNrO1xyXG4gICAgY2FuYXZzRWxlbWVudDtcclxuICAgIGNvbnRleHQ7XHJcbiAgICBnYW1lO1xyXG4gICAgaW1hZ2VzO1xyXG4gICAgbG9hZGVkSW1hZ2VzO1xyXG4gICAgaW1hZ2VzTG9hZGVkID0gZmFsc2U7XHJcbiAgICBtb25zdGVyUGhhc2U7XHJcbiAgICBjb25zdHJ1Y3RvcihnYW1lLCBtb25zdGVyUGhhc2UsIGNhbGxCYWNrRnVuY3Rpb24pIHtcclxuICAgICAgICBzdXBlcih7XHJcbiAgICAgICAgICAgIHN0b25lRHJvcENhbGxiYWNrSGFuZGxlcjogKGV2ZW50KSA9PiB0aGlzLmhhbmRsZVN0b25lRHJvcChldmVudCksXHJcbiAgICAgICAgICAgIGxvYWRQdXp6bGVDYWxsYmFja0hhbmRsZXI6IChldmVudCkgPT4gdGhpcy5oYW5kbGVMb2FkUHV6emxlKGV2ZW50KSxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmdhbWUgPSBnYW1lO1xyXG4gICAgICAgIHRoaXMubW9uc3RlclBoYXNlID0gbW9uc3RlclBoYXNlO1xyXG4gICAgICAgIHRoaXMud2lkdGggPSB0aGlzLmdhbWUud2lkdGg7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLmdhbWUuaGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuY2FuYXZzRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FudmFzXCIpO1xyXG4gICAgICAgIHRoaXMuY29udGV4dCA9IHRoaXMuY2FuYXZzRWxlbWVudC5nZXRDb250ZXh0KFwiMmRcIik7XHJcbiAgICAgICAgdGhpcy5pbWFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibW9uc3RlclwiKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmltYWdlKTtcclxuICAgICAgICB0aGlzLmZyYW1lWCA9IDA7XHJcbiAgICAgICAgdGhpcy5mcmFtZVkgPSAwO1xyXG4gICAgICAgIHRoaXMubWF4RnJhbWUgPSA2O1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuZ2FtZSk7XHJcbiAgICAgICAgdGhpcy54ID0gdGhpcy5nYW1lLndpZHRoIC8gMiAtIHRoaXMuZ2FtZS53aWR0aCAqIDAuMjQzO1xyXG4gICAgICAgIHRoaXMueSA9IHRoaXMuZ2FtZS53aWR0aCAvIDM7XHJcbiAgICAgICAgdGhpcy5mcHMgPSAxMDtcclxuICAgICAgICB0aGlzLmNvdW50RnJhbWUgPSAwO1xyXG4gICAgICAgIHRoaXMuZnJhbWVJbnRlcnZhbCA9IDEwMDAgLyB0aGlzLmZwcztcclxuICAgICAgICB0aGlzLmZyYW1lVGltZXIgPSAwO1xyXG4gICAgICAgIHRoaXMuaW1hZ2VzID0ge1xyXG4gICAgICAgICAgICBlYXRJbWc6IFwiLi9hc3NldHMvaW1hZ2VzL2VhdDFcIiArIHRoaXMubW9uc3RlclBoYXNlICsgXCIucG5nXCIsXHJcbiAgICAgICAgICAgIGlkbGVJbWc6IFwiLi9hc3NldHMvaW1hZ2VzL2lkbGUxXCIgKyB0aGlzLm1vbnN0ZXJQaGFzZSArIFwiLnBuZ1wiLFxyXG4gICAgICAgICAgICBzcGl0SW1nOiBcIi4vYXNzZXRzL2ltYWdlcy9zcGl0MVwiICsgdGhpcy5tb25zdGVyUGhhc2UgKyBcIi5wbmdcIixcclxuICAgICAgICAgICAgZHJhZ0ltZzogXCIuL2Fzc2V0cy9pbWFnZXMvZHJhZzFcIiArIHRoaXMubW9uc3RlclBoYXNlICsgXCIucG5nXCIsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBsb2FkSW1hZ2VzKHRoaXMuaW1hZ2VzLCAoaW1hZ2VzKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZGVkSW1hZ2VzID0gT2JqZWN0LmFzc2lnbih7fSwgaW1hZ2VzKTtcclxuICAgICAgICAgICAgdGhpcy5jaGFuZ2VUb0lkbGVBbmltYXRpb24oKTtcclxuICAgICAgICAgICAgdGhpcy5pbWFnZXNMb2FkZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAoY2FsbEJhY2tGdW5jdGlvbikge1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5pbWFnZXNMb2FkZWQpO1xyXG4gICAgICAgICAgICAgICAgY2FsbEJhY2tGdW5jdGlvbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoZGVsdGFUaW1lKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZnJhbWVUaW1lciA+PSB0aGlzLmZyYW1lSW50ZXJ2YWwpIHtcclxuICAgICAgICAgICAgdGhpcy5mcmFtZVRpbWVyID0gMDtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZnJhbWVYIDwgdGhpcy5tYXhGcmFtZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5mcmFtZVgrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZnJhbWVYID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5mcmFtZVRpbWVyICs9IGRlbHRhVGltZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5kcmF3KCk7XHJcbiAgICB9XHJcbiAgICBkcmF3KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmltYWdlc0xvYWRlZCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMuaW1hZ2UsIDc3MCAqIHRoaXMuZnJhbWVYLCAxMzg2ICogdGhpcy5mcmFtZVksIDc2OCwgMTM4NiwgdGhpcy54ICogMC41LCB0aGlzLnkgKiAwLjEsICh0aGlzLndpZHRoIC8gMikgKiAxLjUsICh0aGlzLmhlaWdodCAvIDEuNSkgKiAxLjUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNoYW5nZUltYWdlKHNyYykge1xyXG4gICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gc3JjO1xyXG4gICAgfVxyXG4gICAgY2hhbmdlVG9EcmFnQW5pbWF0aW9uKCkge1xyXG4gICAgICAgIHRoaXMubWF4RnJhbWUgPSA2O1xyXG4gICAgICAgIHRoaXMuaW1hZ2UgPSB0aGlzLmxvYWRlZEltYWdlcy5kcmFnSW1nO1xyXG4gICAgfVxyXG4gICAgY2hhbmdlVG9FYXRBbmltYXRpb24oKSB7XHJcbiAgICAgICAgdGhpcy5tYXhGcmFtZSA9IDEyO1xyXG4gICAgICAgIHRoaXMuaW1hZ2UgPSB0aGlzLmxvYWRlZEltYWdlcy5lYXRJbWc7XHJcbiAgICB9XHJcbiAgICBjaGFuZ2VUb0lkbGVBbmltYXRpb24oKSB7XHJcbiAgICAgICAgdGhpcy5tYXhGcmFtZSA9IDY7XHJcbiAgICAgICAgdGhpcy5pbWFnZSA9IHRoaXMubG9hZGVkSW1hZ2VzLmlkbGVJbWc7XHJcbiAgICB9XHJcbiAgICBjaGFuZ2VUb1NwaXRBbmltYXRpb24oKSB7XHJcbiAgICAgICAgdGhpcy5tYXhGcmFtZSA9IDEyO1xyXG4gICAgICAgIHRoaXMuaW1hZ2UgPSB0aGlzLmxvYWRlZEltYWdlcy5zcGl0SW1nO1xyXG4gICAgfVxyXG4gICAgaGFuZGxlU3RvbmVEcm9wKGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKGV2ZW50LmRldGFpbC5pc0NvcnJlY3QpIHtcclxuICAgICAgICAgICAgdGhpcy5jaGFuZ2VUb0VhdEFuaW1hdGlvbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5jaGFuZ2VUb1NwaXRBbmltYXRpb24oKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBoYW5kbGVMb2FkUHV6emxlKGV2ZW50KSB7XHJcbiAgICAgICAgdGhpcy5jaGFuZ2VUb0lkbGVBbmltYXRpb24oKTtcclxuICAgIH1cclxuICAgIGRpc3Bvc2UoKSB7XHJcbiAgICAgICAgdGhpcy51bnJlZ2lzdGVyRXZlbnRMaXN0ZW5lcigpO1xyXG4gICAgfVxyXG4gICAgb25DbGljayh4Q2xpY2ssIHlDbGljaykge1xyXG4gICAgICAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5zcXJ0KCh4Q2xpY2sgLSB0aGlzLnggLSB0aGlzLndpZHRoIC8gNCkgKiAoeENsaWNrIC0gdGhpcy54IC0gdGhpcy53aWR0aCAvIDQpICtcclxuICAgICAgICAgICAgKHlDbGljayAtIHRoaXMueSAtIHRoaXMuaGVpZ2h0IC8gMi4yKSAqXHJcbiAgICAgICAgICAgICAgICAoeUNsaWNrIC0gdGhpcy55IC0gdGhpcy5oZWlnaHQgLyAyLjIpKTtcclxuICAgICAgICBpZiAoZGlzdGFuY2UgPD0gMTAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBsb2FkSW1hZ2VzIH0gZnJvbSBcIi4uL2NvbW1vbi9jb21tb25cIjtcclxuLy8gdG8gZG8gbmVlZCB0byBvcHRpbWl6ZSBtb3JlXHJcbnZhciBpbWFnZXMgPSB7XHJcbiAgICBiZ0ltZzogXCIuL2Fzc2V0cy9pbWFnZXMvYmdfdjAxLmpwZ1wiLFxyXG4gICAgaGlsbEltZzogXCIuL2Fzc2V0cy9pbWFnZXMvaGlsbF92MDEucG5nXCIsXHJcbiAgICBwaWxsZXJJbWc6IFwiLi9hc3NldHMvaW1hZ2VzL1RvdGVtX3YwMl92MDEucG5nXCIsXHJcbiAgICBmZW5jaEltZzogXCIuL2Fzc2V0cy9pbWFnZXMvZmVuY2VfdjAxLnBuZ1wiLFxyXG4gICAgYXV0dW1uQmdJbWc6IFwiLi9hc3NldHMvaW1hZ2VzL0F1dHVtbl9iZ192MDEuanBnXCIsXHJcbiAgICBhdXR1bW5IaWxsSW1nOiBcIi4vYXNzZXRzL2ltYWdlcy9BdXR1bW5faGlsbF92MDEucG5nXCIsXHJcbiAgICBhdXR1bW5QaWxsZXJJbWc6IFwiLi9hc3NldHMvaW1hZ2VzL0F1dHVtbl9zaWduX3YwMS5wbmdcIixcclxuICAgIGF1dHVtblNpZ25JbWc6IFwiLi9hc3NldHMvaW1hZ2VzL0F1dHVtbl9zaWduX3YwMS5wbmdcIixcclxuICAgIGF1dHVtbkZlbmNlSW1nOiBcIi4vYXNzZXRzL2ltYWdlcy9BdXR1bW5fZmVuY2VfdjAxLnBuZ1wiLFxyXG4gICAgd2ludGVyQmdJbWc6IFwiLi9hc3NldHMvaW1hZ2VzL1dpbnRlcl9iZ18wMS5qcGdcIixcclxuICAgIHdpbnRlckhpbGxJbWc6IFwiLi9hc3NldHMvaW1hZ2VzL1dpbnRlcl9oaWxsX3YwMS5wbmdcIixcclxuICAgIHdpbnRlclNpZ25JbWc6IFwiLi9hc3NldHMvaW1hZ2VzL1dpbnRlcl9zaWduX3YwMS5wbmdcIixcclxuICAgIHdpbnRlckZlbmNlSW1nOiBcIi4vYXNzZXRzL2ltYWdlcy9XaW50ZXJfZmVuY2VfdjAxLnBuZ1wiLFxyXG4gICAgd2ludGVyUGlsbGVySW1nOiBcIi4vYXNzZXRzL2ltYWdlcy9XaW50ZXJfc2lnbl92MDEucG5nXCIsXHJcbn07XHJcbmV4cG9ydCBjbGFzcyBCYWNrZ3JvdW5kIHtcclxuICAgIHdpZHRoO1xyXG4gICAgaGVpZ2h0O1xyXG4gICAgY29udGV4dDtcclxuICAgIGltYWdlc0xvYWRlZCA9IGZhbHNlO1xyXG4gICAgbG9hZGVkSW1hZ2VzO1xyXG4gICAgbGV2ZWxOdW1iZXI7XHJcbiAgICBhdmFpbGFibGVCYWNrZ3JvdW5kVHlwZXMgPSBbXCJTdW1tZXJcIiwgXCJBdXR1bW5cIiwgXCJXaW50ZXJcIl07XHJcbiAgICBiYWNrZ3JvdW5kVHlwZTtcclxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQsIHdpZHRoLCBoZWlnaHQsIGxldmVsTnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xyXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XHJcbiAgICAgICAgdGhpcy5sZXZlbE51bWJlciA9IGxldmVsTnVtYmVyO1xyXG4gICAgICAgIHRoaXMuYmFja2dyb3VuZFR5cGUgPVxyXG4gICAgICAgICAgICBNYXRoLmZsb29yKHRoaXMubGV2ZWxOdW1iZXIgLyAxMCkgJVxyXG4gICAgICAgICAgICAgICAgdGhpcy5hdmFpbGFibGVCYWNrZ3JvdW5kVHlwZXMubGVuZ3RoO1xyXG4gICAgICAgIGlmICh0aGlzLmxldmVsTnVtYmVyID49IDMwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYmFja2dyb3VuZFR5cGUgPSB0aGlzLmJhY2tncm91bmRUeXBlICUgMztcclxuICAgICAgICB9XHJcbiAgICAgICAgbG9hZEltYWdlcyhpbWFnZXMsIChpbWFnZXMpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5sb2FkZWRJbWFnZXMgPSBPYmplY3QuYXNzaWduKHt9LCBpbWFnZXMpO1xyXG4gICAgICAgICAgICB0aGlzLmltYWdlc0xvYWRlZCA9IHRydWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBkcmF3KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmltYWdlc0xvYWRlZCkge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuYXZhaWxhYmxlQmFja2dyb3VuZFR5cGVzW3RoaXMuYmFja2dyb3VuZFR5cGVdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiV2ludGVyXCI6XHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMubG9hZGVkSW1hZ2VzLndpbnRlckJnSW1nLCAwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5sb2FkZWRJbWFnZXMud2ludGVyUGlsbGVySW1nLCB0aGlzLndpZHRoICogMC4zOCwgdGhpcy5oZWlnaHQgLyA2LCB0aGlzLndpZHRoIC8gMS4yLCB0aGlzLmhlaWdodCAvIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMubG9hZGVkSW1hZ2VzLndpbnRlckZlbmNlSW1nLCAtdGhpcy53aWR0aCAqIDAuNCwgdGhpcy5oZWlnaHQgLyA0LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCAvIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMubG9hZGVkSW1hZ2VzLndpbnRlckhpbGxJbWcsIC10aGlzLndpZHRoICogMC4yNSwgdGhpcy5oZWlnaHQgLyAyLCB0aGlzLndpZHRoICogMS41LCB0aGlzLmhlaWdodCAvIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJBdXR1bW5cIjpcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5sb2FkZWRJbWFnZXMuYXV0dW1uQmdJbWcsIDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZSh0aGlzLmxvYWRlZEltYWdlcy5hdXR1bW5QaWxsZXJJbWcsIHRoaXMud2lkdGggKiAwLjM4LCB0aGlzLmhlaWdodCAvIDYsIHRoaXMud2lkdGggLyAxLjIsIHRoaXMuaGVpZ2h0IC8gMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5sb2FkZWRJbWFnZXMuYXV0dW1uRmVuY2VJbWcsIC10aGlzLndpZHRoICogMC40LCB0aGlzLmhlaWdodCAvIDQsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0IC8gMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5sb2FkZWRJbWFnZXMuYXV0dW1uSGlsbEltZywgLXRoaXMud2lkdGggKiAwLjI1LCB0aGlzLmhlaWdodCAvIDIsIHRoaXMud2lkdGggKiAxLjUsIHRoaXMuaGVpZ2h0IC8gMik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5sb2FkZWRJbWFnZXMuYmdJbWcsIDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZSh0aGlzLmxvYWRlZEltYWdlcy5waWxsZXJJbWcsIHRoaXMud2lkdGggKiAwLjYsIHRoaXMuaGVpZ2h0IC8gNiwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQgLyAyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZSh0aGlzLmxvYWRlZEltYWdlcy5mZW5jaEltZywgLXRoaXMud2lkdGggKiAwLjQsIHRoaXMuaGVpZ2h0IC8gMywgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQgLyAzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZSh0aGlzLmxvYWRlZEltYWdlcy5oaWxsSW1nLCAtdGhpcy53aWR0aCAqIDAuMjUsIHRoaXMuaGVpZ2h0IC8gMiwgdGhpcy53aWR0aCAqIDEuNSwgdGhpcy5oZWlnaHQgLyAyKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIEF1ZGlvUGxheWVyIHtcclxuICAgIGF1ZGlvQ29udGV4dDtcclxuICAgIHNvdXJjZU5vZGU7XHJcbiAgICBhdWRpb1F1ZXVlO1xyXG4gICAgcHJvbXB0QXVkaW9CdWZmZXI7XHJcbiAgICBzdGF0aWMgYXVkaW9CdWZmZXJzID0gbmV3IE1hcCgpO1xyXG4gICAgYXVkaW9Tb3VyY3MgPSBbXTtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuYXVkaW9Db250ZXh0ID0gQXVkaW9Db250ZXh0TWFuYWdlci5nZXRBdWRpb0NvbnRleHQoKTtcclxuICAgICAgICB0aGlzLnNvdXJjZU5vZGUgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuYXVkaW9RdWV1ZSA9IFtdO1xyXG4gICAgfVxyXG4gICAgYXN5bmMgcHJlbG9hZFByb21wdEF1ZGlvKGF1ZGlvU3JjKSB7XHJcbiAgICAgICAgY29uc3QgYXVkaW9CdWZmZXIgPSBhd2FpdCB0aGlzLmxvYWRBbmREZWNvZGVBdWRpbyhhdWRpb1NyYyk7XHJcbiAgICAgICAgaWYgKGF1ZGlvQnVmZmVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvbXB0QXVkaW9CdWZmZXIgPSBhdWRpb0J1ZmZlcjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBhc3luYyBwcmVsb2FkR2FtZUF1ZGlvKGF1ZGlvU3JjKSB7XHJcbiAgICAgICAgaWYgKEF1ZGlvUGxheWVyLmF1ZGlvQnVmZmVycy5oYXMoYXVkaW9TcmMpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgYXVkaW9CdWZmZXIgPSBhd2FpdCB0aGlzLmxvYWRBbmREZWNvZGVBdWRpbyhhdWRpb1NyYyk7XHJcbiAgICAgICAgaWYgKGF1ZGlvQnVmZmVyKSB7XHJcbiAgICAgICAgICAgIEF1ZGlvUGxheWVyLmF1ZGlvQnVmZmVycy5zZXQoYXVkaW9TcmMsIGF1ZGlvQnVmZmVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwbGF5QXVkaW8oYXVkaW9TcmMpIHtcclxuICAgICAgICBjb25zdCBhdWRpb0J1ZmZlciA9IEF1ZGlvUGxheWVyLmF1ZGlvQnVmZmVycy5nZXQoYXVkaW9TcmMpO1xyXG4gICAgICAgIGlmIChhdWRpb0J1ZmZlcikge1xyXG4gICAgICAgICAgICBjb25zdCBzb3VyY2VOb2RlID0gdGhpcy5hdWRpb0NvbnRleHQuY3JlYXRlQnVmZmVyU291cmNlKCk7XHJcbiAgICAgICAgICAgIHNvdXJjZU5vZGUuYnVmZmVyID0gYXVkaW9CdWZmZXI7XHJcbiAgICAgICAgICAgIHNvdXJjZU5vZGUuY29ubmVjdCh0aGlzLmF1ZGlvQ29udGV4dC5kZXN0aW5hdGlvbik7XHJcbiAgICAgICAgICAgIHRoaXMuYXVkaW9Tb3VyY3MucHVzaChzb3VyY2VOb2RlKTtcclxuICAgICAgICAgICAgc291cmNlTm9kZS5zdGFydCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHBsYXlGZWVkYmFja0F1ZGlvcyA9IChsb29wID0gZmFsc2UsIC4uLmZpbGVVcmwpID0+IHtcclxuICAgICAgICB0aGlzLmF1ZGlvUXVldWUgPSBmaWxlVXJsO1xyXG4gICAgICAgIGlmICh0aGlzLmF1ZGlvUXVldWUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLnBsYXlGZXRjaCgwLCBsb29wKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcGxheVByb21wdEF1ZGlvID0gKGF1ZGlvU3JjKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvbXB0QXVkaW9CdWZmZXIpIHtcclxuICAgICAgICAgICAgY29uc3Qgc291cmNlTm9kZSA9IHRoaXMuYXVkaW9Db250ZXh0LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO1xyXG4gICAgICAgICAgICBzb3VyY2VOb2RlLmJ1ZmZlciA9IHRoaXMucHJvbXB0QXVkaW9CdWZmZXI7XHJcbiAgICAgICAgICAgIHNvdXJjZU5vZGUuY29ubmVjdCh0aGlzLmF1ZGlvQ29udGV4dC5kZXN0aW5hdGlvbik7XHJcbiAgICAgICAgICAgIHRoaXMuYXVkaW9Tb3VyY3MucHVzaChzb3VyY2VOb2RlKTtcclxuICAgICAgICAgICAgc291cmNlTm9kZS5zdGFydCgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBwbGF5QnV0dG9uQ2xpY2tTb3VuZCA9IChhdWRpb1NyYykgPT4ge1xyXG4gICAgICAgIGNvbnN0IGF1ZGlvQnVmZmVyID0gQXVkaW9QbGF5ZXIuYXVkaW9CdWZmZXJzLmdldChhdWRpb1NyYyk7XHJcbiAgICAgICAgaWYgKGF1ZGlvQnVmZmVyKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZU5vZGUgPSB0aGlzLmF1ZGlvQ29udGV4dC5jcmVhdGVCdWZmZXJTb3VyY2UoKTtcclxuICAgICAgICAgICAgc291cmNlTm9kZS5idWZmZXIgPSBhdWRpb0J1ZmZlcjtcclxuICAgICAgICAgICAgc291cmNlTm9kZS5jb25uZWN0KHRoaXMuYXVkaW9Db250ZXh0LmRlc3RpbmF0aW9uKTtcclxuICAgICAgICAgICAgc291cmNlTm9kZS5zdGFydCgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBzdG9wRmVlZGJhY2tBdWRpbyA9ICgpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5zb3VyY2VOb2RlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc291cmNlTm9kZS5zdG9wKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc291cmNlTm9kZSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuYXVkaW9RdWV1ZSA9IFtdO1xyXG4gICAgfTtcclxuICAgIHN0b3BBbGxBdWRpb3MgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuc291cmNlTm9kZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNvdXJjZU5vZGUuc3RvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLnNvdXJjZU5vZGUgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmF1ZGlvUXVldWUgPSBbXTtcclxuICAgICAgICB0aGlzLmF1ZGlvU291cmNzLmZvckVhY2goKHNvdXJjZU5vZGUpID0+IHtcclxuICAgICAgICAgICAgc291cmNlTm9kZS5zdG9wKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hdWRpb1NvdXJjcyA9IFtdO1xyXG4gICAgfTtcclxuICAgIHBsYXlGZXRjaCA9IChpbmRleCwgbG9vcCkgPT4ge1xyXG4gICAgICAgIGlmIChpbmRleCA+PSB0aGlzLmF1ZGlvUXVldWUubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RvcEZlZWRiYWNrQXVkaW8oKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmZXRjaCh0aGlzLmF1ZGlvUXVldWVbaW5kZXhdKVxyXG4gICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHJlc3BvbnNlLmFycmF5QnVmZmVyKCkpXHJcbiAgICAgICAgICAgIC50aGVuKChidWZmZXIpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5hdWRpb0NvbnRleHQ/LmRlY29kZUF1ZGlvRGF0YShidWZmZXIsIChhdWRpb0J1ZmZlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VyY2VOb2RlID0gdGhpcy5hdWRpb0NvbnRleHQ/LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VyY2VOb2RlLmJ1ZmZlciA9IGF1ZGlvQnVmZmVyO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VyY2VOb2RlLmNvbm5lY3QodGhpcy5hdWRpb0NvbnRleHQ/LmRlc3RpbmF0aW9uKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc291cmNlTm9kZS5sb29wID0gbG9vcDtcclxuICAgICAgICAgICAgICAgIHRoaXMuc291cmNlTm9kZS5vbmVuZGVkID0gKCkgPT4gdGhpcy5oYW5kbGVBdWRpb0VuZGVkKGluZGV4LCBsb29wKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc291cmNlTm9kZS5zdGFydCgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBoYW5kbGVBdWRpb0VuZGVkID0gKGluZGV4LCBsb29wKSA9PiB7XHJcbiAgICAgICAgLy8gdGhpcy5zb3VyY2VOb2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLCB0aGlzLmhhbmRsZUF1ZGlvRW5kZWQsIGZhbHNlKTtcclxuICAgICAgICBpZiAodGhpcy5zb3VyY2VOb2RlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc291cmNlTm9kZS5vbmVuZGVkID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5zb3VyY2VOb2RlLnN0b3AoKTtcclxuICAgICAgICAgICAgdGhpcy5zb3VyY2VOb2RlLmRpc2Nvbm5lY3QoKTtcclxuICAgICAgICAgICAgdGhpcy5zb3VyY2VOb2RlID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wbGF5RmV0Y2goaW5kZXggKyAxLCBsb29wKTtcclxuICAgIH07XHJcbiAgICBhc3luYyBsb2FkQW5kRGVjb2RlQXVkaW8oYXVkaW9TcmMpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChhdWRpb1NyYyk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhcnJheUJ1ZmZlciA9IGF3YWl0IHJlc3BvbnNlLmFycmF5QnVmZmVyKCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhdWRpb0J1ZmZlciA9IGF3YWl0IHRoaXMuYXVkaW9Db250ZXh0LmRlY29kZUF1ZGlvRGF0YShhcnJheUJ1ZmZlcik7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKGF1ZGlvQnVmZmVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgb3IgZGVjb2RpbmcgYXVkaW86JywgZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbmNsYXNzIEF1ZGlvQ29udGV4dE1hbmFnZXIge1xyXG4gICAgc3RhdGljIGluc3RhbmNlID0gbnVsbDtcclxuICAgIHN0YXRpYyBnZXRBdWRpb0NvbnRleHQoKSB7XHJcbiAgICAgICAgaWYgKCFBdWRpb0NvbnRleHRNYW5hZ2VyLmluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIEF1ZGlvQ29udGV4dE1hbmFnZXIuaW5zdGFuY2UgPSBuZXcgKHdpbmRvdy5BdWRpb0NvbnRleHQgfHwgd2luZG93LndlYmtpdEF1ZGlvQ29udGV4dCkoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIEF1ZGlvQ29udGV4dE1hbmFnZXIuaW5zdGFuY2U7XHJcbiAgICB9XHJcbn1cclxuIiwiLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIEBmaWxlb3ZlcnZpZXcgRmlyZWJhc2UgY29uc3RhbnRzLiAgU29tZSBvZiB0aGVzZSAoQGRlZmluZXMpIGNhbiBiZSBvdmVycmlkZGVuIGF0IGNvbXBpbGUtdGltZS5cclxuICovXHJcbmNvbnN0IENPTlNUQU5UUyA9IHtcclxuICAgIC8qKlxyXG4gICAgICogQGRlZmluZSB7Ym9vbGVhbn0gV2hldGhlciB0aGlzIGlzIHRoZSBjbGllbnQgTm9kZS5qcyBTREsuXHJcbiAgICAgKi9cclxuICAgIE5PREVfQ0xJRU5UOiBmYWxzZSxcclxuICAgIC8qKlxyXG4gICAgICogQGRlZmluZSB7Ym9vbGVhbn0gV2hldGhlciB0aGlzIGlzIHRoZSBBZG1pbiBOb2RlLmpzIFNESy5cclxuICAgICAqL1xyXG4gICAgTk9ERV9BRE1JTjogZmFsc2UsXHJcbiAgICAvKipcclxuICAgICAqIEZpcmViYXNlIFNESyBWZXJzaW9uXHJcbiAgICAgKi9cclxuICAgIFNES19WRVJTSU9OOiAnJHtKU0NPUkVfVkVSU0lPTn0nXHJcbn07XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBUaHJvd3MgYW4gZXJyb3IgaWYgdGhlIHByb3ZpZGVkIGFzc2VydGlvbiBpcyBmYWxzeVxyXG4gKi9cclxuY29uc3QgYXNzZXJ0ID0gZnVuY3Rpb24gKGFzc2VydGlvbiwgbWVzc2FnZSkge1xyXG4gICAgaWYgKCFhc3NlcnRpb24pIHtcclxuICAgICAgICB0aHJvdyBhc3NlcnRpb25FcnJvcihtZXNzYWdlKTtcclxuICAgIH1cclxufTtcclxuLyoqXHJcbiAqIFJldHVybnMgYW4gRXJyb3Igb2JqZWN0IHN1aXRhYmxlIGZvciB0aHJvd2luZy5cclxuICovXHJcbmNvbnN0IGFzc2VydGlvbkVycm9yID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcclxuICAgIHJldHVybiBuZXcgRXJyb3IoJ0ZpcmViYXNlIERhdGFiYXNlICgnICtcclxuICAgICAgICBDT05TVEFOVFMuU0RLX1ZFUlNJT04gK1xyXG4gICAgICAgICcpIElOVEVSTkFMIEFTU0VSVCBGQUlMRUQ6ICcgK1xyXG4gICAgICAgIG1lc3NhZ2UpO1xyXG59O1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5jb25zdCBzdHJpbmdUb0J5dGVBcnJheSQxID0gZnVuY3Rpb24gKHN0cikge1xyXG4gICAgLy8gVE9ETyh1c2VyKTogVXNlIG5hdGl2ZSBpbXBsZW1lbnRhdGlvbnMgaWYvd2hlbiBhdmFpbGFibGVcclxuICAgIGNvbnN0IG91dCA9IFtdO1xyXG4gICAgbGV0IHAgPSAwO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBsZXQgYyA9IHN0ci5jaGFyQ29kZUF0KGkpO1xyXG4gICAgICAgIGlmIChjIDwgMTI4KSB7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gYztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoYyA8IDIwNDgpIHtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoYyA+PiA2KSB8IDE5MjtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoYyAmIDYzKSB8IDEyODtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoKGMgJiAweGZjMDApID09PSAweGQ4MDAgJiZcclxuICAgICAgICAgICAgaSArIDEgPCBzdHIubGVuZ3RoICYmXHJcbiAgICAgICAgICAgIChzdHIuY2hhckNvZGVBdChpICsgMSkgJiAweGZjMDApID09PSAweGRjMDApIHtcclxuICAgICAgICAgICAgLy8gU3Vycm9nYXRlIFBhaXJcclxuICAgICAgICAgICAgYyA9IDB4MTAwMDAgKyAoKGMgJiAweDAzZmYpIDw8IDEwKSArIChzdHIuY2hhckNvZGVBdCgrK2kpICYgMHgwM2ZmKTtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoYyA+PiAxOCkgfCAyNDA7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKChjID4+IDEyKSAmIDYzKSB8IDEyODtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoKGMgPj4gNikgJiA2MykgfCAxMjg7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKGMgJiA2MykgfCAxMjg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9IChjID4+IDEyKSB8IDIyNDtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoKGMgPj4gNikgJiA2MykgfCAxMjg7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKGMgJiA2MykgfCAxMjg7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG91dDtcclxufTtcclxuLyoqXHJcbiAqIFR1cm5zIGFuIGFycmF5IG9mIG51bWJlcnMgaW50byB0aGUgc3RyaW5nIGdpdmVuIGJ5IHRoZSBjb25jYXRlbmF0aW9uIG9mIHRoZVxyXG4gKiBjaGFyYWN0ZXJzIHRvIHdoaWNoIHRoZSBudW1iZXJzIGNvcnJlc3BvbmQuXHJcbiAqIEBwYXJhbSBieXRlcyBBcnJheSBvZiBudW1iZXJzIHJlcHJlc2VudGluZyBjaGFyYWN0ZXJzLlxyXG4gKiBAcmV0dXJuIFN0cmluZ2lmaWNhdGlvbiBvZiB0aGUgYXJyYXkuXHJcbiAqL1xyXG5jb25zdCBieXRlQXJyYXlUb1N0cmluZyA9IGZ1bmN0aW9uIChieXRlcykge1xyXG4gICAgLy8gVE9ETyh1c2VyKTogVXNlIG5hdGl2ZSBpbXBsZW1lbnRhdGlvbnMgaWYvd2hlbiBhdmFpbGFibGVcclxuICAgIGNvbnN0IG91dCA9IFtdO1xyXG4gICAgbGV0IHBvcyA9IDAsIGMgPSAwO1xyXG4gICAgd2hpbGUgKHBvcyA8IGJ5dGVzLmxlbmd0aCkge1xyXG4gICAgICAgIGNvbnN0IGMxID0gYnl0ZXNbcG9zKytdO1xyXG4gICAgICAgIGlmIChjMSA8IDEyOCkge1xyXG4gICAgICAgICAgICBvdXRbYysrXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoYzEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjMSA+IDE5MSAmJiBjMSA8IDIyNCkge1xyXG4gICAgICAgICAgICBjb25zdCBjMiA9IGJ5dGVzW3BvcysrXTtcclxuICAgICAgICAgICAgb3V0W2MrK10gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKCgoYzEgJiAzMSkgPDwgNikgfCAoYzIgJiA2MykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjMSA+IDIzOSAmJiBjMSA8IDM2NSkge1xyXG4gICAgICAgICAgICAvLyBTdXJyb2dhdGUgUGFpclxyXG4gICAgICAgICAgICBjb25zdCBjMiA9IGJ5dGVzW3BvcysrXTtcclxuICAgICAgICAgICAgY29uc3QgYzMgPSBieXRlc1twb3MrK107XHJcbiAgICAgICAgICAgIGNvbnN0IGM0ID0gYnl0ZXNbcG9zKytdO1xyXG4gICAgICAgICAgICBjb25zdCB1ID0gKCgoYzEgJiA3KSA8PCAxOCkgfCAoKGMyICYgNjMpIDw8IDEyKSB8ICgoYzMgJiA2MykgPDwgNikgfCAoYzQgJiA2MykpIC1cclxuICAgICAgICAgICAgICAgIDB4MTAwMDA7XHJcbiAgICAgICAgICAgIG91dFtjKytdID0gU3RyaW5nLmZyb21DaGFyQ29kZSgweGQ4MDAgKyAodSA+PiAxMCkpO1xyXG4gICAgICAgICAgICBvdXRbYysrXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoMHhkYzAwICsgKHUgJiAxMDIzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCBjMiA9IGJ5dGVzW3BvcysrXTtcclxuICAgICAgICAgICAgY29uc3QgYzMgPSBieXRlc1twb3MrK107XHJcbiAgICAgICAgICAgIG91dFtjKytdID0gU3RyaW5nLmZyb21DaGFyQ29kZSgoKGMxICYgMTUpIDw8IDEyKSB8ICgoYzIgJiA2MykgPDwgNikgfCAoYzMgJiA2MykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBvdXQuam9pbignJyk7XHJcbn07XHJcbi8vIFdlIGRlZmluZSBpdCBhcyBhbiBvYmplY3QgbGl0ZXJhbCBpbnN0ZWFkIG9mIGEgY2xhc3MgYmVjYXVzZSBhIGNsYXNzIGNvbXBpbGVkIGRvd24gdG8gZXM1IGNhbid0XHJcbi8vIGJlIHRyZWVzaGFrZWQuIGh0dHBzOi8vZ2l0aHViLmNvbS9yb2xsdXAvcm9sbHVwL2lzc3Vlcy8xNjkxXHJcbi8vIFN0YXRpYyBsb29rdXAgbWFwcywgbGF6aWx5IHBvcHVsYXRlZCBieSBpbml0XygpXHJcbmNvbnN0IGJhc2U2NCA9IHtcclxuICAgIC8qKlxyXG4gICAgICogTWFwcyBieXRlcyB0byBjaGFyYWN0ZXJzLlxyXG4gICAgICovXHJcbiAgICBieXRlVG9DaGFyTWFwXzogbnVsbCxcclxuICAgIC8qKlxyXG4gICAgICogTWFwcyBjaGFyYWN0ZXJzIHRvIGJ5dGVzLlxyXG4gICAgICovXHJcbiAgICBjaGFyVG9CeXRlTWFwXzogbnVsbCxcclxuICAgIC8qKlxyXG4gICAgICogTWFwcyBieXRlcyB0byB3ZWJzYWZlIGNoYXJhY3RlcnMuXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICBieXRlVG9DaGFyTWFwV2ViU2FmZV86IG51bGwsXHJcbiAgICAvKipcclxuICAgICAqIE1hcHMgd2Vic2FmZSBjaGFyYWN0ZXJzIHRvIGJ5dGVzLlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgY2hhclRvQnl0ZU1hcFdlYlNhZmVfOiBudWxsLFxyXG4gICAgLyoqXHJcbiAgICAgKiBPdXIgZGVmYXVsdCBhbHBoYWJldCwgc2hhcmVkIGJldHdlZW5cclxuICAgICAqIEVOQ09ERURfVkFMUyBhbmQgRU5DT0RFRF9WQUxTX1dFQlNBRkVcclxuICAgICAqL1xyXG4gICAgRU5DT0RFRF9WQUxTX0JBU0U6ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWicgKyAnYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXonICsgJzAxMjM0NTY3ODknLFxyXG4gICAgLyoqXHJcbiAgICAgKiBPdXIgZGVmYXVsdCBhbHBoYWJldC4gVmFsdWUgNjQgKD0pIGlzIHNwZWNpYWw7IGl0IG1lYW5zIFwibm90aGluZy5cIlxyXG4gICAgICovXHJcbiAgICBnZXQgRU5DT0RFRF9WQUxTKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLkVOQ09ERURfVkFMU19CQVNFICsgJysvPSc7XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAgKiBPdXIgd2Vic2FmZSBhbHBoYWJldC5cclxuICAgICAqL1xyXG4gICAgZ2V0IEVOQ09ERURfVkFMU19XRUJTQUZFKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLkVOQ09ERURfVkFMU19CQVNFICsgJy1fLic7XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAgKiBXaGV0aGVyIHRoaXMgYnJvd3NlciBzdXBwb3J0cyB0aGUgYXRvYiBhbmQgYnRvYSBmdW5jdGlvbnMuIFRoaXMgZXh0ZW5zaW9uXHJcbiAgICAgKiBzdGFydGVkIGF0IE1vemlsbGEgYnV0IGlzIG5vdyBpbXBsZW1lbnRlZCBieSBtYW55IGJyb3dzZXJzLiBXZSB1c2UgdGhlXHJcbiAgICAgKiBBU1NVTUVfKiB2YXJpYWJsZXMgdG8gYXZvaWQgcHVsbGluZyBpbiB0aGUgZnVsbCB1c2VyYWdlbnQgZGV0ZWN0aW9uIGxpYnJhcnlcclxuICAgICAqIGJ1dCBzdGlsbCBhbGxvd2luZyB0aGUgc3RhbmRhcmQgcGVyLWJyb3dzZXIgY29tcGlsYXRpb25zLlxyXG4gICAgICpcclxuICAgICAqL1xyXG4gICAgSEFTX05BVElWRV9TVVBQT1JUOiB0eXBlb2YgYXRvYiA9PT0gJ2Z1bmN0aW9uJyxcclxuICAgIC8qKlxyXG4gICAgICogQmFzZTY0LWVuY29kZSBhbiBhcnJheSBvZiBieXRlcy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gaW5wdXQgQW4gYXJyYXkgb2YgYnl0ZXMgKG51bWJlcnMgd2l0aFxyXG4gICAgICogICAgIHZhbHVlIGluIFswLCAyNTVdKSB0byBlbmNvZGUuXHJcbiAgICAgKiBAcGFyYW0gd2ViU2FmZSBCb29sZWFuIGluZGljYXRpbmcgd2Ugc2hvdWxkIHVzZSB0aGVcclxuICAgICAqICAgICBhbHRlcm5hdGl2ZSBhbHBoYWJldC5cclxuICAgICAqIEByZXR1cm4gVGhlIGJhc2U2NCBlbmNvZGVkIHN0cmluZy5cclxuICAgICAqL1xyXG4gICAgZW5jb2RlQnl0ZUFycmF5KGlucHV0LCB3ZWJTYWZlKSB7XHJcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGlucHV0KSkge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcignZW5jb2RlQnl0ZUFycmF5IHRha2VzIGFuIGFycmF5IGFzIGEgcGFyYW1ldGVyJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaW5pdF8oKTtcclxuICAgICAgICBjb25zdCBieXRlVG9DaGFyTWFwID0gd2ViU2FmZVxyXG4gICAgICAgICAgICA/IHRoaXMuYnl0ZVRvQ2hhck1hcFdlYlNhZmVfXHJcbiAgICAgICAgICAgIDogdGhpcy5ieXRlVG9DaGFyTWFwXztcclxuICAgICAgICBjb25zdCBvdXRwdXQgPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0Lmxlbmd0aDsgaSArPSAzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGJ5dGUxID0gaW5wdXRbaV07XHJcbiAgICAgICAgICAgIGNvbnN0IGhhdmVCeXRlMiA9IGkgKyAxIDwgaW5wdXQubGVuZ3RoO1xyXG4gICAgICAgICAgICBjb25zdCBieXRlMiA9IGhhdmVCeXRlMiA/IGlucHV0W2kgKyAxXSA6IDA7XHJcbiAgICAgICAgICAgIGNvbnN0IGhhdmVCeXRlMyA9IGkgKyAyIDwgaW5wdXQubGVuZ3RoO1xyXG4gICAgICAgICAgICBjb25zdCBieXRlMyA9IGhhdmVCeXRlMyA/IGlucHV0W2kgKyAyXSA6IDA7XHJcbiAgICAgICAgICAgIGNvbnN0IG91dEJ5dGUxID0gYnl0ZTEgPj4gMjtcclxuICAgICAgICAgICAgY29uc3Qgb3V0Qnl0ZTIgPSAoKGJ5dGUxICYgMHgwMykgPDwgNCkgfCAoYnl0ZTIgPj4gNCk7XHJcbiAgICAgICAgICAgIGxldCBvdXRCeXRlMyA9ICgoYnl0ZTIgJiAweDBmKSA8PCAyKSB8IChieXRlMyA+PiA2KTtcclxuICAgICAgICAgICAgbGV0IG91dEJ5dGU0ID0gYnl0ZTMgJiAweDNmO1xyXG4gICAgICAgICAgICBpZiAoIWhhdmVCeXRlMykge1xyXG4gICAgICAgICAgICAgICAgb3V0Qnl0ZTQgPSA2NDtcclxuICAgICAgICAgICAgICAgIGlmICghaGF2ZUJ5dGUyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3V0Qnl0ZTMgPSA2NDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvdXRwdXQucHVzaChieXRlVG9DaGFyTWFwW291dEJ5dGUxXSwgYnl0ZVRvQ2hhck1hcFtvdXRCeXRlMl0sIGJ5dGVUb0NoYXJNYXBbb3V0Qnl0ZTNdLCBieXRlVG9DaGFyTWFwW291dEJ5dGU0XSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBvdXRwdXQuam9pbignJyk7XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAgKiBCYXNlNjQtZW5jb2RlIGEgc3RyaW5nLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBpbnB1dCBBIHN0cmluZyB0byBlbmNvZGUuXHJcbiAgICAgKiBAcGFyYW0gd2ViU2FmZSBJZiB0cnVlLCB3ZSBzaG91bGQgdXNlIHRoZVxyXG4gICAgICogICAgIGFsdGVybmF0aXZlIGFscGhhYmV0LlxyXG4gICAgICogQHJldHVybiBUaGUgYmFzZTY0IGVuY29kZWQgc3RyaW5nLlxyXG4gICAgICovXHJcbiAgICBlbmNvZGVTdHJpbmcoaW5wdXQsIHdlYlNhZmUpIHtcclxuICAgICAgICAvLyBTaG9ydGN1dCBmb3IgTW96aWxsYSBicm93c2VycyB0aGF0IGltcGxlbWVudFxyXG4gICAgICAgIC8vIGEgbmF0aXZlIGJhc2U2NCBlbmNvZGVyIGluIHRoZSBmb3JtIG9mIFwiYnRvYS9hdG9iXCJcclxuICAgICAgICBpZiAodGhpcy5IQVNfTkFUSVZFX1NVUFBPUlQgJiYgIXdlYlNhZmUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGJ0b2EoaW5wdXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5lbmNvZGVCeXRlQXJyYXkoc3RyaW5nVG9CeXRlQXJyYXkkMShpbnB1dCksIHdlYlNhZmUpO1xyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgICogQmFzZTY0LWRlY29kZSBhIHN0cmluZy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gaW5wdXQgdG8gZGVjb2RlLlxyXG4gICAgICogQHBhcmFtIHdlYlNhZmUgVHJ1ZSBpZiB3ZSBzaG91bGQgdXNlIHRoZVxyXG4gICAgICogICAgIGFsdGVybmF0aXZlIGFscGhhYmV0LlxyXG4gICAgICogQHJldHVybiBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBkZWNvZGVkIHZhbHVlLlxyXG4gICAgICovXHJcbiAgICBkZWNvZGVTdHJpbmcoaW5wdXQsIHdlYlNhZmUpIHtcclxuICAgICAgICAvLyBTaG9ydGN1dCBmb3IgTW96aWxsYSBicm93c2VycyB0aGF0IGltcGxlbWVudFxyXG4gICAgICAgIC8vIGEgbmF0aXZlIGJhc2U2NCBlbmNvZGVyIGluIHRoZSBmb3JtIG9mIFwiYnRvYS9hdG9iXCJcclxuICAgICAgICBpZiAodGhpcy5IQVNfTkFUSVZFX1NVUFBPUlQgJiYgIXdlYlNhZmUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGF0b2IoaW5wdXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYnl0ZUFycmF5VG9TdHJpbmcodGhpcy5kZWNvZGVTdHJpbmdUb0J5dGVBcnJheShpbnB1dCwgd2ViU2FmZSkpO1xyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgICogQmFzZTY0LWRlY29kZSBhIHN0cmluZy5cclxuICAgICAqXHJcbiAgICAgKiBJbiBiYXNlLTY0IGRlY29kaW5nLCBncm91cHMgb2YgZm91ciBjaGFyYWN0ZXJzIGFyZSBjb252ZXJ0ZWQgaW50byB0aHJlZVxyXG4gICAgICogYnl0ZXMuICBJZiB0aGUgZW5jb2RlciBkaWQgbm90IGFwcGx5IHBhZGRpbmcsIHRoZSBpbnB1dCBsZW5ndGggbWF5IG5vdFxyXG4gICAgICogYmUgYSBtdWx0aXBsZSBvZiA0LlxyXG4gICAgICpcclxuICAgICAqIEluIHRoaXMgY2FzZSwgdGhlIGxhc3QgZ3JvdXAgd2lsbCBoYXZlIGZld2VyIHRoYW4gNCBjaGFyYWN0ZXJzLCBhbmRcclxuICAgICAqIHBhZGRpbmcgd2lsbCBiZSBpbmZlcnJlZC4gIElmIHRoZSBncm91cCBoYXMgb25lIG9yIHR3byBjaGFyYWN0ZXJzLCBpdCBkZWNvZGVzXHJcbiAgICAgKiB0byBvbmUgYnl0ZS4gIElmIHRoZSBncm91cCBoYXMgdGhyZWUgY2hhcmFjdGVycywgaXQgZGVjb2RlcyB0byB0d28gYnl0ZXMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGlucHV0IElucHV0IHRvIGRlY29kZS5cclxuICAgICAqIEBwYXJhbSB3ZWJTYWZlIFRydWUgaWYgd2Ugc2hvdWxkIHVzZSB0aGUgd2ViLXNhZmUgYWxwaGFiZXQuXHJcbiAgICAgKiBAcmV0dXJuIGJ5dGVzIHJlcHJlc2VudGluZyB0aGUgZGVjb2RlZCB2YWx1ZS5cclxuICAgICAqL1xyXG4gICAgZGVjb2RlU3RyaW5nVG9CeXRlQXJyYXkoaW5wdXQsIHdlYlNhZmUpIHtcclxuICAgICAgICB0aGlzLmluaXRfKCk7XHJcbiAgICAgICAgY29uc3QgY2hhclRvQnl0ZU1hcCA9IHdlYlNhZmVcclxuICAgICAgICAgICAgPyB0aGlzLmNoYXJUb0J5dGVNYXBXZWJTYWZlX1xyXG4gICAgICAgICAgICA6IHRoaXMuY2hhclRvQnl0ZU1hcF87XHJcbiAgICAgICAgY29uc3Qgb3V0cHV0ID0gW107XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnB1dC5sZW5ndGg7KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGJ5dGUxID0gY2hhclRvQnl0ZU1hcFtpbnB1dC5jaGFyQXQoaSsrKV07XHJcbiAgICAgICAgICAgIGNvbnN0IGhhdmVCeXRlMiA9IGkgPCBpbnB1dC5sZW5ndGg7XHJcbiAgICAgICAgICAgIGNvbnN0IGJ5dGUyID0gaGF2ZUJ5dGUyID8gY2hhclRvQnl0ZU1hcFtpbnB1dC5jaGFyQXQoaSldIDogMDtcclxuICAgICAgICAgICAgKytpO1xyXG4gICAgICAgICAgICBjb25zdCBoYXZlQnl0ZTMgPSBpIDwgaW5wdXQubGVuZ3RoO1xyXG4gICAgICAgICAgICBjb25zdCBieXRlMyA9IGhhdmVCeXRlMyA/IGNoYXJUb0J5dGVNYXBbaW5wdXQuY2hhckF0KGkpXSA6IDY0O1xyXG4gICAgICAgICAgICArK2k7XHJcbiAgICAgICAgICAgIGNvbnN0IGhhdmVCeXRlNCA9IGkgPCBpbnB1dC5sZW5ndGg7XHJcbiAgICAgICAgICAgIGNvbnN0IGJ5dGU0ID0gaGF2ZUJ5dGU0ID8gY2hhclRvQnl0ZU1hcFtpbnB1dC5jaGFyQXQoaSldIDogNjQ7XHJcbiAgICAgICAgICAgICsraTtcclxuICAgICAgICAgICAgaWYgKGJ5dGUxID09IG51bGwgfHwgYnl0ZTIgPT0gbnVsbCB8fCBieXRlMyA9PSBudWxsIHx8IGJ5dGU0ID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBEZWNvZGVCYXNlNjRTdHJpbmdFcnJvcigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IG91dEJ5dGUxID0gKGJ5dGUxIDw8IDIpIHwgKGJ5dGUyID4+IDQpO1xyXG4gICAgICAgICAgICBvdXRwdXQucHVzaChvdXRCeXRlMSk7XHJcbiAgICAgICAgICAgIGlmIChieXRlMyAhPT0gNjQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG91dEJ5dGUyID0gKChieXRlMiA8PCA0KSAmIDB4ZjApIHwgKGJ5dGUzID4+IDIpO1xyXG4gICAgICAgICAgICAgICAgb3V0cHV0LnB1c2gob3V0Qnl0ZTIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGJ5dGU0ICE9PSA2NCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG91dEJ5dGUzID0gKChieXRlMyA8PCA2KSAmIDB4YzApIHwgYnl0ZTQ7XHJcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0LnB1c2gob3V0Qnl0ZTMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBvdXRwdXQ7XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAgKiBMYXp5IHN0YXRpYyBpbml0aWFsaXphdGlvbiBmdW5jdGlvbi4gQ2FsbGVkIGJlZm9yZVxyXG4gICAgICogYWNjZXNzaW5nIGFueSBvZiB0aGUgc3RhdGljIG1hcCB2YXJpYWJsZXMuXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICBpbml0XygpIHtcclxuICAgICAgICBpZiAoIXRoaXMuYnl0ZVRvQ2hhck1hcF8pIHtcclxuICAgICAgICAgICAgdGhpcy5ieXRlVG9DaGFyTWFwXyA9IHt9O1xyXG4gICAgICAgICAgICB0aGlzLmNoYXJUb0J5dGVNYXBfID0ge307XHJcbiAgICAgICAgICAgIHRoaXMuYnl0ZVRvQ2hhck1hcFdlYlNhZmVfID0ge307XHJcbiAgICAgICAgICAgIHRoaXMuY2hhclRvQnl0ZU1hcFdlYlNhZmVfID0ge307XHJcbiAgICAgICAgICAgIC8vIFdlIHdhbnQgcXVpY2sgbWFwcGluZ3MgYmFjayBhbmQgZm9ydGgsIHNvIHdlIHByZWNvbXB1dGUgdHdvIG1hcHMuXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5FTkNPREVEX1ZBTFMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnl0ZVRvQ2hhck1hcF9baV0gPSB0aGlzLkVOQ09ERURfVkFMUy5jaGFyQXQoaSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoYXJUb0J5dGVNYXBfW3RoaXMuYnl0ZVRvQ2hhck1hcF9baV1dID0gaTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnl0ZVRvQ2hhck1hcFdlYlNhZmVfW2ldID0gdGhpcy5FTkNPREVEX1ZBTFNfV0VCU0FGRS5jaGFyQXQoaSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoYXJUb0J5dGVNYXBXZWJTYWZlX1t0aGlzLmJ5dGVUb0NoYXJNYXBXZWJTYWZlX1tpXV0gPSBpO1xyXG4gICAgICAgICAgICAgICAgLy8gQmUgZm9yZ2l2aW5nIHdoZW4gZGVjb2RpbmcgYW5kIGNvcnJlY3RseSBkZWNvZGUgYm90aCBlbmNvZGluZ3MuXHJcbiAgICAgICAgICAgICAgICBpZiAoaSA+PSB0aGlzLkVOQ09ERURfVkFMU19CQVNFLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhclRvQnl0ZU1hcF9bdGhpcy5FTkNPREVEX1ZBTFNfV0VCU0FGRS5jaGFyQXQoaSldID0gaTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYXJUb0J5dGVNYXBXZWJTYWZlX1t0aGlzLkVOQ09ERURfVkFMUy5jaGFyQXQoaSldID0gaTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuLyoqXHJcbiAqIEFuIGVycm9yIGVuY291bnRlcmVkIHdoaWxlIGRlY29kaW5nIGJhc2U2NCBzdHJpbmcuXHJcbiAqL1xyXG5jbGFzcyBEZWNvZGVCYXNlNjRTdHJpbmdFcnJvciBleHRlbmRzIEVycm9yIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gJ0RlY29kZUJhc2U2NFN0cmluZ0Vycm9yJztcclxuICAgIH1cclxufVxyXG4vKipcclxuICogVVJMLXNhZmUgYmFzZTY0IGVuY29kaW5nXHJcbiAqL1xyXG5jb25zdCBiYXNlNjRFbmNvZGUgPSBmdW5jdGlvbiAoc3RyKSB7XHJcbiAgICBjb25zdCB1dGY4Qnl0ZXMgPSBzdHJpbmdUb0J5dGVBcnJheSQxKHN0cik7XHJcbiAgICByZXR1cm4gYmFzZTY0LmVuY29kZUJ5dGVBcnJheSh1dGY4Qnl0ZXMsIHRydWUpO1xyXG59O1xyXG4vKipcclxuICogVVJMLXNhZmUgYmFzZTY0IGVuY29kaW5nICh3aXRob3V0IFwiLlwiIHBhZGRpbmcgaW4gdGhlIGVuZCkuXHJcbiAqIGUuZy4gVXNlZCBpbiBKU09OIFdlYiBUb2tlbiAoSldUKSBwYXJ0cy5cclxuICovXHJcbmNvbnN0IGJhc2U2NHVybEVuY29kZVdpdGhvdXRQYWRkaW5nID0gZnVuY3Rpb24gKHN0cikge1xyXG4gICAgLy8gVXNlIGJhc2U2NHVybCBlbmNvZGluZyBhbmQgcmVtb3ZlIHBhZGRpbmcgaW4gdGhlIGVuZCAoZG90IGNoYXJhY3RlcnMpLlxyXG4gICAgcmV0dXJuIGJhc2U2NEVuY29kZShzdHIpLnJlcGxhY2UoL1xcLi9nLCAnJyk7XHJcbn07XHJcbi8qKlxyXG4gKiBVUkwtc2FmZSBiYXNlNjQgZGVjb2RpbmdcclxuICpcclxuICogTk9URTogRE8gTk9UIHVzZSB0aGUgZ2xvYmFsIGF0b2IoKSBmdW5jdGlvbiAtIGl0IGRvZXMgTk9UIHN1cHBvcnQgdGhlXHJcbiAqIGJhc2U2NFVybCB2YXJpYW50IGVuY29kaW5nLlxyXG4gKlxyXG4gKiBAcGFyYW0gc3RyIFRvIGJlIGRlY29kZWRcclxuICogQHJldHVybiBEZWNvZGVkIHJlc3VsdCwgaWYgcG9zc2libGVcclxuICovXHJcbmNvbnN0IGJhc2U2NERlY29kZSA9IGZ1bmN0aW9uIChzdHIpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgcmV0dXJuIGJhc2U2NC5kZWNvZGVTdHJpbmcoc3RyLCB0cnVlKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignYmFzZTY0RGVjb2RlIGZhaWxlZDogJywgZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbDtcclxufTtcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIERvIGEgZGVlcC1jb3B5IG9mIGJhc2ljIEphdmFTY3JpcHQgT2JqZWN0cyBvciBBcnJheXMuXHJcbiAqL1xyXG5mdW5jdGlvbiBkZWVwQ29weSh2YWx1ZSkge1xyXG4gICAgcmV0dXJuIGRlZXBFeHRlbmQodW5kZWZpbmVkLCB2YWx1ZSk7XHJcbn1cclxuLyoqXHJcbiAqIENvcHkgcHJvcGVydGllcyBmcm9tIHNvdXJjZSB0byB0YXJnZXQgKHJlY3Vyc2l2ZWx5IGFsbG93cyBleHRlbnNpb25cclxuICogb2YgT2JqZWN0cyBhbmQgQXJyYXlzKS4gIFNjYWxhciB2YWx1ZXMgaW4gdGhlIHRhcmdldCBhcmUgb3Zlci13cml0dGVuLlxyXG4gKiBJZiB0YXJnZXQgaXMgdW5kZWZpbmVkLCBhbiBvYmplY3Qgb2YgdGhlIGFwcHJvcHJpYXRlIHR5cGUgd2lsbCBiZSBjcmVhdGVkXHJcbiAqIChhbmQgcmV0dXJuZWQpLlxyXG4gKlxyXG4gKiBXZSByZWN1cnNpdmVseSBjb3B5IGFsbCBjaGlsZCBwcm9wZXJ0aWVzIG9mIHBsYWluIE9iamVjdHMgaW4gdGhlIHNvdXJjZS0gc29cclxuICogdGhhdCBuYW1lc3BhY2UtIGxpa2UgZGljdGlvbmFyaWVzIGFyZSBtZXJnZWQuXHJcbiAqXHJcbiAqIE5vdGUgdGhhdCB0aGUgdGFyZ2V0IGNhbiBiZSBhIGZ1bmN0aW9uLCBpbiB3aGljaCBjYXNlIHRoZSBwcm9wZXJ0aWVzIGluXHJcbiAqIHRoZSBzb3VyY2UgT2JqZWN0IGFyZSBjb3BpZWQgb250byBpdCBhcyBzdGF0aWMgcHJvcGVydGllcyBvZiB0aGUgRnVuY3Rpb24uXHJcbiAqXHJcbiAqIE5vdGU6IHdlIGRvbid0IG1lcmdlIF9fcHJvdG9fXyB0byBwcmV2ZW50IHByb3RvdHlwZSBwb2xsdXRpb25cclxuICovXHJcbmZ1bmN0aW9uIGRlZXBFeHRlbmQodGFyZ2V0LCBzb3VyY2UpIHtcclxuICAgIGlmICghKHNvdXJjZSBpbnN0YW5jZW9mIE9iamVjdCkpIHtcclxuICAgICAgICByZXR1cm4gc291cmNlO1xyXG4gICAgfVxyXG4gICAgc3dpdGNoIChzb3VyY2UuY29uc3RydWN0b3IpIHtcclxuICAgICAgICBjYXNlIERhdGU6XHJcbiAgICAgICAgICAgIC8vIFRyZWF0IERhdGVzIGxpa2Ugc2NhbGFyczsgaWYgdGhlIHRhcmdldCBkYXRlIG9iamVjdCBoYWQgYW55IGNoaWxkXHJcbiAgICAgICAgICAgIC8vIHByb3BlcnRpZXMgLSB0aGV5IHdpbGwgYmUgbG9zdCFcclxuICAgICAgICAgICAgY29uc3QgZGF0ZVZhbHVlID0gc291cmNlO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoZGF0ZVZhbHVlLmdldFRpbWUoKSk7XHJcbiAgICAgICAgY2FzZSBPYmplY3Q6XHJcbiAgICAgICAgICAgIGlmICh0YXJnZXQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0ge307XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBBcnJheTpcclxuICAgICAgICAgICAgLy8gQWx3YXlzIGNvcHkgdGhlIGFycmF5IHNvdXJjZSBhbmQgb3ZlcndyaXRlIHRoZSB0YXJnZXQuXHJcbiAgICAgICAgICAgIHRhcmdldCA9IFtdO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAvLyBOb3QgYSBwbGFpbiBPYmplY3QgLSB0cmVhdCBpdCBhcyBhIHNjYWxhci5cclxuICAgICAgICAgICAgcmV0dXJuIHNvdXJjZTtcclxuICAgIH1cclxuICAgIGZvciAoY29uc3QgcHJvcCBpbiBzb3VyY2UpIHtcclxuICAgICAgICAvLyB1c2UgaXNWYWxpZEtleSB0byBndWFyZCBhZ2FpbnN0IHByb3RvdHlwZSBwb2xsdXRpb24uIFNlZSBodHRwczovL3NueWsuaW8vdnVsbi9TTllLLUpTLUxPREFTSC00NTAyMDJcclxuICAgICAgICBpZiAoIXNvdXJjZS5oYXNPd25Qcm9wZXJ0eShwcm9wKSB8fCAhaXNWYWxpZEtleShwcm9wKSkge1xyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGFyZ2V0W3Byb3BdID0gZGVlcEV4dGVuZCh0YXJnZXRbcHJvcF0sIHNvdXJjZVtwcm9wXSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGFyZ2V0O1xyXG59XHJcbmZ1bmN0aW9uIGlzVmFsaWRLZXkoa2V5KSB7XHJcbiAgICByZXR1cm4ga2V5ICE9PSAnX19wcm90b19fJztcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMjIgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogUG9seWZpbGwgZm9yIGBnbG9iYWxUaGlzYCBvYmplY3QuXHJcbiAqIEByZXR1cm5zIHRoZSBgZ2xvYmFsVGhpc2Agb2JqZWN0IGZvciB0aGUgZ2l2ZW4gZW52aXJvbm1lbnQuXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmZ1bmN0aW9uIGdldEdsb2JhbCgpIHtcclxuICAgIGlmICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICByZXR1cm4gc2VsZjtcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIHJldHVybiB3aW5kb3c7XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICByZXR1cm4gZ2xvYmFsO1xyXG4gICAgfVxyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gbG9jYXRlIGdsb2JhbCBvYmplY3QuJyk7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDIyIEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuY29uc3QgZ2V0RGVmYXVsdHNGcm9tR2xvYmFsID0gKCkgPT4gZ2V0R2xvYmFsKCkuX19GSVJFQkFTRV9ERUZBVUxUU19fO1xyXG4vKipcclxuICogQXR0ZW1wdCB0byByZWFkIGRlZmF1bHRzIGZyb20gYSBKU09OIHN0cmluZyBwcm92aWRlZCB0b1xyXG4gKiBwcm9jZXNzKC4pZW52KC4pX19GSVJFQkFTRV9ERUZBVUxUU19fIG9yIGEgSlNPTiBmaWxlIHdob3NlIHBhdGggaXMgaW5cclxuICogcHJvY2VzcyguKWVudiguKV9fRklSRUJBU0VfREVGQVVMVFNfUEFUSF9fXHJcbiAqIFRoZSBkb3RzIGFyZSBpbiBwYXJlbnMgYmVjYXVzZSBjZXJ0YWluIGNvbXBpbGVycyAoVml0ZT8pIGNhbm5vdFxyXG4gKiBoYW5kbGUgc2VlaW5nIHRoYXQgdmFyaWFibGUgaW4gY29tbWVudHMuXHJcbiAqIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZmlyZWJhc2UvZmlyZWJhc2UtanMtc2RrL2lzc3Vlcy82ODM4XHJcbiAqL1xyXG5jb25zdCBnZXREZWZhdWx0c0Zyb21FbnZWYXJpYWJsZSA9ICgpID0+IHtcclxuICAgIGlmICh0eXBlb2YgcHJvY2VzcyA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIHByb2Nlc3MuZW52ID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IGRlZmF1bHRzSnNvblN0cmluZyA9IHByb2Nlc3MuZW52Ll9fRklSRUJBU0VfREVGQVVMVFNfXztcclxuICAgIGlmIChkZWZhdWx0c0pzb25TdHJpbmcpIHtcclxuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShkZWZhdWx0c0pzb25TdHJpbmcpO1xyXG4gICAgfVxyXG59O1xyXG5jb25zdCBnZXREZWZhdWx0c0Zyb21Db29raWUgPSAoKSA9PiB7XHJcbiAgICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGxldCBtYXRjaDtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgbWF0Y2ggPSBkb2N1bWVudC5jb29raWUubWF0Y2goL19fRklSRUJBU0VfREVGQVVMVFNfXz0oW147XSspLyk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgIC8vIFNvbWUgZW52aXJvbm1lbnRzIHN1Y2ggYXMgQW5ndWxhciBVbml2ZXJzYWwgU1NSIGhhdmUgYVxyXG4gICAgICAgIC8vIGBkb2N1bWVudGAgb2JqZWN0IGJ1dCBlcnJvciBvbiBhY2Nlc3NpbmcgYGRvY3VtZW50LmNvb2tpZWAuXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZGVjb2RlZCA9IG1hdGNoICYmIGJhc2U2NERlY29kZShtYXRjaFsxXSk7XHJcbiAgICByZXR1cm4gZGVjb2RlZCAmJiBKU09OLnBhcnNlKGRlY29kZWQpO1xyXG59O1xyXG4vKipcclxuICogR2V0IHRoZSBfX0ZJUkVCQVNFX0RFRkFVTFRTX18gb2JqZWN0LiBJdCBjaGVja3MgaW4gb3JkZXI6XHJcbiAqICgxKSBpZiBzdWNoIGFuIG9iamVjdCBleGlzdHMgYXMgYSBwcm9wZXJ0eSBvZiBgZ2xvYmFsVGhpc2BcclxuICogKDIpIGlmIHN1Y2ggYW4gb2JqZWN0IHdhcyBwcm92aWRlZCBvbiBhIHNoZWxsIGVudmlyb25tZW50IHZhcmlhYmxlXHJcbiAqICgzKSBpZiBzdWNoIGFuIG9iamVjdCBleGlzdHMgaW4gYSBjb29raWVcclxuICogQHB1YmxpY1xyXG4gKi9cclxuY29uc3QgZ2V0RGVmYXVsdHMgPSAoKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHJldHVybiAoZ2V0RGVmYXVsdHNGcm9tR2xvYmFsKCkgfHxcclxuICAgICAgICAgICAgZ2V0RGVmYXVsdHNGcm9tRW52VmFyaWFibGUoKSB8fFxyXG4gICAgICAgICAgICBnZXREZWZhdWx0c0Zyb21Db29raWUoKSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIENhdGNoLWFsbCBmb3IgYmVpbmcgdW5hYmxlIHRvIGdldCBfX0ZJUkVCQVNFX0RFRkFVTFRTX18gZHVlXHJcbiAgICAgICAgICogdG8gYW55IGVudmlyb25tZW50IGNhc2Ugd2UgaGF2ZSBub3QgYWNjb3VudGVkIGZvci4gTG9nIHRvXHJcbiAgICAgICAgICogaW5mbyBpbnN0ZWFkIG9mIHN3YWxsb3dpbmcgc28gd2UgY2FuIGZpbmQgdGhlc2UgdW5rbm93biBjYXNlc1xyXG4gICAgICAgICAqIGFuZCBhZGQgcGF0aHMgZm9yIHRoZW0gaWYgbmVlZGVkLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGNvbnNvbGUuaW5mbyhgVW5hYmxlIHRvIGdldCBfX0ZJUkVCQVNFX0RFRkFVTFRTX18gZHVlIHRvOiAke2V9YCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG59O1xyXG4vKipcclxuICogUmV0dXJucyBlbXVsYXRvciBob3N0IHN0b3JlZCBpbiB0aGUgX19GSVJFQkFTRV9ERUZBVUxUU19fIG9iamVjdFxyXG4gKiBmb3IgdGhlIGdpdmVuIHByb2R1Y3QuXHJcbiAqIEByZXR1cm5zIGEgVVJMIGhvc3QgZm9ybWF0dGVkIGxpa2UgYDEyNy4wLjAuMTo5OTk5YCBvciBgWzo6MV06NDAwMGAgaWYgYXZhaWxhYmxlXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmNvbnN0IGdldERlZmF1bHRFbXVsYXRvckhvc3QgPSAocHJvZHVjdE5hbWUpID0+IHsgdmFyIF9hLCBfYjsgcmV0dXJuIChfYiA9IChfYSA9IGdldERlZmF1bHRzKCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5lbXVsYXRvckhvc3RzKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2JbcHJvZHVjdE5hbWVdOyB9O1xyXG4vKipcclxuICogUmV0dXJucyBlbXVsYXRvciBob3N0bmFtZSBhbmQgcG9ydCBzdG9yZWQgaW4gdGhlIF9fRklSRUJBU0VfREVGQVVMVFNfXyBvYmplY3RcclxuICogZm9yIHRoZSBnaXZlbiBwcm9kdWN0LlxyXG4gKiBAcmV0dXJucyBhIHBhaXIgb2YgaG9zdG5hbWUgYW5kIHBvcnQgbGlrZSBgW1wiOjoxXCIsIDQwMDBdYCBpZiBhdmFpbGFibGVcclxuICogQHB1YmxpY1xyXG4gKi9cclxuY29uc3QgZ2V0RGVmYXVsdEVtdWxhdG9ySG9zdG5hbWVBbmRQb3J0ID0gKHByb2R1Y3ROYW1lKSA9PiB7XHJcbiAgICBjb25zdCBob3N0ID0gZ2V0RGVmYXVsdEVtdWxhdG9ySG9zdChwcm9kdWN0TmFtZSk7XHJcbiAgICBpZiAoIWhvc3QpIHtcclxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG4gICAgY29uc3Qgc2VwYXJhdG9ySW5kZXggPSBob3N0Lmxhc3RJbmRleE9mKCc6Jyk7IC8vIEZpbmRpbmcgdGhlIGxhc3Qgc2luY2UgSVB2NiBhZGRyIGFsc28gaGFzIGNvbG9ucy5cclxuICAgIGlmIChzZXBhcmF0b3JJbmRleCA8PSAwIHx8IHNlcGFyYXRvckluZGV4ICsgMSA9PT0gaG9zdC5sZW5ndGgpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgaG9zdCAke2hvc3R9IHdpdGggbm8gc2VwYXJhdGUgaG9zdG5hbWUgYW5kIHBvcnQhYCk7XHJcbiAgICB9XHJcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzXHJcbiAgICBjb25zdCBwb3J0ID0gcGFyc2VJbnQoaG9zdC5zdWJzdHJpbmcoc2VwYXJhdG9ySW5kZXggKyAxKSwgMTApO1xyXG4gICAgaWYgKGhvc3RbMF0gPT09ICdbJykge1xyXG4gICAgICAgIC8vIEJyYWNrZXQtcXVvdGVkIGBbaXB2NmFkZHJdOnBvcnRgID0+IHJldHVybiBcImlwdjZhZGRyXCIgKHdpdGhvdXQgYnJhY2tldHMpLlxyXG4gICAgICAgIHJldHVybiBbaG9zdC5zdWJzdHJpbmcoMSwgc2VwYXJhdG9ySW5kZXggLSAxKSwgcG9ydF07XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gW2hvc3Quc3Vic3RyaW5nKDAsIHNlcGFyYXRvckluZGV4KSwgcG9ydF07XHJcbiAgICB9XHJcbn07XHJcbi8qKlxyXG4gKiBSZXR1cm5zIEZpcmViYXNlIGFwcCBjb25maWcgc3RvcmVkIGluIHRoZSBfX0ZJUkVCQVNFX0RFRkFVTFRTX18gb2JqZWN0LlxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5jb25zdCBnZXREZWZhdWx0QXBwQ29uZmlnID0gKCkgPT4geyB2YXIgX2E7IHJldHVybiAoX2EgPSBnZXREZWZhdWx0cygpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY29uZmlnOyB9O1xyXG4vKipcclxuICogUmV0dXJucyBhbiBleHBlcmltZW50YWwgc2V0dGluZyBvbiB0aGUgX19GSVJFQkFTRV9ERUZBVUxUU19fIG9iamVjdCAocHJvcGVydGllc1xyXG4gKiBwcmVmaXhlZCBieSBcIl9cIilcclxuICogQHB1YmxpY1xyXG4gKi9cclxuY29uc3QgZ2V0RXhwZXJpbWVudGFsU2V0dGluZyA9IChuYW1lKSA9PiB7IHZhciBfYTsgcmV0dXJuIChfYSA9IGdldERlZmF1bHRzKCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYVtgXyR7bmFtZX1gXTsgfTtcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuY2xhc3MgRGVmZXJyZWQge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5yZWplY3QgPSAoKSA9PiB7IH07XHJcbiAgICAgICAgdGhpcy5yZXNvbHZlID0gKCkgPT4geyB9O1xyXG4gICAgICAgIHRoaXMucHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5yZXNvbHZlID0gcmVzb2x2ZTtcclxuICAgICAgICAgICAgdGhpcy5yZWplY3QgPSByZWplY3Q7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIE91ciBBUEkgaW50ZXJuYWxzIGFyZSBub3QgcHJvbWlzZWlmaWVkIGFuZCBjYW5ub3QgYmVjYXVzZSBvdXIgY2FsbGJhY2sgQVBJcyBoYXZlIHN1YnRsZSBleHBlY3RhdGlvbnMgYXJvdW5kXHJcbiAgICAgKiBpbnZva2luZyBwcm9taXNlcyBpbmxpbmUsIHdoaWNoIFByb21pc2VzIGFyZSBmb3JiaWRkZW4gdG8gZG8uIFRoaXMgbWV0aG9kIGFjY2VwdHMgYW4gb3B0aW9uYWwgbm9kZS1zdHlsZSBjYWxsYmFja1xyXG4gICAgICogYW5kIHJldHVybnMgYSBub2RlLXN0eWxlIGNhbGxiYWNrIHdoaWNoIHdpbGwgcmVzb2x2ZSBvciByZWplY3QgdGhlIERlZmVycmVkJ3MgcHJvbWlzZS5cclxuICAgICAqL1xyXG4gICAgd3JhcENhbGxiYWNrKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgcmV0dXJuIChlcnJvciwgdmFsdWUpID0+IHtcclxuICAgICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlamVjdChlcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc29sdmUodmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIC8vIEF0dGFjaGluZyBub29wIGhhbmRsZXIganVzdCBpbiBjYXNlIGRldmVsb3BlciB3YXNuJ3QgZXhwZWN0aW5nXHJcbiAgICAgICAgICAgICAgICAvLyBwcm9taXNlc1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9taXNlLmNhdGNoKCgpID0+IHsgfSk7XHJcbiAgICAgICAgICAgICAgICAvLyBTb21lIG9mIG91ciBjYWxsYmFja3MgZG9uJ3QgZXhwZWN0IGEgdmFsdWUgYW5kIG91ciBvd24gdGVzdHNcclxuICAgICAgICAgICAgICAgIC8vIGFzc2VydCB0aGF0IHRoZSBwYXJhbWV0ZXIgbGVuZ3RoIGlzIDFcclxuICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjay5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnJvcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnJvciwgdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMjEgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVNb2NrVXNlclRva2VuKHRva2VuLCBwcm9qZWN0SWQpIHtcclxuICAgIGlmICh0b2tlbi51aWQpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBcInVpZFwiIGZpZWxkIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQgYnkgbW9ja1VzZXJUb2tlbi4gUGxlYXNlIHVzZSBcInN1YlwiIGluc3RlYWQgZm9yIEZpcmViYXNlIEF1dGggVXNlciBJRC4nKTtcclxuICAgIH1cclxuICAgIC8vIFVuc2VjdXJlZCBKV1RzIHVzZSBcIm5vbmVcIiBhcyB0aGUgYWxnb3JpdGhtLlxyXG4gICAgY29uc3QgaGVhZGVyID0ge1xyXG4gICAgICAgIGFsZzogJ25vbmUnLFxyXG4gICAgICAgIHR5cGU6ICdKV1QnXHJcbiAgICB9O1xyXG4gICAgY29uc3QgcHJvamVjdCA9IHByb2plY3RJZCB8fCAnZGVtby1wcm9qZWN0JztcclxuICAgIGNvbnN0IGlhdCA9IHRva2VuLmlhdCB8fCAwO1xyXG4gICAgY29uc3Qgc3ViID0gdG9rZW4uc3ViIHx8IHRva2VuLnVzZXJfaWQ7XHJcbiAgICBpZiAoIXN1Yikge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIm1vY2tVc2VyVG9rZW4gbXVzdCBjb250YWluICdzdWInIG9yICd1c2VyX2lkJyBmaWVsZCFcIik7XHJcbiAgICB9XHJcbiAgICBjb25zdCBwYXlsb2FkID0gT2JqZWN0LmFzc2lnbih7IFxyXG4gICAgICAgIC8vIFNldCBhbGwgcmVxdWlyZWQgZmllbGRzIHRvIGRlY2VudCBkZWZhdWx0c1xyXG4gICAgICAgIGlzczogYGh0dHBzOi8vc2VjdXJldG9rZW4uZ29vZ2xlLmNvbS8ke3Byb2plY3R9YCwgYXVkOiBwcm9qZWN0LCBpYXQsIGV4cDogaWF0ICsgMzYwMCwgYXV0aF90aW1lOiBpYXQsIHN1YiwgdXNlcl9pZDogc3ViLCBmaXJlYmFzZToge1xyXG4gICAgICAgICAgICBzaWduX2luX3Byb3ZpZGVyOiAnY3VzdG9tJyxcclxuICAgICAgICAgICAgaWRlbnRpdGllczoge31cclxuICAgICAgICB9IH0sIHRva2VuKTtcclxuICAgIC8vIFVuc2VjdXJlZCBKV1RzIHVzZSB0aGUgZW1wdHkgc3RyaW5nIGFzIGEgc2lnbmF0dXJlLlxyXG4gICAgY29uc3Qgc2lnbmF0dXJlID0gJyc7XHJcbiAgICByZXR1cm4gW1xyXG4gICAgICAgIGJhc2U2NHVybEVuY29kZVdpdGhvdXRQYWRkaW5nKEpTT04uc3RyaW5naWZ5KGhlYWRlcikpLFxyXG4gICAgICAgIGJhc2U2NHVybEVuY29kZVdpdGhvdXRQYWRkaW5nKEpTT04uc3RyaW5naWZ5KHBheWxvYWQpKSxcclxuICAgICAgICBzaWduYXR1cmVcclxuICAgIF0uam9pbignLicpO1xyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBSZXR1cm5zIG5hdmlnYXRvci51c2VyQWdlbnQgc3RyaW5nIG9yICcnIGlmIGl0J3Mgbm90IGRlZmluZWQuXHJcbiAqIEByZXR1cm4gdXNlciBhZ2VudCBzdHJpbmdcclxuICovXHJcbmZ1bmN0aW9uIGdldFVBKCkge1xyXG4gICAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmXHJcbiAgICAgICAgdHlwZW9mIG5hdmlnYXRvclsndXNlckFnZW50J10gPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgcmV0dXJuIG5hdmlnYXRvclsndXNlckFnZW50J107XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gJyc7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIERldGVjdCBDb3Jkb3ZhIC8gUGhvbmVHYXAgLyBJb25pYyBmcmFtZXdvcmtzIG9uIGEgbW9iaWxlIGRldmljZS5cclxuICpcclxuICogRGVsaWJlcmF0ZWx5IGRvZXMgbm90IHJlbHkgb24gY2hlY2tpbmcgYGZpbGU6Ly9gIFVSTHMgKGFzIHRoaXMgZmFpbHMgUGhvbmVHYXBcclxuICogaW4gdGhlIFJpcHBsZSBlbXVsYXRvcikgbm9yIENvcmRvdmEgYG9uRGV2aWNlUmVhZHlgLCB3aGljaCB3b3VsZCBub3JtYWxseVxyXG4gKiB3YWl0IGZvciBhIGNhbGxiYWNrLlxyXG4gKi9cclxuZnVuY3Rpb24gaXNNb2JpbGVDb3Jkb3ZhKCkge1xyXG4gICAgcmV0dXJuICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxyXG4gICAgICAgIC8vIEB0cy1pZ25vcmUgU2V0dGluZyB1cCBhbiBicm9hZGx5IGFwcGxpY2FibGUgaW5kZXggc2lnbmF0dXJlIGZvciBXaW5kb3dcclxuICAgICAgICAvLyBqdXN0IHRvIGRlYWwgd2l0aCB0aGlzIGNhc2Ugd291bGQgcHJvYmFibHkgYmUgYSBiYWQgaWRlYS5cclxuICAgICAgICAhISh3aW5kb3dbJ2NvcmRvdmEnXSB8fCB3aW5kb3dbJ3Bob25lZ2FwJ10gfHwgd2luZG93WydQaG9uZUdhcCddKSAmJlxyXG4gICAgICAgIC9pb3N8aXBob25lfGlwb2R8aXBhZHxhbmRyb2lkfGJsYWNrYmVycnl8aWVtb2JpbGUvaS50ZXN0KGdldFVBKCkpKTtcclxufVxyXG4vKipcclxuICogRGV0ZWN0IE5vZGUuanMuXHJcbiAqXHJcbiAqIEByZXR1cm4gdHJ1ZSBpZiBOb2RlLmpzIGVudmlyb25tZW50IGlzIGRldGVjdGVkIG9yIHNwZWNpZmllZC5cclxuICovXHJcbi8vIE5vZGUgZGV0ZWN0aW9uIGxvZ2ljIGZyb206IGh0dHBzOi8vZ2l0aHViLmNvbS9pbGlha2FuL2RldGVjdC1ub2RlL1xyXG5mdW5jdGlvbiBpc05vZGUoKSB7XHJcbiAgICB2YXIgX2E7XHJcbiAgICBjb25zdCBmb3JjZUVudmlyb25tZW50ID0gKF9hID0gZ2V0RGVmYXVsdHMoKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZvcmNlRW52aXJvbm1lbnQ7XHJcbiAgICBpZiAoZm9yY2VFbnZpcm9ubWVudCA9PT0gJ25vZGUnKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChmb3JjZUVudmlyb25tZW50ID09PSAnYnJvd3NlcicpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHJldHVybiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGdsb2JhbC5wcm9jZXNzKSA9PT0gJ1tvYmplY3QgcHJvY2Vzc10nKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBEZXRlY3QgQnJvd3NlciBFbnZpcm9ubWVudFxyXG4gKi9cclxuZnVuY3Rpb24gaXNCcm93c2VyKCkge1xyXG4gICAgcmV0dXJuIHR5cGVvZiBzZWxmID09PSAnb2JqZWN0JyAmJiBzZWxmLnNlbGYgPT09IHNlbGY7XHJcbn1cclxuZnVuY3Rpb24gaXNCcm93c2VyRXh0ZW5zaW9uKCkge1xyXG4gICAgY29uc3QgcnVudGltZSA9IHR5cGVvZiBjaHJvbWUgPT09ICdvYmplY3QnXHJcbiAgICAgICAgPyBjaHJvbWUucnVudGltZVxyXG4gICAgICAgIDogdHlwZW9mIGJyb3dzZXIgPT09ICdvYmplY3QnXHJcbiAgICAgICAgICAgID8gYnJvd3Nlci5ydW50aW1lXHJcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xyXG4gICAgcmV0dXJuIHR5cGVvZiBydW50aW1lID09PSAnb2JqZWN0JyAmJiBydW50aW1lLmlkICE9PSB1bmRlZmluZWQ7XHJcbn1cclxuLyoqXHJcbiAqIERldGVjdCBSZWFjdCBOYXRpdmUuXHJcbiAqXHJcbiAqIEByZXR1cm4gdHJ1ZSBpZiBSZWFjdE5hdGl2ZSBlbnZpcm9ubWVudCBpcyBkZXRlY3RlZC5cclxuICovXHJcbmZ1bmN0aW9uIGlzUmVhY3ROYXRpdmUoKSB7XHJcbiAgICByZXR1cm4gKHR5cGVvZiBuYXZpZ2F0b3IgPT09ICdvYmplY3QnICYmIG5hdmlnYXRvclsncHJvZHVjdCddID09PSAnUmVhY3ROYXRpdmUnKTtcclxufVxyXG4vKiogRGV0ZWN0cyBFbGVjdHJvbiBhcHBzLiAqL1xyXG5mdW5jdGlvbiBpc0VsZWN0cm9uKCkge1xyXG4gICAgcmV0dXJuIGdldFVBKCkuaW5kZXhPZignRWxlY3Ryb24vJykgPj0gMDtcclxufVxyXG4vKiogRGV0ZWN0cyBJbnRlcm5ldCBFeHBsb3Jlci4gKi9cclxuZnVuY3Rpb24gaXNJRSgpIHtcclxuICAgIGNvbnN0IHVhID0gZ2V0VUEoKTtcclxuICAgIHJldHVybiB1YS5pbmRleE9mKCdNU0lFICcpID49IDAgfHwgdWEuaW5kZXhPZignVHJpZGVudC8nKSA+PSAwO1xyXG59XHJcbi8qKiBEZXRlY3RzIFVuaXZlcnNhbCBXaW5kb3dzIFBsYXRmb3JtIGFwcHMuICovXHJcbmZ1bmN0aW9uIGlzVVdQKCkge1xyXG4gICAgcmV0dXJuIGdldFVBKCkuaW5kZXhPZignTVNBcHBIb3N0LycpID49IDA7XHJcbn1cclxuLyoqXHJcbiAqIERldGVjdCB3aGV0aGVyIHRoZSBjdXJyZW50IFNESyBidWlsZCBpcyB0aGUgTm9kZSB2ZXJzaW9uLlxyXG4gKlxyXG4gKiBAcmV0dXJuIHRydWUgaWYgaXQncyB0aGUgTm9kZSBTREsgYnVpbGQuXHJcbiAqL1xyXG5mdW5jdGlvbiBpc05vZGVTZGsoKSB7XHJcbiAgICByZXR1cm4gQ09OU1RBTlRTLk5PREVfQ0xJRU5UID09PSB0cnVlIHx8IENPTlNUQU5UUy5OT0RFX0FETUlOID09PSB0cnVlO1xyXG59XHJcbi8qKiBSZXR1cm5zIHRydWUgaWYgd2UgYXJlIHJ1bm5pbmcgaW4gU2FmYXJpLiAqL1xyXG5mdW5jdGlvbiBpc1NhZmFyaSgpIHtcclxuICAgIHJldHVybiAoIWlzTm9kZSgpICYmXHJcbiAgICAgICAgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmNsdWRlcygnU2FmYXJpJykgJiZcclxuICAgICAgICAhbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmNsdWRlcygnQ2hyb21lJykpO1xyXG59XHJcbi8qKlxyXG4gKiBUaGlzIG1ldGhvZCBjaGVja3MgaWYgaW5kZXhlZERCIGlzIHN1cHBvcnRlZCBieSBjdXJyZW50IGJyb3dzZXIvc2VydmljZSB3b3JrZXIgY29udGV4dFxyXG4gKiBAcmV0dXJuIHRydWUgaWYgaW5kZXhlZERCIGlzIHN1cHBvcnRlZCBieSBjdXJyZW50IGJyb3dzZXIvc2VydmljZSB3b3JrZXIgY29udGV4dFxyXG4gKi9cclxuZnVuY3Rpb24gaXNJbmRleGVkREJBdmFpbGFibGUoKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHJldHVybiB0eXBlb2YgaW5kZXhlZERCID09PSAnb2JqZWN0JztcclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBUaGlzIG1ldGhvZCB2YWxpZGF0ZXMgYnJvd3Nlci9zdyBjb250ZXh0IGZvciBpbmRleGVkREIgYnkgb3BlbmluZyBhIGR1bW15IGluZGV4ZWREQiBkYXRhYmFzZSBhbmQgcmVqZWN0XHJcbiAqIGlmIGVycm9ycyBvY2N1ciBkdXJpbmcgdGhlIGRhdGFiYXNlIG9wZW4gb3BlcmF0aW9uLlxyXG4gKlxyXG4gKiBAdGhyb3dzIGV4Y2VwdGlvbiBpZiBjdXJyZW50IGJyb3dzZXIvc3cgY29udGV4dCBjYW4ndCBydW4gaWRiLm9wZW4gKGV4OiBTYWZhcmkgaWZyYW1lLCBGaXJlZm94XHJcbiAqIHByaXZhdGUgYnJvd3NpbmcpXHJcbiAqL1xyXG5mdW5jdGlvbiB2YWxpZGF0ZUluZGV4ZWREQk9wZW5hYmxlKCkge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgcHJlRXhpc3QgPSB0cnVlO1xyXG4gICAgICAgICAgICBjb25zdCBEQl9DSEVDS19OQU1FID0gJ3ZhbGlkYXRlLWJyb3dzZXItY29udGV4dC1mb3ItaW5kZXhlZGRiLWFuYWx5dGljcy1tb2R1bGUnO1xyXG4gICAgICAgICAgICBjb25zdCByZXF1ZXN0ID0gc2VsZi5pbmRleGVkREIub3BlbihEQl9DSEVDS19OQU1FKTtcclxuICAgICAgICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXF1ZXN0LnJlc3VsdC5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgLy8gZGVsZXRlIGRhdGFiYXNlIG9ubHkgd2hlbiBpdCBkb2Vzbid0IHByZS1leGlzdFxyXG4gICAgICAgICAgICAgICAgaWYgKCFwcmVFeGlzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuaW5kZXhlZERCLmRlbGV0ZURhdGFiYXNlKERCX0NIRUNLX05BTUUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcmVxdWVzdC5vbnVwZ3JhZGVuZWVkZWQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBwcmVFeGlzdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICByZXF1ZXN0Lm9uZXJyb3IgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgICAgICAgICByZWplY3QoKChfYSA9IHJlcXVlc3QuZXJyb3IpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5tZXNzYWdlKSB8fCAnJyk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZWplY3QoZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcbi8qKlxyXG4gKlxyXG4gKiBUaGlzIG1ldGhvZCBjaGVja3Mgd2hldGhlciBjb29raWUgaXMgZW5hYmxlZCB3aXRoaW4gY3VycmVudCBicm93c2VyXHJcbiAqIEByZXR1cm4gdHJ1ZSBpZiBjb29raWUgaXMgZW5hYmxlZCB3aXRoaW4gY3VycmVudCBicm93c2VyXHJcbiAqL1xyXG5mdW5jdGlvbiBhcmVDb29raWVzRW5hYmxlZCgpIHtcclxuICAgIGlmICh0eXBlb2YgbmF2aWdhdG9yID09PSAndW5kZWZpbmVkJyB8fCAhbmF2aWdhdG9yLmNvb2tpZUVuYWJsZWQpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogQGZpbGVvdmVydmlldyBTdGFuZGFyZGl6ZWQgRmlyZWJhc2UgRXJyb3IuXHJcbiAqXHJcbiAqIFVzYWdlOlxyXG4gKlxyXG4gKiAgIC8vIFR5cGVzY3JpcHQgc3RyaW5nIGxpdGVyYWxzIGZvciB0eXBlLXNhZmUgY29kZXNcclxuICogICB0eXBlIEVyciA9XHJcbiAqICAgICAndW5rbm93bicgfFxyXG4gKiAgICAgJ29iamVjdC1ub3QtZm91bmQnXHJcbiAqICAgICA7XHJcbiAqXHJcbiAqICAgLy8gQ2xvc3VyZSBlbnVtIGZvciB0eXBlLXNhZmUgZXJyb3IgY29kZXNcclxuICogICAvLyBhdC1lbnVtIHtzdHJpbmd9XHJcbiAqICAgdmFyIEVyciA9IHtcclxuICogICAgIFVOS05PV046ICd1bmtub3duJyxcclxuICogICAgIE9CSkVDVF9OT1RfRk9VTkQ6ICdvYmplY3Qtbm90LWZvdW5kJyxcclxuICogICB9XHJcbiAqXHJcbiAqICAgbGV0IGVycm9yczogTWFwPEVyciwgc3RyaW5nPiA9IHtcclxuICogICAgICdnZW5lcmljLWVycm9yJzogXCJVbmtub3duIGVycm9yXCIsXHJcbiAqICAgICAnZmlsZS1ub3QtZm91bmQnOiBcIkNvdWxkIG5vdCBmaW5kIGZpbGU6IHskZmlsZX1cIixcclxuICogICB9O1xyXG4gKlxyXG4gKiAgIC8vIFR5cGUtc2FmZSBmdW5jdGlvbiAtIG11c3QgcGFzcyBhIHZhbGlkIGVycm9yIGNvZGUgYXMgcGFyYW0uXHJcbiAqICAgbGV0IGVycm9yID0gbmV3IEVycm9yRmFjdG9yeTxFcnI+KCdzZXJ2aWNlJywgJ1NlcnZpY2UnLCBlcnJvcnMpO1xyXG4gKlxyXG4gKiAgIC4uLlxyXG4gKiAgIHRocm93IGVycm9yLmNyZWF0ZShFcnIuR0VORVJJQyk7XHJcbiAqICAgLi4uXHJcbiAqICAgdGhyb3cgZXJyb3IuY3JlYXRlKEVyci5GSUxFX05PVF9GT1VORCwgeydmaWxlJzogZmlsZU5hbWV9KTtcclxuICogICAuLi5cclxuICogICAvLyBTZXJ2aWNlOiBDb3VsZCBub3QgZmlsZSBmaWxlOiBmb28udHh0IChzZXJ2aWNlL2ZpbGUtbm90LWZvdW5kKS5cclxuICpcclxuICogICBjYXRjaCAoZSkge1xyXG4gKiAgICAgYXNzZXJ0KGUubWVzc2FnZSA9PT0gXCJDb3VsZCBub3QgZmluZCBmaWxlOiBmb28udHh0LlwiKTtcclxuICogICAgIGlmICgoZSBhcyBGaXJlYmFzZUVycm9yKT8uY29kZSA9PT0gJ3NlcnZpY2UvZmlsZS1ub3QtZm91bmQnKSB7XHJcbiAqICAgICAgIGNvbnNvbGUubG9nKFwiQ291bGQgbm90IHJlYWQgZmlsZTogXCIgKyBlWydmaWxlJ10pO1xyXG4gKiAgICAgfVxyXG4gKiAgIH1cclxuICovXHJcbmNvbnN0IEVSUk9SX05BTUUgPSAnRmlyZWJhc2VFcnJvcic7XHJcbi8vIEJhc2VkIG9uIGNvZGUgZnJvbTpcclxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvRXJyb3IjQ3VzdG9tX0Vycm9yX1R5cGVzXHJcbmNsYXNzIEZpcmViYXNlRXJyb3IgZXh0ZW5kcyBFcnJvciB7XHJcbiAgICBjb25zdHJ1Y3RvcihcclxuICAgIC8qKiBUaGUgZXJyb3IgY29kZSBmb3IgdGhpcyBlcnJvci4gKi9cclxuICAgIGNvZGUsIG1lc3NhZ2UsIFxyXG4gICAgLyoqIEN1c3RvbSBkYXRhIGZvciB0aGlzIGVycm9yLiAqL1xyXG4gICAgY3VzdG9tRGF0YSkge1xyXG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xyXG4gICAgICAgIHRoaXMuY29kZSA9IGNvZGU7XHJcbiAgICAgICAgdGhpcy5jdXN0b21EYXRhID0gY3VzdG9tRGF0YTtcclxuICAgICAgICAvKiogVGhlIGN1c3RvbSBuYW1lIGZvciBhbGwgRmlyZWJhc2VFcnJvcnMuICovXHJcbiAgICAgICAgdGhpcy5uYW1lID0gRVJST1JfTkFNRTtcclxuICAgICAgICAvLyBGaXggRm9yIEVTNVxyXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9NaWNyb3NvZnQvVHlwZVNjcmlwdC13aWtpL2Jsb2IvbWFzdGVyL0JyZWFraW5nLUNoYW5nZXMubWQjZXh0ZW5kaW5nLWJ1aWx0LWlucy1saWtlLWVycm9yLWFycmF5LWFuZC1tYXAtbWF5LW5vLWxvbmdlci13b3JrXHJcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEZpcmViYXNlRXJyb3IucHJvdG90eXBlKTtcclxuICAgICAgICAvLyBNYWludGFpbnMgcHJvcGVyIHN0YWNrIHRyYWNlIGZvciB3aGVyZSBvdXIgZXJyb3Igd2FzIHRocm93bi5cclxuICAgICAgICAvLyBPbmx5IGF2YWlsYWJsZSBvbiBWOC5cclxuICAgICAgICBpZiAoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpIHtcclxuICAgICAgICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgRXJyb3JGYWN0b3J5LnByb3RvdHlwZS5jcmVhdGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5jbGFzcyBFcnJvckZhY3Rvcnkge1xyXG4gICAgY29uc3RydWN0b3Ioc2VydmljZSwgc2VydmljZU5hbWUsIGVycm9ycykge1xyXG4gICAgICAgIHRoaXMuc2VydmljZSA9IHNlcnZpY2U7XHJcbiAgICAgICAgdGhpcy5zZXJ2aWNlTmFtZSA9IHNlcnZpY2VOYW1lO1xyXG4gICAgICAgIHRoaXMuZXJyb3JzID0gZXJyb3JzO1xyXG4gICAgfVxyXG4gICAgY3JlYXRlKGNvZGUsIC4uLmRhdGEpIHtcclxuICAgICAgICBjb25zdCBjdXN0b21EYXRhID0gZGF0YVswXSB8fCB7fTtcclxuICAgICAgICBjb25zdCBmdWxsQ29kZSA9IGAke3RoaXMuc2VydmljZX0vJHtjb2RlfWA7XHJcbiAgICAgICAgY29uc3QgdGVtcGxhdGUgPSB0aGlzLmVycm9yc1tjb2RlXTtcclxuICAgICAgICBjb25zdCBtZXNzYWdlID0gdGVtcGxhdGUgPyByZXBsYWNlVGVtcGxhdGUodGVtcGxhdGUsIGN1c3RvbURhdGEpIDogJ0Vycm9yJztcclxuICAgICAgICAvLyBTZXJ2aWNlIE5hbWU6IEVycm9yIG1lc3NhZ2UgKHNlcnZpY2UvY29kZSkuXHJcbiAgICAgICAgY29uc3QgZnVsbE1lc3NhZ2UgPSBgJHt0aGlzLnNlcnZpY2VOYW1lfTogJHttZXNzYWdlfSAoJHtmdWxsQ29kZX0pLmA7XHJcbiAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRmlyZWJhc2VFcnJvcihmdWxsQ29kZSwgZnVsbE1lc3NhZ2UsIGN1c3RvbURhdGEpO1xyXG4gICAgICAgIHJldHVybiBlcnJvcjtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiByZXBsYWNlVGVtcGxhdGUodGVtcGxhdGUsIGRhdGEpIHtcclxuICAgIHJldHVybiB0ZW1wbGF0ZS5yZXBsYWNlKFBBVFRFUk4sIChfLCBrZXkpID0+IHtcclxuICAgICAgICBjb25zdCB2YWx1ZSA9IGRhdGFba2V5XTtcclxuICAgICAgICByZXR1cm4gdmFsdWUgIT0gbnVsbCA/IFN0cmluZyh2YWx1ZSkgOiBgPCR7a2V5fT8+YDtcclxuICAgIH0pO1xyXG59XHJcbmNvbnN0IFBBVFRFUk4gPSAvXFx7XFwkKFtefV0rKX0vZztcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIEV2YWx1YXRlcyBhIEpTT04gc3RyaW5nIGludG8gYSBqYXZhc2NyaXB0IG9iamVjdC5cclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IHN0ciBBIHN0cmluZyBjb250YWluaW5nIEpTT04uXHJcbiAqIEByZXR1cm4geyp9IFRoZSBqYXZhc2NyaXB0IG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHNwZWNpZmllZCBKU09OLlxyXG4gKi9cclxuZnVuY3Rpb24ganNvbkV2YWwoc3RyKSB7XHJcbiAgICByZXR1cm4gSlNPTi5wYXJzZShzdHIpO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIEpTT04gcmVwcmVzZW50aW5nIGEgamF2YXNjcmlwdCBvYmplY3QuXHJcbiAqIEBwYXJhbSB7Kn0gZGF0YSBKYXZhc2NyaXB0IG9iamVjdCB0byBiZSBzdHJpbmdpZmllZC5cclxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgSlNPTiBjb250ZW50cyBvZiB0aGUgb2JqZWN0LlxyXG4gKi9cclxuZnVuY3Rpb24gc3RyaW5naWZ5KGRhdGEpIHtcclxuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShkYXRhKTtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogRGVjb2RlcyBhIEZpcmViYXNlIGF1dGguIHRva2VuIGludG8gY29uc3RpdHVlbnQgcGFydHMuXHJcbiAqXHJcbiAqIE5vdGVzOlxyXG4gKiAtIE1heSByZXR1cm4gd2l0aCBpbnZhbGlkIC8gaW5jb21wbGV0ZSBjbGFpbXMgaWYgdGhlcmUncyBubyBuYXRpdmUgYmFzZTY0IGRlY29kaW5nIHN1cHBvcnQuXHJcbiAqIC0gRG9lc24ndCBjaGVjayBpZiB0aGUgdG9rZW4gaXMgYWN0dWFsbHkgdmFsaWQuXHJcbiAqL1xyXG5jb25zdCBkZWNvZGUgPSBmdW5jdGlvbiAodG9rZW4pIHtcclxuICAgIGxldCBoZWFkZXIgPSB7fSwgY2xhaW1zID0ge30sIGRhdGEgPSB7fSwgc2lnbmF0dXJlID0gJyc7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHBhcnRzID0gdG9rZW4uc3BsaXQoJy4nKTtcclxuICAgICAgICBoZWFkZXIgPSBqc29uRXZhbChiYXNlNjREZWNvZGUocGFydHNbMF0pIHx8ICcnKTtcclxuICAgICAgICBjbGFpbXMgPSBqc29uRXZhbChiYXNlNjREZWNvZGUocGFydHNbMV0pIHx8ICcnKTtcclxuICAgICAgICBzaWduYXR1cmUgPSBwYXJ0c1syXTtcclxuICAgICAgICBkYXRhID0gY2xhaW1zWydkJ10gfHwge307XHJcbiAgICAgICAgZGVsZXRlIGNsYWltc1snZCddO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGUpIHsgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBoZWFkZXIsXHJcbiAgICAgICAgY2xhaW1zLFxyXG4gICAgICAgIGRhdGEsXHJcbiAgICAgICAgc2lnbmF0dXJlXHJcbiAgICB9O1xyXG59O1xyXG4vKipcclxuICogRGVjb2RlcyBhIEZpcmViYXNlIGF1dGguIHRva2VuIGFuZCBjaGVja3MgdGhlIHZhbGlkaXR5IG9mIGl0cyB0aW1lLWJhc2VkIGNsYWltcy4gV2lsbCByZXR1cm4gdHJ1ZSBpZiB0aGVcclxuICogdG9rZW4gaXMgd2l0aGluIHRoZSB0aW1lIHdpbmRvdyBhdXRob3JpemVkIGJ5IHRoZSAnbmJmJyAobm90LWJlZm9yZSkgYW5kICdpYXQnIChpc3N1ZWQtYXQpIGNsYWltcy5cclxuICpcclxuICogTm90ZXM6XHJcbiAqIC0gTWF5IHJldHVybiBhIGZhbHNlIG5lZ2F0aXZlIGlmIHRoZXJlJ3Mgbm8gbmF0aXZlIGJhc2U2NCBkZWNvZGluZyBzdXBwb3J0LlxyXG4gKiAtIERvZXNuJ3QgY2hlY2sgaWYgdGhlIHRva2VuIGlzIGFjdHVhbGx5IHZhbGlkLlxyXG4gKi9cclxuY29uc3QgaXNWYWxpZFRpbWVzdGFtcCA9IGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgY29uc3QgY2xhaW1zID0gZGVjb2RlKHRva2VuKS5jbGFpbXM7XHJcbiAgICBjb25zdCBub3cgPSBNYXRoLmZsb29yKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwMCk7XHJcbiAgICBsZXQgdmFsaWRTaW5jZSA9IDAsIHZhbGlkVW50aWwgPSAwO1xyXG4gICAgaWYgKHR5cGVvZiBjbGFpbXMgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgaWYgKGNsYWltcy5oYXNPd25Qcm9wZXJ0eSgnbmJmJykpIHtcclxuICAgICAgICAgICAgdmFsaWRTaW5jZSA9IGNsYWltc1snbmJmJ107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGNsYWltcy5oYXNPd25Qcm9wZXJ0eSgnaWF0JykpIHtcclxuICAgICAgICAgICAgdmFsaWRTaW5jZSA9IGNsYWltc1snaWF0J107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjbGFpbXMuaGFzT3duUHJvcGVydHkoJ2V4cCcpKSB7XHJcbiAgICAgICAgICAgIHZhbGlkVW50aWwgPSBjbGFpbXNbJ2V4cCddO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gdG9rZW4gd2lsbCBleHBpcmUgYWZ0ZXIgMjRoIGJ5IGRlZmF1bHRcclxuICAgICAgICAgICAgdmFsaWRVbnRpbCA9IHZhbGlkU2luY2UgKyA4NjQwMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKCEhbm93ICYmXHJcbiAgICAgICAgISF2YWxpZFNpbmNlICYmXHJcbiAgICAgICAgISF2YWxpZFVudGlsICYmXHJcbiAgICAgICAgbm93ID49IHZhbGlkU2luY2UgJiZcclxuICAgICAgICBub3cgPD0gdmFsaWRVbnRpbCk7XHJcbn07XHJcbi8qKlxyXG4gKiBEZWNvZGVzIGEgRmlyZWJhc2UgYXV0aC4gdG9rZW4gYW5kIHJldHVybnMgaXRzIGlzc3VlZCBhdCB0aW1lIGlmIHZhbGlkLCBudWxsIG90aGVyd2lzZS5cclxuICpcclxuICogTm90ZXM6XHJcbiAqIC0gTWF5IHJldHVybiBudWxsIGlmIHRoZXJlJ3Mgbm8gbmF0aXZlIGJhc2U2NCBkZWNvZGluZyBzdXBwb3J0LlxyXG4gKiAtIERvZXNuJ3QgY2hlY2sgaWYgdGhlIHRva2VuIGlzIGFjdHVhbGx5IHZhbGlkLlxyXG4gKi9cclxuY29uc3QgaXNzdWVkQXRUaW1lID0gZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICBjb25zdCBjbGFpbXMgPSBkZWNvZGUodG9rZW4pLmNsYWltcztcclxuICAgIGlmICh0eXBlb2YgY2xhaW1zID09PSAnb2JqZWN0JyAmJiBjbGFpbXMuaGFzT3duUHJvcGVydHkoJ2lhdCcpKSB7XHJcbiAgICAgICAgcmV0dXJuIGNsYWltc1snaWF0J107XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbDtcclxufTtcclxuLyoqXHJcbiAqIERlY29kZXMgYSBGaXJlYmFzZSBhdXRoLiB0b2tlbiBhbmQgY2hlY2tzIHRoZSB2YWxpZGl0eSBvZiBpdHMgZm9ybWF0LiBFeHBlY3RzIGEgdmFsaWQgaXNzdWVkLWF0IHRpbWUuXHJcbiAqXHJcbiAqIE5vdGVzOlxyXG4gKiAtIE1heSByZXR1cm4gYSBmYWxzZSBuZWdhdGl2ZSBpZiB0aGVyZSdzIG5vIG5hdGl2ZSBiYXNlNjQgZGVjb2Rpbmcgc3VwcG9ydC5cclxuICogLSBEb2Vzbid0IGNoZWNrIGlmIHRoZSB0b2tlbiBpcyBhY3R1YWxseSB2YWxpZC5cclxuICovXHJcbmNvbnN0IGlzVmFsaWRGb3JtYXQgPSBmdW5jdGlvbiAodG9rZW4pIHtcclxuICAgIGNvbnN0IGRlY29kZWQgPSBkZWNvZGUodG9rZW4pLCBjbGFpbXMgPSBkZWNvZGVkLmNsYWltcztcclxuICAgIHJldHVybiAhIWNsYWltcyAmJiB0eXBlb2YgY2xhaW1zID09PSAnb2JqZWN0JyAmJiBjbGFpbXMuaGFzT3duUHJvcGVydHkoJ2lhdCcpO1xyXG59O1xyXG4vKipcclxuICogQXR0ZW1wdHMgdG8gcGVlciBpbnRvIGFuIGF1dGggdG9rZW4gYW5kIGRldGVybWluZSBpZiBpdCdzIGFuIGFkbWluIGF1dGggdG9rZW4gYnkgbG9va2luZyBhdCB0aGUgY2xhaW1zIHBvcnRpb24uXHJcbiAqXHJcbiAqIE5vdGVzOlxyXG4gKiAtIE1heSByZXR1cm4gYSBmYWxzZSBuZWdhdGl2ZSBpZiB0aGVyZSdzIG5vIG5hdGl2ZSBiYXNlNjQgZGVjb2Rpbmcgc3VwcG9ydC5cclxuICogLSBEb2Vzbid0IGNoZWNrIGlmIHRoZSB0b2tlbiBpcyBhY3R1YWxseSB2YWxpZC5cclxuICovXHJcbmNvbnN0IGlzQWRtaW4gPSBmdW5jdGlvbiAodG9rZW4pIHtcclxuICAgIGNvbnN0IGNsYWltcyA9IGRlY29kZSh0b2tlbikuY2xhaW1zO1xyXG4gICAgcmV0dXJuIHR5cGVvZiBjbGFpbXMgPT09ICdvYmplY3QnICYmIGNsYWltc1snYWRtaW4nXSA9PT0gdHJ1ZTtcclxufTtcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuZnVuY3Rpb24gY29udGFpbnMob2JqLCBrZXkpIHtcclxuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpO1xyXG59XHJcbmZ1bmN0aW9uIHNhZmVHZXQob2JqLCBrZXkpIHtcclxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XHJcbiAgICAgICAgcmV0dXJuIG9ialtrZXldO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBpc0VtcHR5KG9iaikge1xyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gb2JqKSB7XHJcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG59XHJcbmZ1bmN0aW9uIG1hcChvYmosIGZuLCBjb250ZXh0T2JqKSB7XHJcbiAgICBjb25zdCByZXMgPSB7fTtcclxuICAgIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xyXG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XHJcbiAgICAgICAgICAgIHJlc1trZXldID0gZm4uY2FsbChjb250ZXh0T2JqLCBvYmpba2V5XSwga2V5LCBvYmopO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiByZXM7XHJcbn1cclxuLyoqXHJcbiAqIERlZXAgZXF1YWwgdHdvIG9iamVjdHMuIFN1cHBvcnQgQXJyYXlzIGFuZCBPYmplY3RzLlxyXG4gKi9cclxuZnVuY3Rpb24gZGVlcEVxdWFsKGEsIGIpIHtcclxuICAgIGlmIChhID09PSBiKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBjb25zdCBhS2V5cyA9IE9iamVjdC5rZXlzKGEpO1xyXG4gICAgY29uc3QgYktleXMgPSBPYmplY3Qua2V5cyhiKTtcclxuICAgIGZvciAoY29uc3QgayBvZiBhS2V5cykge1xyXG4gICAgICAgIGlmICghYktleXMuaW5jbHVkZXMoaykpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBhUHJvcCA9IGFba107XHJcbiAgICAgICAgY29uc3QgYlByb3AgPSBiW2tdO1xyXG4gICAgICAgIGlmIChpc09iamVjdChhUHJvcCkgJiYgaXNPYmplY3QoYlByb3ApKSB7XHJcbiAgICAgICAgICAgIGlmICghZGVlcEVxdWFsKGFQcm9wLCBiUHJvcCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChhUHJvcCAhPT0gYlByb3ApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZvciAoY29uc3QgayBvZiBiS2V5cykge1xyXG4gICAgICAgIGlmICghYUtleXMuaW5jbHVkZXMoaykpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG59XHJcbmZ1bmN0aW9uIGlzT2JqZWN0KHRoaW5nKSB7XHJcbiAgICByZXR1cm4gdGhpbmcgIT09IG51bGwgJiYgdHlwZW9mIHRoaW5nID09PSAnb2JqZWN0JztcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMjIgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogUmVqZWN0cyBpZiB0aGUgZ2l2ZW4gcHJvbWlzZSBkb2Vzbid0IHJlc29sdmUgaW4gdGltZUluTVMgbWlsbGlzZWNvbmRzLlxyXG4gKiBAaW50ZXJuYWxcclxuICovXHJcbmZ1bmN0aW9uIHByb21pc2VXaXRoVGltZW91dChwcm9taXNlLCB0aW1lSW5NUyA9IDIwMDApIHtcclxuICAgIGNvbnN0IGRlZmVycmVkUHJvbWlzZSA9IG5ldyBEZWZlcnJlZCgpO1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiBkZWZlcnJlZFByb21pc2UucmVqZWN0KCd0aW1lb3V0IScpLCB0aW1lSW5NUyk7XHJcbiAgICBwcm9taXNlLnRoZW4oZGVmZXJyZWRQcm9taXNlLnJlc29sdmUsIGRlZmVycmVkUHJvbWlzZS5yZWplY3QpO1xyXG4gICAgcmV0dXJuIGRlZmVycmVkUHJvbWlzZS5wcm9taXNlO1xyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgcXVlcnlzdHJpbmctZm9ybWF0dGVkIHN0cmluZyAoZS5nLiAmYXJnPXZhbCZhcmcyPXZhbDIpIGZyb20gYVxyXG4gKiBwYXJhbXMgb2JqZWN0IChlLmcuIHthcmc6ICd2YWwnLCBhcmcyOiAndmFsMid9KVxyXG4gKiBOb3RlOiBZb3UgbXVzdCBwcmVwZW5kIGl0IHdpdGggPyB3aGVuIGFkZGluZyBpdCB0byBhIFVSTC5cclxuICovXHJcbmZ1bmN0aW9uIHF1ZXJ5c3RyaW5nKHF1ZXJ5c3RyaW5nUGFyYW1zKSB7XHJcbiAgICBjb25zdCBwYXJhbXMgPSBbXTtcclxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHF1ZXJ5c3RyaW5nUGFyYW1zKSkge1xyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgICAgICB2YWx1ZS5mb3JFYWNoKGFycmF5VmFsID0+IHtcclxuICAgICAgICAgICAgICAgIHBhcmFtcy5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChrZXkpICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KGFycmF5VmFsKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcGFyYW1zLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KGtleSkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcGFyYW1zLmxlbmd0aCA/ICcmJyArIHBhcmFtcy5qb2luKCcmJykgOiAnJztcclxufVxyXG4vKipcclxuICogRGVjb2RlcyBhIHF1ZXJ5c3RyaW5nIChlLmcuID9hcmc9dmFsJmFyZzI9dmFsMikgaW50byBhIHBhcmFtcyBvYmplY3RcclxuICogKGUuZy4ge2FyZzogJ3ZhbCcsIGFyZzI6ICd2YWwyJ30pXHJcbiAqL1xyXG5mdW5jdGlvbiBxdWVyeXN0cmluZ0RlY29kZShxdWVyeXN0cmluZykge1xyXG4gICAgY29uc3Qgb2JqID0ge307XHJcbiAgICBjb25zdCB0b2tlbnMgPSBxdWVyeXN0cmluZy5yZXBsYWNlKC9eXFw/LywgJycpLnNwbGl0KCcmJyk7XHJcbiAgICB0b2tlbnMuZm9yRWFjaCh0b2tlbiA9PiB7XHJcbiAgICAgICAgaWYgKHRva2VuKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IFtrZXksIHZhbHVlXSA9IHRva2VuLnNwbGl0KCc9Jyk7XHJcbiAgICAgICAgICAgIG9ialtkZWNvZGVVUklDb21wb25lbnQoa2V5KV0gPSBkZWNvZGVVUklDb21wb25lbnQodmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIG9iajtcclxufVxyXG4vKipcclxuICogRXh0cmFjdCB0aGUgcXVlcnkgc3RyaW5nIHBhcnQgb2YgYSBVUkwsIGluY2x1ZGluZyB0aGUgbGVhZGluZyBxdWVzdGlvbiBtYXJrIChpZiBwcmVzZW50KS5cclxuICovXHJcbmZ1bmN0aW9uIGV4dHJhY3RRdWVyeXN0cmluZyh1cmwpIHtcclxuICAgIGNvbnN0IHF1ZXJ5U3RhcnQgPSB1cmwuaW5kZXhPZignPycpO1xyXG4gICAgaWYgKCFxdWVyeVN0YXJ0KSB7XHJcbiAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZnJhZ21lbnRTdGFydCA9IHVybC5pbmRleE9mKCcjJywgcXVlcnlTdGFydCk7XHJcbiAgICByZXR1cm4gdXJsLnN1YnN0cmluZyhxdWVyeVN0YXJ0LCBmcmFnbWVudFN0YXJ0ID4gMCA/IGZyYWdtZW50U3RhcnQgOiB1bmRlZmluZWQpO1xyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBAZmlsZW92ZXJ2aWV3IFNIQS0xIGNyeXB0b2dyYXBoaWMgaGFzaC5cclxuICogVmFyaWFibGUgbmFtZXMgZm9sbG93IHRoZSBub3RhdGlvbiBpbiBGSVBTIFBVQiAxODAtMzpcclxuICogaHR0cDovL2NzcmMubmlzdC5nb3YvcHVibGljYXRpb25zL2ZpcHMvZmlwczE4MC0zL2ZpcHMxODAtM19maW5hbC5wZGYuXHJcbiAqXHJcbiAqIFVzYWdlOlxyXG4gKiAgIHZhciBzaGExID0gbmV3IHNoYTEoKTtcclxuICogICBzaGExLnVwZGF0ZShieXRlcyk7XHJcbiAqICAgdmFyIGhhc2ggPSBzaGExLmRpZ2VzdCgpO1xyXG4gKlxyXG4gKiBQZXJmb3JtYW5jZTpcclxuICogICBDaHJvbWUgMjM6ICAgfjQwMCBNYml0L3NcclxuICogICBGaXJlZm94IDE2OiAgfjI1MCBNYml0L3NcclxuICpcclxuICovXHJcbi8qKlxyXG4gKiBTSEEtMSBjcnlwdG9ncmFwaGljIGhhc2ggY29uc3RydWN0b3IuXHJcbiAqXHJcbiAqIFRoZSBwcm9wZXJ0aWVzIGRlY2xhcmVkIGhlcmUgYXJlIGRpc2N1c3NlZCBpbiB0aGUgYWJvdmUgYWxnb3JpdGhtIGRvY3VtZW50LlxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQGZpbmFsXHJcbiAqIEBzdHJ1Y3RcclxuICovXHJcbmNsYXNzIFNoYTEge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSG9sZHMgdGhlIHByZXZpb3VzIHZhbHVlcyBvZiBhY2N1bXVsYXRlZCB2YXJpYWJsZXMgYS1lIGluIHRoZSBjb21wcmVzc19cclxuICAgICAgICAgKiBmdW5jdGlvbi5cclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuY2hhaW5fID0gW107XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQSBidWZmZXIgaG9sZGluZyB0aGUgcGFydGlhbGx5IGNvbXB1dGVkIGhhc2ggcmVzdWx0LlxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5idWZfID0gW107XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQW4gYXJyYXkgb2YgODAgYnl0ZXMsIGVhY2ggYSBwYXJ0IG9mIHRoZSBtZXNzYWdlIHRvIGJlIGhhc2hlZC4gIFJlZmVycmVkIHRvXHJcbiAgICAgICAgICogYXMgdGhlIG1lc3NhZ2Ugc2NoZWR1bGUgaW4gdGhlIGRvY3MuXHJcbiAgICAgICAgICogQHByaXZhdGVcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLldfID0gW107XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ29udGFpbnMgZGF0YSBuZWVkZWQgdG8gcGFkIG1lc3NhZ2VzIGxlc3MgdGhhbiA2NCBieXRlcy5cclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMucGFkXyA9IFtdO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBwcml2YXRlIHtudW1iZXJ9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5pbmJ1Zl8gPSAwO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBwcml2YXRlIHtudW1iZXJ9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy50b3RhbF8gPSAwO1xyXG4gICAgICAgIHRoaXMuYmxvY2tTaXplID0gNTEyIC8gODtcclxuICAgICAgICB0aGlzLnBhZF9bMF0gPSAxMjg7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCB0aGlzLmJsb2NrU2l6ZTsgKytpKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFkX1tpXSA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucmVzZXQoKTtcclxuICAgIH1cclxuICAgIHJlc2V0KCkge1xyXG4gICAgICAgIHRoaXMuY2hhaW5fWzBdID0gMHg2NzQ1MjMwMTtcclxuICAgICAgICB0aGlzLmNoYWluX1sxXSA9IDB4ZWZjZGFiODk7XHJcbiAgICAgICAgdGhpcy5jaGFpbl9bMl0gPSAweDk4YmFkY2ZlO1xyXG4gICAgICAgIHRoaXMuY2hhaW5fWzNdID0gMHgxMDMyNTQ3NjtcclxuICAgICAgICB0aGlzLmNoYWluX1s0XSA9IDB4YzNkMmUxZjA7XHJcbiAgICAgICAgdGhpcy5pbmJ1Zl8gPSAwO1xyXG4gICAgICAgIHRoaXMudG90YWxfID0gMDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogSW50ZXJuYWwgY29tcHJlc3MgaGVscGVyIGZ1bmN0aW9uLlxyXG4gICAgICogQHBhcmFtIGJ1ZiBCbG9jayB0byBjb21wcmVzcy5cclxuICAgICAqIEBwYXJhbSBvZmZzZXQgT2Zmc2V0IG9mIHRoZSBibG9jayBpbiB0aGUgYnVmZmVyLlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgY29tcHJlc3NfKGJ1Ziwgb2Zmc2V0KSB7XHJcbiAgICAgICAgaWYgKCFvZmZzZXQpIHtcclxuICAgICAgICAgICAgb2Zmc2V0ID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgVyA9IHRoaXMuV187XHJcbiAgICAgICAgLy8gZ2V0IDE2IGJpZyBlbmRpYW4gd29yZHNcclxuICAgICAgICBpZiAodHlwZW9mIGJ1ZiA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxNjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBUT0RPKHVzZXIpOiBbYnVnIDgxNDAxMjJdIFJlY2VudCB2ZXJzaW9ucyBvZiBTYWZhcmkgZm9yIE1hYyBPUyBhbmQgaU9TXHJcbiAgICAgICAgICAgICAgICAvLyBoYXZlIGEgYnVnIHRoYXQgdHVybnMgdGhlIHBvc3QtaW5jcmVtZW50ICsrIG9wZXJhdG9yIGludG8gcHJlLWluY3JlbWVudFxyXG4gICAgICAgICAgICAgICAgLy8gZHVyaW5nIEpJVCBjb21waWxhdGlvbi4gIFdlIGhhdmUgY29kZSB0aGF0IGRlcGVuZHMgaGVhdmlseSBvbiBTSEEtMSBmb3JcclxuICAgICAgICAgICAgICAgIC8vIGNvcnJlY3RuZXNzIGFuZCB3aGljaCBpcyBhZmZlY3RlZCBieSB0aGlzIGJ1Zywgc28gSSd2ZSByZW1vdmVkIGFsbCB1c2VzXHJcbiAgICAgICAgICAgICAgICAvLyBvZiBwb3N0LWluY3JlbWVudCArKyBpbiB3aGljaCB0aGUgcmVzdWx0IHZhbHVlIGlzIHVzZWQuICBXZSBjYW4gcmV2ZXJ0XHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzIGNoYW5nZSBvbmNlIHRoZSBTYWZhcmkgYnVnXHJcbiAgICAgICAgICAgICAgICAvLyAoaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTEwOTAzNikgaGFzIGJlZW4gZml4ZWQgYW5kXHJcbiAgICAgICAgICAgICAgICAvLyBtb3N0IGNsaWVudHMgaGF2ZSBiZWVuIHVwZGF0ZWQuXHJcbiAgICAgICAgICAgICAgICBXW2ldID1cclxuICAgICAgICAgICAgICAgICAgICAoYnVmLmNoYXJDb2RlQXQob2Zmc2V0KSA8PCAyNCkgfFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoYnVmLmNoYXJDb2RlQXQob2Zmc2V0ICsgMSkgPDwgMTYpIHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgKGJ1Zi5jaGFyQ29kZUF0KG9mZnNldCArIDIpIDw8IDgpIHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnVmLmNoYXJDb2RlQXQob2Zmc2V0ICsgMyk7XHJcbiAgICAgICAgICAgICAgICBvZmZzZXQgKz0gNDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxNjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBXW2ldID1cclxuICAgICAgICAgICAgICAgICAgICAoYnVmW29mZnNldF0gPDwgMjQpIHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgKGJ1ZltvZmZzZXQgKyAxXSA8PCAxNikgfFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoYnVmW29mZnNldCArIDJdIDw8IDgpIHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnVmW29mZnNldCArIDNdO1xyXG4gICAgICAgICAgICAgICAgb2Zmc2V0ICs9IDQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gZXhwYW5kIHRvIDgwIHdvcmRzXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDE2OyBpIDwgODA7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCB0ID0gV1tpIC0gM10gXiBXW2kgLSA4XSBeIFdbaSAtIDE0XSBeIFdbaSAtIDE2XTtcclxuICAgICAgICAgICAgV1tpXSA9ICgodCA8PCAxKSB8ICh0ID4+PiAzMSkpICYgMHhmZmZmZmZmZjtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGEgPSB0aGlzLmNoYWluX1swXTtcclxuICAgICAgICBsZXQgYiA9IHRoaXMuY2hhaW5fWzFdO1xyXG4gICAgICAgIGxldCBjID0gdGhpcy5jaGFpbl9bMl07XHJcbiAgICAgICAgbGV0IGQgPSB0aGlzLmNoYWluX1szXTtcclxuICAgICAgICBsZXQgZSA9IHRoaXMuY2hhaW5fWzRdO1xyXG4gICAgICAgIGxldCBmLCBrO1xyXG4gICAgICAgIC8vIFRPRE8odXNlcik6IFRyeSB0byB1bnJvbGwgdGhpcyBsb29wIHRvIHNwZWVkIHVwIHRoZSBjb21wdXRhdGlvbi5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDgwOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGkgPCA0MCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGkgPCAyMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGYgPSBkIF4gKGIgJiAoYyBeIGQpKTtcclxuICAgICAgICAgICAgICAgICAgICBrID0gMHg1YTgyNzk5OTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGYgPSBiIF4gYyBeIGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgayA9IDB4NmVkOWViYTE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaSA8IDYwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZiA9IChiICYgYykgfCAoZCAmIChiIHwgYykpO1xyXG4gICAgICAgICAgICAgICAgICAgIGsgPSAweDhmMWJiY2RjO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZiA9IGIgXiBjIF4gZDtcclxuICAgICAgICAgICAgICAgICAgICBrID0gMHhjYTYyYzFkNjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB0ID0gKCgoYSA8PCA1KSB8IChhID4+PiAyNykpICsgZiArIGUgKyBrICsgV1tpXSkgJiAweGZmZmZmZmZmO1xyXG4gICAgICAgICAgICBlID0gZDtcclxuICAgICAgICAgICAgZCA9IGM7XHJcbiAgICAgICAgICAgIGMgPSAoKGIgPDwgMzApIHwgKGIgPj4+IDIpKSAmIDB4ZmZmZmZmZmY7XHJcbiAgICAgICAgICAgIGIgPSBhO1xyXG4gICAgICAgICAgICBhID0gdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jaGFpbl9bMF0gPSAodGhpcy5jaGFpbl9bMF0gKyBhKSAmIDB4ZmZmZmZmZmY7XHJcbiAgICAgICAgdGhpcy5jaGFpbl9bMV0gPSAodGhpcy5jaGFpbl9bMV0gKyBiKSAmIDB4ZmZmZmZmZmY7XHJcbiAgICAgICAgdGhpcy5jaGFpbl9bMl0gPSAodGhpcy5jaGFpbl9bMl0gKyBjKSAmIDB4ZmZmZmZmZmY7XHJcbiAgICAgICAgdGhpcy5jaGFpbl9bM10gPSAodGhpcy5jaGFpbl9bM10gKyBkKSAmIDB4ZmZmZmZmZmY7XHJcbiAgICAgICAgdGhpcy5jaGFpbl9bNF0gPSAodGhpcy5jaGFpbl9bNF0gKyBlKSAmIDB4ZmZmZmZmZmY7XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoYnl0ZXMsIGxlbmd0aCkge1xyXG4gICAgICAgIC8vIFRPRE8oam9obmxlbnopOiB0aWdodGVuIHRoZSBmdW5jdGlvbiBzaWduYXR1cmUgYW5kIHJlbW92ZSB0aGlzIGNoZWNrXHJcbiAgICAgICAgaWYgKGJ5dGVzID09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgbGVuZ3RoID0gYnl0ZXMubGVuZ3RoO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBsZW5ndGhNaW51c0Jsb2NrID0gbGVuZ3RoIC0gdGhpcy5ibG9ja1NpemU7XHJcbiAgICAgICAgbGV0IG4gPSAwO1xyXG4gICAgICAgIC8vIFVzaW5nIGxvY2FsIGluc3RlYWQgb2YgbWVtYmVyIHZhcmlhYmxlcyBnaXZlcyB+NSUgc3BlZWR1cCBvbiBGaXJlZm94IDE2LlxyXG4gICAgICAgIGNvbnN0IGJ1ZiA9IHRoaXMuYnVmXztcclxuICAgICAgICBsZXQgaW5idWYgPSB0aGlzLmluYnVmXztcclxuICAgICAgICAvLyBUaGUgb3V0ZXIgd2hpbGUgbG9vcCBzaG91bGQgZXhlY3V0ZSBhdCBtb3N0IHR3aWNlLlxyXG4gICAgICAgIHdoaWxlIChuIDwgbGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgaGF2ZSBubyBkYXRhIGluIHRoZSBibG9jayB0byB0b3AgdXAsIHdlIGNhbiBkaXJlY3RseSBwcm9jZXNzIHRoZVxyXG4gICAgICAgICAgICAvLyBpbnB1dCBidWZmZXIgKGFzc3VtaW5nIGl0IGNvbnRhaW5zIHN1ZmZpY2llbnQgZGF0YSkuIFRoaXMgZ2l2ZXMgfjI1JVxyXG4gICAgICAgICAgICAvLyBzcGVlZHVwIG9uIENocm9tZSAyMyBhbmQgfjE1JSBzcGVlZHVwIG9uIEZpcmVmb3ggMTYsIGJ1dCByZXF1aXJlcyB0aGF0XHJcbiAgICAgICAgICAgIC8vIHRoZSBkYXRhIGlzIHByb3ZpZGVkIGluIGxhcmdlIGNodW5rcyAob3IgaW4gbXVsdGlwbGVzIG9mIDY0IGJ5dGVzKS5cclxuICAgICAgICAgICAgaWYgKGluYnVmID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAobiA8PSBsZW5ndGhNaW51c0Jsb2NrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wcmVzc18oYnl0ZXMsIG4pO1xyXG4gICAgICAgICAgICAgICAgICAgIG4gKz0gdGhpcy5ibG9ja1NpemU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBieXRlcyA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChuIDwgbGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnVmW2luYnVmXSA9IGJ5dGVzLmNoYXJDb2RlQXQobik7XHJcbiAgICAgICAgICAgICAgICAgICAgKytpbmJ1ZjtcclxuICAgICAgICAgICAgICAgICAgICArK247XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluYnVmID09PSB0aGlzLmJsb2NrU2l6ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXByZXNzXyhidWYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmJ1ZiA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEp1bXAgdG8gdGhlIG91dGVyIGxvb3Agc28gd2UgdXNlIHRoZSBmdWxsLWJsb2NrIG9wdGltaXphdGlvbi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKG4gPCBsZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBidWZbaW5idWZdID0gYnl0ZXNbbl07XHJcbiAgICAgICAgICAgICAgICAgICAgKytpbmJ1ZjtcclxuICAgICAgICAgICAgICAgICAgICArK247XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluYnVmID09PSB0aGlzLmJsb2NrU2l6ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXByZXNzXyhidWYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmJ1ZiA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEp1bXAgdG8gdGhlIG91dGVyIGxvb3Agc28gd2UgdXNlIHRoZSBmdWxsLWJsb2NrIG9wdGltaXphdGlvbi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaW5idWZfID0gaW5idWY7XHJcbiAgICAgICAgdGhpcy50b3RhbF8gKz0gbGVuZ3RoO1xyXG4gICAgfVxyXG4gICAgLyoqIEBvdmVycmlkZSAqL1xyXG4gICAgZGlnZXN0KCkge1xyXG4gICAgICAgIGNvbnN0IGRpZ2VzdCA9IFtdO1xyXG4gICAgICAgIGxldCB0b3RhbEJpdHMgPSB0aGlzLnRvdGFsXyAqIDg7XHJcbiAgICAgICAgLy8gQWRkIHBhZCAweDgwIDB4MDAqLlxyXG4gICAgICAgIGlmICh0aGlzLmluYnVmXyA8IDU2KSB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKHRoaXMucGFkXywgNTYgLSB0aGlzLmluYnVmXyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSh0aGlzLnBhZF8sIHRoaXMuYmxvY2tTaXplIC0gKHRoaXMuaW5idWZfIC0gNTYpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQWRkICMgYml0cy5cclxuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5ibG9ja1NpemUgLSAxOyBpID49IDU2OyBpLS0pIHtcclxuICAgICAgICAgICAgdGhpcy5idWZfW2ldID0gdG90YWxCaXRzICYgMjU1O1xyXG4gICAgICAgICAgICB0b3RhbEJpdHMgLz0gMjU2OyAvLyBEb24ndCB1c2UgYml0LXNoaWZ0aW5nIGhlcmUhXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY29tcHJlc3NfKHRoaXMuYnVmXyk7XHJcbiAgICAgICAgbGV0IG4gPSAwO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNTsgaSsrKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAyNDsgaiA+PSAwOyBqIC09IDgpIHtcclxuICAgICAgICAgICAgICAgIGRpZ2VzdFtuXSA9ICh0aGlzLmNoYWluX1tpXSA+PiBqKSAmIDI1NTtcclxuICAgICAgICAgICAgICAgICsrbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZGlnZXN0O1xyXG4gICAgfVxyXG59XG5cbi8qKlxyXG4gKiBIZWxwZXIgdG8gbWFrZSBhIFN1YnNjcmliZSBmdW5jdGlvbiAoanVzdCBsaWtlIFByb21pc2UgaGVscHMgbWFrZSBhXHJcbiAqIFRoZW5hYmxlKS5cclxuICpcclxuICogQHBhcmFtIGV4ZWN1dG9yIEZ1bmN0aW9uIHdoaWNoIGNhbiBtYWtlIGNhbGxzIHRvIGEgc2luZ2xlIE9ic2VydmVyXHJcbiAqICAgICBhcyBhIHByb3h5LlxyXG4gKiBAcGFyYW0gb25Ob09ic2VydmVycyBDYWxsYmFjayB3aGVuIGNvdW50IG9mIE9ic2VydmVycyBnb2VzIHRvIHplcm8uXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVTdWJzY3JpYmUoZXhlY3V0b3IsIG9uTm9PYnNlcnZlcnMpIHtcclxuICAgIGNvbnN0IHByb3h5ID0gbmV3IE9ic2VydmVyUHJveHkoZXhlY3V0b3IsIG9uTm9PYnNlcnZlcnMpO1xyXG4gICAgcmV0dXJuIHByb3h5LnN1YnNjcmliZS5iaW5kKHByb3h5KTtcclxufVxyXG4vKipcclxuICogSW1wbGVtZW50IGZhbi1vdXQgZm9yIGFueSBudW1iZXIgb2YgT2JzZXJ2ZXJzIGF0dGFjaGVkIHZpYSBhIHN1YnNjcmliZVxyXG4gKiBmdW5jdGlvbi5cclxuICovXHJcbmNsYXNzIE9ic2VydmVyUHJveHkge1xyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0gZXhlY3V0b3IgRnVuY3Rpb24gd2hpY2ggY2FuIG1ha2UgY2FsbHMgdG8gYSBzaW5nbGUgT2JzZXJ2ZXJcclxuICAgICAqICAgICBhcyBhIHByb3h5LlxyXG4gICAgICogQHBhcmFtIG9uTm9PYnNlcnZlcnMgQ2FsbGJhY2sgd2hlbiBjb3VudCBvZiBPYnNlcnZlcnMgZ29lcyB0byB6ZXJvLlxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihleGVjdXRvciwgb25Ob09ic2VydmVycykge1xyXG4gICAgICAgIHRoaXMub2JzZXJ2ZXJzID0gW107XHJcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZXMgPSBbXTtcclxuICAgICAgICB0aGlzLm9ic2VydmVyQ291bnQgPSAwO1xyXG4gICAgICAgIC8vIE1pY3JvLXRhc2sgc2NoZWR1bGluZyBieSBjYWxsaW5nIHRhc2sudGhlbigpLlxyXG4gICAgICAgIHRoaXMudGFzayA9IFByb21pc2UucmVzb2x2ZSgpO1xyXG4gICAgICAgIHRoaXMuZmluYWxpemVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5vbk5vT2JzZXJ2ZXJzID0gb25Ob09ic2VydmVycztcclxuICAgICAgICAvLyBDYWxsIHRoZSBleGVjdXRvciBhc3luY2hyb25vdXNseSBzbyBzdWJzY3JpYmVycyB0aGF0IGFyZSBjYWxsZWRcclxuICAgICAgICAvLyBzeW5jaHJvbm91c2x5IGFmdGVyIHRoZSBjcmVhdGlvbiBvZiB0aGUgc3Vic2NyaWJlIGZ1bmN0aW9uXHJcbiAgICAgICAgLy8gY2FuIHN0aWxsIHJlY2VpdmUgdGhlIHZlcnkgZmlyc3QgdmFsdWUgZ2VuZXJhdGVkIGluIHRoZSBleGVjdXRvci5cclxuICAgICAgICB0aGlzLnRhc2tcclxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICBleGVjdXRvcih0aGlzKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZXJyb3IoZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBuZXh0KHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5mb3JFYWNoT2JzZXJ2ZXIoKG9ic2VydmVyKSA9PiB7XHJcbiAgICAgICAgICAgIG9ic2VydmVyLm5leHQodmFsdWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZXJyb3IoZXJyb3IpIHtcclxuICAgICAgICB0aGlzLmZvckVhY2hPYnNlcnZlcigob2JzZXJ2ZXIpID0+IHtcclxuICAgICAgICAgICAgb2JzZXJ2ZXIuZXJyb3IoZXJyb3IpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuY2xvc2UoZXJyb3IpO1xyXG4gICAgfVxyXG4gICAgY29tcGxldGUoKSB7XHJcbiAgICAgICAgdGhpcy5mb3JFYWNoT2JzZXJ2ZXIoKG9ic2VydmVyKSA9PiB7XHJcbiAgICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTdWJzY3JpYmUgZnVuY3Rpb24gdGhhdCBjYW4gYmUgdXNlZCB0byBhZGQgYW4gT2JzZXJ2ZXIgdG8gdGhlIGZhbi1vdXQgbGlzdC5cclxuICAgICAqXHJcbiAgICAgKiAtIFdlIHJlcXVpcmUgdGhhdCBubyBldmVudCBpcyBzZW50IHRvIGEgc3Vic2NyaWJlciBzeWNocm9ub3VzbHkgdG8gdGhlaXJcclxuICAgICAqICAgY2FsbCB0byBzdWJzY3JpYmUoKS5cclxuICAgICAqL1xyXG4gICAgc3Vic2NyaWJlKG5leHRPck9ic2VydmVyLCBlcnJvciwgY29tcGxldGUpIHtcclxuICAgICAgICBsZXQgb2JzZXJ2ZXI7XHJcbiAgICAgICAgaWYgKG5leHRPck9ic2VydmVyID09PSB1bmRlZmluZWQgJiZcclxuICAgICAgICAgICAgZXJyb3IgPT09IHVuZGVmaW5lZCAmJlxyXG4gICAgICAgICAgICBjb21wbGV0ZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBPYnNlcnZlci4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQXNzZW1ibGUgYW4gT2JzZXJ2ZXIgb2JqZWN0IHdoZW4gcGFzc2VkIGFzIGNhbGxiYWNrIGZ1bmN0aW9ucy5cclxuICAgICAgICBpZiAoaW1wbGVtZW50c0FueU1ldGhvZHMobmV4dE9yT2JzZXJ2ZXIsIFtcclxuICAgICAgICAgICAgJ25leHQnLFxyXG4gICAgICAgICAgICAnZXJyb3InLFxyXG4gICAgICAgICAgICAnY29tcGxldGUnXHJcbiAgICAgICAgXSkpIHtcclxuICAgICAgICAgICAgb2JzZXJ2ZXIgPSBuZXh0T3JPYnNlcnZlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG9ic2VydmVyID0ge1xyXG4gICAgICAgICAgICAgICAgbmV4dDogbmV4dE9yT2JzZXJ2ZXIsXHJcbiAgICAgICAgICAgICAgICBlcnJvcixcclxuICAgICAgICAgICAgICAgIGNvbXBsZXRlXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvYnNlcnZlci5uZXh0ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dCA9IG5vb3A7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvYnNlcnZlci5lcnJvciA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIG9ic2VydmVyLmVycm9yID0gbm9vcDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG9ic2VydmVyLmNvbXBsZXRlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUgPSBub29wO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB1bnN1YiA9IHRoaXMudW5zdWJzY3JpYmVPbmUuYmluZCh0aGlzLCB0aGlzLm9ic2VydmVycy5sZW5ndGgpO1xyXG4gICAgICAgIC8vIEF0dGVtcHQgdG8gc3Vic2NyaWJlIHRvIGEgdGVybWluYXRlZCBPYnNlcnZhYmxlIC0gd2VcclxuICAgICAgICAvLyBqdXN0IHJlc3BvbmQgdG8gdGhlIE9ic2VydmVyIHdpdGggdGhlIGZpbmFsIGVycm9yIG9yIGNvbXBsZXRlXHJcbiAgICAgICAgLy8gZXZlbnQuXHJcbiAgICAgICAgaWYgKHRoaXMuZmluYWxpemVkKSB7XHJcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZmxvYXRpbmctcHJvbWlzZXNcclxuICAgICAgICAgICAgdGhpcy50YXNrLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5maW5hbEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLmVycm9yKHRoaXMuZmluYWxFcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5jb21wbGV0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbm90aGluZ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5vYnNlcnZlcnMucHVzaChvYnNlcnZlcik7XHJcbiAgICAgICAgcmV0dXJuIHVuc3ViO1xyXG4gICAgfVxyXG4gICAgLy8gVW5zdWJzY3JpYmUgaXMgc3luY2hyb25vdXMgLSB3ZSBndWFyYW50ZWUgdGhhdCBubyBldmVudHMgYXJlIHNlbnQgdG9cclxuICAgIC8vIGFueSB1bnN1YnNjcmliZWQgT2JzZXJ2ZXIuXHJcbiAgICB1bnN1YnNjcmliZU9uZShpKSB7XHJcbiAgICAgICAgaWYgKHRoaXMub2JzZXJ2ZXJzID09PSB1bmRlZmluZWQgfHwgdGhpcy5vYnNlcnZlcnNbaV0gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRlbGV0ZSB0aGlzLm9ic2VydmVyc1tpXTtcclxuICAgICAgICB0aGlzLm9ic2VydmVyQ291bnQgLT0gMTtcclxuICAgICAgICBpZiAodGhpcy5vYnNlcnZlckNvdW50ID09PSAwICYmIHRoaXMub25Ob09ic2VydmVycyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMub25Ob09ic2VydmVycyh0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmb3JFYWNoT2JzZXJ2ZXIoZm4pIHtcclxuICAgICAgICBpZiAodGhpcy5maW5hbGl6ZWQpIHtcclxuICAgICAgICAgICAgLy8gQWxyZWFkeSBjbG9zZWQgYnkgcHJldmlvdXMgZXZlbnQuLi4uanVzdCBlYXQgdGhlIGFkZGl0aW9uYWwgdmFsdWVzLlxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFNpbmNlIHNlbmRPbmUgY2FsbHMgYXN5bmNocm9ub3VzbHkgLSB0aGVyZSBpcyBubyBjaGFuY2UgdGhhdFxyXG4gICAgICAgIC8vIHRoaXMub2JzZXJ2ZXJzIHdpbGwgYmVjb21lIHVuZGVmaW5lZC5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMub2JzZXJ2ZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VuZE9uZShpLCBmbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gQ2FsbCB0aGUgT2JzZXJ2ZXIgdmlhIG9uZSBvZiBpdCdzIGNhbGxiYWNrIGZ1bmN0aW9uLiBXZSBhcmUgY2FyZWZ1bCB0b1xyXG4gICAgLy8gY29uZmlybSB0aGF0IHRoZSBvYnNlcnZlIGhhcyBub3QgYmVlbiB1bnN1YnNjcmliZWQgc2luY2UgdGhpcyBhc3luY2hyb25vdXNcclxuICAgIC8vIGZ1bmN0aW9uIGhhZCBiZWVuIHF1ZXVlZC5cclxuICAgIHNlbmRPbmUoaSwgZm4pIHtcclxuICAgICAgICAvLyBFeGVjdXRlIHRoZSBjYWxsYmFjayBhc3luY2hyb25vdXNseVxyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZmxvYXRpbmctcHJvbWlzZXNcclxuICAgICAgICB0aGlzLnRhc2sudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9ic2VydmVycyAhPT0gdW5kZWZpbmVkICYmIHRoaXMub2JzZXJ2ZXJzW2ldICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm4odGhpcy5vYnNlcnZlcnNbaV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBJZ25vcmUgZXhjZXB0aW9ucyByYWlzZWQgaW4gT2JzZXJ2ZXJzIG9yIG1pc3NpbmcgbWV0aG9kcyBvZiBhblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIE9ic2VydmVyLlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIExvZyBlcnJvciB0byBjb25zb2xlLiBiLzMxNDA0ODA2XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJyAmJiBjb25zb2xlLmVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBjbG9zZShlcnIpIHtcclxuICAgICAgICBpZiAodGhpcy5maW5hbGl6ZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmZpbmFsaXplZCA9IHRydWU7XHJcbiAgICAgICAgaWYgKGVyciAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZmluYWxFcnJvciA9IGVycjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gUHJveHkgaXMgbm8gbG9uZ2VyIG5lZWRlZCAtIGdhcmJhZ2UgY29sbGVjdCByZWZlcmVuY2VzXHJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1mbG9hdGluZy1wcm9taXNlc1xyXG4gICAgICAgIHRoaXMudGFzay50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5vYnNlcnZlcnMgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIHRoaXMub25Ob09ic2VydmVycyA9IHVuZGVmaW5lZDtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4vKiogVHVybiBzeW5jaHJvbm91cyBmdW5jdGlvbiBpbnRvIG9uZSBjYWxsZWQgYXN5bmNocm9ub3VzbHkuICovXHJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXR5cGVzXHJcbmZ1bmN0aW9uIGFzeW5jKGZuLCBvbkVycm9yKSB7XHJcbiAgICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcclxuICAgICAgICBQcm9taXNlLnJlc29sdmUodHJ1ZSlcclxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICBmbiguLi5hcmdzKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChvbkVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBvbkVycm9yKGVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxufVxyXG4vKipcclxuICogUmV0dXJuIHRydWUgaWYgdGhlIG9iamVjdCBwYXNzZWQgaW4gaW1wbGVtZW50cyBhbnkgb2YgdGhlIG5hbWVkIG1ldGhvZHMuXHJcbiAqL1xyXG5mdW5jdGlvbiBpbXBsZW1lbnRzQW55TWV0aG9kcyhvYmosIG1ldGhvZHMpIHtcclxuICAgIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JyB8fCBvYmogPT09IG51bGwpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBmb3IgKGNvbnN0IG1ldGhvZCBvZiBtZXRob2RzKSB7XHJcbiAgICAgICAgaWYgKG1ldGhvZCBpbiBvYmogJiYgdHlwZW9mIG9ialttZXRob2RdID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG5mdW5jdGlvbiBub29wKCkge1xyXG4gICAgLy8gZG8gbm90aGluZ1xyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBDaGVjayB0byBtYWtlIHN1cmUgdGhlIGFwcHJvcHJpYXRlIG51bWJlciBvZiBhcmd1bWVudHMgYXJlIHByb3ZpZGVkIGZvciBhIHB1YmxpYyBmdW5jdGlvbi5cclxuICogVGhyb3dzIGFuIGVycm9yIGlmIGl0IGZhaWxzLlxyXG4gKlxyXG4gKiBAcGFyYW0gZm5OYW1lIFRoZSBmdW5jdGlvbiBuYW1lXHJcbiAqIEBwYXJhbSBtaW5Db3VudCBUaGUgbWluaW11bSBudW1iZXIgb2YgYXJndW1lbnRzIHRvIGFsbG93IGZvciB0aGUgZnVuY3Rpb24gY2FsbFxyXG4gKiBAcGFyYW0gbWF4Q291bnQgVGhlIG1heGltdW0gbnVtYmVyIG9mIGFyZ3VtZW50IHRvIGFsbG93IGZvciB0aGUgZnVuY3Rpb24gY2FsbFxyXG4gKiBAcGFyYW0gYXJnQ291bnQgVGhlIGFjdHVhbCBudW1iZXIgb2YgYXJndW1lbnRzIHByb3ZpZGVkLlxyXG4gKi9cclxuY29uc3QgdmFsaWRhdGVBcmdDb3VudCA9IGZ1bmN0aW9uIChmbk5hbWUsIG1pbkNvdW50LCBtYXhDb3VudCwgYXJnQ291bnQpIHtcclxuICAgIGxldCBhcmdFcnJvcjtcclxuICAgIGlmIChhcmdDb3VudCA8IG1pbkNvdW50KSB7XHJcbiAgICAgICAgYXJnRXJyb3IgPSAnYXQgbGVhc3QgJyArIG1pbkNvdW50O1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoYXJnQ291bnQgPiBtYXhDb3VudCkge1xyXG4gICAgICAgIGFyZ0Vycm9yID0gbWF4Q291bnQgPT09IDAgPyAnbm9uZScgOiAnbm8gbW9yZSB0aGFuICcgKyBtYXhDb3VudDtcclxuICAgIH1cclxuICAgIGlmIChhcmdFcnJvcikge1xyXG4gICAgICAgIGNvbnN0IGVycm9yID0gZm5OYW1lICtcclxuICAgICAgICAgICAgJyBmYWlsZWQ6IFdhcyBjYWxsZWQgd2l0aCAnICtcclxuICAgICAgICAgICAgYXJnQ291bnQgK1xyXG4gICAgICAgICAgICAoYXJnQ291bnQgPT09IDEgPyAnIGFyZ3VtZW50LicgOiAnIGFyZ3VtZW50cy4nKSArXHJcbiAgICAgICAgICAgICcgRXhwZWN0cyAnICtcclxuICAgICAgICAgICAgYXJnRXJyb3IgK1xyXG4gICAgICAgICAgICAnLic7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yKTtcclxuICAgIH1cclxufTtcclxuLyoqXHJcbiAqIEdlbmVyYXRlcyBhIHN0cmluZyB0byBwcmVmaXggYW4gZXJyb3IgbWVzc2FnZSBhYm91dCBmYWlsZWQgYXJndW1lbnQgdmFsaWRhdGlvblxyXG4gKlxyXG4gKiBAcGFyYW0gZm5OYW1lIFRoZSBmdW5jdGlvbiBuYW1lXHJcbiAqIEBwYXJhbSBhcmdOYW1lIFRoZSBuYW1lIG9mIHRoZSBhcmd1bWVudFxyXG4gKiBAcmV0dXJuIFRoZSBwcmVmaXggdG8gYWRkIHRvIHRoZSBlcnJvciB0aHJvd24gZm9yIHZhbGlkYXRpb24uXHJcbiAqL1xyXG5mdW5jdGlvbiBlcnJvclByZWZpeChmbk5hbWUsIGFyZ05hbWUpIHtcclxuICAgIHJldHVybiBgJHtmbk5hbWV9IGZhaWxlZDogJHthcmdOYW1lfSBhcmd1bWVudCBgO1xyXG59XHJcbi8qKlxyXG4gKiBAcGFyYW0gZm5OYW1lXHJcbiAqIEBwYXJhbSBhcmd1bWVudE51bWJlclxyXG4gKiBAcGFyYW0gbmFtZXNwYWNlXHJcbiAqIEBwYXJhbSBvcHRpb25hbFxyXG4gKi9cclxuZnVuY3Rpb24gdmFsaWRhdGVOYW1lc3BhY2UoZm5OYW1lLCBuYW1lc3BhY2UsIG9wdGlvbmFsKSB7XHJcbiAgICBpZiAob3B0aW9uYWwgJiYgIW5hbWVzcGFjZSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2YgbmFtZXNwYWNlICE9PSAnc3RyaW5nJykge1xyXG4gICAgICAgIC8vVE9ETzogSSBzaG91bGQgZG8gbW9yZSB2YWxpZGF0aW9uIGhlcmUuIFdlIG9ubHkgYWxsb3cgY2VydGFpbiBjaGFycyBpbiBuYW1lc3BhY2VzLlxyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvclByZWZpeChmbk5hbWUsICduYW1lc3BhY2UnKSArICdtdXN0IGJlIGEgdmFsaWQgZmlyZWJhc2UgbmFtZXNwYWNlLicpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHZhbGlkYXRlQ2FsbGJhY2soZm5OYW1lLCBhcmd1bWVudE5hbWUsIFxyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10eXBlc1xyXG5jYWxsYmFjaywgb3B0aW9uYWwpIHtcclxuICAgIGlmIChvcHRpb25hbCAmJiAhY2FsbGJhY2spIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yUHJlZml4KGZuTmFtZSwgYXJndW1lbnROYW1lKSArICdtdXN0IGJlIGEgdmFsaWQgZnVuY3Rpb24uJyk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gdmFsaWRhdGVDb250ZXh0T2JqZWN0KGZuTmFtZSwgYXJndW1lbnROYW1lLCBjb250ZXh0LCBvcHRpb25hbCkge1xyXG4gICAgaWYgKG9wdGlvbmFsICYmICFjb250ZXh0KSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiBjb250ZXh0ICE9PSAnb2JqZWN0JyB8fCBjb250ZXh0ID09PSBudWxsKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yUHJlZml4KGZuTmFtZSwgYXJndW1lbnROYW1lKSArICdtdXN0IGJlIGEgdmFsaWQgY29udGV4dCBvYmplY3QuJyk7XHJcbiAgICB9XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLy8gQ29kZSBvcmlnaW5hbGx5IGNhbWUgZnJvbSBnb29nLmNyeXB0LnN0cmluZ1RvVXRmOEJ5dGVBcnJheSwgYnV0IGZvciBzb21lIHJlYXNvbiB0aGV5XHJcbi8vIGF1dG9tYXRpY2FsbHkgcmVwbGFjZWQgJ1xcclxcbicgd2l0aCAnXFxuJywgYW5kIHRoZXkgZGlkbid0IGhhbmRsZSBzdXJyb2dhdGUgcGFpcnMsXHJcbi8vIHNvIGl0J3MgYmVlbiBtb2RpZmllZC5cclxuLy8gTm90ZSB0aGF0IG5vdCBhbGwgVW5pY29kZSBjaGFyYWN0ZXJzIGFwcGVhciBhcyBzaW5nbGUgY2hhcmFjdGVycyBpbiBKYXZhU2NyaXB0IHN0cmluZ3MuXHJcbi8vIGZyb21DaGFyQ29kZSByZXR1cm5zIHRoZSBVVEYtMTYgZW5jb2Rpbmcgb2YgYSBjaGFyYWN0ZXIgLSBzbyBzb21lIFVuaWNvZGUgY2hhcmFjdGVyc1xyXG4vLyB1c2UgMiBjaGFyYWN0ZXJzIGluIEphdmFzY3JpcHQuICBBbGwgNC1ieXRlIFVURi04IGNoYXJhY3RlcnMgYmVnaW4gd2l0aCBhIGZpcnN0XHJcbi8vIGNoYXJhY3RlciBpbiB0aGUgcmFuZ2UgMHhEODAwIC0gMHhEQkZGICh0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGEgc28tY2FsbGVkIHN1cnJvZ2F0ZVxyXG4vLyBwYWlyKS5cclxuLy8gU2VlIGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi81LjEvI3NlYy0xNS4xLjNcclxuLyoqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcclxuICogQHJldHVybiB7QXJyYXl9XHJcbiAqL1xyXG5jb25zdCBzdHJpbmdUb0J5dGVBcnJheSA9IGZ1bmN0aW9uIChzdHIpIHtcclxuICAgIGNvbnN0IG91dCA9IFtdO1xyXG4gICAgbGV0IHAgPSAwO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBsZXQgYyA9IHN0ci5jaGFyQ29kZUF0KGkpO1xyXG4gICAgICAgIC8vIElzIHRoaXMgdGhlIGxlYWQgc3Vycm9nYXRlIGluIGEgc3Vycm9nYXRlIHBhaXI/XHJcbiAgICAgICAgaWYgKGMgPj0gMHhkODAwICYmIGMgPD0gMHhkYmZmKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGhpZ2ggPSBjIC0gMHhkODAwOyAvLyB0aGUgaGlnaCAxMCBiaXRzLlxyXG4gICAgICAgICAgICBpKys7XHJcbiAgICAgICAgICAgIGFzc2VydChpIDwgc3RyLmxlbmd0aCwgJ1N1cnJvZ2F0ZSBwYWlyIG1pc3NpbmcgdHJhaWwgc3Vycm9nYXRlLicpO1xyXG4gICAgICAgICAgICBjb25zdCBsb3cgPSBzdHIuY2hhckNvZGVBdChpKSAtIDB4ZGMwMDsgLy8gdGhlIGxvdyAxMCBiaXRzLlxyXG4gICAgICAgICAgICBjID0gMHgxMDAwMCArIChoaWdoIDw8IDEwKSArIGxvdztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGMgPCAxMjgpIHtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSBjO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjIDwgMjA0OCkge1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9IChjID4+IDYpIHwgMTkyO1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9IChjICYgNjMpIHwgMTI4O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjIDwgNjU1MzYpIHtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoYyA+PiAxMikgfCAyMjQ7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKChjID4+IDYpICYgNjMpIHwgMTI4O1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9IChjICYgNjMpIHwgMTI4O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoYyA+PiAxOCkgfCAyNDA7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKChjID4+IDEyKSAmIDYzKSB8IDEyODtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoKGMgPj4gNikgJiA2MykgfCAxMjg7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKGMgJiA2MykgfCAxMjg7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG91dDtcclxufTtcclxuLyoqXHJcbiAqIENhbGN1bGF0ZSBsZW5ndGggd2l0aG91dCBhY3R1YWxseSBjb252ZXJ0aW5nOyB1c2VmdWwgZm9yIGRvaW5nIGNoZWFwZXIgdmFsaWRhdGlvbi5cclxuICogQHBhcmFtIHtzdHJpbmd9IHN0clxyXG4gKiBAcmV0dXJuIHtudW1iZXJ9XHJcbiAqL1xyXG5jb25zdCBzdHJpbmdMZW5ndGggPSBmdW5jdGlvbiAoc3RyKSB7XHJcbiAgICBsZXQgcCA9IDA7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IGMgPSBzdHIuY2hhckNvZGVBdChpKTtcclxuICAgICAgICBpZiAoYyA8IDEyOCkge1xyXG4gICAgICAgICAgICBwKys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGMgPCAyMDQ4KSB7XHJcbiAgICAgICAgICAgIHAgKz0gMjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoYyA+PSAweGQ4MDAgJiYgYyA8PSAweGRiZmYpIHtcclxuICAgICAgICAgICAgLy8gTGVhZCBzdXJyb2dhdGUgb2YgYSBzdXJyb2dhdGUgcGFpci4gIFRoZSBwYWlyIHRvZ2V0aGVyIHdpbGwgdGFrZSA0IGJ5dGVzIHRvIHJlcHJlc2VudC5cclxuICAgICAgICAgICAgcCArPSA0O1xyXG4gICAgICAgICAgICBpKys7IC8vIHNraXAgdHJhaWwgc3Vycm9nYXRlLlxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcCArPSAzO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBwO1xyXG59O1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMjIgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogQ29waWVkIGZyb20gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzIxMTc1MjNcclxuICogR2VuZXJhdGVzIGEgbmV3IHV1aWQuXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmNvbnN0IHV1aWR2NCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiAneHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4Jy5yZXBsYWNlKC9beHldL2csIGMgPT4ge1xyXG4gICAgICAgIGNvbnN0IHIgPSAoTWF0aC5yYW5kb20oKSAqIDE2KSB8IDAsIHYgPSBjID09PSAneCcgPyByIDogKHIgJiAweDMpIHwgMHg4O1xyXG4gICAgICAgIHJldHVybiB2LnRvU3RyaW5nKDE2KTtcclxuICAgIH0pO1xyXG59O1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogVGhlIGFtb3VudCBvZiBtaWxsaXNlY29uZHMgdG8gZXhwb25lbnRpYWxseSBpbmNyZWFzZS5cclxuICovXHJcbmNvbnN0IERFRkFVTFRfSU5URVJWQUxfTUlMTElTID0gMTAwMDtcclxuLyoqXHJcbiAqIFRoZSBmYWN0b3IgdG8gYmFja29mZiBieS5cclxuICogU2hvdWxkIGJlIGEgbnVtYmVyIGdyZWF0ZXIgdGhhbiAxLlxyXG4gKi9cclxuY29uc3QgREVGQVVMVF9CQUNLT0ZGX0ZBQ1RPUiA9IDI7XHJcbi8qKlxyXG4gKiBUaGUgbWF4aW11bSBtaWxsaXNlY29uZHMgdG8gaW5jcmVhc2UgdG8uXHJcbiAqXHJcbiAqIDxwPlZpc2libGUgZm9yIHRlc3RpbmdcclxuICovXHJcbmNvbnN0IE1BWF9WQUxVRV9NSUxMSVMgPSA0ICogNjAgKiA2MCAqIDEwMDA7IC8vIEZvdXIgaG91cnMsIGxpa2UgaU9TIGFuZCBBbmRyb2lkLlxyXG4vKipcclxuICogVGhlIHBlcmNlbnRhZ2Ugb2YgYmFja29mZiB0aW1lIHRvIHJhbmRvbWl6ZSBieS5cclxuICogU2VlXHJcbiAqIGh0dHA6Ly9nby9zYWZlLWNsaWVudC1iZWhhdmlvciNzdGVwLTEtZGV0ZXJtaW5lLXRoZS1hcHByb3ByaWF0ZS1yZXRyeS1pbnRlcnZhbC10by1oYW5kbGUtc3Bpa2UtdHJhZmZpY1xyXG4gKiBmb3IgY29udGV4dC5cclxuICpcclxuICogPHA+VmlzaWJsZSBmb3IgdGVzdGluZ1xyXG4gKi9cclxuY29uc3QgUkFORE9NX0ZBQ1RPUiA9IDAuNTtcclxuLyoqXHJcbiAqIEJhc2VkIG9uIHRoZSBiYWNrb2ZmIG1ldGhvZCBmcm9tXHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvY2xvc3VyZS1saWJyYXJ5L2Jsb2IvbWFzdGVyL2Nsb3N1cmUvZ29vZy9tYXRoL2V4cG9uZW50aWFsYmFja29mZi5qcy5cclxuICogRXh0cmFjdGVkIGhlcmUgc28gd2UgZG9uJ3QgbmVlZCB0byBwYXNzIG1ldGFkYXRhIGFuZCBhIHN0YXRlZnVsIEV4cG9uZW50aWFsQmFja29mZiBvYmplY3QgYXJvdW5kLlxyXG4gKi9cclxuZnVuY3Rpb24gY2FsY3VsYXRlQmFja29mZk1pbGxpcyhiYWNrb2ZmQ291bnQsIGludGVydmFsTWlsbGlzID0gREVGQVVMVF9JTlRFUlZBTF9NSUxMSVMsIGJhY2tvZmZGYWN0b3IgPSBERUZBVUxUX0JBQ0tPRkZfRkFDVE9SKSB7XHJcbiAgICAvLyBDYWxjdWxhdGVzIGFuIGV4cG9uZW50aWFsbHkgaW5jcmVhc2luZyB2YWx1ZS5cclxuICAgIC8vIERldmlhdGlvbjogY2FsY3VsYXRlcyB2YWx1ZSBmcm9tIGNvdW50IGFuZCBhIGNvbnN0YW50IGludGVydmFsLCBzbyB3ZSBvbmx5IG5lZWQgdG8gc2F2ZSB2YWx1ZVxyXG4gICAgLy8gYW5kIGNvdW50IHRvIHJlc3RvcmUgc3RhdGUuXHJcbiAgICBjb25zdCBjdXJyQmFzZVZhbHVlID0gaW50ZXJ2YWxNaWxsaXMgKiBNYXRoLnBvdyhiYWNrb2ZmRmFjdG9yLCBiYWNrb2ZmQ291bnQpO1xyXG4gICAgLy8gQSByYW5kb20gXCJmdXp6XCIgdG8gYXZvaWQgd2F2ZXMgb2YgcmV0cmllcy5cclxuICAgIC8vIERldmlhdGlvbjogcmFuZG9tRmFjdG9yIGlzIHJlcXVpcmVkLlxyXG4gICAgY29uc3QgcmFuZG9tV2FpdCA9IE1hdGgucm91bmQoXHJcbiAgICAvLyBBIGZyYWN0aW9uIG9mIHRoZSBiYWNrb2ZmIHZhbHVlIHRvIGFkZC9zdWJ0cmFjdC5cclxuICAgIC8vIERldmlhdGlvbjogY2hhbmdlcyBtdWx0aXBsaWNhdGlvbiBvcmRlciB0byBpbXByb3ZlIHJlYWRhYmlsaXR5LlxyXG4gICAgUkFORE9NX0ZBQ1RPUiAqXHJcbiAgICAgICAgY3VyckJhc2VWYWx1ZSAqXHJcbiAgICAgICAgLy8gQSByYW5kb20gZmxvYXQgKHJvdW5kZWQgdG8gaW50IGJ5IE1hdGgucm91bmQgYWJvdmUpIGluIHRoZSByYW5nZSBbLTEsIDFdLiBEZXRlcm1pbmVzXHJcbiAgICAgICAgLy8gaWYgd2UgYWRkIG9yIHN1YnRyYWN0LlxyXG4gICAgICAgIChNYXRoLnJhbmRvbSgpIC0gMC41KSAqXHJcbiAgICAgICAgMik7XHJcbiAgICAvLyBMaW1pdHMgYmFja29mZiB0byBtYXggdG8gYXZvaWQgZWZmZWN0aXZlbHkgcGVybWFuZW50IGJhY2tvZmYuXHJcbiAgICByZXR1cm4gTWF0aC5taW4oTUFYX1ZBTFVFX01JTExJUywgY3VyckJhc2VWYWx1ZSArIHJhbmRvbVdhaXQpO1xyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBQcm92aWRlIEVuZ2xpc2ggb3JkaW5hbCBsZXR0ZXJzIGFmdGVyIGEgbnVtYmVyXHJcbiAqL1xyXG5mdW5jdGlvbiBvcmRpbmFsKGkpIHtcclxuICAgIGlmICghTnVtYmVyLmlzRmluaXRlKGkpKSB7XHJcbiAgICAgICAgcmV0dXJuIGAke2l9YDtcclxuICAgIH1cclxuICAgIHJldHVybiBpICsgaW5kaWNhdG9yKGkpO1xyXG59XHJcbmZ1bmN0aW9uIGluZGljYXRvcihpKSB7XHJcbiAgICBpID0gTWF0aC5hYnMoaSk7XHJcbiAgICBjb25zdCBjZW50ID0gaSAlIDEwMDtcclxuICAgIGlmIChjZW50ID49IDEwICYmIGNlbnQgPD0gMjApIHtcclxuICAgICAgICByZXR1cm4gJ3RoJztcclxuICAgIH1cclxuICAgIGNvbnN0IGRlYyA9IGkgJSAxMDtcclxuICAgIGlmIChkZWMgPT09IDEpIHtcclxuICAgICAgICByZXR1cm4gJ3N0JztcclxuICAgIH1cclxuICAgIGlmIChkZWMgPT09IDIpIHtcclxuICAgICAgICByZXR1cm4gJ25kJztcclxuICAgIH1cclxuICAgIGlmIChkZWMgPT09IDMpIHtcclxuICAgICAgICByZXR1cm4gJ3JkJztcclxuICAgIH1cclxuICAgIHJldHVybiAndGgnO1xyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbmZ1bmN0aW9uIGdldE1vZHVsYXJJbnN0YW5jZShzZXJ2aWNlKSB7XHJcbiAgICBpZiAoc2VydmljZSAmJiBzZXJ2aWNlLl9kZWxlZ2F0ZSkge1xyXG4gICAgICAgIHJldHVybiBzZXJ2aWNlLl9kZWxlZ2F0ZTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBzZXJ2aWNlO1xyXG4gICAgfVxyXG59XG5cbmV4cG9ydCB7IENPTlNUQU5UUywgRGVjb2RlQmFzZTY0U3RyaW5nRXJyb3IsIERlZmVycmVkLCBFcnJvckZhY3RvcnksIEZpcmViYXNlRXJyb3IsIE1BWF9WQUxVRV9NSUxMSVMsIFJBTkRPTV9GQUNUT1IsIFNoYTEsIGFyZUNvb2tpZXNFbmFibGVkLCBhc3NlcnQsIGFzc2VydGlvbkVycm9yLCBhc3luYywgYmFzZTY0LCBiYXNlNjREZWNvZGUsIGJhc2U2NEVuY29kZSwgYmFzZTY0dXJsRW5jb2RlV2l0aG91dFBhZGRpbmcsIGNhbGN1bGF0ZUJhY2tvZmZNaWxsaXMsIGNvbnRhaW5zLCBjcmVhdGVNb2NrVXNlclRva2VuLCBjcmVhdGVTdWJzY3JpYmUsIGRlY29kZSwgZGVlcENvcHksIGRlZXBFcXVhbCwgZGVlcEV4dGVuZCwgZXJyb3JQcmVmaXgsIGV4dHJhY3RRdWVyeXN0cmluZywgZ2V0RGVmYXVsdEFwcENvbmZpZywgZ2V0RGVmYXVsdEVtdWxhdG9ySG9zdCwgZ2V0RGVmYXVsdEVtdWxhdG9ySG9zdG5hbWVBbmRQb3J0LCBnZXREZWZhdWx0cywgZ2V0RXhwZXJpbWVudGFsU2V0dGluZywgZ2V0R2xvYmFsLCBnZXRNb2R1bGFySW5zdGFuY2UsIGdldFVBLCBpc0FkbWluLCBpc0Jyb3dzZXIsIGlzQnJvd3NlckV4dGVuc2lvbiwgaXNFbGVjdHJvbiwgaXNFbXB0eSwgaXNJRSwgaXNJbmRleGVkREJBdmFpbGFibGUsIGlzTW9iaWxlQ29yZG92YSwgaXNOb2RlLCBpc05vZGVTZGssIGlzUmVhY3ROYXRpdmUsIGlzU2FmYXJpLCBpc1VXUCwgaXNWYWxpZEZvcm1hdCwgaXNWYWxpZFRpbWVzdGFtcCwgaXNzdWVkQXRUaW1lLCBqc29uRXZhbCwgbWFwLCBvcmRpbmFsLCBwcm9taXNlV2l0aFRpbWVvdXQsIHF1ZXJ5c3RyaW5nLCBxdWVyeXN0cmluZ0RlY29kZSwgc2FmZUdldCwgc3RyaW5nTGVuZ3RoLCBzdHJpbmdUb0J5dGVBcnJheSwgc3RyaW5naWZ5LCB1dWlkdjQsIHZhbGlkYXRlQXJnQ291bnQsIHZhbGlkYXRlQ2FsbGJhY2ssIHZhbGlkYXRlQ29udGV4dE9iamVjdCwgdmFsaWRhdGVJbmRleGVkREJPcGVuYWJsZSwgdmFsaWRhdGVOYW1lc3BhY2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmVzbTIwMTcuanMubWFwXG4iLCJpbXBvcnQgeyBEZWZlcnJlZCB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcblxuLyoqXHJcbiAqIENvbXBvbmVudCBmb3Igc2VydmljZSBuYW1lIFQsIGUuZy4gYGF1dGhgLCBgYXV0aC1pbnRlcm5hbGBcclxuICovXHJcbmNsYXNzIENvbXBvbmVudCB7XHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gbmFtZSBUaGUgcHVibGljIHNlcnZpY2UgbmFtZSwgZS5nLiBhcHAsIGF1dGgsIGZpcmVzdG9yZSwgZGF0YWJhc2VcclxuICAgICAqIEBwYXJhbSBpbnN0YW5jZUZhY3RvcnkgU2VydmljZSBmYWN0b3J5IHJlc3BvbnNpYmxlIGZvciBjcmVhdGluZyB0aGUgcHVibGljIGludGVyZmFjZVxyXG4gICAgICogQHBhcmFtIHR5cGUgd2hldGhlciB0aGUgc2VydmljZSBwcm92aWRlZCBieSB0aGUgY29tcG9uZW50IGlzIHB1YmxpYyBvciBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKG5hbWUsIGluc3RhbmNlRmFjdG9yeSwgdHlwZSkge1xyXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZUZhY3RvcnkgPSBpbnN0YW5jZUZhY3Rvcnk7XHJcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcclxuICAgICAgICB0aGlzLm11bHRpcGxlSW5zdGFuY2VzID0gZmFsc2U7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUHJvcGVydGllcyB0byBiZSBhZGRlZCB0byB0aGUgc2VydmljZSBuYW1lc3BhY2VcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLnNlcnZpY2VQcm9wcyA9IHt9O1xyXG4gICAgICAgIHRoaXMuaW5zdGFudGlhdGlvbk1vZGUgPSBcIkxBWllcIiAvKiBJbnN0YW50aWF0aW9uTW9kZS5MQVpZICovO1xyXG4gICAgICAgIHRoaXMub25JbnN0YW5jZUNyZWF0ZWQgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgc2V0SW5zdGFudGlhdGlvbk1vZGUobW9kZSkge1xyXG4gICAgICAgIHRoaXMuaW5zdGFudGlhdGlvbk1vZGUgPSBtb2RlO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgc2V0TXVsdGlwbGVJbnN0YW5jZXMobXVsdGlwbGVJbnN0YW5jZXMpIHtcclxuICAgICAgICB0aGlzLm11bHRpcGxlSW5zdGFuY2VzID0gbXVsdGlwbGVJbnN0YW5jZXM7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICBzZXRTZXJ2aWNlUHJvcHMocHJvcHMpIHtcclxuICAgICAgICB0aGlzLnNlcnZpY2VQcm9wcyA9IHByb3BzO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgc2V0SW5zdGFuY2VDcmVhdGVkQ2FsbGJhY2soY2FsbGJhY2spIHtcclxuICAgICAgICB0aGlzLm9uSW5zdGFuY2VDcmVhdGVkID0gY2FsbGJhY2s7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuY29uc3QgREVGQVVMVF9FTlRSWV9OQU1FID0gJ1tERUZBVUxUXSc7XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBQcm92aWRlciBmb3IgaW5zdGFuY2UgZm9yIHNlcnZpY2UgbmFtZSBULCBlLmcuICdhdXRoJywgJ2F1dGgtaW50ZXJuYWwnXHJcbiAqIE5hbWVTZXJ2aWNlTWFwcGluZ1tUXSBpcyBhbiBhbGlhcyBmb3IgdGhlIHR5cGUgb2YgdGhlIGluc3RhbmNlXHJcbiAqL1xyXG5jbGFzcyBQcm92aWRlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihuYW1lLCBjb250YWluZXIpIHtcclxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50ID0gbnVsbDtcclxuICAgICAgICB0aGlzLmluc3RhbmNlcyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLmluc3RhbmNlc0RlZmVycmVkID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuaW5zdGFuY2VzT3B0aW9ucyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLm9uSW5pdENhbGxiYWNrcyA9IG5ldyBNYXAoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIGlkZW50aWZpZXIgQSBwcm92aWRlciBjYW4gcHJvdmlkZSBtdWxpdHBsZSBpbnN0YW5jZXMgb2YgYSBzZXJ2aWNlXHJcbiAgICAgKiBpZiB0aGlzLmNvbXBvbmVudC5tdWx0aXBsZUluc3RhbmNlcyBpcyB0cnVlLlxyXG4gICAgICovXHJcbiAgICBnZXQoaWRlbnRpZmllcikge1xyXG4gICAgICAgIC8vIGlmIG11bHRpcGxlSW5zdGFuY2VzIGlzIG5vdCBzdXBwb3J0ZWQsIHVzZSB0aGUgZGVmYXVsdCBuYW1lXHJcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZElkZW50aWZpZXIgPSB0aGlzLm5vcm1hbGl6ZUluc3RhbmNlSWRlbnRpZmllcihpZGVudGlmaWVyKTtcclxuICAgICAgICBpZiAoIXRoaXMuaW5zdGFuY2VzRGVmZXJyZWQuaGFzKG5vcm1hbGl6ZWRJZGVudGlmaWVyKSkge1xyXG4gICAgICAgICAgICBjb25zdCBkZWZlcnJlZCA9IG5ldyBEZWZlcnJlZCgpO1xyXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlc0RlZmVycmVkLnNldChub3JtYWxpemVkSWRlbnRpZmllciwgZGVmZXJyZWQpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pc0luaXRpYWxpemVkKG5vcm1hbGl6ZWRJZGVudGlmaWVyKSB8fFxyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG91bGRBdXRvSW5pdGlhbGl6ZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBpbml0aWFsaXplIHRoZSBzZXJ2aWNlIGlmIGl0IGNhbiBiZSBhdXRvLWluaXRpYWxpemVkXHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGluc3RhbmNlID0gdGhpcy5nZXRPckluaXRpYWxpemVTZXJ2aWNlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2VJZGVudGlmaWVyOiBub3JtYWxpemVkSWRlbnRpZmllclxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHdoZW4gdGhlIGluc3RhbmNlIGZhY3RvcnkgdGhyb3dzIGFuIGV4Y2VwdGlvbiBkdXJpbmcgZ2V0KCksIGl0IHNob3VsZCBub3QgY2F1c2VcclxuICAgICAgICAgICAgICAgICAgICAvLyBhIGZhdGFsIGVycm9yLiBXZSBqdXN0IHJldHVybiB0aGUgdW5yZXNvbHZlZCBwcm9taXNlIGluIHRoaXMgY2FzZS5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZXNEZWZlcnJlZC5nZXQobm9ybWFsaXplZElkZW50aWZpZXIpLnByb21pc2U7XHJcbiAgICB9XHJcbiAgICBnZXRJbW1lZGlhdGUob3B0aW9ucykge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICAvLyBpZiBtdWx0aXBsZUluc3RhbmNlcyBpcyBub3Qgc3VwcG9ydGVkLCB1c2UgdGhlIGRlZmF1bHQgbmFtZVxyXG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRJZGVudGlmaWVyID0gdGhpcy5ub3JtYWxpemVJbnN0YW5jZUlkZW50aWZpZXIob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmlkZW50aWZpZXIpO1xyXG4gICAgICAgIGNvbnN0IG9wdGlvbmFsID0gKF9hID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLm9wdGlvbmFsKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBmYWxzZTtcclxuICAgICAgICBpZiAodGhpcy5pc0luaXRpYWxpemVkKG5vcm1hbGl6ZWRJZGVudGlmaWVyKSB8fFxyXG4gICAgICAgICAgICB0aGlzLnNob3VsZEF1dG9Jbml0aWFsaXplKCkpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldE9ySW5pdGlhbGl6ZVNlcnZpY2Uoe1xyXG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlSWRlbnRpZmllcjogbm9ybWFsaXplZElkZW50aWZpZXJcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9uYWwpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IGU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIEluIGNhc2UgYSBjb21wb25lbnQgaXMgbm90IGluaXRpYWxpemVkIGFuZCBzaG91bGQvY2FuIG5vdCBiZSBhdXRvLWluaXRpYWxpemVkIGF0IHRoZSBtb21lbnQsIHJldHVybiBudWxsIGlmIHRoZSBvcHRpb25hbCBmbGFnIGlzIHNldCwgb3IgdGhyb3dcclxuICAgICAgICAgICAgaWYgKG9wdGlvbmFsKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKGBTZXJ2aWNlICR7dGhpcy5uYW1lfSBpcyBub3QgYXZhaWxhYmxlYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZXRDb21wb25lbnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tcG9uZW50O1xyXG4gICAgfVxyXG4gICAgc2V0Q29tcG9uZW50KGNvbXBvbmVudCkge1xyXG4gICAgICAgIGlmIChjb21wb25lbnQubmFtZSAhPT0gdGhpcy5uYW1lKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKGBNaXNtYXRjaGluZyBDb21wb25lbnQgJHtjb21wb25lbnQubmFtZX0gZm9yIFByb3ZpZGVyICR7dGhpcy5uYW1lfS5gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuY29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKGBDb21wb25lbnQgZm9yICR7dGhpcy5uYW1lfSBoYXMgYWxyZWFkeSBiZWVuIHByb3ZpZGVkYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY29tcG9uZW50ID0gY29tcG9uZW50O1xyXG4gICAgICAgIC8vIHJldHVybiBlYXJseSB3aXRob3V0IGF0dGVtcHRpbmcgdG8gaW5pdGlhbGl6ZSB0aGUgY29tcG9uZW50IGlmIHRoZSBjb21wb25lbnQgcmVxdWlyZXMgZXhwbGljaXQgaW5pdGlhbGl6YXRpb24gKGNhbGxpbmcgYFByb3ZpZGVyLmluaXRpYWxpemUoKWApXHJcbiAgICAgICAgaWYgKCF0aGlzLnNob3VsZEF1dG9Jbml0aWFsaXplKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBpZiB0aGUgc2VydmljZSBpcyBlYWdlciwgaW5pdGlhbGl6ZSB0aGUgZGVmYXVsdCBpbnN0YW5jZVxyXG4gICAgICAgIGlmIChpc0NvbXBvbmVudEVhZ2VyKGNvbXBvbmVudCkpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0T3JJbml0aWFsaXplU2VydmljZSh7IGluc3RhbmNlSWRlbnRpZmllcjogREVGQVVMVF9FTlRSWV9OQU1FIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyB3aGVuIHRoZSBpbnN0YW5jZSBmYWN0b3J5IGZvciBhbiBlYWdlciBDb21wb25lbnQgdGhyb3dzIGFuIGV4Y2VwdGlvbiBkdXJpbmcgdGhlIGVhZ2VyXHJcbiAgICAgICAgICAgICAgICAvLyBpbml0aWFsaXphdGlvbiwgaXQgc2hvdWxkIG5vdCBjYXVzZSBhIGZhdGFsIGVycm9yLlxyXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogSW52ZXN0aWdhdGUgaWYgd2UgbmVlZCB0byBtYWtlIGl0IGNvbmZpZ3VyYWJsZSwgYmVjYXVzZSBzb21lIGNvbXBvbmVudCBtYXkgd2FudCB0byBjYXVzZVxyXG4gICAgICAgICAgICAgICAgLy8gYSBmYXRhbCBlcnJvciBpbiB0aGlzIGNhc2U/XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQ3JlYXRlIHNlcnZpY2UgaW5zdGFuY2VzIGZvciB0aGUgcGVuZGluZyBwcm9taXNlcyBhbmQgcmVzb2x2ZSB0aGVtXHJcbiAgICAgICAgLy8gTk9URTogaWYgdGhpcy5tdWx0aXBsZUluc3RhbmNlcyBpcyBmYWxzZSwgb25seSB0aGUgZGVmYXVsdCBpbnN0YW5jZSB3aWxsIGJlIGNyZWF0ZWRcclxuICAgICAgICAvLyBhbmQgYWxsIHByb21pc2VzIHdpdGggcmVzb2x2ZSB3aXRoIGl0IHJlZ2FyZGxlc3Mgb2YgdGhlIGlkZW50aWZpZXIuXHJcbiAgICAgICAgZm9yIChjb25zdCBbaW5zdGFuY2VJZGVudGlmaWVyLCBpbnN0YW5jZURlZmVycmVkXSBvZiB0aGlzLmluc3RhbmNlc0RlZmVycmVkLmVudHJpZXMoKSkge1xyXG4gICAgICAgICAgICBjb25zdCBub3JtYWxpemVkSWRlbnRpZmllciA9IHRoaXMubm9ybWFsaXplSW5zdGFuY2VJZGVudGlmaWVyKGluc3RhbmNlSWRlbnRpZmllcik7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAvLyBgZ2V0T3JJbml0aWFsaXplU2VydmljZSgpYCBzaG91bGQgYWx3YXlzIHJldHVybiBhIHZhbGlkIGluc3RhbmNlIHNpbmNlIGEgY29tcG9uZW50IGlzIGd1YXJhbnRlZWQuIHVzZSAhIHRvIG1ha2UgdHlwZXNjcmlwdCBoYXBweS5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGluc3RhbmNlID0gdGhpcy5nZXRPckluaXRpYWxpemVTZXJ2aWNlKHtcclxuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZUlkZW50aWZpZXI6IG5vcm1hbGl6ZWRJZGVudGlmaWVyXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlRGVmZXJyZWQucmVzb2x2ZShpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIC8vIHdoZW4gdGhlIGluc3RhbmNlIGZhY3RvcnkgdGhyb3dzIGFuIGV4Y2VwdGlvbiwgaXQgc2hvdWxkIG5vdCBjYXVzZVxyXG4gICAgICAgICAgICAgICAgLy8gYSBmYXRhbCBlcnJvci4gV2UganVzdCBsZWF2ZSB0aGUgcHJvbWlzZSB1bnJlc29sdmVkLlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY2xlYXJJbnN0YW5jZShpZGVudGlmaWVyID0gREVGQVVMVF9FTlRSWV9OQU1FKSB7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZXNEZWZlcnJlZC5kZWxldGUoaWRlbnRpZmllcik7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZXNPcHRpb25zLmRlbGV0ZShpZGVudGlmaWVyKTtcclxuICAgICAgICB0aGlzLmluc3RhbmNlcy5kZWxldGUoaWRlbnRpZmllcik7XHJcbiAgICB9XHJcbiAgICAvLyBhcHAuZGVsZXRlKCkgd2lsbCBjYWxsIHRoaXMgbWV0aG9kIG9uIGV2ZXJ5IHByb3ZpZGVyIHRvIGRlbGV0ZSB0aGUgc2VydmljZXNcclxuICAgIC8vIFRPRE86IHNob3VsZCB3ZSBtYXJrIHRoZSBwcm92aWRlciBhcyBkZWxldGVkP1xyXG4gICAgYXN5bmMgZGVsZXRlKCkge1xyXG4gICAgICAgIGNvbnN0IHNlcnZpY2VzID0gQXJyYXkuZnJvbSh0aGlzLmluc3RhbmNlcy52YWx1ZXMoKSk7XHJcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoW1xyXG4gICAgICAgICAgICAuLi5zZXJ2aWNlc1xyXG4gICAgICAgICAgICAgICAgLmZpbHRlcihzZXJ2aWNlID0+ICdJTlRFUk5BTCcgaW4gc2VydmljZSkgLy8gbGVnYWN5IHNlcnZpY2VzXHJcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxyXG4gICAgICAgICAgICAgICAgLm1hcChzZXJ2aWNlID0+IHNlcnZpY2UuSU5URVJOQUwuZGVsZXRlKCkpLFxyXG4gICAgICAgICAgICAuLi5zZXJ2aWNlc1xyXG4gICAgICAgICAgICAgICAgLmZpbHRlcihzZXJ2aWNlID0+ICdfZGVsZXRlJyBpbiBzZXJ2aWNlKSAvLyBtb2R1bGFyaXplZCBzZXJ2aWNlc1xyXG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxuICAgICAgICAgICAgICAgIC5tYXAoc2VydmljZSA9PiBzZXJ2aWNlLl9kZWxldGUoKSlcclxuICAgICAgICBdKTtcclxuICAgIH1cclxuICAgIGlzQ29tcG9uZW50U2V0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudCAhPSBudWxsO1xyXG4gICAgfVxyXG4gICAgaXNJbml0aWFsaXplZChpZGVudGlmaWVyID0gREVGQVVMVF9FTlRSWV9OQU1FKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2VzLmhhcyhpZGVudGlmaWVyKTtcclxuICAgIH1cclxuICAgIGdldE9wdGlvbnMoaWRlbnRpZmllciA9IERFRkFVTFRfRU5UUllfTkFNRSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlc09wdGlvbnMuZ2V0KGlkZW50aWZpZXIpIHx8IHt9O1xyXG4gICAgfVxyXG4gICAgaW5pdGlhbGl6ZShvcHRzID0ge30pIHtcclxuICAgICAgICBjb25zdCB7IG9wdGlvbnMgPSB7fSB9ID0gb3B0cztcclxuICAgICAgICBjb25zdCBub3JtYWxpemVkSWRlbnRpZmllciA9IHRoaXMubm9ybWFsaXplSW5zdGFuY2VJZGVudGlmaWVyKG9wdHMuaW5zdGFuY2VJZGVudGlmaWVyKTtcclxuICAgICAgICBpZiAodGhpcy5pc0luaXRpYWxpemVkKG5vcm1hbGl6ZWRJZGVudGlmaWVyKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihgJHt0aGlzLm5hbWV9KCR7bm9ybWFsaXplZElkZW50aWZpZXJ9KSBoYXMgYWxyZWFkeSBiZWVuIGluaXRpYWxpemVkYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGhpcy5pc0NvbXBvbmVudFNldCgpKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKGBDb21wb25lbnQgJHt0aGlzLm5hbWV9IGhhcyBub3QgYmVlbiByZWdpc3RlcmVkIHlldGApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IHRoaXMuZ2V0T3JJbml0aWFsaXplU2VydmljZSh7XHJcbiAgICAgICAgICAgIGluc3RhbmNlSWRlbnRpZmllcjogbm9ybWFsaXplZElkZW50aWZpZXIsXHJcbiAgICAgICAgICAgIG9wdGlvbnNcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyByZXNvbHZlIGFueSBwZW5kaW5nIHByb21pc2Ugd2FpdGluZyBmb3IgdGhlIHNlcnZpY2UgaW5zdGFuY2VcclxuICAgICAgICBmb3IgKGNvbnN0IFtpbnN0YW5jZUlkZW50aWZpZXIsIGluc3RhbmNlRGVmZXJyZWRdIG9mIHRoaXMuaW5zdGFuY2VzRGVmZXJyZWQuZW50cmllcygpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWREZWZlcnJlZElkZW50aWZpZXIgPSB0aGlzLm5vcm1hbGl6ZUluc3RhbmNlSWRlbnRpZmllcihpbnN0YW5jZUlkZW50aWZpZXIpO1xyXG4gICAgICAgICAgICBpZiAobm9ybWFsaXplZElkZW50aWZpZXIgPT09IG5vcm1hbGl6ZWREZWZlcnJlZElkZW50aWZpZXIpIHtcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlRGVmZXJyZWQucmVzb2x2ZShpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIC0gYSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgaW52b2tlZCAgYWZ0ZXIgdGhlIHByb3ZpZGVyIGhhcyBiZWVuIGluaXRpYWxpemVkIGJ5IGNhbGxpbmcgcHJvdmlkZXIuaW5pdGlhbGl6ZSgpLlxyXG4gICAgICogVGhlIGZ1bmN0aW9uIGlzIGludm9rZWQgU1lOQ0hST05PVVNMWSwgc28gaXQgc2hvdWxkIG5vdCBleGVjdXRlIGFueSBsb25ncnVubmluZyB0YXNrcyBpbiBvcmRlciB0byBub3QgYmxvY2sgdGhlIHByb2dyYW0uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGlkZW50aWZpZXIgQW4gb3B0aW9uYWwgaW5zdGFuY2UgaWRlbnRpZmllclxyXG4gICAgICogQHJldHVybnMgYSBmdW5jdGlvbiB0byB1bnJlZ2lzdGVyIHRoZSBjYWxsYmFja1xyXG4gICAgICovXHJcbiAgICBvbkluaXQoY2FsbGJhY2ssIGlkZW50aWZpZXIpIHtcclxuICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZElkZW50aWZpZXIgPSB0aGlzLm5vcm1hbGl6ZUluc3RhbmNlSWRlbnRpZmllcihpZGVudGlmaWVyKTtcclxuICAgICAgICBjb25zdCBleGlzdGluZ0NhbGxiYWNrcyA9IChfYSA9IHRoaXMub25Jbml0Q2FsbGJhY2tzLmdldChub3JtYWxpemVkSWRlbnRpZmllcikpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IG5ldyBTZXQoKTtcclxuICAgICAgICBleGlzdGluZ0NhbGxiYWNrcy5hZGQoY2FsbGJhY2spO1xyXG4gICAgICAgIHRoaXMub25Jbml0Q2FsbGJhY2tzLnNldChub3JtYWxpemVkSWRlbnRpZmllciwgZXhpc3RpbmdDYWxsYmFja3MpO1xyXG4gICAgICAgIGNvbnN0IGV4aXN0aW5nSW5zdGFuY2UgPSB0aGlzLmluc3RhbmNlcy5nZXQobm9ybWFsaXplZElkZW50aWZpZXIpO1xyXG4gICAgICAgIGlmIChleGlzdGluZ0luc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKGV4aXN0aW5nSW5zdGFuY2UsIG5vcm1hbGl6ZWRJZGVudGlmaWVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgICAgICAgZXhpc3RpbmdDYWxsYmFja3MuZGVsZXRlKGNhbGxiYWNrKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBJbnZva2Ugb25Jbml0IGNhbGxiYWNrcyBzeW5jaHJvbm91c2x5XHJcbiAgICAgKiBAcGFyYW0gaW5zdGFuY2UgdGhlIHNlcnZpY2UgaW5zdGFuY2VgXHJcbiAgICAgKi9cclxuICAgIGludm9rZU9uSW5pdENhbGxiYWNrcyhpbnN0YW5jZSwgaWRlbnRpZmllcikge1xyXG4gICAgICAgIGNvbnN0IGNhbGxiYWNrcyA9IHRoaXMub25Jbml0Q2FsbGJhY2tzLmdldChpZGVudGlmaWVyKTtcclxuICAgICAgICBpZiAoIWNhbGxiYWNrcykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAoY29uc3QgY2FsbGJhY2sgb2YgY2FsbGJhY2tzKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhpbnN0YW5jZSwgaWRlbnRpZmllcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKF9hKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBpZ25vcmUgZXJyb3JzIGluIHRoZSBvbkluaXQgY2FsbGJhY2tcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGdldE9ySW5pdGlhbGl6ZVNlcnZpY2UoeyBpbnN0YW5jZUlkZW50aWZpZXIsIG9wdGlvbnMgPSB7fSB9KSB7XHJcbiAgICAgICAgbGV0IGluc3RhbmNlID0gdGhpcy5pbnN0YW5jZXMuZ2V0KGluc3RhbmNlSWRlbnRpZmllcik7XHJcbiAgICAgICAgaWYgKCFpbnN0YW5jZSAmJiB0aGlzLmNvbXBvbmVudCkge1xyXG4gICAgICAgICAgICBpbnN0YW5jZSA9IHRoaXMuY29tcG9uZW50Lmluc3RhbmNlRmFjdG9yeSh0aGlzLmNvbnRhaW5lciwge1xyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2VJZGVudGlmaWVyOiBub3JtYWxpemVJZGVudGlmaWVyRm9yRmFjdG9yeShpbnN0YW5jZUlkZW50aWZpZXIpLFxyXG4gICAgICAgICAgICAgICAgb3B0aW9uc1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZXMuc2V0KGluc3RhbmNlSWRlbnRpZmllciwgaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlc09wdGlvbnMuc2V0KGluc3RhbmNlSWRlbnRpZmllciwgb3B0aW9ucyk7XHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBJbnZva2Ugb25Jbml0IGxpc3RlbmVycy5cclxuICAgICAgICAgICAgICogTm90ZSB0aGlzLmNvbXBvbmVudC5vbkluc3RhbmNlQ3JlYXRlZCBpcyBkaWZmZXJlbnQsIHdoaWNoIGlzIHVzZWQgYnkgdGhlIGNvbXBvbmVudCBjcmVhdG9yLFxyXG4gICAgICAgICAgICAgKiB3aGlsZSBvbkluaXQgbGlzdGVuZXJzIGFyZSByZWdpc3RlcmVkIGJ5IGNvbnN1bWVycyBvZiB0aGUgcHJvdmlkZXIuXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICB0aGlzLmludm9rZU9uSW5pdENhbGxiYWNrcyhpbnN0YW5jZSwgaW5zdGFuY2VJZGVudGlmaWVyKTtcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIE9yZGVyIGlzIGltcG9ydGFudFxyXG4gICAgICAgICAgICAgKiBvbkluc3RhbmNlQ3JlYXRlZCgpIHNob3VsZCBiZSBjYWxsZWQgYWZ0ZXIgdGhpcy5pbnN0YW5jZXMuc2V0KGluc3RhbmNlSWRlbnRpZmllciwgaW5zdGFuY2UpOyB3aGljaFxyXG4gICAgICAgICAgICAgKiBtYWtlcyBgaXNJbml0aWFsaXplZCgpYCByZXR1cm4gdHJ1ZS5cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbXBvbmVudC5vbkluc3RhbmNlQ3JlYXRlZCkge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudC5vbkluc3RhbmNlQ3JlYXRlZCh0aGlzLmNvbnRhaW5lciwgaW5zdGFuY2VJZGVudGlmaWVyLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXRjaCAoX2EpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBpZ25vcmUgZXJyb3JzIGluIHRoZSBvbkluc3RhbmNlQ3JlYXRlZENhbGxiYWNrXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlIHx8IG51bGw7XHJcbiAgICB9XHJcbiAgICBub3JtYWxpemVJbnN0YW5jZUlkZW50aWZpZXIoaWRlbnRpZmllciA9IERFRkFVTFRfRU5UUllfTkFNRSkge1xyXG4gICAgICAgIGlmICh0aGlzLmNvbXBvbmVudCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnQubXVsdGlwbGVJbnN0YW5jZXMgPyBpZGVudGlmaWVyIDogREVGQVVMVF9FTlRSWV9OQU1FO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGlkZW50aWZpZXI7IC8vIGFzc3VtZSBtdWx0aXBsZSBpbnN0YW5jZXMgYXJlIHN1cHBvcnRlZCBiZWZvcmUgdGhlIGNvbXBvbmVudCBpcyBwcm92aWRlZC5cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzaG91bGRBdXRvSW5pdGlhbGl6ZSgpIHtcclxuICAgICAgICByZXR1cm4gKCEhdGhpcy5jb21wb25lbnQgJiZcclxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnQuaW5zdGFudGlhdGlvbk1vZGUgIT09IFwiRVhQTElDSVRcIiAvKiBJbnN0YW50aWF0aW9uTW9kZS5FWFBMSUNJVCAqLyk7XHJcbiAgICB9XHJcbn1cclxuLy8gdW5kZWZpbmVkIHNob3VsZCBiZSBwYXNzZWQgdG8gdGhlIHNlcnZpY2UgZmFjdG9yeSBmb3IgdGhlIGRlZmF1bHQgaW5zdGFuY2VcclxuZnVuY3Rpb24gbm9ybWFsaXplSWRlbnRpZmllckZvckZhY3RvcnkoaWRlbnRpZmllcikge1xyXG4gICAgcmV0dXJuIGlkZW50aWZpZXIgPT09IERFRkFVTFRfRU5UUllfTkFNRSA/IHVuZGVmaW5lZCA6IGlkZW50aWZpZXI7XHJcbn1cclxuZnVuY3Rpb24gaXNDb21wb25lbnRFYWdlcihjb21wb25lbnQpIHtcclxuICAgIHJldHVybiBjb21wb25lbnQuaW5zdGFudGlhdGlvbk1vZGUgPT09IFwiRUFHRVJcIiAvKiBJbnN0YW50aWF0aW9uTW9kZS5FQUdFUiAqLztcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogQ29tcG9uZW50Q29udGFpbmVyIHRoYXQgcHJvdmlkZXMgUHJvdmlkZXJzIGZvciBzZXJ2aWNlIG5hbWUgVCwgZS5nLiBgYXV0aGAsIGBhdXRoLWludGVybmFsYFxyXG4gKi9cclxuY2xhc3MgQ29tcG9uZW50Q29udGFpbmVyIHtcclxuICAgIGNvbnN0cnVjdG9yKG5hbWUpIHtcclxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMucHJvdmlkZXJzID0gbmV3IE1hcCgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGNvbXBvbmVudCBDb21wb25lbnQgYmVpbmcgYWRkZWRcclxuICAgICAqIEBwYXJhbSBvdmVyd3JpdGUgV2hlbiBhIGNvbXBvbmVudCB3aXRoIHRoZSBzYW1lIG5hbWUgaGFzIGFscmVhZHkgYmVlbiByZWdpc3RlcmVkLFxyXG4gICAgICogaWYgb3ZlcndyaXRlIGlzIHRydWU6IG92ZXJ3cml0ZSB0aGUgZXhpc3RpbmcgY29tcG9uZW50IHdpdGggdGhlIG5ldyBjb21wb25lbnQgYW5kIGNyZWF0ZSBhIG5ld1xyXG4gICAgICogcHJvdmlkZXIgd2l0aCB0aGUgbmV3IGNvbXBvbmVudC4gSXQgY2FuIGJlIHVzZWZ1bCBpbiB0ZXN0cyB3aGVyZSB5b3Ugd2FudCB0byB1c2UgZGlmZmVyZW50IG1vY2tzXHJcbiAgICAgKiBmb3IgZGlmZmVyZW50IHRlc3RzLlxyXG4gICAgICogaWYgb3ZlcndyaXRlIGlzIGZhbHNlOiB0aHJvdyBhbiBleGNlcHRpb25cclxuICAgICAqL1xyXG4gICAgYWRkQ29tcG9uZW50KGNvbXBvbmVudCkge1xyXG4gICAgICAgIGNvbnN0IHByb3ZpZGVyID0gdGhpcy5nZXRQcm92aWRlcihjb21wb25lbnQubmFtZSk7XHJcbiAgICAgICAgaWYgKHByb3ZpZGVyLmlzQ29tcG9uZW50U2V0KCkpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb21wb25lbnQgJHtjb21wb25lbnQubmFtZX0gaGFzIGFscmVhZHkgYmVlbiByZWdpc3RlcmVkIHdpdGggJHt0aGlzLm5hbWV9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHByb3ZpZGVyLnNldENvbXBvbmVudChjb21wb25lbnQpO1xyXG4gICAgfVxyXG4gICAgYWRkT3JPdmVyd3JpdGVDb21wb25lbnQoY29tcG9uZW50KSB7XHJcbiAgICAgICAgY29uc3QgcHJvdmlkZXIgPSB0aGlzLmdldFByb3ZpZGVyKGNvbXBvbmVudC5uYW1lKTtcclxuICAgICAgICBpZiAocHJvdmlkZXIuaXNDb21wb25lbnRTZXQoKSkge1xyXG4gICAgICAgICAgICAvLyBkZWxldGUgdGhlIGV4aXN0aW5nIHByb3ZpZGVyIGZyb20gdGhlIGNvbnRhaW5lciwgc28gd2UgY2FuIHJlZ2lzdGVyIHRoZSBuZXcgY29tcG9uZW50XHJcbiAgICAgICAgICAgIHRoaXMucHJvdmlkZXJzLmRlbGV0ZShjb21wb25lbnQubmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuYWRkQ29tcG9uZW50KGNvbXBvbmVudCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIGdldFByb3ZpZGVyIHByb3ZpZGVzIGEgdHlwZSBzYWZlIGludGVyZmFjZSB3aGVyZSBpdCBjYW4gb25seSBiZSBjYWxsZWQgd2l0aCBhIGZpZWxkIG5hbWVcclxuICAgICAqIHByZXNlbnQgaW4gTmFtZVNlcnZpY2VNYXBwaW5nIGludGVyZmFjZS5cclxuICAgICAqXHJcbiAgICAgKiBGaXJlYmFzZSBTREtzIHByb3ZpZGluZyBzZXJ2aWNlcyBzaG91bGQgZXh0ZW5kIE5hbWVTZXJ2aWNlTWFwcGluZyBpbnRlcmZhY2UgdG8gcmVnaXN0ZXJcclxuICAgICAqIHRoZW1zZWx2ZXMuXHJcbiAgICAgKi9cclxuICAgIGdldFByb3ZpZGVyKG5hbWUpIHtcclxuICAgICAgICBpZiAodGhpcy5wcm92aWRlcnMuaGFzKG5hbWUpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByb3ZpZGVycy5nZXQobmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGNyZWF0ZSBhIFByb3ZpZGVyIGZvciBhIHNlcnZpY2UgdGhhdCBoYXNuJ3QgcmVnaXN0ZXJlZCB3aXRoIEZpcmViYXNlXHJcbiAgICAgICAgY29uc3QgcHJvdmlkZXIgPSBuZXcgUHJvdmlkZXIobmFtZSwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5wcm92aWRlcnMuc2V0KG5hbWUsIHByb3ZpZGVyKTtcclxuICAgICAgICByZXR1cm4gcHJvdmlkZXI7XHJcbiAgICB9XHJcbiAgICBnZXRQcm92aWRlcnMoKSB7XHJcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5wcm92aWRlcnMudmFsdWVzKCkpO1xyXG4gICAgfVxyXG59XG5cbmV4cG9ydCB7IENvbXBvbmVudCwgQ29tcG9uZW50Q29udGFpbmVyLCBQcm92aWRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguZXNtMjAxNy5qcy5tYXBcbiIsIi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBBIGNvbnRhaW5lciBmb3IgYWxsIG9mIHRoZSBMb2dnZXIgaW5zdGFuY2VzXHJcbiAqL1xyXG5jb25zdCBpbnN0YW5jZXMgPSBbXTtcclxuLyoqXHJcbiAqIFRoZSBKUyBTREsgc3VwcG9ydHMgNSBsb2cgbGV2ZWxzIGFuZCBhbHNvIGFsbG93cyBhIHVzZXIgdGhlIGFiaWxpdHkgdG9cclxuICogc2lsZW5jZSB0aGUgbG9ncyBhbHRvZ2V0aGVyLlxyXG4gKlxyXG4gKiBUaGUgb3JkZXIgaXMgYSBmb2xsb3dzOlxyXG4gKiBERUJVRyA8IFZFUkJPU0UgPCBJTkZPIDwgV0FSTiA8IEVSUk9SXHJcbiAqXHJcbiAqIEFsbCBvZiB0aGUgbG9nIHR5cGVzIGFib3ZlIHRoZSBjdXJyZW50IGxvZyBsZXZlbCB3aWxsIGJlIGNhcHR1cmVkIChpLmUuIGlmXHJcbiAqIHlvdSBzZXQgdGhlIGxvZyBsZXZlbCB0byBgSU5GT2AsIGVycm9ycyB3aWxsIHN0aWxsIGJlIGxvZ2dlZCwgYnV0IGBERUJVR2AgYW5kXHJcbiAqIGBWRVJCT1NFYCBsb2dzIHdpbGwgbm90KVxyXG4gKi9cclxudmFyIExvZ0xldmVsO1xyXG4oZnVuY3Rpb24gKExvZ0xldmVsKSB7XHJcbiAgICBMb2dMZXZlbFtMb2dMZXZlbFtcIkRFQlVHXCJdID0gMF0gPSBcIkRFQlVHXCI7XHJcbiAgICBMb2dMZXZlbFtMb2dMZXZlbFtcIlZFUkJPU0VcIl0gPSAxXSA9IFwiVkVSQk9TRVwiO1xyXG4gICAgTG9nTGV2ZWxbTG9nTGV2ZWxbXCJJTkZPXCJdID0gMl0gPSBcIklORk9cIjtcclxuICAgIExvZ0xldmVsW0xvZ0xldmVsW1wiV0FSTlwiXSA9IDNdID0gXCJXQVJOXCI7XHJcbiAgICBMb2dMZXZlbFtMb2dMZXZlbFtcIkVSUk9SXCJdID0gNF0gPSBcIkVSUk9SXCI7XHJcbiAgICBMb2dMZXZlbFtMb2dMZXZlbFtcIlNJTEVOVFwiXSA9IDVdID0gXCJTSUxFTlRcIjtcclxufSkoTG9nTGV2ZWwgfHwgKExvZ0xldmVsID0ge30pKTtcclxuY29uc3QgbGV2ZWxTdHJpbmdUb0VudW0gPSB7XHJcbiAgICAnZGVidWcnOiBMb2dMZXZlbC5ERUJVRyxcclxuICAgICd2ZXJib3NlJzogTG9nTGV2ZWwuVkVSQk9TRSxcclxuICAgICdpbmZvJzogTG9nTGV2ZWwuSU5GTyxcclxuICAgICd3YXJuJzogTG9nTGV2ZWwuV0FSTixcclxuICAgICdlcnJvcic6IExvZ0xldmVsLkVSUk9SLFxyXG4gICAgJ3NpbGVudCc6IExvZ0xldmVsLlNJTEVOVFxyXG59O1xyXG4vKipcclxuICogVGhlIGRlZmF1bHQgbG9nIGxldmVsXHJcbiAqL1xyXG5jb25zdCBkZWZhdWx0TG9nTGV2ZWwgPSBMb2dMZXZlbC5JTkZPO1xyXG4vKipcclxuICogQnkgZGVmYXVsdCwgYGNvbnNvbGUuZGVidWdgIGlzIG5vdCBkaXNwbGF5ZWQgaW4gdGhlIGRldmVsb3BlciBjb25zb2xlIChpblxyXG4gKiBjaHJvbWUpLiBUbyBhdm9pZCBmb3JjaW5nIHVzZXJzIHRvIGhhdmUgdG8gb3B0LWluIHRvIHRoZXNlIGxvZ3MgdHdpY2VcclxuICogKGkuZS4gb25jZSBmb3IgZmlyZWJhc2UsIGFuZCBvbmNlIGluIHRoZSBjb25zb2xlKSwgd2UgYXJlIHNlbmRpbmcgYERFQlVHYFxyXG4gKiBsb2dzIHRvIHRoZSBgY29uc29sZS5sb2dgIGZ1bmN0aW9uLlxyXG4gKi9cclxuY29uc3QgQ29uc29sZU1ldGhvZCA9IHtcclxuICAgIFtMb2dMZXZlbC5ERUJVR106ICdsb2cnLFxyXG4gICAgW0xvZ0xldmVsLlZFUkJPU0VdOiAnbG9nJyxcclxuICAgIFtMb2dMZXZlbC5JTkZPXTogJ2luZm8nLFxyXG4gICAgW0xvZ0xldmVsLldBUk5dOiAnd2FybicsXHJcbiAgICBbTG9nTGV2ZWwuRVJST1JdOiAnZXJyb3InXHJcbn07XHJcbi8qKlxyXG4gKiBUaGUgZGVmYXVsdCBsb2cgaGFuZGxlciB3aWxsIGZvcndhcmQgREVCVUcsIFZFUkJPU0UsIElORk8sIFdBUk4sIGFuZCBFUlJPUlxyXG4gKiBtZXNzYWdlcyBvbiB0byB0aGVpciBjb3JyZXNwb25kaW5nIGNvbnNvbGUgY291bnRlcnBhcnRzIChpZiB0aGUgbG9nIG1ldGhvZFxyXG4gKiBpcyBzdXBwb3J0ZWQgYnkgdGhlIGN1cnJlbnQgbG9nIGxldmVsKVxyXG4gKi9cclxuY29uc3QgZGVmYXVsdExvZ0hhbmRsZXIgPSAoaW5zdGFuY2UsIGxvZ1R5cGUsIC4uLmFyZ3MpID0+IHtcclxuICAgIGlmIChsb2dUeXBlIDwgaW5zdGFuY2UubG9nTGV2ZWwpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XHJcbiAgICBjb25zdCBtZXRob2QgPSBDb25zb2xlTWV0aG9kW2xvZ1R5cGVdO1xyXG4gICAgaWYgKG1ldGhvZCkge1xyXG4gICAgICAgIGNvbnNvbGVbbWV0aG9kXShgWyR7bm93fV0gICR7aW5zdGFuY2UubmFtZX06YCwgLi4uYXJncyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEF0dGVtcHRlZCB0byBsb2cgYSBtZXNzYWdlIHdpdGggYW4gaW52YWxpZCBsb2dUeXBlICh2YWx1ZTogJHtsb2dUeXBlfSlgKTtcclxuICAgIH1cclxufTtcclxuY2xhc3MgTG9nZ2VyIHtcclxuICAgIC8qKlxyXG4gICAgICogR2l2ZXMgeW91IGFuIGluc3RhbmNlIG9mIGEgTG9nZ2VyIHRvIGNhcHR1cmUgbWVzc2FnZXMgYWNjb3JkaW5nIHRvXHJcbiAgICAgKiBGaXJlYmFzZSdzIGxvZ2dpbmcgc2NoZW1lLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBuYW1lIFRoZSBuYW1lIHRoYXQgdGhlIGxvZ3Mgd2lsbCBiZSBhc3NvY2lhdGVkIHdpdGhcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IobmFtZSkge1xyXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVGhlIGxvZyBsZXZlbCBvZiB0aGUgZ2l2ZW4gTG9nZ2VyIGluc3RhbmNlLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2xvZ0xldmVsID0gZGVmYXVsdExvZ0xldmVsO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRoZSBtYWluIChpbnRlcm5hbCkgbG9nIGhhbmRsZXIgZm9yIHRoZSBMb2dnZXIgaW5zdGFuY2UuXHJcbiAgICAgICAgICogQ2FuIGJlIHNldCB0byBhIG5ldyBmdW5jdGlvbiBpbiBpbnRlcm5hbCBwYWNrYWdlIGNvZGUgYnV0IG5vdCBieSB1c2VyLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2xvZ0hhbmRsZXIgPSBkZWZhdWx0TG9nSGFuZGxlcjtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUaGUgb3B0aW9uYWwsIGFkZGl0aW9uYWwsIHVzZXItZGVmaW5lZCBsb2cgaGFuZGxlciBmb3IgdGhlIExvZ2dlciBpbnN0YW5jZS5cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl91c2VyTG9nSGFuZGxlciA9IG51bGw7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ2FwdHVyZSB0aGUgY3VycmVudCBpbnN0YW5jZSBmb3IgbGF0ZXIgdXNlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgaW5zdGFuY2VzLnB1c2godGhpcyk7XHJcbiAgICB9XHJcbiAgICBnZXQgbG9nTGV2ZWwoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvZ0xldmVsO1xyXG4gICAgfVxyXG4gICAgc2V0IGxvZ0xldmVsKHZhbCkge1xyXG4gICAgICAgIGlmICghKHZhbCBpbiBMb2dMZXZlbCkpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgSW52YWxpZCB2YWx1ZSBcIiR7dmFsfVwiIGFzc2lnbmVkIHRvIFxcYGxvZ0xldmVsXFxgYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2xvZ0xldmVsID0gdmFsO1xyXG4gICAgfVxyXG4gICAgLy8gV29ya2Fyb3VuZCBmb3Igc2V0dGVyL2dldHRlciBoYXZpbmcgdG8gYmUgdGhlIHNhbWUgdHlwZS5cclxuICAgIHNldExvZ0xldmVsKHZhbCkge1xyXG4gICAgICAgIHRoaXMuX2xvZ0xldmVsID0gdHlwZW9mIHZhbCA9PT0gJ3N0cmluZycgPyBsZXZlbFN0cmluZ1RvRW51bVt2YWxdIDogdmFsO1xyXG4gICAgfVxyXG4gICAgZ2V0IGxvZ0hhbmRsZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvZ0hhbmRsZXI7XHJcbiAgICB9XHJcbiAgICBzZXQgbG9nSGFuZGxlcih2YWwpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHZhbCAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdWYWx1ZSBhc3NpZ25lZCB0byBgbG9nSGFuZGxlcmAgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2xvZ0hhbmRsZXIgPSB2YWw7XHJcbiAgICB9XHJcbiAgICBnZXQgdXNlckxvZ0hhbmRsZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3VzZXJMb2dIYW5kbGVyO1xyXG4gICAgfVxyXG4gICAgc2V0IHVzZXJMb2dIYW5kbGVyKHZhbCkge1xyXG4gICAgICAgIHRoaXMuX3VzZXJMb2dIYW5kbGVyID0gdmFsO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgZnVuY3Rpb25zIGJlbG93IGFyZSBhbGwgYmFzZWQgb24gdGhlIGBjb25zb2xlYCBpbnRlcmZhY2VcclxuICAgICAqL1xyXG4gICAgZGVidWcoLi4uYXJncykge1xyXG4gICAgICAgIHRoaXMuX3VzZXJMb2dIYW5kbGVyICYmIHRoaXMuX3VzZXJMb2dIYW5kbGVyKHRoaXMsIExvZ0xldmVsLkRFQlVHLCAuLi5hcmdzKTtcclxuICAgICAgICB0aGlzLl9sb2dIYW5kbGVyKHRoaXMsIExvZ0xldmVsLkRFQlVHLCAuLi5hcmdzKTtcclxuICAgIH1cclxuICAgIGxvZyguLi5hcmdzKSB7XHJcbiAgICAgICAgdGhpcy5fdXNlckxvZ0hhbmRsZXIgJiZcclxuICAgICAgICAgICAgdGhpcy5fdXNlckxvZ0hhbmRsZXIodGhpcywgTG9nTGV2ZWwuVkVSQk9TRSwgLi4uYXJncyk7XHJcbiAgICAgICAgdGhpcy5fbG9nSGFuZGxlcih0aGlzLCBMb2dMZXZlbC5WRVJCT1NFLCAuLi5hcmdzKTtcclxuICAgIH1cclxuICAgIGluZm8oLi4uYXJncykge1xyXG4gICAgICAgIHRoaXMuX3VzZXJMb2dIYW5kbGVyICYmIHRoaXMuX3VzZXJMb2dIYW5kbGVyKHRoaXMsIExvZ0xldmVsLklORk8sIC4uLmFyZ3MpO1xyXG4gICAgICAgIHRoaXMuX2xvZ0hhbmRsZXIodGhpcywgTG9nTGV2ZWwuSU5GTywgLi4uYXJncyk7XHJcbiAgICB9XHJcbiAgICB3YXJuKC4uLmFyZ3MpIHtcclxuICAgICAgICB0aGlzLl91c2VyTG9nSGFuZGxlciAmJiB0aGlzLl91c2VyTG9nSGFuZGxlcih0aGlzLCBMb2dMZXZlbC5XQVJOLCAuLi5hcmdzKTtcclxuICAgICAgICB0aGlzLl9sb2dIYW5kbGVyKHRoaXMsIExvZ0xldmVsLldBUk4sIC4uLmFyZ3MpO1xyXG4gICAgfVxyXG4gICAgZXJyb3IoLi4uYXJncykge1xyXG4gICAgICAgIHRoaXMuX3VzZXJMb2dIYW5kbGVyICYmIHRoaXMuX3VzZXJMb2dIYW5kbGVyKHRoaXMsIExvZ0xldmVsLkVSUk9SLCAuLi5hcmdzKTtcclxuICAgICAgICB0aGlzLl9sb2dIYW5kbGVyKHRoaXMsIExvZ0xldmVsLkVSUk9SLCAuLi5hcmdzKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBzZXRMb2dMZXZlbChsZXZlbCkge1xyXG4gICAgaW5zdGFuY2VzLmZvckVhY2goaW5zdCA9PiB7XHJcbiAgICAgICAgaW5zdC5zZXRMb2dMZXZlbChsZXZlbCk7XHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiBzZXRVc2VyTG9nSGFuZGxlcihsb2dDYWxsYmFjaywgb3B0aW9ucykge1xyXG4gICAgZm9yIChjb25zdCBpbnN0YW5jZSBvZiBpbnN0YW5jZXMpIHtcclxuICAgICAgICBsZXQgY3VzdG9tTG9nTGV2ZWwgPSBudWxsO1xyXG4gICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMubGV2ZWwpIHtcclxuICAgICAgICAgICAgY3VzdG9tTG9nTGV2ZWwgPSBsZXZlbFN0cmluZ1RvRW51bVtvcHRpb25zLmxldmVsXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGxvZ0NhbGxiYWNrID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLnVzZXJMb2dIYW5kbGVyID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLnVzZXJMb2dIYW5kbGVyID0gKGluc3RhbmNlLCBsZXZlbCwgLi4uYXJncykgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGFyZ3NcclxuICAgICAgICAgICAgICAgICAgICAubWFwKGFyZyA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFyZyA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgYXJnID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXJnO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgYXJnID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgYXJnID09PSAnYm9vbGVhbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFyZy50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChhcmcgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXJnLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGFyZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGlnbm9yZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGFyZyA9PiBhcmcpXHJcbiAgICAgICAgICAgICAgICAgICAgLmpvaW4oJyAnKTtcclxuICAgICAgICAgICAgICAgIGlmIChsZXZlbCA+PSAoY3VzdG9tTG9nTGV2ZWwgIT09IG51bGwgJiYgY3VzdG9tTG9nTGV2ZWwgIT09IHZvaWQgMCA/IGN1c3RvbUxvZ0xldmVsIDogaW5zdGFuY2UubG9nTGV2ZWwpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9nQ2FsbGJhY2soe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXZlbDogTG9nTGV2ZWxbbGV2ZWxdLnRvTG93ZXJDYXNlKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGluc3RhbmNlLm5hbWVcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuZXhwb3J0IHsgTG9nTGV2ZWwsIExvZ2dlciwgc2V0TG9nTGV2ZWwsIHNldFVzZXJMb2dIYW5kbGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lc20yMDE3LmpzLm1hcFxuIiwiY29uc3QgaW5zdGFuY2VPZkFueSA9IChvYmplY3QsIGNvbnN0cnVjdG9ycykgPT4gY29uc3RydWN0b3JzLnNvbWUoKGMpID0+IG9iamVjdCBpbnN0YW5jZW9mIGMpO1xuXG5sZXQgaWRiUHJveHlhYmxlVHlwZXM7XG5sZXQgY3Vyc29yQWR2YW5jZU1ldGhvZHM7XG4vLyBUaGlzIGlzIGEgZnVuY3Rpb24gdG8gcHJldmVudCBpdCB0aHJvd2luZyB1cCBpbiBub2RlIGVudmlyb25tZW50cy5cbmZ1bmN0aW9uIGdldElkYlByb3h5YWJsZVR5cGVzKCkge1xuICAgIHJldHVybiAoaWRiUHJveHlhYmxlVHlwZXMgfHxcbiAgICAgICAgKGlkYlByb3h5YWJsZVR5cGVzID0gW1xuICAgICAgICAgICAgSURCRGF0YWJhc2UsXG4gICAgICAgICAgICBJREJPYmplY3RTdG9yZSxcbiAgICAgICAgICAgIElEQkluZGV4LFxuICAgICAgICAgICAgSURCQ3Vyc29yLFxuICAgICAgICAgICAgSURCVHJhbnNhY3Rpb24sXG4gICAgICAgIF0pKTtcbn1cbi8vIFRoaXMgaXMgYSBmdW5jdGlvbiB0byBwcmV2ZW50IGl0IHRocm93aW5nIHVwIGluIG5vZGUgZW52aXJvbm1lbnRzLlxuZnVuY3Rpb24gZ2V0Q3Vyc29yQWR2YW5jZU1ldGhvZHMoKSB7XG4gICAgcmV0dXJuIChjdXJzb3JBZHZhbmNlTWV0aG9kcyB8fFxuICAgICAgICAoY3Vyc29yQWR2YW5jZU1ldGhvZHMgPSBbXG4gICAgICAgICAgICBJREJDdXJzb3IucHJvdG90eXBlLmFkdmFuY2UsXG4gICAgICAgICAgICBJREJDdXJzb3IucHJvdG90eXBlLmNvbnRpbnVlLFxuICAgICAgICAgICAgSURCQ3Vyc29yLnByb3RvdHlwZS5jb250aW51ZVByaW1hcnlLZXksXG4gICAgICAgIF0pKTtcbn1cbmNvbnN0IGN1cnNvclJlcXVlc3RNYXAgPSBuZXcgV2Vha01hcCgpO1xuY29uc3QgdHJhbnNhY3Rpb25Eb25lTWFwID0gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IHRyYW5zYWN0aW9uU3RvcmVOYW1lc01hcCA9IG5ldyBXZWFrTWFwKCk7XG5jb25zdCB0cmFuc2Zvcm1DYWNoZSA9IG5ldyBXZWFrTWFwKCk7XG5jb25zdCByZXZlcnNlVHJhbnNmb3JtQ2FjaGUgPSBuZXcgV2Vha01hcCgpO1xuZnVuY3Rpb24gcHJvbWlzaWZ5UmVxdWVzdChyZXF1ZXN0KSB7XG4gICAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY29uc3QgdW5saXN0ZW4gPSAoKSA9PiB7XG4gICAgICAgICAgICByZXF1ZXN0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3N1Y2Nlc3MnLCBzdWNjZXNzKTtcbiAgICAgICAgICAgIHJlcXVlc3QucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCBlcnJvcik7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHN1Y2Nlc3MgPSAoKSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlKHdyYXAocmVxdWVzdC5yZXN1bHQpKTtcbiAgICAgICAgICAgIHVubGlzdGVuKCk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgICAgICAgICAgcmVqZWN0KHJlcXVlc3QuZXJyb3IpO1xuICAgICAgICAgICAgdW5saXN0ZW4oKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdzdWNjZXNzJywgc3VjY2Vzcyk7XG4gICAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBlcnJvcik7XG4gICAgfSk7XG4gICAgcHJvbWlzZVxuICAgICAgICAudGhlbigodmFsdWUpID0+IHtcbiAgICAgICAgLy8gU2luY2UgY3Vyc29yaW5nIHJldXNlcyB0aGUgSURCUmVxdWVzdCAoKnNpZ2gqKSwgd2UgY2FjaGUgaXQgZm9yIGxhdGVyIHJldHJpZXZhbFxuICAgICAgICAvLyAoc2VlIHdyYXBGdW5jdGlvbikuXG4gICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIElEQkN1cnNvcikge1xuICAgICAgICAgICAgY3Vyc29yUmVxdWVzdE1hcC5zZXQodmFsdWUsIHJlcXVlc3QpO1xuICAgICAgICB9XG4gICAgICAgIC8vIENhdGNoaW5nIHRvIGF2b2lkIFwiVW5jYXVnaHQgUHJvbWlzZSBleGNlcHRpb25zXCJcbiAgICB9KVxuICAgICAgICAuY2F0Y2goKCkgPT4geyB9KTtcbiAgICAvLyBUaGlzIG1hcHBpbmcgZXhpc3RzIGluIHJldmVyc2VUcmFuc2Zvcm1DYWNoZSBidXQgZG9lc24ndCBkb2Vzbid0IGV4aXN0IGluIHRyYW5zZm9ybUNhY2hlLiBUaGlzXG4gICAgLy8gaXMgYmVjYXVzZSB3ZSBjcmVhdGUgbWFueSBwcm9taXNlcyBmcm9tIGEgc2luZ2xlIElEQlJlcXVlc3QuXG4gICAgcmV2ZXJzZVRyYW5zZm9ybUNhY2hlLnNldChwcm9taXNlLCByZXF1ZXN0KTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cbmZ1bmN0aW9uIGNhY2hlRG9uZVByb21pc2VGb3JUcmFuc2FjdGlvbih0eCkge1xuICAgIC8vIEVhcmx5IGJhaWwgaWYgd2UndmUgYWxyZWFkeSBjcmVhdGVkIGEgZG9uZSBwcm9taXNlIGZvciB0aGlzIHRyYW5zYWN0aW9uLlxuICAgIGlmICh0cmFuc2FjdGlvbkRvbmVNYXAuaGFzKHR4KSlcbiAgICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGRvbmUgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IHVubGlzdGVuID0gKCkgPT4ge1xuICAgICAgICAgICAgdHgucmVtb3ZlRXZlbnRMaXN0ZW5lcignY29tcGxldGUnLCBjb21wbGV0ZSk7XG4gICAgICAgICAgICB0eC5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIGVycm9yKTtcbiAgICAgICAgICAgIHR4LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgZXJyb3IpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBjb21wbGV0ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIHVubGlzdGVuKCk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgICAgICAgICAgcmVqZWN0KHR4LmVycm9yIHx8IG5ldyBET01FeGNlcHRpb24oJ0Fib3J0RXJyb3InLCAnQWJvcnRFcnJvcicpKTtcbiAgICAgICAgICAgIHVubGlzdGVuKCk7XG4gICAgICAgIH07XG4gICAgICAgIHR4LmFkZEV2ZW50TGlzdGVuZXIoJ2NvbXBsZXRlJywgY29tcGxldGUpO1xuICAgICAgICB0eC5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIGVycm9yKTtcbiAgICAgICAgdHguYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBlcnJvcik7XG4gICAgfSk7XG4gICAgLy8gQ2FjaGUgaXQgZm9yIGxhdGVyIHJldHJpZXZhbC5cbiAgICB0cmFuc2FjdGlvbkRvbmVNYXAuc2V0KHR4LCBkb25lKTtcbn1cbmxldCBpZGJQcm94eVRyYXBzID0ge1xuICAgIGdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKSB7XG4gICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBJREJUcmFuc2FjdGlvbikge1xuICAgICAgICAgICAgLy8gU3BlY2lhbCBoYW5kbGluZyBmb3IgdHJhbnNhY3Rpb24uZG9uZS5cbiAgICAgICAgICAgIGlmIChwcm9wID09PSAnZG9uZScpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRyYW5zYWN0aW9uRG9uZU1hcC5nZXQodGFyZ2V0KTtcbiAgICAgICAgICAgIC8vIFBvbHlmaWxsIGZvciBvYmplY3RTdG9yZU5hbWVzIGJlY2F1c2Ugb2YgRWRnZS5cbiAgICAgICAgICAgIGlmIChwcm9wID09PSAnb2JqZWN0U3RvcmVOYW1lcycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0Lm9iamVjdFN0b3JlTmFtZXMgfHwgdHJhbnNhY3Rpb25TdG9yZU5hbWVzTWFwLmdldCh0YXJnZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTWFrZSB0eC5zdG9yZSByZXR1cm4gdGhlIG9ubHkgc3RvcmUgaW4gdGhlIHRyYW5zYWN0aW9uLCBvciB1bmRlZmluZWQgaWYgdGhlcmUgYXJlIG1hbnkuXG4gICAgICAgICAgICBpZiAocHJvcCA9PT0gJ3N0b3JlJykge1xuICAgICAgICAgICAgICAgIHJldHVybiByZWNlaXZlci5vYmplY3RTdG9yZU5hbWVzWzFdXG4gICAgICAgICAgICAgICAgICAgID8gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgIDogcmVjZWl2ZXIub2JqZWN0U3RvcmUocmVjZWl2ZXIub2JqZWN0U3RvcmVOYW1lc1swXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gRWxzZSB0cmFuc2Zvcm0gd2hhdGV2ZXIgd2UgZ2V0IGJhY2suXG4gICAgICAgIHJldHVybiB3cmFwKHRhcmdldFtwcm9wXSk7XG4gICAgfSxcbiAgICBzZXQodGFyZ2V0LCBwcm9wLCB2YWx1ZSkge1xuICAgICAgICB0YXJnZXRbcHJvcF0gPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcbiAgICBoYXModGFyZ2V0LCBwcm9wKSB7XG4gICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBJREJUcmFuc2FjdGlvbiAmJlxuICAgICAgICAgICAgKHByb3AgPT09ICdkb25lJyB8fCBwcm9wID09PSAnc3RvcmUnKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb3AgaW4gdGFyZ2V0O1xuICAgIH0sXG59O1xuZnVuY3Rpb24gcmVwbGFjZVRyYXBzKGNhbGxiYWNrKSB7XG4gICAgaWRiUHJveHlUcmFwcyA9IGNhbGxiYWNrKGlkYlByb3h5VHJhcHMpO1xufVxuZnVuY3Rpb24gd3JhcEZ1bmN0aW9uKGZ1bmMpIHtcbiAgICAvLyBEdWUgdG8gZXhwZWN0ZWQgb2JqZWN0IGVxdWFsaXR5ICh3aGljaCBpcyBlbmZvcmNlZCBieSB0aGUgY2FjaGluZyBpbiBgd3JhcGApLCB3ZVxuICAgIC8vIG9ubHkgY3JlYXRlIG9uZSBuZXcgZnVuYyBwZXIgZnVuYy5cbiAgICAvLyBFZGdlIGRvZXNuJ3Qgc3VwcG9ydCBvYmplY3RTdG9yZU5hbWVzIChib29vKSwgc28gd2UgcG9seWZpbGwgaXQgaGVyZS5cbiAgICBpZiAoZnVuYyA9PT0gSURCRGF0YWJhc2UucHJvdG90eXBlLnRyYW5zYWN0aW9uICYmXG4gICAgICAgICEoJ29iamVjdFN0b3JlTmFtZXMnIGluIElEQlRyYW5zYWN0aW9uLnByb3RvdHlwZSkpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzdG9yZU5hbWVzLCAuLi5hcmdzKSB7XG4gICAgICAgICAgICBjb25zdCB0eCA9IGZ1bmMuY2FsbCh1bndyYXAodGhpcyksIHN0b3JlTmFtZXMsIC4uLmFyZ3MpO1xuICAgICAgICAgICAgdHJhbnNhY3Rpb25TdG9yZU5hbWVzTWFwLnNldCh0eCwgc3RvcmVOYW1lcy5zb3J0ID8gc3RvcmVOYW1lcy5zb3J0KCkgOiBbc3RvcmVOYW1lc10pO1xuICAgICAgICAgICAgcmV0dXJuIHdyYXAodHgpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICAvLyBDdXJzb3IgbWV0aG9kcyBhcmUgc3BlY2lhbCwgYXMgdGhlIGJlaGF2aW91ciBpcyBhIGxpdHRsZSBtb3JlIGRpZmZlcmVudCB0byBzdGFuZGFyZCBJREIuIEluXG4gICAgLy8gSURCLCB5b3UgYWR2YW5jZSB0aGUgY3Vyc29yIGFuZCB3YWl0IGZvciBhIG5ldyAnc3VjY2Vzcycgb24gdGhlIElEQlJlcXVlc3QgdGhhdCBnYXZlIHlvdSB0aGVcbiAgICAvLyBjdXJzb3IuIEl0J3Mga2luZGEgbGlrZSBhIHByb21pc2UgdGhhdCBjYW4gcmVzb2x2ZSB3aXRoIG1hbnkgdmFsdWVzLiBUaGF0IGRvZXNuJ3QgbWFrZSBzZW5zZVxuICAgIC8vIHdpdGggcmVhbCBwcm9taXNlcywgc28gZWFjaCBhZHZhbmNlIG1ldGhvZHMgcmV0dXJucyBhIG5ldyBwcm9taXNlIGZvciB0aGUgY3Vyc29yIG9iamVjdCwgb3JcbiAgICAvLyB1bmRlZmluZWQgaWYgdGhlIGVuZCBvZiB0aGUgY3Vyc29yIGhhcyBiZWVuIHJlYWNoZWQuXG4gICAgaWYgKGdldEN1cnNvckFkdmFuY2VNZXRob2RzKCkuaW5jbHVkZXMoZnVuYykpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgICAgICAvLyBDYWxsaW5nIHRoZSBvcmlnaW5hbCBmdW5jdGlvbiB3aXRoIHRoZSBwcm94eSBhcyAndGhpcycgY2F1c2VzIElMTEVHQUwgSU5WT0NBVElPTiwgc28gd2UgdXNlXG4gICAgICAgICAgICAvLyB0aGUgb3JpZ2luYWwgb2JqZWN0LlxuICAgICAgICAgICAgZnVuYy5hcHBseSh1bndyYXAodGhpcyksIGFyZ3MpO1xuICAgICAgICAgICAgcmV0dXJuIHdyYXAoY3Vyc29yUmVxdWVzdE1hcC5nZXQodGhpcykpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgLy8gQ2FsbGluZyB0aGUgb3JpZ2luYWwgZnVuY3Rpb24gd2l0aCB0aGUgcHJveHkgYXMgJ3RoaXMnIGNhdXNlcyBJTExFR0FMIElOVk9DQVRJT04sIHNvIHdlIHVzZVxuICAgICAgICAvLyB0aGUgb3JpZ2luYWwgb2JqZWN0LlxuICAgICAgICByZXR1cm4gd3JhcChmdW5jLmFwcGx5KHVud3JhcCh0aGlzKSwgYXJncykpO1xuICAgIH07XG59XG5mdW5jdGlvbiB0cmFuc2Zvcm1DYWNoYWJsZVZhbHVlKHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgcmV0dXJuIHdyYXBGdW5jdGlvbih2YWx1ZSk7XG4gICAgLy8gVGhpcyBkb2Vzbid0IHJldHVybiwgaXQganVzdCBjcmVhdGVzIGEgJ2RvbmUnIHByb21pc2UgZm9yIHRoZSB0cmFuc2FjdGlvbixcbiAgICAvLyB3aGljaCBpcyBsYXRlciByZXR1cm5lZCBmb3IgdHJhbnNhY3Rpb24uZG9uZSAoc2VlIGlkYk9iamVjdEhhbmRsZXIpLlxuICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIElEQlRyYW5zYWN0aW9uKVxuICAgICAgICBjYWNoZURvbmVQcm9taXNlRm9yVHJhbnNhY3Rpb24odmFsdWUpO1xuICAgIGlmIChpbnN0YW5jZU9mQW55KHZhbHVlLCBnZXRJZGJQcm94eWFibGVUeXBlcygpKSlcbiAgICAgICAgcmV0dXJuIG5ldyBQcm94eSh2YWx1ZSwgaWRiUHJveHlUcmFwcyk7XG4gICAgLy8gUmV0dXJuIHRoZSBzYW1lIHZhbHVlIGJhY2sgaWYgd2UncmUgbm90IGdvaW5nIHRvIHRyYW5zZm9ybSBpdC5cbiAgICByZXR1cm4gdmFsdWU7XG59XG5mdW5jdGlvbiB3cmFwKHZhbHVlKSB7XG4gICAgLy8gV2Ugc29tZXRpbWVzIGdlbmVyYXRlIG11bHRpcGxlIHByb21pc2VzIGZyb20gYSBzaW5nbGUgSURCUmVxdWVzdCAoZWcgd2hlbiBjdXJzb3JpbmcpLCBiZWNhdXNlXG4gICAgLy8gSURCIGlzIHdlaXJkIGFuZCBhIHNpbmdsZSBJREJSZXF1ZXN0IGNhbiB5aWVsZCBtYW55IHJlc3BvbnNlcywgc28gdGhlc2UgY2FuJ3QgYmUgY2FjaGVkLlxuICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIElEQlJlcXVlc3QpXG4gICAgICAgIHJldHVybiBwcm9taXNpZnlSZXF1ZXN0KHZhbHVlKTtcbiAgICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IHRyYW5zZm9ybWVkIHRoaXMgdmFsdWUgYmVmb3JlLCByZXVzZSB0aGUgdHJhbnNmb3JtZWQgdmFsdWUuXG4gICAgLy8gVGhpcyBpcyBmYXN0ZXIsIGJ1dCBpdCBhbHNvIHByb3ZpZGVzIG9iamVjdCBlcXVhbGl0eS5cbiAgICBpZiAodHJhbnNmb3JtQ2FjaGUuaGFzKHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIHRyYW5zZm9ybUNhY2hlLmdldCh2YWx1ZSk7XG4gICAgY29uc3QgbmV3VmFsdWUgPSB0cmFuc2Zvcm1DYWNoYWJsZVZhbHVlKHZhbHVlKTtcbiAgICAvLyBOb3QgYWxsIHR5cGVzIGFyZSB0cmFuc2Zvcm1lZC5cbiAgICAvLyBUaGVzZSBtYXkgYmUgcHJpbWl0aXZlIHR5cGVzLCBzbyB0aGV5IGNhbid0IGJlIFdlYWtNYXAga2V5cy5cbiAgICBpZiAobmV3VmFsdWUgIT09IHZhbHVlKSB7XG4gICAgICAgIHRyYW5zZm9ybUNhY2hlLnNldCh2YWx1ZSwgbmV3VmFsdWUpO1xuICAgICAgICByZXZlcnNlVHJhbnNmb3JtQ2FjaGUuc2V0KG5ld1ZhbHVlLCB2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiBuZXdWYWx1ZTtcbn1cbmNvbnN0IHVud3JhcCA9ICh2YWx1ZSkgPT4gcmV2ZXJzZVRyYW5zZm9ybUNhY2hlLmdldCh2YWx1ZSk7XG5cbmV4cG9ydCB7IHJldmVyc2VUcmFuc2Zvcm1DYWNoZSBhcyBhLCBpbnN0YW5jZU9mQW55IGFzIGksIHJlcGxhY2VUcmFwcyBhcyByLCB1bndyYXAgYXMgdSwgd3JhcCBhcyB3IH07XG4iLCJpbXBvcnQgeyB3IGFzIHdyYXAsIHIgYXMgcmVwbGFjZVRyYXBzIH0gZnJvbSAnLi93cmFwLWlkYi12YWx1ZS5qcyc7XG5leHBvcnQgeyB1IGFzIHVud3JhcCwgdyBhcyB3cmFwIH0gZnJvbSAnLi93cmFwLWlkYi12YWx1ZS5qcyc7XG5cbi8qKlxuICogT3BlbiBhIGRhdGFiYXNlLlxuICpcbiAqIEBwYXJhbSBuYW1lIE5hbWUgb2YgdGhlIGRhdGFiYXNlLlxuICogQHBhcmFtIHZlcnNpb24gU2NoZW1hIHZlcnNpb24uXG4gKiBAcGFyYW0gY2FsbGJhY2tzIEFkZGl0aW9uYWwgY2FsbGJhY2tzLlxuICovXG5mdW5jdGlvbiBvcGVuREIobmFtZSwgdmVyc2lvbiwgeyBibG9ja2VkLCB1cGdyYWRlLCBibG9ja2luZywgdGVybWluYXRlZCB9ID0ge30pIHtcbiAgICBjb25zdCByZXF1ZXN0ID0gaW5kZXhlZERCLm9wZW4obmFtZSwgdmVyc2lvbik7XG4gICAgY29uc3Qgb3BlblByb21pc2UgPSB3cmFwKHJlcXVlc3QpO1xuICAgIGlmICh1cGdyYWRlKSB7XG4gICAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcigndXBncmFkZW5lZWRlZCcsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgdXBncmFkZSh3cmFwKHJlcXVlc3QucmVzdWx0KSwgZXZlbnQub2xkVmVyc2lvbiwgZXZlbnQubmV3VmVyc2lvbiwgd3JhcChyZXF1ZXN0LnRyYW5zYWN0aW9uKSwgZXZlbnQpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGJsb2NrZWQpIHtcbiAgICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdibG9ja2VkJywgKGV2ZW50KSA9PiBibG9ja2VkKFxuICAgICAgICAvLyBDYXN0aW5nIGR1ZSB0byBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQtRE9NLWxpYi1nZW5lcmF0b3IvcHVsbC8xNDA1XG4gICAgICAgIGV2ZW50Lm9sZFZlcnNpb24sIGV2ZW50Lm5ld1ZlcnNpb24sIGV2ZW50KSk7XG4gICAgfVxuICAgIG9wZW5Qcm9taXNlXG4gICAgICAgIC50aGVuKChkYikgPT4ge1xuICAgICAgICBpZiAodGVybWluYXRlZClcbiAgICAgICAgICAgIGRiLmFkZEV2ZW50TGlzdGVuZXIoJ2Nsb3NlJywgKCkgPT4gdGVybWluYXRlZCgpKTtcbiAgICAgICAgaWYgKGJsb2NraW5nKSB7XG4gICAgICAgICAgICBkYi5hZGRFdmVudExpc3RlbmVyKCd2ZXJzaW9uY2hhbmdlJywgKGV2ZW50KSA9PiBibG9ja2luZyhldmVudC5vbGRWZXJzaW9uLCBldmVudC5uZXdWZXJzaW9uLCBldmVudCkpO1xuICAgICAgICB9XG4gICAgfSlcbiAgICAgICAgLmNhdGNoKCgpID0+IHsgfSk7XG4gICAgcmV0dXJuIG9wZW5Qcm9taXNlO1xufVxuLyoqXG4gKiBEZWxldGUgYSBkYXRhYmFzZS5cbiAqXG4gKiBAcGFyYW0gbmFtZSBOYW1lIG9mIHRoZSBkYXRhYmFzZS5cbiAqL1xuZnVuY3Rpb24gZGVsZXRlREIobmFtZSwgeyBibG9ja2VkIH0gPSB7fSkge1xuICAgIGNvbnN0IHJlcXVlc3QgPSBpbmRleGVkREIuZGVsZXRlRGF0YWJhc2UobmFtZSk7XG4gICAgaWYgKGJsb2NrZWQpIHtcbiAgICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdibG9ja2VkJywgKGV2ZW50KSA9PiBibG9ja2VkKFxuICAgICAgICAvLyBDYXN0aW5nIGR1ZSB0byBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQtRE9NLWxpYi1nZW5lcmF0b3IvcHVsbC8xNDA1XG4gICAgICAgIGV2ZW50Lm9sZFZlcnNpb24sIGV2ZW50KSk7XG4gICAgfVxuICAgIHJldHVybiB3cmFwKHJlcXVlc3QpLnRoZW4oKCkgPT4gdW5kZWZpbmVkKTtcbn1cblxuY29uc3QgcmVhZE1ldGhvZHMgPSBbJ2dldCcsICdnZXRLZXknLCAnZ2V0QWxsJywgJ2dldEFsbEtleXMnLCAnY291bnQnXTtcbmNvbnN0IHdyaXRlTWV0aG9kcyA9IFsncHV0JywgJ2FkZCcsICdkZWxldGUnLCAnY2xlYXInXTtcbmNvbnN0IGNhY2hlZE1ldGhvZHMgPSBuZXcgTWFwKCk7XG5mdW5jdGlvbiBnZXRNZXRob2QodGFyZ2V0LCBwcm9wKSB7XG4gICAgaWYgKCEodGFyZ2V0IGluc3RhbmNlb2YgSURCRGF0YWJhc2UgJiZcbiAgICAgICAgIShwcm9wIGluIHRhcmdldCkgJiZcbiAgICAgICAgdHlwZW9mIHByb3AgPT09ICdzdHJpbmcnKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChjYWNoZWRNZXRob2RzLmdldChwcm9wKSlcbiAgICAgICAgcmV0dXJuIGNhY2hlZE1ldGhvZHMuZ2V0KHByb3ApO1xuICAgIGNvbnN0IHRhcmdldEZ1bmNOYW1lID0gcHJvcC5yZXBsYWNlKC9Gcm9tSW5kZXgkLywgJycpO1xuICAgIGNvbnN0IHVzZUluZGV4ID0gcHJvcCAhPT0gdGFyZ2V0RnVuY05hbWU7XG4gICAgY29uc3QgaXNXcml0ZSA9IHdyaXRlTWV0aG9kcy5pbmNsdWRlcyh0YXJnZXRGdW5jTmFtZSk7XG4gICAgaWYgKFxuICAgIC8vIEJhaWwgaWYgdGhlIHRhcmdldCBkb2Vzbid0IGV4aXN0IG9uIHRoZSB0YXJnZXQuIEVnLCBnZXRBbGwgaXNuJ3QgaW4gRWRnZS5cbiAgICAhKHRhcmdldEZ1bmNOYW1lIGluICh1c2VJbmRleCA/IElEQkluZGV4IDogSURCT2JqZWN0U3RvcmUpLnByb3RvdHlwZSkgfHxcbiAgICAgICAgIShpc1dyaXRlIHx8IHJlYWRNZXRob2RzLmluY2x1ZGVzKHRhcmdldEZ1bmNOYW1lKSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBtZXRob2QgPSBhc3luYyBmdW5jdGlvbiAoc3RvcmVOYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIC8vIGlzV3JpdGUgPyAncmVhZHdyaXRlJyA6IHVuZGVmaW5lZCBnemlwcHMgYmV0dGVyLCBidXQgZmFpbHMgaW4gRWRnZSA6KFxuICAgICAgICBjb25zdCB0eCA9IHRoaXMudHJhbnNhY3Rpb24oc3RvcmVOYW1lLCBpc1dyaXRlID8gJ3JlYWR3cml0ZScgOiAncmVhZG9ubHknKTtcbiAgICAgICAgbGV0IHRhcmdldCA9IHR4LnN0b3JlO1xuICAgICAgICBpZiAodXNlSW5kZXgpXG4gICAgICAgICAgICB0YXJnZXQgPSB0YXJnZXQuaW5kZXgoYXJncy5zaGlmdCgpKTtcbiAgICAgICAgLy8gTXVzdCByZWplY3QgaWYgb3AgcmVqZWN0cy5cbiAgICAgICAgLy8gSWYgaXQncyBhIHdyaXRlIG9wZXJhdGlvbiwgbXVzdCByZWplY3QgaWYgdHguZG9uZSByZWplY3RzLlxuICAgICAgICAvLyBNdXN0IHJlamVjdCB3aXRoIG9wIHJlamVjdGlvbiBmaXJzdC5cbiAgICAgICAgLy8gTXVzdCByZXNvbHZlIHdpdGggb3AgdmFsdWUuXG4gICAgICAgIC8vIE11c3QgaGFuZGxlIGJvdGggcHJvbWlzZXMgKG5vIHVuaGFuZGxlZCByZWplY3Rpb25zKVxuICAgICAgICByZXR1cm4gKGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgIHRhcmdldFt0YXJnZXRGdW5jTmFtZV0oLi4uYXJncyksXG4gICAgICAgICAgICBpc1dyaXRlICYmIHR4LmRvbmUsXG4gICAgICAgIF0pKVswXTtcbiAgICB9O1xuICAgIGNhY2hlZE1ldGhvZHMuc2V0KHByb3AsIG1ldGhvZCk7XG4gICAgcmV0dXJuIG1ldGhvZDtcbn1cbnJlcGxhY2VUcmFwcygob2xkVHJhcHMpID0+ICh7XG4gICAgLi4ub2xkVHJhcHMsXG4gICAgZ2V0OiAodGFyZ2V0LCBwcm9wLCByZWNlaXZlcikgPT4gZ2V0TWV0aG9kKHRhcmdldCwgcHJvcCkgfHwgb2xkVHJhcHMuZ2V0KHRhcmdldCwgcHJvcCwgcmVjZWl2ZXIpLFxuICAgIGhhczogKHRhcmdldCwgcHJvcCkgPT4gISFnZXRNZXRob2QodGFyZ2V0LCBwcm9wKSB8fCBvbGRUcmFwcy5oYXModGFyZ2V0LCBwcm9wKSxcbn0pKTtcblxuZXhwb3J0IHsgZGVsZXRlREIsIG9wZW5EQiB9O1xuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBDb21wb25lbnRDb250YWluZXIgfSBmcm9tICdAZmlyZWJhc2UvY29tcG9uZW50JztcbmltcG9ydCB7IExvZ2dlciwgc2V0VXNlckxvZ0hhbmRsZXIsIHNldExvZ0xldmVsIGFzIHNldExvZ0xldmVsJDEgfSBmcm9tICdAZmlyZWJhc2UvbG9nZ2VyJztcbmltcG9ydCB7IEVycm9yRmFjdG9yeSwgZ2V0RGVmYXVsdEFwcENvbmZpZywgZGVlcEVxdWFsLCBGaXJlYmFzZUVycm9yLCBiYXNlNjR1cmxFbmNvZGVXaXRob3V0UGFkZGluZywgaXNJbmRleGVkREJBdmFpbGFibGUsIHZhbGlkYXRlSW5kZXhlZERCT3BlbmFibGUgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5leHBvcnQgeyBGaXJlYmFzZUVycm9yIH0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuaW1wb3J0IHsgb3BlbkRCIH0gZnJvbSAnaWRiJztcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuY2xhc3MgUGxhdGZvcm1Mb2dnZXJTZXJ2aWNlSW1wbCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihjb250YWluZXIpIHtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcclxuICAgIH1cclxuICAgIC8vIEluIGluaXRpYWwgaW1wbGVtZW50YXRpb24sIHRoaXMgd2lsbCBiZSBjYWxsZWQgYnkgaW5zdGFsbGF0aW9ucyBvblxyXG4gICAgLy8gYXV0aCB0b2tlbiByZWZyZXNoLCBhbmQgaW5zdGFsbGF0aW9ucyB3aWxsIHNlbmQgdGhpcyBzdHJpbmcuXHJcbiAgICBnZXRQbGF0Zm9ybUluZm9TdHJpbmcoKSB7XHJcbiAgICAgICAgY29uc3QgcHJvdmlkZXJzID0gdGhpcy5jb250YWluZXIuZ2V0UHJvdmlkZXJzKCk7XHJcbiAgICAgICAgLy8gTG9vcCB0aHJvdWdoIHByb3ZpZGVycyBhbmQgZ2V0IGxpYnJhcnkvdmVyc2lvbiBwYWlycyBmcm9tIGFueSB0aGF0IGFyZVxyXG4gICAgICAgIC8vIHZlcnNpb24gY29tcG9uZW50cy5cclxuICAgICAgICByZXR1cm4gcHJvdmlkZXJzXHJcbiAgICAgICAgICAgIC5tYXAocHJvdmlkZXIgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaXNWZXJzaW9uU2VydmljZVByb3ZpZGVyKHByb3ZpZGVyKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VydmljZSA9IHByb3ZpZGVyLmdldEltbWVkaWF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke3NlcnZpY2UubGlicmFyeX0vJHtzZXJ2aWNlLnZlcnNpb259YDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLmZpbHRlcihsb2dTdHJpbmcgPT4gbG9nU3RyaW5nKVxyXG4gICAgICAgICAgICAuam9pbignICcpO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKlxyXG4gKiBAcGFyYW0gcHJvdmlkZXIgY2hlY2sgaWYgdGhpcyBwcm92aWRlciBwcm92aWRlcyBhIFZlcnNpb25TZXJ2aWNlXHJcbiAqXHJcbiAqIE5PVEU6IFVzaW5nIFByb3ZpZGVyPCdhcHAtdmVyc2lvbic+IGlzIGEgaGFjayB0byBpbmRpY2F0ZSB0aGF0IHRoZSBwcm92aWRlclxyXG4gKiBwcm92aWRlcyBWZXJzaW9uU2VydmljZS4gVGhlIHByb3ZpZGVyIGlzIG5vdCBuZWNlc3NhcmlseSBhICdhcHAtdmVyc2lvbidcclxuICogcHJvdmlkZXIuXHJcbiAqL1xyXG5mdW5jdGlvbiBpc1ZlcnNpb25TZXJ2aWNlUHJvdmlkZXIocHJvdmlkZXIpIHtcclxuICAgIGNvbnN0IGNvbXBvbmVudCA9IHByb3ZpZGVyLmdldENvbXBvbmVudCgpO1xyXG4gICAgcmV0dXJuIChjb21wb25lbnQgPT09IG51bGwgfHwgY29tcG9uZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb21wb25lbnQudHlwZSkgPT09IFwiVkVSU0lPTlwiIC8qIENvbXBvbmVudFR5cGUuVkVSU0lPTiAqLztcclxufVxuXG5jb25zdCBuYW1lJG8gPSBcIkBmaXJlYmFzZS9hcHBcIjtcbmNvbnN0IHZlcnNpb24kMSA9IFwiMC45LjE1XCI7XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoJ0BmaXJlYmFzZS9hcHAnKTtcblxuY29uc3QgbmFtZSRuID0gXCJAZmlyZWJhc2UvYXBwLWNvbXBhdFwiO1xuXG5jb25zdCBuYW1lJG0gPSBcIkBmaXJlYmFzZS9hbmFseXRpY3MtY29tcGF0XCI7XG5cbmNvbnN0IG5hbWUkbCA9IFwiQGZpcmViYXNlL2FuYWx5dGljc1wiO1xuXG5jb25zdCBuYW1lJGsgPSBcIkBmaXJlYmFzZS9hcHAtY2hlY2stY29tcGF0XCI7XG5cbmNvbnN0IG5hbWUkaiA9IFwiQGZpcmViYXNlL2FwcC1jaGVja1wiO1xuXG5jb25zdCBuYW1lJGkgPSBcIkBmaXJlYmFzZS9hdXRoXCI7XG5cbmNvbnN0IG5hbWUkaCA9IFwiQGZpcmViYXNlL2F1dGgtY29tcGF0XCI7XG5cbmNvbnN0IG5hbWUkZyA9IFwiQGZpcmViYXNlL2RhdGFiYXNlXCI7XG5cbmNvbnN0IG5hbWUkZiA9IFwiQGZpcmViYXNlL2RhdGFiYXNlLWNvbXBhdFwiO1xuXG5jb25zdCBuYW1lJGUgPSBcIkBmaXJlYmFzZS9mdW5jdGlvbnNcIjtcblxuY29uc3QgbmFtZSRkID0gXCJAZmlyZWJhc2UvZnVuY3Rpb25zLWNvbXBhdFwiO1xuXG5jb25zdCBuYW1lJGMgPSBcIkBmaXJlYmFzZS9pbnN0YWxsYXRpb25zXCI7XG5cbmNvbnN0IG5hbWUkYiA9IFwiQGZpcmViYXNlL2luc3RhbGxhdGlvbnMtY29tcGF0XCI7XG5cbmNvbnN0IG5hbWUkYSA9IFwiQGZpcmViYXNlL21lc3NhZ2luZ1wiO1xuXG5jb25zdCBuYW1lJDkgPSBcIkBmaXJlYmFzZS9tZXNzYWdpbmctY29tcGF0XCI7XG5cbmNvbnN0IG5hbWUkOCA9IFwiQGZpcmViYXNlL3BlcmZvcm1hbmNlXCI7XG5cbmNvbnN0IG5hbWUkNyA9IFwiQGZpcmViYXNlL3BlcmZvcm1hbmNlLWNvbXBhdFwiO1xuXG5jb25zdCBuYW1lJDYgPSBcIkBmaXJlYmFzZS9yZW1vdGUtY29uZmlnXCI7XG5cbmNvbnN0IG5hbWUkNSA9IFwiQGZpcmViYXNlL3JlbW90ZS1jb25maWctY29tcGF0XCI7XG5cbmNvbnN0IG5hbWUkNCA9IFwiQGZpcmViYXNlL3N0b3JhZ2VcIjtcblxuY29uc3QgbmFtZSQzID0gXCJAZmlyZWJhc2Uvc3RvcmFnZS1jb21wYXRcIjtcblxuY29uc3QgbmFtZSQyID0gXCJAZmlyZWJhc2UvZmlyZXN0b3JlXCI7XG5cbmNvbnN0IG5hbWUkMSA9IFwiQGZpcmViYXNlL2ZpcmVzdG9yZS1jb21wYXRcIjtcblxuY29uc3QgbmFtZSA9IFwiZmlyZWJhc2VcIjtcbmNvbnN0IHZlcnNpb24gPSBcIjEwLjEuMFwiO1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogVGhlIGRlZmF1bHQgYXBwIG5hbWVcclxuICpcclxuICogQGludGVybmFsXHJcbiAqL1xyXG5jb25zdCBERUZBVUxUX0VOVFJZX05BTUUgPSAnW0RFRkFVTFRdJztcclxuY29uc3QgUExBVEZPUk1fTE9HX1NUUklORyA9IHtcclxuICAgIFtuYW1lJG9dOiAnZmlyZS1jb3JlJyxcclxuICAgIFtuYW1lJG5dOiAnZmlyZS1jb3JlLWNvbXBhdCcsXHJcbiAgICBbbmFtZSRsXTogJ2ZpcmUtYW5hbHl0aWNzJyxcclxuICAgIFtuYW1lJG1dOiAnZmlyZS1hbmFseXRpY3MtY29tcGF0JyxcclxuICAgIFtuYW1lJGpdOiAnZmlyZS1hcHAtY2hlY2snLFxyXG4gICAgW25hbWUka106ICdmaXJlLWFwcC1jaGVjay1jb21wYXQnLFxyXG4gICAgW25hbWUkaV06ICdmaXJlLWF1dGgnLFxyXG4gICAgW25hbWUkaF06ICdmaXJlLWF1dGgtY29tcGF0JyxcclxuICAgIFtuYW1lJGddOiAnZmlyZS1ydGRiJyxcclxuICAgIFtuYW1lJGZdOiAnZmlyZS1ydGRiLWNvbXBhdCcsXHJcbiAgICBbbmFtZSRlXTogJ2ZpcmUtZm4nLFxyXG4gICAgW25hbWUkZF06ICdmaXJlLWZuLWNvbXBhdCcsXHJcbiAgICBbbmFtZSRjXTogJ2ZpcmUtaWlkJyxcclxuICAgIFtuYW1lJGJdOiAnZmlyZS1paWQtY29tcGF0JyxcclxuICAgIFtuYW1lJGFdOiAnZmlyZS1mY20nLFxyXG4gICAgW25hbWUkOV06ICdmaXJlLWZjbS1jb21wYXQnLFxyXG4gICAgW25hbWUkOF06ICdmaXJlLXBlcmYnLFxyXG4gICAgW25hbWUkN106ICdmaXJlLXBlcmYtY29tcGF0JyxcclxuICAgIFtuYW1lJDZdOiAnZmlyZS1yYycsXHJcbiAgICBbbmFtZSQ1XTogJ2ZpcmUtcmMtY29tcGF0JyxcclxuICAgIFtuYW1lJDRdOiAnZmlyZS1nY3MnLFxyXG4gICAgW25hbWUkM106ICdmaXJlLWdjcy1jb21wYXQnLFxyXG4gICAgW25hbWUkMl06ICdmaXJlLWZzdCcsXHJcbiAgICBbbmFtZSQxXTogJ2ZpcmUtZnN0LWNvbXBhdCcsXHJcbiAgICAnZmlyZS1qcyc6ICdmaXJlLWpzJyxcclxuICAgIFtuYW1lXTogJ2ZpcmUtanMtYWxsJ1xyXG59O1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogQGludGVybmFsXHJcbiAqL1xyXG5jb25zdCBfYXBwcyA9IG5ldyBNYXAoKTtcclxuLyoqXHJcbiAqIFJlZ2lzdGVyZWQgY29tcG9uZW50cy5cclxuICpcclxuICogQGludGVybmFsXHJcbiAqL1xyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxyXG5jb25zdCBfY29tcG9uZW50cyA9IG5ldyBNYXAoKTtcclxuLyoqXHJcbiAqIEBwYXJhbSBjb21wb25lbnQgLSB0aGUgY29tcG9uZW50IGJlaW5nIGFkZGVkIHRvIHRoaXMgYXBwJ3MgY29udGFpbmVyXHJcbiAqXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cclxuZnVuY3Rpb24gX2FkZENvbXBvbmVudChhcHAsIGNvbXBvbmVudCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBhcHAuY29udGFpbmVyLmFkZENvbXBvbmVudChjb21wb25lbnQpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICBsb2dnZXIuZGVidWcoYENvbXBvbmVudCAke2NvbXBvbmVudC5uYW1lfSBmYWlsZWQgdG8gcmVnaXN0ZXIgd2l0aCBGaXJlYmFzZUFwcCAke2FwcC5uYW1lfWAsIGUpO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKlxyXG4gKiBAaW50ZXJuYWxcclxuICovXHJcbmZ1bmN0aW9uIF9hZGRPck92ZXJ3cml0ZUNvbXBvbmVudChhcHAsIGNvbXBvbmVudCkge1xyXG4gICAgYXBwLmNvbnRhaW5lci5hZGRPck92ZXJ3cml0ZUNvbXBvbmVudChjb21wb25lbnQpO1xyXG59XHJcbi8qKlxyXG4gKlxyXG4gKiBAcGFyYW0gY29tcG9uZW50IC0gdGhlIGNvbXBvbmVudCB0byByZWdpc3RlclxyXG4gKiBAcmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgY29tcG9uZW50IGlzIHJlZ2lzdGVyZWQgc3VjY2Vzc2Z1bGx5XHJcbiAqXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cclxuZnVuY3Rpb24gX3JlZ2lzdGVyQ29tcG9uZW50KGNvbXBvbmVudCkge1xyXG4gICAgY29uc3QgY29tcG9uZW50TmFtZSA9IGNvbXBvbmVudC5uYW1lO1xyXG4gICAgaWYgKF9jb21wb25lbnRzLmhhcyhjb21wb25lbnROYW1lKSkge1xyXG4gICAgICAgIGxvZ2dlci5kZWJ1ZyhgVGhlcmUgd2VyZSBtdWx0aXBsZSBhdHRlbXB0cyB0byByZWdpc3RlciBjb21wb25lbnQgJHtjb21wb25lbnROYW1lfS5gKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBfY29tcG9uZW50cy5zZXQoY29tcG9uZW50TmFtZSwgY29tcG9uZW50KTtcclxuICAgIC8vIGFkZCB0aGUgY29tcG9uZW50IHRvIGV4aXN0aW5nIGFwcCBpbnN0YW5jZXNcclxuICAgIGZvciAoY29uc3QgYXBwIG9mIF9hcHBzLnZhbHVlcygpKSB7XHJcbiAgICAgICAgX2FkZENvbXBvbmVudChhcHAsIGNvbXBvbmVudCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxyXG4vKipcclxuICpcclxuICogQHBhcmFtIGFwcCAtIEZpcmViYXNlQXBwIGluc3RhbmNlXHJcbiAqIEBwYXJhbSBuYW1lIC0gc2VydmljZSBuYW1lXHJcbiAqXHJcbiAqIEByZXR1cm5zIHRoZSBwcm92aWRlciBmb3IgdGhlIHNlcnZpY2Ugd2l0aCB0aGUgbWF0Y2hpbmcgbmFtZVxyXG4gKlxyXG4gKiBAaW50ZXJuYWxcclxuICovXHJcbmZ1bmN0aW9uIF9nZXRQcm92aWRlcihhcHAsIG5hbWUpIHtcclxuICAgIGNvbnN0IGhlYXJ0YmVhdENvbnRyb2xsZXIgPSBhcHAuY29udGFpbmVyXHJcbiAgICAgICAgLmdldFByb3ZpZGVyKCdoZWFydGJlYXQnKVxyXG4gICAgICAgIC5nZXRJbW1lZGlhdGUoeyBvcHRpb25hbDogdHJ1ZSB9KTtcclxuICAgIGlmIChoZWFydGJlYXRDb250cm9sbGVyKSB7XHJcbiAgICAgICAgdm9pZCBoZWFydGJlYXRDb250cm9sbGVyLnRyaWdnZXJIZWFydGJlYXQoKTtcclxuICAgIH1cclxuICAgIHJldHVybiBhcHAuY29udGFpbmVyLmdldFByb3ZpZGVyKG5hbWUpO1xyXG59XHJcbi8qKlxyXG4gKlxyXG4gKiBAcGFyYW0gYXBwIC0gRmlyZWJhc2VBcHAgaW5zdGFuY2VcclxuICogQHBhcmFtIG5hbWUgLSBzZXJ2aWNlIG5hbWVcclxuICogQHBhcmFtIGluc3RhbmNlSWRlbnRpZmllciAtIHNlcnZpY2UgaW5zdGFuY2UgaWRlbnRpZmllciBpbiBjYXNlIHRoZSBzZXJ2aWNlIHN1cHBvcnRzIG11bHRpcGxlIGluc3RhbmNlc1xyXG4gKlxyXG4gKiBAaW50ZXJuYWxcclxuICovXHJcbmZ1bmN0aW9uIF9yZW1vdmVTZXJ2aWNlSW5zdGFuY2UoYXBwLCBuYW1lLCBpbnN0YW5jZUlkZW50aWZpZXIgPSBERUZBVUxUX0VOVFJZX05BTUUpIHtcclxuICAgIF9nZXRQcm92aWRlcihhcHAsIG5hbWUpLmNsZWFySW5zdGFuY2UoaW5zdGFuY2VJZGVudGlmaWVyKTtcclxufVxyXG4vKipcclxuICogVGVzdCBvbmx5XHJcbiAqXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cclxuZnVuY3Rpb24gX2NsZWFyQ29tcG9uZW50cygpIHtcclxuICAgIF9jb21wb25lbnRzLmNsZWFyKCk7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuY29uc3QgRVJST1JTID0ge1xyXG4gICAgW1wibm8tYXBwXCIgLyogQXBwRXJyb3IuTk9fQVBQICovXTogXCJObyBGaXJlYmFzZSBBcHAgJ3skYXBwTmFtZX0nIGhhcyBiZWVuIGNyZWF0ZWQgLSBcIiArXHJcbiAgICAgICAgJ2NhbGwgaW5pdGlhbGl6ZUFwcCgpIGZpcnN0JyxcclxuICAgIFtcImJhZC1hcHAtbmFtZVwiIC8qIEFwcEVycm9yLkJBRF9BUFBfTkFNRSAqL106IFwiSWxsZWdhbCBBcHAgbmFtZTogJ3skYXBwTmFtZX1cIixcclxuICAgIFtcImR1cGxpY2F0ZS1hcHBcIiAvKiBBcHBFcnJvci5EVVBMSUNBVEVfQVBQICovXTogXCJGaXJlYmFzZSBBcHAgbmFtZWQgJ3skYXBwTmFtZX0nIGFscmVhZHkgZXhpc3RzIHdpdGggZGlmZmVyZW50IG9wdGlvbnMgb3IgY29uZmlnXCIsXHJcbiAgICBbXCJhcHAtZGVsZXRlZFwiIC8qIEFwcEVycm9yLkFQUF9ERUxFVEVEICovXTogXCJGaXJlYmFzZSBBcHAgbmFtZWQgJ3skYXBwTmFtZX0nIGFscmVhZHkgZGVsZXRlZFwiLFxyXG4gICAgW1wibm8tb3B0aW9uc1wiIC8qIEFwcEVycm9yLk5PX09QVElPTlMgKi9dOiAnTmVlZCB0byBwcm92aWRlIG9wdGlvbnMsIHdoZW4gbm90IGJlaW5nIGRlcGxveWVkIHRvIGhvc3RpbmcgdmlhIHNvdXJjZS4nLFxyXG4gICAgW1wiaW52YWxpZC1hcHAtYXJndW1lbnRcIiAvKiBBcHBFcnJvci5JTlZBTElEX0FQUF9BUkdVTUVOVCAqL106ICdmaXJlYmFzZS57JGFwcE5hbWV9KCkgdGFrZXMgZWl0aGVyIG5vIGFyZ3VtZW50IG9yIGEgJyArXHJcbiAgICAgICAgJ0ZpcmViYXNlIEFwcCBpbnN0YW5jZS4nLFxyXG4gICAgW1wiaW52YWxpZC1sb2ctYXJndW1lbnRcIiAvKiBBcHBFcnJvci5JTlZBTElEX0xPR19BUkdVTUVOVCAqL106ICdGaXJzdCBhcmd1bWVudCB0byBgb25Mb2dgIG11c3QgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLicsXHJcbiAgICBbXCJpZGItb3BlblwiIC8qIEFwcEVycm9yLklEQl9PUEVOICovXTogJ0Vycm9yIHRocm93biB3aGVuIG9wZW5pbmcgSW5kZXhlZERCLiBPcmlnaW5hbCBlcnJvcjogeyRvcmlnaW5hbEVycm9yTWVzc2FnZX0uJyxcclxuICAgIFtcImlkYi1nZXRcIiAvKiBBcHBFcnJvci5JREJfR0VUICovXTogJ0Vycm9yIHRocm93biB3aGVuIHJlYWRpbmcgZnJvbSBJbmRleGVkREIuIE9yaWdpbmFsIGVycm9yOiB7JG9yaWdpbmFsRXJyb3JNZXNzYWdlfS4nLFxyXG4gICAgW1wiaWRiLXNldFwiIC8qIEFwcEVycm9yLklEQl9XUklURSAqL106ICdFcnJvciB0aHJvd24gd2hlbiB3cml0aW5nIHRvIEluZGV4ZWREQi4gT3JpZ2luYWwgZXJyb3I6IHskb3JpZ2luYWxFcnJvck1lc3NhZ2V9LicsXHJcbiAgICBbXCJpZGItZGVsZXRlXCIgLyogQXBwRXJyb3IuSURCX0RFTEVURSAqL106ICdFcnJvciB0aHJvd24gd2hlbiBkZWxldGluZyBmcm9tIEluZGV4ZWREQi4gT3JpZ2luYWwgZXJyb3I6IHskb3JpZ2luYWxFcnJvck1lc3NhZ2V9LidcclxufTtcclxuY29uc3QgRVJST1JfRkFDVE9SWSA9IG5ldyBFcnJvckZhY3RvcnkoJ2FwcCcsICdGaXJlYmFzZScsIEVSUk9SUyk7XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbmNsYXNzIEZpcmViYXNlQXBwSW1wbCB7XHJcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zLCBjb25maWcsIGNvbnRhaW5lcikge1xyXG4gICAgICAgIHRoaXMuX2lzRGVsZXRlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKTtcclxuICAgICAgICB0aGlzLl9jb25maWcgPSBPYmplY3QuYXNzaWduKHt9LCBjb25maWcpO1xyXG4gICAgICAgIHRoaXMuX25hbWUgPSBjb25maWcubmFtZTtcclxuICAgICAgICB0aGlzLl9hdXRvbWF0aWNEYXRhQ29sbGVjdGlvbkVuYWJsZWQgPVxyXG4gICAgICAgICAgICBjb25maWcuYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkO1xyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IGNvbnRhaW5lcjtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5hZGRDb21wb25lbnQobmV3IENvbXBvbmVudCgnYXBwJywgKCkgPT4gdGhpcywgXCJQVUJMSUNcIiAvKiBDb21wb25lbnRUeXBlLlBVQkxJQyAqLykpO1xyXG4gICAgfVxyXG4gICAgZ2V0IGF1dG9tYXRpY0RhdGFDb2xsZWN0aW9uRW5hYmxlZCgpIHtcclxuICAgICAgICB0aGlzLmNoZWNrRGVzdHJveWVkKCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2F1dG9tYXRpY0RhdGFDb2xsZWN0aW9uRW5hYmxlZDtcclxuICAgIH1cclxuICAgIHNldCBhdXRvbWF0aWNEYXRhQ29sbGVjdGlvbkVuYWJsZWQodmFsKSB7XHJcbiAgICAgICAgdGhpcy5jaGVja0Rlc3Ryb3llZCgpO1xyXG4gICAgICAgIHRoaXMuX2F1dG9tYXRpY0RhdGFDb2xsZWN0aW9uRW5hYmxlZCA9IHZhbDtcclxuICAgIH1cclxuICAgIGdldCBuYW1lKCkge1xyXG4gICAgICAgIHRoaXMuY2hlY2tEZXN0cm95ZWQoKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbmFtZTtcclxuICAgIH1cclxuICAgIGdldCBvcHRpb25zKCkge1xyXG4gICAgICAgIHRoaXMuY2hlY2tEZXN0cm95ZWQoKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fb3B0aW9ucztcclxuICAgIH1cclxuICAgIGdldCBjb25maWcoKSB7XHJcbiAgICAgICAgdGhpcy5jaGVja0Rlc3Ryb3llZCgpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jb25maWc7XHJcbiAgICB9XHJcbiAgICBnZXQgY29udGFpbmVyKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jb250YWluZXI7XHJcbiAgICB9XHJcbiAgICBnZXQgaXNEZWxldGVkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pc0RlbGV0ZWQ7XHJcbiAgICB9XHJcbiAgICBzZXQgaXNEZWxldGVkKHZhbCkge1xyXG4gICAgICAgIHRoaXMuX2lzRGVsZXRlZCA9IHZhbDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBmdW5jdGlvbiB3aWxsIHRocm93IGFuIEVycm9yIGlmIHRoZSBBcHAgaGFzIGFscmVhZHkgYmVlbiBkZWxldGVkIC1cclxuICAgICAqIHVzZSBiZWZvcmUgcGVyZm9ybWluZyBBUEkgYWN0aW9ucyBvbiB0aGUgQXBwLlxyXG4gICAgICovXHJcbiAgICBjaGVja0Rlc3Ryb3llZCgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc0RlbGV0ZWQpIHtcclxuICAgICAgICAgICAgdGhyb3cgRVJST1JfRkFDVE9SWS5jcmVhdGUoXCJhcHAtZGVsZXRlZFwiIC8qIEFwcEVycm9yLkFQUF9ERUxFVEVEICovLCB7IGFwcE5hbWU6IHRoaXMuX25hbWUgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBUaGUgY3VycmVudCBTREsgdmVyc2lvbi5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cclxuY29uc3QgU0RLX1ZFUlNJT04gPSB2ZXJzaW9uO1xyXG5mdW5jdGlvbiBpbml0aWFsaXplQXBwKF9vcHRpb25zLCByYXdDb25maWcgPSB7fSkge1xyXG4gICAgbGV0IG9wdGlvbnMgPSBfb3B0aW9ucztcclxuICAgIGlmICh0eXBlb2YgcmF3Q29uZmlnICE9PSAnb2JqZWN0Jykge1xyXG4gICAgICAgIGNvbnN0IG5hbWUgPSByYXdDb25maWc7XHJcbiAgICAgICAgcmF3Q29uZmlnID0geyBuYW1lIH07XHJcbiAgICB9XHJcbiAgICBjb25zdCBjb25maWcgPSBPYmplY3QuYXNzaWduKHsgbmFtZTogREVGQVVMVF9FTlRSWV9OQU1FLCBhdXRvbWF0aWNEYXRhQ29sbGVjdGlvbkVuYWJsZWQ6IGZhbHNlIH0sIHJhd0NvbmZpZyk7XHJcbiAgICBjb25zdCBuYW1lID0gY29uZmlnLm5hbWU7XHJcbiAgICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnIHx8ICFuYW1lKSB7XHJcbiAgICAgICAgdGhyb3cgRVJST1JfRkFDVE9SWS5jcmVhdGUoXCJiYWQtYXBwLW5hbWVcIiAvKiBBcHBFcnJvci5CQURfQVBQX05BTUUgKi8sIHtcclxuICAgICAgICAgICAgYXBwTmFtZTogU3RyaW5nKG5hbWUpXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBvcHRpb25zIHx8IChvcHRpb25zID0gZ2V0RGVmYXVsdEFwcENvbmZpZygpKTtcclxuICAgIGlmICghb3B0aW9ucykge1xyXG4gICAgICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwibm8tb3B0aW9uc1wiIC8qIEFwcEVycm9yLk5PX09QVElPTlMgKi8pO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZXhpc3RpbmdBcHAgPSBfYXBwcy5nZXQobmFtZSk7XHJcbiAgICBpZiAoZXhpc3RpbmdBcHApIHtcclxuICAgICAgICAvLyByZXR1cm4gdGhlIGV4aXN0aW5nIGFwcCBpZiBvcHRpb25zIGFuZCBjb25maWcgZGVlcCBlcXVhbCB0aGUgb25lcyBpbiB0aGUgZXhpc3RpbmcgYXBwLlxyXG4gICAgICAgIGlmIChkZWVwRXF1YWwob3B0aW9ucywgZXhpc3RpbmdBcHAub3B0aW9ucykgJiZcclxuICAgICAgICAgICAgZGVlcEVxdWFsKGNvbmZpZywgZXhpc3RpbmdBcHAuY29uZmlnKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZXhpc3RpbmdBcHA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcImR1cGxpY2F0ZS1hcHBcIiAvKiBBcHBFcnJvci5EVVBMSUNBVEVfQVBQICovLCB7IGFwcE5hbWU6IG5hbWUgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29uc3QgY29udGFpbmVyID0gbmV3IENvbXBvbmVudENvbnRhaW5lcihuYW1lKTtcclxuICAgIGZvciAoY29uc3QgY29tcG9uZW50IG9mIF9jb21wb25lbnRzLnZhbHVlcygpKSB7XHJcbiAgICAgICAgY29udGFpbmVyLmFkZENvbXBvbmVudChjb21wb25lbnQpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgbmV3QXBwID0gbmV3IEZpcmViYXNlQXBwSW1wbChvcHRpb25zLCBjb25maWcsIGNvbnRhaW5lcik7XHJcbiAgICBfYXBwcy5zZXQobmFtZSwgbmV3QXBwKTtcclxuICAgIHJldHVybiBuZXdBcHA7XHJcbn1cclxuLyoqXHJcbiAqIFJldHJpZXZlcyBhIHtAbGluayBAZmlyZWJhc2UvYXBwI0ZpcmViYXNlQXBwfSBpbnN0YW5jZS5cclxuICpcclxuICogV2hlbiBjYWxsZWQgd2l0aCBubyBhcmd1bWVudHMsIHRoZSBkZWZhdWx0IGFwcCBpcyByZXR1cm5lZC4gV2hlbiBhbiBhcHAgbmFtZVxyXG4gKiBpcyBwcm92aWRlZCwgdGhlIGFwcCBjb3JyZXNwb25kaW5nIHRvIHRoYXQgbmFtZSBpcyByZXR1cm5lZC5cclxuICpcclxuICogQW4gZXhjZXB0aW9uIGlzIHRocm93biBpZiB0aGUgYXBwIGJlaW5nIHJldHJpZXZlZCBoYXMgbm90IHlldCBiZWVuXHJcbiAqIGluaXRpYWxpemVkLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIC8vIFJldHVybiB0aGUgZGVmYXVsdCBhcHBcclxuICogY29uc3QgYXBwID0gZ2V0QXBwKCk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIC8vIFJldHVybiBhIG5hbWVkIGFwcFxyXG4gKiBjb25zdCBvdGhlckFwcCA9IGdldEFwcChcIm90aGVyQXBwXCIpO1xyXG4gKiBgYGBcclxuICpcclxuICogQHBhcmFtIG5hbWUgLSBPcHRpb25hbCBuYW1lIG9mIHRoZSBhcHAgdG8gcmV0dXJuLiBJZiBubyBuYW1lIGlzXHJcbiAqICAgcHJvdmlkZWQsIHRoZSBkZWZhdWx0IGlzIGBcIltERUZBVUxUXVwiYC5cclxuICpcclxuICogQHJldHVybnMgVGhlIGFwcCBjb3JyZXNwb25kaW5nIHRvIHRoZSBwcm92aWRlZCBhcHAgbmFtZS5cclxuICogICBJZiBubyBhcHAgbmFtZSBpcyBwcm92aWRlZCwgdGhlIGRlZmF1bHQgYXBwIGlzIHJldHVybmVkLlxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRBcHAobmFtZSA9IERFRkFVTFRfRU5UUllfTkFNRSkge1xyXG4gICAgY29uc3QgYXBwID0gX2FwcHMuZ2V0KG5hbWUpO1xyXG4gICAgaWYgKCFhcHAgJiYgbmFtZSA9PT0gREVGQVVMVF9FTlRSWV9OQU1FICYmIGdldERlZmF1bHRBcHBDb25maWcoKSkge1xyXG4gICAgICAgIHJldHVybiBpbml0aWFsaXplQXBwKCk7XHJcbiAgICB9XHJcbiAgICBpZiAoIWFwcCkge1xyXG4gICAgICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwibm8tYXBwXCIgLyogQXBwRXJyb3IuTk9fQVBQICovLCB7IGFwcE5hbWU6IG5hbWUgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXBwO1xyXG59XHJcbi8qKlxyXG4gKiBBIChyZWFkLW9ubHkpIGFycmF5IG9mIGFsbCBpbml0aWFsaXplZCBhcHBzLlxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRBcHBzKCkge1xyXG4gICAgcmV0dXJuIEFycmF5LmZyb20oX2FwcHMudmFsdWVzKCkpO1xyXG59XHJcbi8qKlxyXG4gKiBSZW5kZXJzIHRoaXMgYXBwIHVudXNhYmxlIGFuZCBmcmVlcyB0aGUgcmVzb3VyY2VzIG9mIGFsbCBhc3NvY2lhdGVkXHJcbiAqIHNlcnZpY2VzLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIGRlbGV0ZUFwcChhcHApXHJcbiAqICAgLnRoZW4oZnVuY3Rpb24oKSB7XHJcbiAqICAgICBjb25zb2xlLmxvZyhcIkFwcCBkZWxldGVkIHN1Y2Nlc3NmdWxseVwiKTtcclxuICogICB9KVxyXG4gKiAgIC5jYXRjaChmdW5jdGlvbihlcnJvcikge1xyXG4gKiAgICAgY29uc29sZS5sb2coXCJFcnJvciBkZWxldGluZyBhcHA6XCIsIGVycm9yKTtcclxuICogICB9KTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIGRlbGV0ZUFwcChhcHApIHtcclxuICAgIGNvbnN0IG5hbWUgPSBhcHAubmFtZTtcclxuICAgIGlmIChfYXBwcy5oYXMobmFtZSkpIHtcclxuICAgICAgICBfYXBwcy5kZWxldGUobmFtZSk7XHJcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoYXBwLmNvbnRhaW5lclxyXG4gICAgICAgICAgICAuZ2V0UHJvdmlkZXJzKClcclxuICAgICAgICAgICAgLm1hcChwcm92aWRlciA9PiBwcm92aWRlci5kZWxldGUoKSkpO1xyXG4gICAgICAgIGFwcC5pc0RlbGV0ZWQgPSB0cnVlO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBSZWdpc3RlcnMgYSBsaWJyYXJ5J3MgbmFtZSBhbmQgdmVyc2lvbiBmb3IgcGxhdGZvcm0gbG9nZ2luZyBwdXJwb3Nlcy5cclxuICogQHBhcmFtIGxpYnJhcnkgLSBOYW1lIG9mIDFwIG9yIDNwIGxpYnJhcnkgKGUuZy4gZmlyZXN0b3JlLCBhbmd1bGFyZmlyZSlcclxuICogQHBhcmFtIHZlcnNpb24gLSBDdXJyZW50IHZlcnNpb24gb2YgdGhhdCBsaWJyYXJ5LlxyXG4gKiBAcGFyYW0gdmFyaWFudCAtIEJ1bmRsZSB2YXJpYW50LCBlLmcuLCBub2RlLCBybiwgZXRjLlxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5mdW5jdGlvbiByZWdpc3RlclZlcnNpb24obGlicmFyeUtleU9yTmFtZSwgdmVyc2lvbiwgdmFyaWFudCkge1xyXG4gICAgdmFyIF9hO1xyXG4gICAgLy8gVE9ETzogV2UgY2FuIHVzZSB0aGlzIGNoZWNrIHRvIHdoaXRlbGlzdCBzdHJpbmdzIHdoZW4vaWYgd2Ugc2V0IHVwXHJcbiAgICAvLyBhIGdvb2Qgd2hpdGVsaXN0IHN5c3RlbS5cclxuICAgIGxldCBsaWJyYXJ5ID0gKF9hID0gUExBVEZPUk1fTE9HX1NUUklOR1tsaWJyYXJ5S2V5T3JOYW1lXSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogbGlicmFyeUtleU9yTmFtZTtcclxuICAgIGlmICh2YXJpYW50KSB7XHJcbiAgICAgICAgbGlicmFyeSArPSBgLSR7dmFyaWFudH1gO1xyXG4gICAgfVxyXG4gICAgY29uc3QgbGlicmFyeU1pc21hdGNoID0gbGlicmFyeS5tYXRjaCgvXFxzfFxcLy8pO1xyXG4gICAgY29uc3QgdmVyc2lvbk1pc21hdGNoID0gdmVyc2lvbi5tYXRjaCgvXFxzfFxcLy8pO1xyXG4gICAgaWYgKGxpYnJhcnlNaXNtYXRjaCB8fCB2ZXJzaW9uTWlzbWF0Y2gpIHtcclxuICAgICAgICBjb25zdCB3YXJuaW5nID0gW1xyXG4gICAgICAgICAgICBgVW5hYmxlIHRvIHJlZ2lzdGVyIGxpYnJhcnkgXCIke2xpYnJhcnl9XCIgd2l0aCB2ZXJzaW9uIFwiJHt2ZXJzaW9ufVwiOmBcclxuICAgICAgICBdO1xyXG4gICAgICAgIGlmIChsaWJyYXJ5TWlzbWF0Y2gpIHtcclxuICAgICAgICAgICAgd2FybmluZy5wdXNoKGBsaWJyYXJ5IG5hbWUgXCIke2xpYnJhcnl9XCIgY29udGFpbnMgaWxsZWdhbCBjaGFyYWN0ZXJzICh3aGl0ZXNwYWNlIG9yIFwiL1wiKWApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobGlicmFyeU1pc21hdGNoICYmIHZlcnNpb25NaXNtYXRjaCkge1xyXG4gICAgICAgICAgICB3YXJuaW5nLnB1c2goJ2FuZCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodmVyc2lvbk1pc21hdGNoKSB7XHJcbiAgICAgICAgICAgIHdhcm5pbmcucHVzaChgdmVyc2lvbiBuYW1lIFwiJHt2ZXJzaW9ufVwiIGNvbnRhaW5zIGlsbGVnYWwgY2hhcmFjdGVycyAod2hpdGVzcGFjZSBvciBcIi9cIilgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbG9nZ2VyLndhcm4od2FybmluZy5qb2luKCcgJykpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIF9yZWdpc3RlckNvbXBvbmVudChuZXcgQ29tcG9uZW50KGAke2xpYnJhcnl9LXZlcnNpb25gLCAoKSA9PiAoeyBsaWJyYXJ5LCB2ZXJzaW9uIH0pLCBcIlZFUlNJT05cIiAvKiBDb21wb25lbnRUeXBlLlZFUlNJT04gKi8pKTtcclxufVxyXG4vKipcclxuICogU2V0cyBsb2cgaGFuZGxlciBmb3IgYWxsIEZpcmViYXNlIFNES3MuXHJcbiAqIEBwYXJhbSBsb2dDYWxsYmFjayAtIEFuIG9wdGlvbmFsIGN1c3RvbSBsb2cgaGFuZGxlciB0aGF0IGV4ZWN1dGVzIHVzZXIgY29kZSB3aGVuZXZlclxyXG4gKiB0aGUgRmlyZWJhc2UgU0RLIG1ha2VzIGEgbG9nZ2luZyBjYWxsLlxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5mdW5jdGlvbiBvbkxvZyhsb2dDYWxsYmFjaywgb3B0aW9ucykge1xyXG4gICAgaWYgKGxvZ0NhbGxiYWNrICE9PSBudWxsICYmIHR5cGVvZiBsb2dDYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwiaW52YWxpZC1sb2ctYXJndW1lbnRcIiAvKiBBcHBFcnJvci5JTlZBTElEX0xPR19BUkdVTUVOVCAqLyk7XHJcbiAgICB9XHJcbiAgICBzZXRVc2VyTG9nSGFuZGxlcihsb2dDYWxsYmFjaywgb3B0aW9ucyk7XHJcbn1cclxuLyoqXHJcbiAqIFNldHMgbG9nIGxldmVsIGZvciBhbGwgRmlyZWJhc2UgU0RLcy5cclxuICpcclxuICogQWxsIG9mIHRoZSBsb2cgdHlwZXMgYWJvdmUgdGhlIGN1cnJlbnQgbG9nIGxldmVsIGFyZSBjYXB0dXJlZCAoaS5lLiBpZlxyXG4gKiB5b3Ugc2V0IHRoZSBsb2cgbGV2ZWwgdG8gYGluZm9gLCBlcnJvcnMgYXJlIGxvZ2dlZCwgYnV0IGBkZWJ1Z2AgYW5kXHJcbiAqIGB2ZXJib3NlYCBsb2dzIGFyZSBub3QpLlxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXRMb2dMZXZlbChsb2dMZXZlbCkge1xyXG4gICAgc2V0TG9nTGV2ZWwkMShsb2dMZXZlbCk7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDIxIEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuY29uc3QgREJfTkFNRSA9ICdmaXJlYmFzZS1oZWFydGJlYXQtZGF0YWJhc2UnO1xyXG5jb25zdCBEQl9WRVJTSU9OID0gMTtcclxuY29uc3QgU1RPUkVfTkFNRSA9ICdmaXJlYmFzZS1oZWFydGJlYXQtc3RvcmUnO1xyXG5sZXQgZGJQcm9taXNlID0gbnVsbDtcclxuZnVuY3Rpb24gZ2V0RGJQcm9taXNlKCkge1xyXG4gICAgaWYgKCFkYlByb21pc2UpIHtcclxuICAgICAgICBkYlByb21pc2UgPSBvcGVuREIoREJfTkFNRSwgREJfVkVSU0lPTiwge1xyXG4gICAgICAgICAgICB1cGdyYWRlOiAoZGIsIG9sZFZlcnNpb24pID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIFdlIGRvbid0IHVzZSAnYnJlYWsnIGluIHRoaXMgc3dpdGNoIHN0YXRlbWVudCwgdGhlIGZhbGwtdGhyb3VnaFxyXG4gICAgICAgICAgICAgICAgLy8gYmVoYXZpb3IgaXMgd2hhdCB3ZSB3YW50LCBiZWNhdXNlIGlmIHRoZXJlIGFyZSBtdWx0aXBsZSB2ZXJzaW9ucyBiZXR3ZWVuXHJcbiAgICAgICAgICAgICAgICAvLyB0aGUgb2xkIHZlcnNpb24gYW5kIHRoZSBjdXJyZW50IHZlcnNpb24sIHdlIHdhbnQgQUxMIHRoZSBtaWdyYXRpb25zXHJcbiAgICAgICAgICAgICAgICAvLyB0aGF0IGNvcnJlc3BvbmQgdG8gdGhvc2UgdmVyc2lvbnMgdG8gcnVuLCBub3Qgb25seSB0aGUgbGFzdCBvbmUuXHJcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVmYXVsdC1jYXNlXHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKG9sZFZlcnNpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKFNUT1JFX05BTUUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSkuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwiaWRiLW9wZW5cIiAvKiBBcHBFcnJvci5JREJfT1BFTiAqLywge1xyXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxFcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiBkYlByb21pc2U7XHJcbn1cclxuYXN5bmMgZnVuY3Rpb24gcmVhZEhlYXJ0YmVhdHNGcm9tSW5kZXhlZERCKGFwcCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBkYiA9IGF3YWl0IGdldERiUHJvbWlzZSgpO1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRiXHJcbiAgICAgICAgICAgIC50cmFuc2FjdGlvbihTVE9SRV9OQU1FKVxyXG4gICAgICAgICAgICAub2JqZWN0U3RvcmUoU1RPUkVfTkFNRSlcclxuICAgICAgICAgICAgLmdldChjb21wdXRlS2V5KGFwcCkpO1xyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgIGlmIChlIGluc3RhbmNlb2YgRmlyZWJhc2VFcnJvcikge1xyXG4gICAgICAgICAgICBsb2dnZXIud2FybihlLm1lc3NhZ2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgaWRiR2V0RXJyb3IgPSBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcImlkYi1nZXRcIiAvKiBBcHBFcnJvci5JREJfR0VUICovLCB7XHJcbiAgICAgICAgICAgICAgICBvcmlnaW5hbEVycm9yTWVzc2FnZTogZSA9PT0gbnVsbCB8fCBlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlLm1lc3NhZ2VcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKGlkYkdldEVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5hc3luYyBmdW5jdGlvbiB3cml0ZUhlYXJ0YmVhdHNUb0luZGV4ZWREQihhcHAsIGhlYXJ0YmVhdE9iamVjdCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBkYiA9IGF3YWl0IGdldERiUHJvbWlzZSgpO1xyXG4gICAgICAgIGNvbnN0IHR4ID0gZGIudHJhbnNhY3Rpb24oU1RPUkVfTkFNRSwgJ3JlYWR3cml0ZScpO1xyXG4gICAgICAgIGNvbnN0IG9iamVjdFN0b3JlID0gdHgub2JqZWN0U3RvcmUoU1RPUkVfTkFNRSk7XHJcbiAgICAgICAgYXdhaXQgb2JqZWN0U3RvcmUucHV0KGhlYXJ0YmVhdE9iamVjdCwgY29tcHV0ZUtleShhcHApKTtcclxuICAgICAgICBhd2FpdCB0eC5kb25lO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIEZpcmViYXNlRXJyb3IpIHtcclxuICAgICAgICAgICAgbG9nZ2VyLndhcm4oZS5tZXNzYWdlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGlkYkdldEVycm9yID0gRVJST1JfRkFDVE9SWS5jcmVhdGUoXCJpZGItc2V0XCIgLyogQXBwRXJyb3IuSURCX1dSSVRFICovLCB7XHJcbiAgICAgICAgICAgICAgICBvcmlnaW5hbEVycm9yTWVzc2FnZTogZSA9PT0gbnVsbCB8fCBlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlLm1lc3NhZ2VcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKGlkYkdldEVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBjb21wdXRlS2V5KGFwcCkge1xyXG4gICAgcmV0dXJuIGAke2FwcC5uYW1lfSEke2FwcC5vcHRpb25zLmFwcElkfWA7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDIxIEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuY29uc3QgTUFYX0hFQURFUl9CWVRFUyA9IDEwMjQ7XHJcbi8vIDMwIGRheXNcclxuY29uc3QgU1RPUkVEX0hFQVJUQkVBVF9SRVRFTlRJT05fTUFYX01JTExJUyA9IDMwICogMjQgKiA2MCAqIDYwICogMTAwMDtcclxuY2xhc3MgSGVhcnRiZWF0U2VydmljZUltcGwge1xyXG4gICAgY29uc3RydWN0b3IoY29udGFpbmVyKSB7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSW4tbWVtb3J5IGNhY2hlIGZvciBoZWFydGJlYXRzLCB1c2VkIGJ5IGdldEhlYXJ0YmVhdHNIZWFkZXIoKSB0byBnZW5lcmF0ZVxyXG4gICAgICAgICAqIHRoZSBoZWFkZXIgc3RyaW5nLlxyXG4gICAgICAgICAqIFN0b3JlcyBvbmUgcmVjb3JkIHBlciBkYXRlLiBUaGlzIHdpbGwgYmUgY29uc29saWRhdGVkIGludG8gdGhlIHN0YW5kYXJkXHJcbiAgICAgICAgICogZm9ybWF0IG9mIG9uZSByZWNvcmQgcGVyIHVzZXIgYWdlbnQgc3RyaW5nIGJlZm9yZSBiZWluZyBzZW50IGFzIGEgaGVhZGVyLlxyXG4gICAgICAgICAqIFBvcHVsYXRlZCBmcm9tIGluZGV4ZWREQiB3aGVuIHRoZSBjb250cm9sbGVyIGlzIGluc3RhbnRpYXRlZCBhbmQgc2hvdWxkXHJcbiAgICAgICAgICogYmUga2VwdCBpbiBzeW5jIHdpdGggaW5kZXhlZERCLlxyXG4gICAgICAgICAqIExlYXZlIHB1YmxpYyBmb3IgZWFzaWVyIHRlc3RpbmcuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5faGVhcnRiZWF0c0NhY2hlID0gbnVsbDtcclxuICAgICAgICBjb25zdCBhcHAgPSB0aGlzLmNvbnRhaW5lci5nZXRQcm92aWRlcignYXBwJykuZ2V0SW1tZWRpYXRlKCk7XHJcbiAgICAgICAgdGhpcy5fc3RvcmFnZSA9IG5ldyBIZWFydGJlYXRTdG9yYWdlSW1wbChhcHApO1xyXG4gICAgICAgIHRoaXMuX2hlYXJ0YmVhdHNDYWNoZVByb21pc2UgPSB0aGlzLl9zdG9yYWdlLnJlYWQoKS50aGVuKHJlc3VsdCA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hlYXJ0YmVhdHNDYWNoZSA9IHJlc3VsdDtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ2FsbGVkIHRvIHJlcG9ydCBhIGhlYXJ0YmVhdC4gVGhlIGZ1bmN0aW9uIHdpbGwgZ2VuZXJhdGVcclxuICAgICAqIGEgSGVhcnRiZWF0c0J5VXNlckFnZW50IG9iamVjdCwgdXBkYXRlIGhlYXJ0YmVhdHNDYWNoZSwgYW5kIHBlcnNpc3QgaXRcclxuICAgICAqIHRvIEluZGV4ZWREQi5cclxuICAgICAqIE5vdGUgdGhhdCB3ZSBvbmx5IHN0b3JlIG9uZSBoZWFydGJlYXQgcGVyIGRheS4gU28gaWYgYSBoZWFydGJlYXQgZm9yIHRvZGF5IGlzXHJcbiAgICAgKiBhbHJlYWR5IGxvZ2dlZCwgc3Vic2VxdWVudCBjYWxscyB0byB0aGlzIGZ1bmN0aW9uIGluIHRoZSBzYW1lIGRheSB3aWxsIGJlIGlnbm9yZWQuXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHRyaWdnZXJIZWFydGJlYXQoKSB7XHJcbiAgICAgICAgY29uc3QgcGxhdGZvcm1Mb2dnZXIgPSB0aGlzLmNvbnRhaW5lclxyXG4gICAgICAgICAgICAuZ2V0UHJvdmlkZXIoJ3BsYXRmb3JtLWxvZ2dlcicpXHJcbiAgICAgICAgICAgIC5nZXRJbW1lZGlhdGUoKTtcclxuICAgICAgICAvLyBUaGlzIGlzIHRoZSBcIkZpcmViYXNlIHVzZXIgYWdlbnRcIiBzdHJpbmcgZnJvbSB0aGUgcGxhdGZvcm0gbG9nZ2VyXHJcbiAgICAgICAgLy8gc2VydmljZSwgbm90IHRoZSBicm93c2VyIHVzZXIgYWdlbnQuXHJcbiAgICAgICAgY29uc3QgYWdlbnQgPSBwbGF0Zm9ybUxvZ2dlci5nZXRQbGF0Zm9ybUluZm9TdHJpbmcoKTtcclxuICAgICAgICBjb25zdCBkYXRlID0gZ2V0VVRDRGF0ZVN0cmluZygpO1xyXG4gICAgICAgIGlmICh0aGlzLl9oZWFydGJlYXRzQ2FjaGUgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5faGVhcnRiZWF0c0NhY2hlID0gYXdhaXQgdGhpcy5faGVhcnRiZWF0c0NhY2hlUHJvbWlzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gRG8gbm90IHN0b3JlIGEgaGVhcnRiZWF0IGlmIG9uZSBpcyBhbHJlYWR5IHN0b3JlZCBmb3IgdGhpcyBkYXlcclxuICAgICAgICAvLyBvciBpZiBhIGhlYWRlciBoYXMgYWxyZWFkeSBiZWVuIHNlbnQgdG9kYXkuXHJcbiAgICAgICAgaWYgKHRoaXMuX2hlYXJ0YmVhdHNDYWNoZS5sYXN0U2VudEhlYXJ0YmVhdERhdGUgPT09IGRhdGUgfHxcclxuICAgICAgICAgICAgdGhpcy5faGVhcnRiZWF0c0NhY2hlLmhlYXJ0YmVhdHMuc29tZShzaW5nbGVEYXRlSGVhcnRiZWF0ID0+IHNpbmdsZURhdGVIZWFydGJlYXQuZGF0ZSA9PT0gZGF0ZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gVGhlcmUgaXMgbm8gZW50cnkgZm9yIHRoaXMgZGF0ZS4gQ3JlYXRlIG9uZS5cclxuICAgICAgICAgICAgdGhpcy5faGVhcnRiZWF0c0NhY2hlLmhlYXJ0YmVhdHMucHVzaCh7IGRhdGUsIGFnZW50IH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBSZW1vdmUgZW50cmllcyBvbGRlciB0aGFuIDMwIGRheXMuXHJcbiAgICAgICAgdGhpcy5faGVhcnRiZWF0c0NhY2hlLmhlYXJ0YmVhdHMgPSB0aGlzLl9oZWFydGJlYXRzQ2FjaGUuaGVhcnRiZWF0cy5maWx0ZXIoc2luZ2xlRGF0ZUhlYXJ0YmVhdCA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGhiVGltZXN0YW1wID0gbmV3IERhdGUoc2luZ2xlRGF0ZUhlYXJ0YmVhdC5kYXRlKS52YWx1ZU9mKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICAgIHJldHVybiBub3cgLSBoYlRpbWVzdGFtcCA8PSBTVE9SRURfSEVBUlRCRUFUX1JFVEVOVElPTl9NQVhfTUlMTElTO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zdG9yYWdlLm92ZXJ3cml0ZSh0aGlzLl9oZWFydGJlYXRzQ2FjaGUpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGEgYmFzZTY0IGVuY29kZWQgc3RyaW5nIHdoaWNoIGNhbiBiZSBhdHRhY2hlZCB0byB0aGUgaGVhcnRiZWF0LXNwZWNpZmljIGhlYWRlciBkaXJlY3RseS5cclxuICAgICAqIEl0IGFsc28gY2xlYXJzIGFsbCBoZWFydGJlYXRzIGZyb20gbWVtb3J5IGFzIHdlbGwgYXMgaW4gSW5kZXhlZERCLlxyXG4gICAgICpcclxuICAgICAqIE5PVEU6IENvbnN1bWluZyBwcm9kdWN0IFNES3Mgc2hvdWxkIG5vdCBzZW5kIHRoZSBoZWFkZXIgaWYgdGhpcyBtZXRob2RcclxuICAgICAqIHJldHVybnMgYW4gZW1wdHkgc3RyaW5nLlxyXG4gICAgICovXHJcbiAgICBhc3luYyBnZXRIZWFydGJlYXRzSGVhZGVyKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9oZWFydGJlYXRzQ2FjaGUgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5faGVhcnRiZWF0c0NhY2hlUHJvbWlzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gSWYgaXQncyBzdGlsbCBudWxsIG9yIHRoZSBhcnJheSBpcyBlbXB0eSwgdGhlcmUgaXMgbm8gZGF0YSB0byBzZW5kLlxyXG4gICAgICAgIGlmICh0aGlzLl9oZWFydGJlYXRzQ2FjaGUgPT09IG51bGwgfHxcclxuICAgICAgICAgICAgdGhpcy5faGVhcnRiZWF0c0NhY2hlLmhlYXJ0YmVhdHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZGF0ZSA9IGdldFVUQ0RhdGVTdHJpbmcoKTtcclxuICAgICAgICAvLyBFeHRyYWN0IGFzIG1hbnkgaGVhcnRiZWF0cyBmcm9tIHRoZSBjYWNoZSBhcyB3aWxsIGZpdCB1bmRlciB0aGUgc2l6ZSBsaW1pdC5cclxuICAgICAgICBjb25zdCB7IGhlYXJ0YmVhdHNUb1NlbmQsIHVuc2VudEVudHJpZXMgfSA9IGV4dHJhY3RIZWFydGJlYXRzRm9ySGVhZGVyKHRoaXMuX2hlYXJ0YmVhdHNDYWNoZS5oZWFydGJlYXRzKTtcclxuICAgICAgICBjb25zdCBoZWFkZXJTdHJpbmcgPSBiYXNlNjR1cmxFbmNvZGVXaXRob3V0UGFkZGluZyhKU09OLnN0cmluZ2lmeSh7IHZlcnNpb246IDIsIGhlYXJ0YmVhdHM6IGhlYXJ0YmVhdHNUb1NlbmQgfSkpO1xyXG4gICAgICAgIC8vIFN0b3JlIGxhc3Qgc2VudCBkYXRlIHRvIHByZXZlbnQgYW5vdGhlciBiZWluZyBsb2dnZWQvc2VudCBmb3IgdGhlIHNhbWUgZGF5LlxyXG4gICAgICAgIHRoaXMuX2hlYXJ0YmVhdHNDYWNoZS5sYXN0U2VudEhlYXJ0YmVhdERhdGUgPSBkYXRlO1xyXG4gICAgICAgIGlmICh1bnNlbnRFbnRyaWVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgLy8gU3RvcmUgYW55IHVuc2VudCBlbnRyaWVzIGlmIHRoZXkgZXhpc3QuXHJcbiAgICAgICAgICAgIHRoaXMuX2hlYXJ0YmVhdHNDYWNoZS5oZWFydGJlYXRzID0gdW5zZW50RW50cmllcztcclxuICAgICAgICAgICAgLy8gVGhpcyBzZWVtcyBtb3JlIGxpa2VseSB0aGFuIGVtcHR5aW5nIHRoZSBhcnJheSAoYmVsb3cpIHRvIGxlYWQgdG8gc29tZSBvZGQgc3RhdGVcclxuICAgICAgICAgICAgLy8gc2luY2UgdGhlIGNhY2hlIGlzbid0IGVtcHR5IGFuZCB0aGlzIHdpbGwgYmUgY2FsbGVkIGFnYWluIG9uIHRoZSBuZXh0IHJlcXVlc3QsXHJcbiAgICAgICAgICAgIC8vIGFuZCBpcyBwcm9iYWJseSBzYWZlc3QgaWYgd2UgYXdhaXQgaXQuXHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX3N0b3JhZ2Uub3ZlcndyaXRlKHRoaXMuX2hlYXJ0YmVhdHNDYWNoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9oZWFydGJlYXRzQ2FjaGUuaGVhcnRiZWF0cyA9IFtdO1xyXG4gICAgICAgICAgICAvLyBEbyBub3Qgd2FpdCBmb3IgdGhpcywgdG8gcmVkdWNlIGxhdGVuY3kuXHJcbiAgICAgICAgICAgIHZvaWQgdGhpcy5fc3RvcmFnZS5vdmVyd3JpdGUodGhpcy5faGVhcnRiZWF0c0NhY2hlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGhlYWRlclN0cmluZztcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBnZXRVVENEYXRlU3RyaW5nKCkge1xyXG4gICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpO1xyXG4gICAgLy8gUmV0dXJucyBkYXRlIGZvcm1hdCAnWVlZWS1NTS1ERCdcclxuICAgIHJldHVybiB0b2RheS50b0lTT1N0cmluZygpLnN1YnN0cmluZygwLCAxMCk7XHJcbn1cclxuZnVuY3Rpb24gZXh0cmFjdEhlYXJ0YmVhdHNGb3JIZWFkZXIoaGVhcnRiZWF0c0NhY2hlLCBtYXhTaXplID0gTUFYX0hFQURFUl9CWVRFUykge1xyXG4gICAgLy8gSGVhcnRiZWF0cyBncm91cGVkIGJ5IHVzZXIgYWdlbnQgaW4gdGhlIHN0YW5kYXJkIGZvcm1hdCB0byBiZSBzZW50IGluXHJcbiAgICAvLyB0aGUgaGVhZGVyLlxyXG4gICAgY29uc3QgaGVhcnRiZWF0c1RvU2VuZCA9IFtdO1xyXG4gICAgLy8gU2luZ2xlIGRhdGUgZm9ybWF0IGhlYXJ0YmVhdHMgdGhhdCBhcmUgbm90IHNlbnQuXHJcbiAgICBsZXQgdW5zZW50RW50cmllcyA9IGhlYXJ0YmVhdHNDYWNoZS5zbGljZSgpO1xyXG4gICAgZm9yIChjb25zdCBzaW5nbGVEYXRlSGVhcnRiZWF0IG9mIGhlYXJ0YmVhdHNDYWNoZSkge1xyXG4gICAgICAgIC8vIExvb2sgZm9yIGFuIGV4aXN0aW5nIGVudHJ5IHdpdGggdGhlIHNhbWUgdXNlciBhZ2VudC5cclxuICAgICAgICBjb25zdCBoZWFydGJlYXRFbnRyeSA9IGhlYXJ0YmVhdHNUb1NlbmQuZmluZChoYiA9PiBoYi5hZ2VudCA9PT0gc2luZ2xlRGF0ZUhlYXJ0YmVhdC5hZ2VudCk7XHJcbiAgICAgICAgaWYgKCFoZWFydGJlYXRFbnRyeSkge1xyXG4gICAgICAgICAgICAvLyBJZiBubyBlbnRyeSBmb3IgdGhpcyB1c2VyIGFnZW50IGV4aXN0cywgY3JlYXRlIG9uZS5cclxuICAgICAgICAgICAgaGVhcnRiZWF0c1RvU2VuZC5wdXNoKHtcclxuICAgICAgICAgICAgICAgIGFnZW50OiBzaW5nbGVEYXRlSGVhcnRiZWF0LmFnZW50LFxyXG4gICAgICAgICAgICAgICAgZGF0ZXM6IFtzaW5nbGVEYXRlSGVhcnRiZWF0LmRhdGVdXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAoY291bnRCeXRlcyhoZWFydGJlYXRzVG9TZW5kKSA+IG1heFNpemUpIHtcclxuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBoZWFkZXIgd291bGQgZXhjZWVkIG1heCBzaXplLCByZW1vdmUgdGhlIGFkZGVkIGhlYXJ0YmVhdFxyXG4gICAgICAgICAgICAgICAgLy8gZW50cnkgYW5kIHN0b3AgYWRkaW5nIHRvIHRoZSBoZWFkZXIuXHJcbiAgICAgICAgICAgICAgICBoZWFydGJlYXRzVG9TZW5kLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGhlYXJ0YmVhdEVudHJ5LmRhdGVzLnB1c2goc2luZ2xlRGF0ZUhlYXJ0YmVhdC5kYXRlKTtcclxuICAgICAgICAgICAgLy8gSWYgdGhlIGhlYWRlciB3b3VsZCBleGNlZWQgbWF4IHNpemUsIHJlbW92ZSB0aGUgYWRkZWQgZGF0ZVxyXG4gICAgICAgICAgICAvLyBhbmQgc3RvcCBhZGRpbmcgdG8gdGhlIGhlYWRlci5cclxuICAgICAgICAgICAgaWYgKGNvdW50Qnl0ZXMoaGVhcnRiZWF0c1RvU2VuZCkgPiBtYXhTaXplKSB7XHJcbiAgICAgICAgICAgICAgICBoZWFydGJlYXRFbnRyeS5kYXRlcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFBvcCB1bnNlbnQgZW50cnkgZnJvbSBxdWV1ZS4gKFNraXBwZWQgaWYgYWRkaW5nIHRoZSBlbnRyeSBleGNlZWRlZFxyXG4gICAgICAgIC8vIHF1b3RhIGFuZCB0aGUgbG9vcCBicmVha3MgZWFybHkuKVxyXG4gICAgICAgIHVuc2VudEVudHJpZXMgPSB1bnNlbnRFbnRyaWVzLnNsaWNlKDEpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBoZWFydGJlYXRzVG9TZW5kLFxyXG4gICAgICAgIHVuc2VudEVudHJpZXNcclxuICAgIH07XHJcbn1cclxuY2xhc3MgSGVhcnRiZWF0U3RvcmFnZUltcGwge1xyXG4gICAgY29uc3RydWN0b3IoYXBwKSB7XHJcbiAgICAgICAgdGhpcy5hcHAgPSBhcHA7XHJcbiAgICAgICAgdGhpcy5fY2FuVXNlSW5kZXhlZERCUHJvbWlzZSA9IHRoaXMucnVuSW5kZXhlZERCRW52aXJvbm1lbnRDaGVjaygpO1xyXG4gICAgfVxyXG4gICAgYXN5bmMgcnVuSW5kZXhlZERCRW52aXJvbm1lbnRDaGVjaygpIHtcclxuICAgICAgICBpZiAoIWlzSW5kZXhlZERCQXZhaWxhYmxlKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbGlkYXRlSW5kZXhlZERCT3BlbmFibGUoKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gdHJ1ZSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaCgoKSA9PiBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZWFkIGFsbCBoZWFydGJlYXRzLlxyXG4gICAgICovXHJcbiAgICBhc3luYyByZWFkKCkge1xyXG4gICAgICAgIGNvbnN0IGNhblVzZUluZGV4ZWREQiA9IGF3YWl0IHRoaXMuX2NhblVzZUluZGV4ZWREQlByb21pc2U7XHJcbiAgICAgICAgaWYgKCFjYW5Vc2VJbmRleGVkREIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHsgaGVhcnRiZWF0czogW10gfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGlkYkhlYXJ0YmVhdE9iamVjdCA9IGF3YWl0IHJlYWRIZWFydGJlYXRzRnJvbUluZGV4ZWREQih0aGlzLmFwcCk7XHJcbiAgICAgICAgICAgIHJldHVybiBpZGJIZWFydGJlYXRPYmplY3QgfHwgeyBoZWFydGJlYXRzOiBbXSB9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIG92ZXJ3cml0ZSB0aGUgc3RvcmFnZSB3aXRoIHRoZSBwcm92aWRlZCBoZWFydGJlYXRzXHJcbiAgICBhc3luYyBvdmVyd3JpdGUoaGVhcnRiZWF0c09iamVjdCkge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICBjb25zdCBjYW5Vc2VJbmRleGVkREIgPSBhd2FpdCB0aGlzLl9jYW5Vc2VJbmRleGVkREJQcm9taXNlO1xyXG4gICAgICAgIGlmICghY2FuVXNlSW5kZXhlZERCKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nSGVhcnRiZWF0c09iamVjdCA9IGF3YWl0IHRoaXMucmVhZCgpO1xyXG4gICAgICAgICAgICByZXR1cm4gd3JpdGVIZWFydGJlYXRzVG9JbmRleGVkREIodGhpcy5hcHAsIHtcclxuICAgICAgICAgICAgICAgIGxhc3RTZW50SGVhcnRiZWF0RGF0ZTogKF9hID0gaGVhcnRiZWF0c09iamVjdC5sYXN0U2VudEhlYXJ0YmVhdERhdGUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGV4aXN0aW5nSGVhcnRiZWF0c09iamVjdC5sYXN0U2VudEhlYXJ0YmVhdERhdGUsXHJcbiAgICAgICAgICAgICAgICBoZWFydGJlYXRzOiBoZWFydGJlYXRzT2JqZWN0LmhlYXJ0YmVhdHNcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gYWRkIGhlYXJ0YmVhdHNcclxuICAgIGFzeW5jIGFkZChoZWFydGJlYXRzT2JqZWN0KSB7XHJcbiAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgIGNvbnN0IGNhblVzZUluZGV4ZWREQiA9IGF3YWl0IHRoaXMuX2NhblVzZUluZGV4ZWREQlByb21pc2U7XHJcbiAgICAgICAgaWYgKCFjYW5Vc2VJbmRleGVkREIpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdIZWFydGJlYXRzT2JqZWN0ID0gYXdhaXQgdGhpcy5yZWFkKCk7XHJcbiAgICAgICAgICAgIHJldHVybiB3cml0ZUhlYXJ0YmVhdHNUb0luZGV4ZWREQih0aGlzLmFwcCwge1xyXG4gICAgICAgICAgICAgICAgbGFzdFNlbnRIZWFydGJlYXREYXRlOiAoX2EgPSBoZWFydGJlYXRzT2JqZWN0Lmxhc3RTZW50SGVhcnRiZWF0RGF0ZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZXhpc3RpbmdIZWFydGJlYXRzT2JqZWN0Lmxhc3RTZW50SGVhcnRiZWF0RGF0ZSxcclxuICAgICAgICAgICAgICAgIGhlYXJ0YmVhdHM6IFtcclxuICAgICAgICAgICAgICAgICAgICAuLi5leGlzdGluZ0hlYXJ0YmVhdHNPYmplY3QuaGVhcnRiZWF0cyxcclxuICAgICAgICAgICAgICAgICAgICAuLi5oZWFydGJlYXRzT2JqZWN0LmhlYXJ0YmVhdHNcclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBDYWxjdWxhdGUgYnl0ZXMgb2YgYSBIZWFydGJlYXRzQnlVc2VyQWdlbnQgYXJyYXkgYWZ0ZXIgYmVpbmcgd3JhcHBlZFxyXG4gKiBpbiBhIHBsYXRmb3JtIGxvZ2dpbmcgaGVhZGVyIEpTT04gb2JqZWN0LCBzdHJpbmdpZmllZCwgYW5kIGNvbnZlcnRlZFxyXG4gKiB0byBiYXNlIDY0LlxyXG4gKi9cclxuZnVuY3Rpb24gY291bnRCeXRlcyhoZWFydGJlYXRzQ2FjaGUpIHtcclxuICAgIC8vIGJhc2U2NCBoYXMgYSByZXN0cmljdGVkIHNldCBvZiBjaGFyYWN0ZXJzLCBhbGwgb2Ygd2hpY2ggc2hvdWxkIGJlIDEgYnl0ZS5cclxuICAgIHJldHVybiBiYXNlNjR1cmxFbmNvZGVXaXRob3V0UGFkZGluZyhcclxuICAgIC8vIGhlYXJ0YmVhdHNDYWNoZSB3cmFwcGVyIHByb3BlcnRpZXNcclxuICAgIEpTT04uc3RyaW5naWZ5KHsgdmVyc2lvbjogMiwgaGVhcnRiZWF0czogaGVhcnRiZWF0c0NhY2hlIH0pKS5sZW5ndGg7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuZnVuY3Rpb24gcmVnaXN0ZXJDb3JlQ29tcG9uZW50cyh2YXJpYW50KSB7XHJcbiAgICBfcmVnaXN0ZXJDb21wb25lbnQobmV3IENvbXBvbmVudCgncGxhdGZvcm0tbG9nZ2VyJywgY29udGFpbmVyID0+IG5ldyBQbGF0Zm9ybUxvZ2dlclNlcnZpY2VJbXBsKGNvbnRhaW5lciksIFwiUFJJVkFURVwiIC8qIENvbXBvbmVudFR5cGUuUFJJVkFURSAqLykpO1xyXG4gICAgX3JlZ2lzdGVyQ29tcG9uZW50KG5ldyBDb21wb25lbnQoJ2hlYXJ0YmVhdCcsIGNvbnRhaW5lciA9PiBuZXcgSGVhcnRiZWF0U2VydmljZUltcGwoY29udGFpbmVyKSwgXCJQUklWQVRFXCIgLyogQ29tcG9uZW50VHlwZS5QUklWQVRFICovKSk7XHJcbiAgICAvLyBSZWdpc3RlciBgYXBwYCBwYWNrYWdlLlxyXG4gICAgcmVnaXN0ZXJWZXJzaW9uKG5hbWUkbywgdmVyc2lvbiQxLCB2YXJpYW50KTtcclxuICAgIC8vIEJVSUxEX1RBUkdFVCB3aWxsIGJlIHJlcGxhY2VkIGJ5IHZhbHVlcyBsaWtlIGVzbTUsIGVzbTIwMTcsIGNqczUsIGV0YyBkdXJpbmcgdGhlIGNvbXBpbGF0aW9uXHJcbiAgICByZWdpc3RlclZlcnNpb24obmFtZSRvLCB2ZXJzaW9uJDEsICdlc20yMDE3Jyk7XHJcbiAgICAvLyBSZWdpc3RlciBwbGF0Zm9ybSBTREsgaWRlbnRpZmllciAobm8gdmVyc2lvbikuXHJcbiAgICByZWdpc3RlclZlcnNpb24oJ2ZpcmUtanMnLCAnJyk7XHJcbn1cblxuLyoqXHJcbiAqIEZpcmViYXNlIEFwcFxyXG4gKlxyXG4gKiBAcmVtYXJrcyBUaGlzIHBhY2thZ2UgY29vcmRpbmF0ZXMgdGhlIGNvbW11bmljYXRpb24gYmV0d2VlbiB0aGUgZGlmZmVyZW50IEZpcmViYXNlIGNvbXBvbmVudHNcclxuICogQHBhY2thZ2VEb2N1bWVudGF0aW9uXHJcbiAqL1xyXG5yZWdpc3RlckNvcmVDb21wb25lbnRzKCcnKTtcblxuZXhwb3J0IHsgU0RLX1ZFUlNJT04sIERFRkFVTFRfRU5UUllfTkFNRSBhcyBfREVGQVVMVF9FTlRSWV9OQU1FLCBfYWRkQ29tcG9uZW50LCBfYWRkT3JPdmVyd3JpdGVDb21wb25lbnQsIF9hcHBzLCBfY2xlYXJDb21wb25lbnRzLCBfY29tcG9uZW50cywgX2dldFByb3ZpZGVyLCBfcmVnaXN0ZXJDb21wb25lbnQsIF9yZW1vdmVTZXJ2aWNlSW5zdGFuY2UsIGRlbGV0ZUFwcCwgZ2V0QXBwLCBnZXRBcHBzLCBpbml0aWFsaXplQXBwLCBvbkxvZywgcmVnaXN0ZXJWZXJzaW9uLCBzZXRMb2dMZXZlbCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguZXNtMjAxNy5qcy5tYXBcbiIsImltcG9ydCB7IHJlZ2lzdGVyVmVyc2lvbiB9IGZyb20gJ0BmaXJlYmFzZS9hcHAnO1xuZXhwb3J0ICogZnJvbSAnQGZpcmViYXNlL2FwcCc7XG5cbnZhciBuYW1lID0gXCJmaXJlYmFzZVwiO1xudmFyIHZlcnNpb24gPSBcIjEwLjEuMFwiO1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5yZWdpc3RlclZlcnNpb24obmFtZSwgdmVyc2lvbiwgJ2FwcCcpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguZXNtLmpzLm1hcFxuIiwiY29uc3QgaW5zdGFuY2VPZkFueSA9IChvYmplY3QsIGNvbnN0cnVjdG9ycykgPT4gY29uc3RydWN0b3JzLnNvbWUoKGMpID0+IG9iamVjdCBpbnN0YW5jZW9mIGMpO1xuXG5sZXQgaWRiUHJveHlhYmxlVHlwZXM7XG5sZXQgY3Vyc29yQWR2YW5jZU1ldGhvZHM7XG4vLyBUaGlzIGlzIGEgZnVuY3Rpb24gdG8gcHJldmVudCBpdCB0aHJvd2luZyB1cCBpbiBub2RlIGVudmlyb25tZW50cy5cbmZ1bmN0aW9uIGdldElkYlByb3h5YWJsZVR5cGVzKCkge1xuICAgIHJldHVybiAoaWRiUHJveHlhYmxlVHlwZXMgfHxcbiAgICAgICAgKGlkYlByb3h5YWJsZVR5cGVzID0gW1xuICAgICAgICAgICAgSURCRGF0YWJhc2UsXG4gICAgICAgICAgICBJREJPYmplY3RTdG9yZSxcbiAgICAgICAgICAgIElEQkluZGV4LFxuICAgICAgICAgICAgSURCQ3Vyc29yLFxuICAgICAgICAgICAgSURCVHJhbnNhY3Rpb24sXG4gICAgICAgIF0pKTtcbn1cbi8vIFRoaXMgaXMgYSBmdW5jdGlvbiB0byBwcmV2ZW50IGl0IHRocm93aW5nIHVwIGluIG5vZGUgZW52aXJvbm1lbnRzLlxuZnVuY3Rpb24gZ2V0Q3Vyc29yQWR2YW5jZU1ldGhvZHMoKSB7XG4gICAgcmV0dXJuIChjdXJzb3JBZHZhbmNlTWV0aG9kcyB8fFxuICAgICAgICAoY3Vyc29yQWR2YW5jZU1ldGhvZHMgPSBbXG4gICAgICAgICAgICBJREJDdXJzb3IucHJvdG90eXBlLmFkdmFuY2UsXG4gICAgICAgICAgICBJREJDdXJzb3IucHJvdG90eXBlLmNvbnRpbnVlLFxuICAgICAgICAgICAgSURCQ3Vyc29yLnByb3RvdHlwZS5jb250aW51ZVByaW1hcnlLZXksXG4gICAgICAgIF0pKTtcbn1cbmNvbnN0IGN1cnNvclJlcXVlc3RNYXAgPSBuZXcgV2Vha01hcCgpO1xuY29uc3QgdHJhbnNhY3Rpb25Eb25lTWFwID0gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IHRyYW5zYWN0aW9uU3RvcmVOYW1lc01hcCA9IG5ldyBXZWFrTWFwKCk7XG5jb25zdCB0cmFuc2Zvcm1DYWNoZSA9IG5ldyBXZWFrTWFwKCk7XG5jb25zdCByZXZlcnNlVHJhbnNmb3JtQ2FjaGUgPSBuZXcgV2Vha01hcCgpO1xuZnVuY3Rpb24gcHJvbWlzaWZ5UmVxdWVzdChyZXF1ZXN0KSB7XG4gICAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY29uc3QgdW5saXN0ZW4gPSAoKSA9PiB7XG4gICAgICAgICAgICByZXF1ZXN0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3N1Y2Nlc3MnLCBzdWNjZXNzKTtcbiAgICAgICAgICAgIHJlcXVlc3QucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCBlcnJvcik7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHN1Y2Nlc3MgPSAoKSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlKHdyYXAocmVxdWVzdC5yZXN1bHQpKTtcbiAgICAgICAgICAgIHVubGlzdGVuKCk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgICAgICAgICAgcmVqZWN0KHJlcXVlc3QuZXJyb3IpO1xuICAgICAgICAgICAgdW5saXN0ZW4oKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdzdWNjZXNzJywgc3VjY2Vzcyk7XG4gICAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBlcnJvcik7XG4gICAgfSk7XG4gICAgcHJvbWlzZVxuICAgICAgICAudGhlbigodmFsdWUpID0+IHtcbiAgICAgICAgLy8gU2luY2UgY3Vyc29yaW5nIHJldXNlcyB0aGUgSURCUmVxdWVzdCAoKnNpZ2gqKSwgd2UgY2FjaGUgaXQgZm9yIGxhdGVyIHJldHJpZXZhbFxuICAgICAgICAvLyAoc2VlIHdyYXBGdW5jdGlvbikuXG4gICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIElEQkN1cnNvcikge1xuICAgICAgICAgICAgY3Vyc29yUmVxdWVzdE1hcC5zZXQodmFsdWUsIHJlcXVlc3QpO1xuICAgICAgICB9XG4gICAgICAgIC8vIENhdGNoaW5nIHRvIGF2b2lkIFwiVW5jYXVnaHQgUHJvbWlzZSBleGNlcHRpb25zXCJcbiAgICB9KVxuICAgICAgICAuY2F0Y2goKCkgPT4geyB9KTtcbiAgICAvLyBUaGlzIG1hcHBpbmcgZXhpc3RzIGluIHJldmVyc2VUcmFuc2Zvcm1DYWNoZSBidXQgZG9lc24ndCBkb2Vzbid0IGV4aXN0IGluIHRyYW5zZm9ybUNhY2hlLiBUaGlzXG4gICAgLy8gaXMgYmVjYXVzZSB3ZSBjcmVhdGUgbWFueSBwcm9taXNlcyBmcm9tIGEgc2luZ2xlIElEQlJlcXVlc3QuXG4gICAgcmV2ZXJzZVRyYW5zZm9ybUNhY2hlLnNldChwcm9taXNlLCByZXF1ZXN0KTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cbmZ1bmN0aW9uIGNhY2hlRG9uZVByb21pc2VGb3JUcmFuc2FjdGlvbih0eCkge1xuICAgIC8vIEVhcmx5IGJhaWwgaWYgd2UndmUgYWxyZWFkeSBjcmVhdGVkIGEgZG9uZSBwcm9taXNlIGZvciB0aGlzIHRyYW5zYWN0aW9uLlxuICAgIGlmICh0cmFuc2FjdGlvbkRvbmVNYXAuaGFzKHR4KSlcbiAgICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGRvbmUgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IHVubGlzdGVuID0gKCkgPT4ge1xuICAgICAgICAgICAgdHgucmVtb3ZlRXZlbnRMaXN0ZW5lcignY29tcGxldGUnLCBjb21wbGV0ZSk7XG4gICAgICAgICAgICB0eC5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIGVycm9yKTtcbiAgICAgICAgICAgIHR4LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgZXJyb3IpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBjb21wbGV0ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIHVubGlzdGVuKCk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgICAgICAgICAgcmVqZWN0KHR4LmVycm9yIHx8IG5ldyBET01FeGNlcHRpb24oJ0Fib3J0RXJyb3InLCAnQWJvcnRFcnJvcicpKTtcbiAgICAgICAgICAgIHVubGlzdGVuKCk7XG4gICAgICAgIH07XG4gICAgICAgIHR4LmFkZEV2ZW50TGlzdGVuZXIoJ2NvbXBsZXRlJywgY29tcGxldGUpO1xuICAgICAgICB0eC5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIGVycm9yKTtcbiAgICAgICAgdHguYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBlcnJvcik7XG4gICAgfSk7XG4gICAgLy8gQ2FjaGUgaXQgZm9yIGxhdGVyIHJldHJpZXZhbC5cbiAgICB0cmFuc2FjdGlvbkRvbmVNYXAuc2V0KHR4LCBkb25lKTtcbn1cbmxldCBpZGJQcm94eVRyYXBzID0ge1xuICAgIGdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKSB7XG4gICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBJREJUcmFuc2FjdGlvbikge1xuICAgICAgICAgICAgLy8gU3BlY2lhbCBoYW5kbGluZyBmb3IgdHJhbnNhY3Rpb24uZG9uZS5cbiAgICAgICAgICAgIGlmIChwcm9wID09PSAnZG9uZScpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRyYW5zYWN0aW9uRG9uZU1hcC5nZXQodGFyZ2V0KTtcbiAgICAgICAgICAgIC8vIFBvbHlmaWxsIGZvciBvYmplY3RTdG9yZU5hbWVzIGJlY2F1c2Ugb2YgRWRnZS5cbiAgICAgICAgICAgIGlmIChwcm9wID09PSAnb2JqZWN0U3RvcmVOYW1lcycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0Lm9iamVjdFN0b3JlTmFtZXMgfHwgdHJhbnNhY3Rpb25TdG9yZU5hbWVzTWFwLmdldCh0YXJnZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTWFrZSB0eC5zdG9yZSByZXR1cm4gdGhlIG9ubHkgc3RvcmUgaW4gdGhlIHRyYW5zYWN0aW9uLCBvciB1bmRlZmluZWQgaWYgdGhlcmUgYXJlIG1hbnkuXG4gICAgICAgICAgICBpZiAocHJvcCA9PT0gJ3N0b3JlJykge1xuICAgICAgICAgICAgICAgIHJldHVybiByZWNlaXZlci5vYmplY3RTdG9yZU5hbWVzWzFdXG4gICAgICAgICAgICAgICAgICAgID8gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgIDogcmVjZWl2ZXIub2JqZWN0U3RvcmUocmVjZWl2ZXIub2JqZWN0U3RvcmVOYW1lc1swXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gRWxzZSB0cmFuc2Zvcm0gd2hhdGV2ZXIgd2UgZ2V0IGJhY2suXG4gICAgICAgIHJldHVybiB3cmFwKHRhcmdldFtwcm9wXSk7XG4gICAgfSxcbiAgICBzZXQodGFyZ2V0LCBwcm9wLCB2YWx1ZSkge1xuICAgICAgICB0YXJnZXRbcHJvcF0gPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcbiAgICBoYXModGFyZ2V0LCBwcm9wKSB7XG4gICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBJREJUcmFuc2FjdGlvbiAmJlxuICAgICAgICAgICAgKHByb3AgPT09ICdkb25lJyB8fCBwcm9wID09PSAnc3RvcmUnKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb3AgaW4gdGFyZ2V0O1xuICAgIH0sXG59O1xuZnVuY3Rpb24gcmVwbGFjZVRyYXBzKGNhbGxiYWNrKSB7XG4gICAgaWRiUHJveHlUcmFwcyA9IGNhbGxiYWNrKGlkYlByb3h5VHJhcHMpO1xufVxuZnVuY3Rpb24gd3JhcEZ1bmN0aW9uKGZ1bmMpIHtcbiAgICAvLyBEdWUgdG8gZXhwZWN0ZWQgb2JqZWN0IGVxdWFsaXR5ICh3aGljaCBpcyBlbmZvcmNlZCBieSB0aGUgY2FjaGluZyBpbiBgd3JhcGApLCB3ZVxuICAgIC8vIG9ubHkgY3JlYXRlIG9uZSBuZXcgZnVuYyBwZXIgZnVuYy5cbiAgICAvLyBFZGdlIGRvZXNuJ3Qgc3VwcG9ydCBvYmplY3RTdG9yZU5hbWVzIChib29vKSwgc28gd2UgcG9seWZpbGwgaXQgaGVyZS5cbiAgICBpZiAoZnVuYyA9PT0gSURCRGF0YWJhc2UucHJvdG90eXBlLnRyYW5zYWN0aW9uICYmXG4gICAgICAgICEoJ29iamVjdFN0b3JlTmFtZXMnIGluIElEQlRyYW5zYWN0aW9uLnByb3RvdHlwZSkpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzdG9yZU5hbWVzLCAuLi5hcmdzKSB7XG4gICAgICAgICAgICBjb25zdCB0eCA9IGZ1bmMuY2FsbCh1bndyYXAodGhpcyksIHN0b3JlTmFtZXMsIC4uLmFyZ3MpO1xuICAgICAgICAgICAgdHJhbnNhY3Rpb25TdG9yZU5hbWVzTWFwLnNldCh0eCwgc3RvcmVOYW1lcy5zb3J0ID8gc3RvcmVOYW1lcy5zb3J0KCkgOiBbc3RvcmVOYW1lc10pO1xuICAgICAgICAgICAgcmV0dXJuIHdyYXAodHgpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICAvLyBDdXJzb3IgbWV0aG9kcyBhcmUgc3BlY2lhbCwgYXMgdGhlIGJlaGF2aW91ciBpcyBhIGxpdHRsZSBtb3JlIGRpZmZlcmVudCB0byBzdGFuZGFyZCBJREIuIEluXG4gICAgLy8gSURCLCB5b3UgYWR2YW5jZSB0aGUgY3Vyc29yIGFuZCB3YWl0IGZvciBhIG5ldyAnc3VjY2Vzcycgb24gdGhlIElEQlJlcXVlc3QgdGhhdCBnYXZlIHlvdSB0aGVcbiAgICAvLyBjdXJzb3IuIEl0J3Mga2luZGEgbGlrZSBhIHByb21pc2UgdGhhdCBjYW4gcmVzb2x2ZSB3aXRoIG1hbnkgdmFsdWVzLiBUaGF0IGRvZXNuJ3QgbWFrZSBzZW5zZVxuICAgIC8vIHdpdGggcmVhbCBwcm9taXNlcywgc28gZWFjaCBhZHZhbmNlIG1ldGhvZHMgcmV0dXJucyBhIG5ldyBwcm9taXNlIGZvciB0aGUgY3Vyc29yIG9iamVjdCwgb3JcbiAgICAvLyB1bmRlZmluZWQgaWYgdGhlIGVuZCBvZiB0aGUgY3Vyc29yIGhhcyBiZWVuIHJlYWNoZWQuXG4gICAgaWYgKGdldEN1cnNvckFkdmFuY2VNZXRob2RzKCkuaW5jbHVkZXMoZnVuYykpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgICAgICAvLyBDYWxsaW5nIHRoZSBvcmlnaW5hbCBmdW5jdGlvbiB3aXRoIHRoZSBwcm94eSBhcyAndGhpcycgY2F1c2VzIElMTEVHQUwgSU5WT0NBVElPTiwgc28gd2UgdXNlXG4gICAgICAgICAgICAvLyB0aGUgb3JpZ2luYWwgb2JqZWN0LlxuICAgICAgICAgICAgZnVuYy5hcHBseSh1bndyYXAodGhpcyksIGFyZ3MpO1xuICAgICAgICAgICAgcmV0dXJuIHdyYXAoY3Vyc29yUmVxdWVzdE1hcC5nZXQodGhpcykpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgLy8gQ2FsbGluZyB0aGUgb3JpZ2luYWwgZnVuY3Rpb24gd2l0aCB0aGUgcHJveHkgYXMgJ3RoaXMnIGNhdXNlcyBJTExFR0FMIElOVk9DQVRJT04sIHNvIHdlIHVzZVxuICAgICAgICAvLyB0aGUgb3JpZ2luYWwgb2JqZWN0LlxuICAgICAgICByZXR1cm4gd3JhcChmdW5jLmFwcGx5KHVud3JhcCh0aGlzKSwgYXJncykpO1xuICAgIH07XG59XG5mdW5jdGlvbiB0cmFuc2Zvcm1DYWNoYWJsZVZhbHVlKHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgcmV0dXJuIHdyYXBGdW5jdGlvbih2YWx1ZSk7XG4gICAgLy8gVGhpcyBkb2Vzbid0IHJldHVybiwgaXQganVzdCBjcmVhdGVzIGEgJ2RvbmUnIHByb21pc2UgZm9yIHRoZSB0cmFuc2FjdGlvbixcbiAgICAvLyB3aGljaCBpcyBsYXRlciByZXR1cm5lZCBmb3IgdHJhbnNhY3Rpb24uZG9uZSAoc2VlIGlkYk9iamVjdEhhbmRsZXIpLlxuICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIElEQlRyYW5zYWN0aW9uKVxuICAgICAgICBjYWNoZURvbmVQcm9taXNlRm9yVHJhbnNhY3Rpb24odmFsdWUpO1xuICAgIGlmIChpbnN0YW5jZU9mQW55KHZhbHVlLCBnZXRJZGJQcm94eWFibGVUeXBlcygpKSlcbiAgICAgICAgcmV0dXJuIG5ldyBQcm94eSh2YWx1ZSwgaWRiUHJveHlUcmFwcyk7XG4gICAgLy8gUmV0dXJuIHRoZSBzYW1lIHZhbHVlIGJhY2sgaWYgd2UncmUgbm90IGdvaW5nIHRvIHRyYW5zZm9ybSBpdC5cbiAgICByZXR1cm4gdmFsdWU7XG59XG5mdW5jdGlvbiB3cmFwKHZhbHVlKSB7XG4gICAgLy8gV2Ugc29tZXRpbWVzIGdlbmVyYXRlIG11bHRpcGxlIHByb21pc2VzIGZyb20gYSBzaW5nbGUgSURCUmVxdWVzdCAoZWcgd2hlbiBjdXJzb3JpbmcpLCBiZWNhdXNlXG4gICAgLy8gSURCIGlzIHdlaXJkIGFuZCBhIHNpbmdsZSBJREJSZXF1ZXN0IGNhbiB5aWVsZCBtYW55IHJlc3BvbnNlcywgc28gdGhlc2UgY2FuJ3QgYmUgY2FjaGVkLlxuICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIElEQlJlcXVlc3QpXG4gICAgICAgIHJldHVybiBwcm9taXNpZnlSZXF1ZXN0KHZhbHVlKTtcbiAgICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IHRyYW5zZm9ybWVkIHRoaXMgdmFsdWUgYmVmb3JlLCByZXVzZSB0aGUgdHJhbnNmb3JtZWQgdmFsdWUuXG4gICAgLy8gVGhpcyBpcyBmYXN0ZXIsIGJ1dCBpdCBhbHNvIHByb3ZpZGVzIG9iamVjdCBlcXVhbGl0eS5cbiAgICBpZiAodHJhbnNmb3JtQ2FjaGUuaGFzKHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIHRyYW5zZm9ybUNhY2hlLmdldCh2YWx1ZSk7XG4gICAgY29uc3QgbmV3VmFsdWUgPSB0cmFuc2Zvcm1DYWNoYWJsZVZhbHVlKHZhbHVlKTtcbiAgICAvLyBOb3QgYWxsIHR5cGVzIGFyZSB0cmFuc2Zvcm1lZC5cbiAgICAvLyBUaGVzZSBtYXkgYmUgcHJpbWl0aXZlIHR5cGVzLCBzbyB0aGV5IGNhbid0IGJlIFdlYWtNYXAga2V5cy5cbiAgICBpZiAobmV3VmFsdWUgIT09IHZhbHVlKSB7XG4gICAgICAgIHRyYW5zZm9ybUNhY2hlLnNldCh2YWx1ZSwgbmV3VmFsdWUpO1xuICAgICAgICByZXZlcnNlVHJhbnNmb3JtQ2FjaGUuc2V0KG5ld1ZhbHVlLCB2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiBuZXdWYWx1ZTtcbn1cbmNvbnN0IHVud3JhcCA9ICh2YWx1ZSkgPT4gcmV2ZXJzZVRyYW5zZm9ybUNhY2hlLmdldCh2YWx1ZSk7XG5cbmV4cG9ydCB7IHJldmVyc2VUcmFuc2Zvcm1DYWNoZSBhcyBhLCBpbnN0YW5jZU9mQW55IGFzIGksIHJlcGxhY2VUcmFwcyBhcyByLCB1bndyYXAgYXMgdSwgd3JhcCBhcyB3IH07XG4iLCJpbXBvcnQgeyB3IGFzIHdyYXAsIHIgYXMgcmVwbGFjZVRyYXBzIH0gZnJvbSAnLi93cmFwLWlkYi12YWx1ZS5qcyc7XG5leHBvcnQgeyB1IGFzIHVud3JhcCwgdyBhcyB3cmFwIH0gZnJvbSAnLi93cmFwLWlkYi12YWx1ZS5qcyc7XG5cbi8qKlxuICogT3BlbiBhIGRhdGFiYXNlLlxuICpcbiAqIEBwYXJhbSBuYW1lIE5hbWUgb2YgdGhlIGRhdGFiYXNlLlxuICogQHBhcmFtIHZlcnNpb24gU2NoZW1hIHZlcnNpb24uXG4gKiBAcGFyYW0gY2FsbGJhY2tzIEFkZGl0aW9uYWwgY2FsbGJhY2tzLlxuICovXG5mdW5jdGlvbiBvcGVuREIobmFtZSwgdmVyc2lvbiwgeyBibG9ja2VkLCB1cGdyYWRlLCBibG9ja2luZywgdGVybWluYXRlZCB9ID0ge30pIHtcbiAgICBjb25zdCByZXF1ZXN0ID0gaW5kZXhlZERCLm9wZW4obmFtZSwgdmVyc2lvbik7XG4gICAgY29uc3Qgb3BlblByb21pc2UgPSB3cmFwKHJlcXVlc3QpO1xuICAgIGlmICh1cGdyYWRlKSB7XG4gICAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcigndXBncmFkZW5lZWRlZCcsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgdXBncmFkZSh3cmFwKHJlcXVlc3QucmVzdWx0KSwgZXZlbnQub2xkVmVyc2lvbiwgZXZlbnQubmV3VmVyc2lvbiwgd3JhcChyZXF1ZXN0LnRyYW5zYWN0aW9uKSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoYmxvY2tlZClcbiAgICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdibG9ja2VkJywgKCkgPT4gYmxvY2tlZCgpKTtcbiAgICBvcGVuUHJvbWlzZVxuICAgICAgICAudGhlbigoZGIpID0+IHtcbiAgICAgICAgaWYgKHRlcm1pbmF0ZWQpXG4gICAgICAgICAgICBkYi5hZGRFdmVudExpc3RlbmVyKCdjbG9zZScsICgpID0+IHRlcm1pbmF0ZWQoKSk7XG4gICAgICAgIGlmIChibG9ja2luZylcbiAgICAgICAgICAgIGRiLmFkZEV2ZW50TGlzdGVuZXIoJ3ZlcnNpb25jaGFuZ2UnLCAoKSA9PiBibG9ja2luZygpKTtcbiAgICB9KVxuICAgICAgICAuY2F0Y2goKCkgPT4geyB9KTtcbiAgICByZXR1cm4gb3BlblByb21pc2U7XG59XG4vKipcbiAqIERlbGV0ZSBhIGRhdGFiYXNlLlxuICpcbiAqIEBwYXJhbSBuYW1lIE5hbWUgb2YgdGhlIGRhdGFiYXNlLlxuICovXG5mdW5jdGlvbiBkZWxldGVEQihuYW1lLCB7IGJsb2NrZWQgfSA9IHt9KSB7XG4gICAgY29uc3QgcmVxdWVzdCA9IGluZGV4ZWREQi5kZWxldGVEYXRhYmFzZShuYW1lKTtcbiAgICBpZiAoYmxvY2tlZClcbiAgICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdibG9ja2VkJywgKCkgPT4gYmxvY2tlZCgpKTtcbiAgICByZXR1cm4gd3JhcChyZXF1ZXN0KS50aGVuKCgpID0+IHVuZGVmaW5lZCk7XG59XG5cbmNvbnN0IHJlYWRNZXRob2RzID0gWydnZXQnLCAnZ2V0S2V5JywgJ2dldEFsbCcsICdnZXRBbGxLZXlzJywgJ2NvdW50J107XG5jb25zdCB3cml0ZU1ldGhvZHMgPSBbJ3B1dCcsICdhZGQnLCAnZGVsZXRlJywgJ2NsZWFyJ107XG5jb25zdCBjYWNoZWRNZXRob2RzID0gbmV3IE1hcCgpO1xuZnVuY3Rpb24gZ2V0TWV0aG9kKHRhcmdldCwgcHJvcCkge1xuICAgIGlmICghKHRhcmdldCBpbnN0YW5jZW9mIElEQkRhdGFiYXNlICYmXG4gICAgICAgICEocHJvcCBpbiB0YXJnZXQpICYmXG4gICAgICAgIHR5cGVvZiBwcm9wID09PSAnc3RyaW5nJykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoY2FjaGVkTWV0aG9kcy5nZXQocHJvcCkpXG4gICAgICAgIHJldHVybiBjYWNoZWRNZXRob2RzLmdldChwcm9wKTtcbiAgICBjb25zdCB0YXJnZXRGdW5jTmFtZSA9IHByb3AucmVwbGFjZSgvRnJvbUluZGV4JC8sICcnKTtcbiAgICBjb25zdCB1c2VJbmRleCA9IHByb3AgIT09IHRhcmdldEZ1bmNOYW1lO1xuICAgIGNvbnN0IGlzV3JpdGUgPSB3cml0ZU1ldGhvZHMuaW5jbHVkZXModGFyZ2V0RnVuY05hbWUpO1xuICAgIGlmIChcbiAgICAvLyBCYWlsIGlmIHRoZSB0YXJnZXQgZG9lc24ndCBleGlzdCBvbiB0aGUgdGFyZ2V0LiBFZywgZ2V0QWxsIGlzbid0IGluIEVkZ2UuXG4gICAgISh0YXJnZXRGdW5jTmFtZSBpbiAodXNlSW5kZXggPyBJREJJbmRleCA6IElEQk9iamVjdFN0b3JlKS5wcm90b3R5cGUpIHx8XG4gICAgICAgICEoaXNXcml0ZSB8fCByZWFkTWV0aG9kcy5pbmNsdWRlcyh0YXJnZXRGdW5jTmFtZSkpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbWV0aG9kID0gYXN5bmMgZnVuY3Rpb24gKHN0b3JlTmFtZSwgLi4uYXJncykge1xuICAgICAgICAvLyBpc1dyaXRlID8gJ3JlYWR3cml0ZScgOiB1bmRlZmluZWQgZ3ppcHBzIGJldHRlciwgYnV0IGZhaWxzIGluIEVkZ2UgOihcbiAgICAgICAgY29uc3QgdHggPSB0aGlzLnRyYW5zYWN0aW9uKHN0b3JlTmFtZSwgaXNXcml0ZSA/ICdyZWFkd3JpdGUnIDogJ3JlYWRvbmx5Jyk7XG4gICAgICAgIGxldCB0YXJnZXQgPSB0eC5zdG9yZTtcbiAgICAgICAgaWYgKHVzZUluZGV4KVxuICAgICAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0LmluZGV4KGFyZ3Muc2hpZnQoKSk7XG4gICAgICAgIC8vIE11c3QgcmVqZWN0IGlmIG9wIHJlamVjdHMuXG4gICAgICAgIC8vIElmIGl0J3MgYSB3cml0ZSBvcGVyYXRpb24sIG11c3QgcmVqZWN0IGlmIHR4LmRvbmUgcmVqZWN0cy5cbiAgICAgICAgLy8gTXVzdCByZWplY3Qgd2l0aCBvcCByZWplY3Rpb24gZmlyc3QuXG4gICAgICAgIC8vIE11c3QgcmVzb2x2ZSB3aXRoIG9wIHZhbHVlLlxuICAgICAgICAvLyBNdXN0IGhhbmRsZSBib3RoIHByb21pc2VzIChubyB1bmhhbmRsZWQgcmVqZWN0aW9ucylcbiAgICAgICAgcmV0dXJuIChhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICB0YXJnZXRbdGFyZ2V0RnVuY05hbWVdKC4uLmFyZ3MpLFxuICAgICAgICAgICAgaXNXcml0ZSAmJiB0eC5kb25lLFxuICAgICAgICBdKSlbMF07XG4gICAgfTtcbiAgICBjYWNoZWRNZXRob2RzLnNldChwcm9wLCBtZXRob2QpO1xuICAgIHJldHVybiBtZXRob2Q7XG59XG5yZXBsYWNlVHJhcHMoKG9sZFRyYXBzKSA9PiAoe1xuICAgIC4uLm9sZFRyYXBzLFxuICAgIGdldDogKHRhcmdldCwgcHJvcCwgcmVjZWl2ZXIpID0+IGdldE1ldGhvZCh0YXJnZXQsIHByb3ApIHx8IG9sZFRyYXBzLmdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKSxcbiAgICBoYXM6ICh0YXJnZXQsIHByb3ApID0+ICEhZ2V0TWV0aG9kKHRhcmdldCwgcHJvcCkgfHwgb2xkVHJhcHMuaGFzKHRhcmdldCwgcHJvcCksXG59KSk7XG5cbmV4cG9ydCB7IGRlbGV0ZURCLCBvcGVuREIgfTtcbiIsImltcG9ydCB7IF9nZXRQcm92aWRlciwgZ2V0QXBwLCBfcmVnaXN0ZXJDb21wb25lbnQsIHJlZ2lzdGVyVmVyc2lvbiB9IGZyb20gJ0BmaXJlYmFzZS9hcHAnO1xuaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnQGZpcmViYXNlL2NvbXBvbmVudCc7XG5pbXBvcnQgeyBFcnJvckZhY3RvcnksIEZpcmViYXNlRXJyb3IgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5pbXBvcnQgeyBvcGVuREIgfSBmcm9tICdpZGInO1xuXG5jb25zdCBuYW1lID0gXCJAZmlyZWJhc2UvaW5zdGFsbGF0aW9uc1wiO1xuY29uc3QgdmVyc2lvbiA9IFwiMC42LjRcIjtcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuY29uc3QgUEVORElOR19USU1FT1VUX01TID0gMTAwMDA7XHJcbmNvbnN0IFBBQ0tBR0VfVkVSU0lPTiA9IGB3OiR7dmVyc2lvbn1gO1xyXG5jb25zdCBJTlRFUk5BTF9BVVRIX1ZFUlNJT04gPSAnRklTX3YyJztcclxuY29uc3QgSU5TVEFMTEFUSU9OU19BUElfVVJMID0gJ2h0dHBzOi8vZmlyZWJhc2VpbnN0YWxsYXRpb25zLmdvb2dsZWFwaXMuY29tL3YxJztcclxuY29uc3QgVE9LRU5fRVhQSVJBVElPTl9CVUZGRVIgPSA2MCAqIDYwICogMTAwMDsgLy8gT25lIGhvdXJcclxuY29uc3QgU0VSVklDRSA9ICdpbnN0YWxsYXRpb25zJztcclxuY29uc3QgU0VSVklDRV9OQU1FID0gJ0luc3RhbGxhdGlvbnMnO1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5jb25zdCBFUlJPUl9ERVNDUklQVElPTl9NQVAgPSB7XHJcbiAgICBbXCJtaXNzaW5nLWFwcC1jb25maWctdmFsdWVzXCIgLyogRXJyb3JDb2RlLk1JU1NJTkdfQVBQX0NPTkZJR19WQUxVRVMgKi9dOiAnTWlzc2luZyBBcHAgY29uZmlndXJhdGlvbiB2YWx1ZTogXCJ7JHZhbHVlTmFtZX1cIicsXHJcbiAgICBbXCJub3QtcmVnaXN0ZXJlZFwiIC8qIEVycm9yQ29kZS5OT1RfUkVHSVNURVJFRCAqL106ICdGaXJlYmFzZSBJbnN0YWxsYXRpb24gaXMgbm90IHJlZ2lzdGVyZWQuJyxcclxuICAgIFtcImluc3RhbGxhdGlvbi1ub3QtZm91bmRcIiAvKiBFcnJvckNvZGUuSU5TVEFMTEFUSU9OX05PVF9GT1VORCAqL106ICdGaXJlYmFzZSBJbnN0YWxsYXRpb24gbm90IGZvdW5kLicsXHJcbiAgICBbXCJyZXF1ZXN0LWZhaWxlZFwiIC8qIEVycm9yQ29kZS5SRVFVRVNUX0ZBSUxFRCAqL106ICd7JHJlcXVlc3ROYW1lfSByZXF1ZXN0IGZhaWxlZCB3aXRoIGVycm9yIFwieyRzZXJ2ZXJDb2RlfSB7JHNlcnZlclN0YXR1c306IHskc2VydmVyTWVzc2FnZX1cIicsXHJcbiAgICBbXCJhcHAtb2ZmbGluZVwiIC8qIEVycm9yQ29kZS5BUFBfT0ZGTElORSAqL106ICdDb3VsZCBub3QgcHJvY2VzcyByZXF1ZXN0LiBBcHBsaWNhdGlvbiBvZmZsaW5lLicsXHJcbiAgICBbXCJkZWxldGUtcGVuZGluZy1yZWdpc3RyYXRpb25cIiAvKiBFcnJvckNvZGUuREVMRVRFX1BFTkRJTkdfUkVHSVNUUkFUSU9OICovXTogXCJDYW4ndCBkZWxldGUgaW5zdGFsbGF0aW9uIHdoaWxlIHRoZXJlIGlzIGEgcGVuZGluZyByZWdpc3RyYXRpb24gcmVxdWVzdC5cIlxyXG59O1xyXG5jb25zdCBFUlJPUl9GQUNUT1JZID0gbmV3IEVycm9yRmFjdG9yeShTRVJWSUNFLCBTRVJWSUNFX05BTUUsIEVSUk9SX0RFU0NSSVBUSU9OX01BUCk7XHJcbi8qKiBSZXR1cm5zIHRydWUgaWYgZXJyb3IgaXMgYSBGaXJlYmFzZUVycm9yIHRoYXQgaXMgYmFzZWQgb24gYW4gZXJyb3IgZnJvbSB0aGUgc2VydmVyLiAqL1xyXG5mdW5jdGlvbiBpc1NlcnZlckVycm9yKGVycm9yKSB7XHJcbiAgICByZXR1cm4gKGVycm9yIGluc3RhbmNlb2YgRmlyZWJhc2VFcnJvciAmJlxyXG4gICAgICAgIGVycm9yLmNvZGUuaW5jbHVkZXMoXCJyZXF1ZXN0LWZhaWxlZFwiIC8qIEVycm9yQ29kZS5SRVFVRVNUX0ZBSUxFRCAqLykpO1xyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbmZ1bmN0aW9uIGdldEluc3RhbGxhdGlvbnNFbmRwb2ludCh7IHByb2plY3RJZCB9KSB7XHJcbiAgICByZXR1cm4gYCR7SU5TVEFMTEFUSU9OU19BUElfVVJMfS9wcm9qZWN0cy8ke3Byb2plY3RJZH0vaW5zdGFsbGF0aW9uc2A7XHJcbn1cclxuZnVuY3Rpb24gZXh0cmFjdEF1dGhUb2tlbkluZm9Gcm9tUmVzcG9uc2UocmVzcG9uc2UpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgdG9rZW46IHJlc3BvbnNlLnRva2VuLFxyXG4gICAgICAgIHJlcXVlc3RTdGF0dXM6IDIgLyogUmVxdWVzdFN0YXR1cy5DT01QTEVURUQgKi8sXHJcbiAgICAgICAgZXhwaXJlc0luOiBnZXRFeHBpcmVzSW5Gcm9tUmVzcG9uc2VFeHBpcmVzSW4ocmVzcG9uc2UuZXhwaXJlc0luKSxcclxuICAgICAgICBjcmVhdGlvblRpbWU6IERhdGUubm93KClcclxuICAgIH07XHJcbn1cclxuYXN5bmMgZnVuY3Rpb24gZ2V0RXJyb3JGcm9tUmVzcG9uc2UocmVxdWVzdE5hbWUsIHJlc3BvbnNlKSB7XHJcbiAgICBjb25zdCByZXNwb25zZUpzb24gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICBjb25zdCBlcnJvckRhdGEgPSByZXNwb25zZUpzb24uZXJyb3I7XHJcbiAgICByZXR1cm4gRVJST1JfRkFDVE9SWS5jcmVhdGUoXCJyZXF1ZXN0LWZhaWxlZFwiIC8qIEVycm9yQ29kZS5SRVFVRVNUX0ZBSUxFRCAqLywge1xyXG4gICAgICAgIHJlcXVlc3ROYW1lLFxyXG4gICAgICAgIHNlcnZlckNvZGU6IGVycm9yRGF0YS5jb2RlLFxyXG4gICAgICAgIHNlcnZlck1lc3NhZ2U6IGVycm9yRGF0YS5tZXNzYWdlLFxyXG4gICAgICAgIHNlcnZlclN0YXR1czogZXJyb3JEYXRhLnN0YXR1c1xyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gZ2V0SGVhZGVycyh7IGFwaUtleSB9KSB7XHJcbiAgICByZXR1cm4gbmV3IEhlYWRlcnMoe1xyXG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgJ3gtZ29vZy1hcGkta2V5JzogYXBpS2V5XHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiBnZXRIZWFkZXJzV2l0aEF1dGgoYXBwQ29uZmlnLCB7IHJlZnJlc2hUb2tlbiB9KSB7XHJcbiAgICBjb25zdCBoZWFkZXJzID0gZ2V0SGVhZGVycyhhcHBDb25maWcpO1xyXG4gICAgaGVhZGVycy5hcHBlbmQoJ0F1dGhvcml6YXRpb24nLCBnZXRBdXRob3JpemF0aW9uSGVhZGVyKHJlZnJlc2hUb2tlbikpO1xyXG4gICAgcmV0dXJuIGhlYWRlcnM7XHJcbn1cclxuLyoqXHJcbiAqIENhbGxzIHRoZSBwYXNzZWQgaW4gZmV0Y2ggd3JhcHBlciBhbmQgcmV0dXJucyB0aGUgcmVzcG9uc2UuXHJcbiAqIElmIHRoZSByZXR1cm5lZCByZXNwb25zZSBoYXMgYSBzdGF0dXMgb2YgNXh4LCByZS1ydW5zIHRoZSBmdW5jdGlvbiBvbmNlIGFuZFxyXG4gKiByZXR1cm5zIHRoZSByZXNwb25zZS5cclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIHJldHJ5SWZTZXJ2ZXJFcnJvcihmbikge1xyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZm4oKTtcclxuICAgIGlmIChyZXN1bHQuc3RhdHVzID49IDUwMCAmJiByZXN1bHQuc3RhdHVzIDwgNjAwKSB7XHJcbiAgICAgICAgLy8gSW50ZXJuYWwgU2VydmVyIEVycm9yLiBSZXRyeSByZXF1ZXN0LlxyXG4gICAgICAgIHJldHVybiBmbigpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5mdW5jdGlvbiBnZXRFeHBpcmVzSW5Gcm9tUmVzcG9uc2VFeHBpcmVzSW4ocmVzcG9uc2VFeHBpcmVzSW4pIHtcclxuICAgIC8vIFRoaXMgd29ya3MgYmVjYXVzZSB0aGUgc2VydmVyIHdpbGwgbmV2ZXIgcmVzcG9uZCB3aXRoIGZyYWN0aW9ucyBvZiBhIHNlY29uZC5cclxuICAgIHJldHVybiBOdW1iZXIocmVzcG9uc2VFeHBpcmVzSW4ucmVwbGFjZSgncycsICcwMDAnKSk7XHJcbn1cclxuZnVuY3Rpb24gZ2V0QXV0aG9yaXphdGlvbkhlYWRlcihyZWZyZXNoVG9rZW4pIHtcclxuICAgIHJldHVybiBgJHtJTlRFUk5BTF9BVVRIX1ZFUlNJT059ICR7cmVmcmVzaFRva2VufWA7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gY3JlYXRlSW5zdGFsbGF0aW9uUmVxdWVzdCh7IGFwcENvbmZpZywgaGVhcnRiZWF0U2VydmljZVByb3ZpZGVyIH0sIHsgZmlkIH0pIHtcclxuICAgIGNvbnN0IGVuZHBvaW50ID0gZ2V0SW5zdGFsbGF0aW9uc0VuZHBvaW50KGFwcENvbmZpZyk7XHJcbiAgICBjb25zdCBoZWFkZXJzID0gZ2V0SGVhZGVycyhhcHBDb25maWcpO1xyXG4gICAgLy8gSWYgaGVhcnRiZWF0IHNlcnZpY2UgZXhpc3RzLCBhZGQgdGhlIGhlYXJ0YmVhdCBzdHJpbmcgdG8gdGhlIGhlYWRlci5cclxuICAgIGNvbnN0IGhlYXJ0YmVhdFNlcnZpY2UgPSBoZWFydGJlYXRTZXJ2aWNlUHJvdmlkZXIuZ2V0SW1tZWRpYXRlKHtcclxuICAgICAgICBvcHRpb25hbDogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBpZiAoaGVhcnRiZWF0U2VydmljZSkge1xyXG4gICAgICAgIGNvbnN0IGhlYXJ0YmVhdHNIZWFkZXIgPSBhd2FpdCBoZWFydGJlYXRTZXJ2aWNlLmdldEhlYXJ0YmVhdHNIZWFkZXIoKTtcclxuICAgICAgICBpZiAoaGVhcnRiZWF0c0hlYWRlcikge1xyXG4gICAgICAgICAgICBoZWFkZXJzLmFwcGVuZCgneC1maXJlYmFzZS1jbGllbnQnLCBoZWFydGJlYXRzSGVhZGVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjb25zdCBib2R5ID0ge1xyXG4gICAgICAgIGZpZCxcclxuICAgICAgICBhdXRoVmVyc2lvbjogSU5URVJOQUxfQVVUSF9WRVJTSU9OLFxyXG4gICAgICAgIGFwcElkOiBhcHBDb25maWcuYXBwSWQsXHJcbiAgICAgICAgc2RrVmVyc2lvbjogUEFDS0FHRV9WRVJTSU9OXHJcbiAgICB9O1xyXG4gICAgY29uc3QgcmVxdWVzdCA9IHtcclxuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICBoZWFkZXJzLFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpXHJcbiAgICB9O1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXRyeUlmU2VydmVyRXJyb3IoKCkgPT4gZmV0Y2goZW5kcG9pbnQsIHJlcXVlc3QpKTtcclxuICAgIGlmIChyZXNwb25zZS5vaykge1xyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlVmFsdWUgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgY29uc3QgcmVnaXN0ZXJlZEluc3RhbGxhdGlvbkVudHJ5ID0ge1xyXG4gICAgICAgICAgICBmaWQ6IHJlc3BvbnNlVmFsdWUuZmlkIHx8IGZpZCxcclxuICAgICAgICAgICAgcmVnaXN0cmF0aW9uU3RhdHVzOiAyIC8qIFJlcXVlc3RTdGF0dXMuQ09NUExFVEVEICovLFxyXG4gICAgICAgICAgICByZWZyZXNoVG9rZW46IHJlc3BvbnNlVmFsdWUucmVmcmVzaFRva2VuLFxyXG4gICAgICAgICAgICBhdXRoVG9rZW46IGV4dHJhY3RBdXRoVG9rZW5JbmZvRnJvbVJlc3BvbnNlKHJlc3BvbnNlVmFsdWUuYXV0aFRva2VuKVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIHJlZ2lzdGVyZWRJbnN0YWxsYXRpb25FbnRyeTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHRocm93IGF3YWl0IGdldEVycm9yRnJvbVJlc3BvbnNlKCdDcmVhdGUgSW5zdGFsbGF0aW9uJywgcmVzcG9uc2UpO1xyXG4gICAgfVxyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIGFmdGVyIGdpdmVuIHRpbWUgcGFzc2VzLiAqL1xyXG5mdW5jdGlvbiBzbGVlcChtcykge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xyXG4gICAgICAgIHNldFRpbWVvdXQocmVzb2x2ZSwgbXMpO1xyXG4gICAgfSk7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuZnVuY3Rpb24gYnVmZmVyVG9CYXNlNjRVcmxTYWZlKGFycmF5KSB7XHJcbiAgICBjb25zdCBiNjQgPSBidG9hKFN0cmluZy5mcm9tQ2hhckNvZGUoLi4uYXJyYXkpKTtcclxuICAgIHJldHVybiBiNjQucmVwbGFjZSgvXFwrL2csICctJykucmVwbGFjZSgvXFwvL2csICdfJyk7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuY29uc3QgVkFMSURfRklEX1BBVFRFUk4gPSAvXltjZGVmXVtcXHctXXsyMX0kLztcclxuY29uc3QgSU5WQUxJRF9GSUQgPSAnJztcclxuLyoqXHJcbiAqIEdlbmVyYXRlcyBhIG5ldyBGSUQgdXNpbmcgcmFuZG9tIHZhbHVlcyBmcm9tIFdlYiBDcnlwdG8gQVBJLlxyXG4gKiBSZXR1cm5zIGFuIGVtcHR5IHN0cmluZyBpZiBGSUQgZ2VuZXJhdGlvbiBmYWlscyBmb3IgYW55IHJlYXNvbi5cclxuICovXHJcbmZ1bmN0aW9uIGdlbmVyYXRlRmlkKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICAvLyBBIHZhbGlkIEZJRCBoYXMgZXhhY3RseSAyMiBiYXNlNjQgY2hhcmFjdGVycywgd2hpY2ggaXMgMTMyIGJpdHMsIG9yIDE2LjVcclxuICAgICAgICAvLyBieXRlcy4gb3VyIGltcGxlbWVudGF0aW9uIGdlbmVyYXRlcyBhIDE3IGJ5dGUgYXJyYXkgaW5zdGVhZC5cclxuICAgICAgICBjb25zdCBmaWRCeXRlQXJyYXkgPSBuZXcgVWludDhBcnJheSgxNyk7XHJcbiAgICAgICAgY29uc3QgY3J5cHRvID0gc2VsZi5jcnlwdG8gfHwgc2VsZi5tc0NyeXB0bztcclxuICAgICAgICBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKGZpZEJ5dGVBcnJheSk7XHJcbiAgICAgICAgLy8gUmVwbGFjZSB0aGUgZmlyc3QgNCByYW5kb20gYml0cyB3aXRoIHRoZSBjb25zdGFudCBGSUQgaGVhZGVyIG9mIDBiMDExMS5cclxuICAgICAgICBmaWRCeXRlQXJyYXlbMF0gPSAwYjAxMTEwMDAwICsgKGZpZEJ5dGVBcnJheVswXSAlIDBiMDAwMTAwMDApO1xyXG4gICAgICAgIGNvbnN0IGZpZCA9IGVuY29kZShmaWRCeXRlQXJyYXkpO1xyXG4gICAgICAgIHJldHVybiBWQUxJRF9GSURfUEFUVEVSTi50ZXN0KGZpZCkgPyBmaWQgOiBJTlZBTElEX0ZJRDtcclxuICAgIH1cclxuICAgIGNhdGNoIChfYSkge1xyXG4gICAgICAgIC8vIEZJRCBnZW5lcmF0aW9uIGVycm9yZWRcclxuICAgICAgICByZXR1cm4gSU5WQUxJRF9GSUQ7XHJcbiAgICB9XHJcbn1cclxuLyoqIENvbnZlcnRzIGEgRklEIFVpbnQ4QXJyYXkgdG8gYSBiYXNlNjQgc3RyaW5nIHJlcHJlc2VudGF0aW9uLiAqL1xyXG5mdW5jdGlvbiBlbmNvZGUoZmlkQnl0ZUFycmF5KSB7XHJcbiAgICBjb25zdCBiNjRTdHJpbmcgPSBidWZmZXJUb0Jhc2U2NFVybFNhZmUoZmlkQnl0ZUFycmF5KTtcclxuICAgIC8vIFJlbW92ZSB0aGUgMjNyZCBjaGFyYWN0ZXIgdGhhdCB3YXMgYWRkZWQgYmVjYXVzZSBvZiB0aGUgZXh0cmEgNCBiaXRzIGF0IHRoZVxyXG4gICAgLy8gZW5kIG9mIG91ciAxNyBieXRlIGFycmF5LCBhbmQgdGhlICc9JyBwYWRkaW5nLlxyXG4gICAgcmV0dXJuIGI2NFN0cmluZy5zdWJzdHIoMCwgMjIpO1xyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKiBSZXR1cm5zIGEgc3RyaW5nIGtleSB0aGF0IGNhbiBiZSB1c2VkIHRvIGlkZW50aWZ5IHRoZSBhcHAuICovXHJcbmZ1bmN0aW9uIGdldEtleShhcHBDb25maWcpIHtcclxuICAgIHJldHVybiBgJHthcHBDb25maWcuYXBwTmFtZX0hJHthcHBDb25maWcuYXBwSWR9YDtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5jb25zdCBmaWRDaGFuZ2VDYWxsYmFja3MgPSBuZXcgTWFwKCk7XHJcbi8qKlxyXG4gKiBDYWxscyB0aGUgb25JZENoYW5nZSBjYWxsYmFja3Mgd2l0aCB0aGUgbmV3IEZJRCB2YWx1ZSwgYW5kIGJyb2FkY2FzdHMgdGhlXHJcbiAqIGNoYW5nZSB0byBvdGhlciB0YWJzLlxyXG4gKi9cclxuZnVuY3Rpb24gZmlkQ2hhbmdlZChhcHBDb25maWcsIGZpZCkge1xyXG4gICAgY29uc3Qga2V5ID0gZ2V0S2V5KGFwcENvbmZpZyk7XHJcbiAgICBjYWxsRmlkQ2hhbmdlQ2FsbGJhY2tzKGtleSwgZmlkKTtcclxuICAgIGJyb2FkY2FzdEZpZENoYW5nZShrZXksIGZpZCk7XHJcbn1cclxuZnVuY3Rpb24gYWRkQ2FsbGJhY2soYXBwQ29uZmlnLCBjYWxsYmFjaykge1xyXG4gICAgLy8gT3BlbiB0aGUgYnJvYWRjYXN0IGNoYW5uZWwgaWYgaXQncyBub3QgYWxyZWFkeSBvcGVuLFxyXG4gICAgLy8gdG8gYmUgYWJsZSB0byBsaXN0ZW4gdG8gY2hhbmdlIGV2ZW50cyBmcm9tIG90aGVyIHRhYnMuXHJcbiAgICBnZXRCcm9hZGNhc3RDaGFubmVsKCk7XHJcbiAgICBjb25zdCBrZXkgPSBnZXRLZXkoYXBwQ29uZmlnKTtcclxuICAgIGxldCBjYWxsYmFja1NldCA9IGZpZENoYW5nZUNhbGxiYWNrcy5nZXQoa2V5KTtcclxuICAgIGlmICghY2FsbGJhY2tTZXQpIHtcclxuICAgICAgICBjYWxsYmFja1NldCA9IG5ldyBTZXQoKTtcclxuICAgICAgICBmaWRDaGFuZ2VDYWxsYmFja3Muc2V0KGtleSwgY2FsbGJhY2tTZXQpO1xyXG4gICAgfVxyXG4gICAgY2FsbGJhY2tTZXQuYWRkKGNhbGxiYWNrKTtcclxufVxyXG5mdW5jdGlvbiByZW1vdmVDYWxsYmFjayhhcHBDb25maWcsIGNhbGxiYWNrKSB7XHJcbiAgICBjb25zdCBrZXkgPSBnZXRLZXkoYXBwQ29uZmlnKTtcclxuICAgIGNvbnN0IGNhbGxiYWNrU2V0ID0gZmlkQ2hhbmdlQ2FsbGJhY2tzLmdldChrZXkpO1xyXG4gICAgaWYgKCFjYWxsYmFja1NldCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNhbGxiYWNrU2V0LmRlbGV0ZShjYWxsYmFjayk7XHJcbiAgICBpZiAoY2FsbGJhY2tTZXQuc2l6ZSA9PT0gMCkge1xyXG4gICAgICAgIGZpZENoYW5nZUNhbGxiYWNrcy5kZWxldGUoa2V5KTtcclxuICAgIH1cclxuICAgIC8vIENsb3NlIGJyb2FkY2FzdCBjaGFubmVsIGlmIHRoZXJlIGFyZSBubyBtb3JlIGNhbGxiYWNrcy5cclxuICAgIGNsb3NlQnJvYWRjYXN0Q2hhbm5lbCgpO1xyXG59XHJcbmZ1bmN0aW9uIGNhbGxGaWRDaGFuZ2VDYWxsYmFja3Moa2V5LCBmaWQpIHtcclxuICAgIGNvbnN0IGNhbGxiYWNrcyA9IGZpZENoYW5nZUNhbGxiYWNrcy5nZXQoa2V5KTtcclxuICAgIGlmICghY2FsbGJhY2tzKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgZm9yIChjb25zdCBjYWxsYmFjayBvZiBjYWxsYmFja3MpIHtcclxuICAgICAgICBjYWxsYmFjayhmaWQpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGJyb2FkY2FzdEZpZENoYW5nZShrZXksIGZpZCkge1xyXG4gICAgY29uc3QgY2hhbm5lbCA9IGdldEJyb2FkY2FzdENoYW5uZWwoKTtcclxuICAgIGlmIChjaGFubmVsKSB7XHJcbiAgICAgICAgY2hhbm5lbC5wb3N0TWVzc2FnZSh7IGtleSwgZmlkIH0pO1xyXG4gICAgfVxyXG4gICAgY2xvc2VCcm9hZGNhc3RDaGFubmVsKCk7XHJcbn1cclxubGV0IGJyb2FkY2FzdENoYW5uZWwgPSBudWxsO1xyXG4vKiogT3BlbnMgYW5kIHJldHVybnMgYSBCcm9hZGNhc3RDaGFubmVsIGlmIGl0IGlzIHN1cHBvcnRlZCBieSB0aGUgYnJvd3Nlci4gKi9cclxuZnVuY3Rpb24gZ2V0QnJvYWRjYXN0Q2hhbm5lbCgpIHtcclxuICAgIGlmICghYnJvYWRjYXN0Q2hhbm5lbCAmJiAnQnJvYWRjYXN0Q2hhbm5lbCcgaW4gc2VsZikge1xyXG4gICAgICAgIGJyb2FkY2FzdENoYW5uZWwgPSBuZXcgQnJvYWRjYXN0Q2hhbm5lbCgnW0ZpcmViYXNlXSBGSUQgQ2hhbmdlJyk7XHJcbiAgICAgICAgYnJvYWRjYXN0Q2hhbm5lbC5vbm1lc3NhZ2UgPSBlID0+IHtcclxuICAgICAgICAgICAgY2FsbEZpZENoYW5nZUNhbGxiYWNrcyhlLmRhdGEua2V5LCBlLmRhdGEuZmlkKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGJyb2FkY2FzdENoYW5uZWw7XHJcbn1cclxuZnVuY3Rpb24gY2xvc2VCcm9hZGNhc3RDaGFubmVsKCkge1xyXG4gICAgaWYgKGZpZENoYW5nZUNhbGxiYWNrcy5zaXplID09PSAwICYmIGJyb2FkY2FzdENoYW5uZWwpIHtcclxuICAgICAgICBicm9hZGNhc3RDaGFubmVsLmNsb3NlKCk7XHJcbiAgICAgICAgYnJvYWRjYXN0Q2hhbm5lbCA9IG51bGw7XHJcbiAgICB9XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuY29uc3QgREFUQUJBU0VfTkFNRSA9ICdmaXJlYmFzZS1pbnN0YWxsYXRpb25zLWRhdGFiYXNlJztcclxuY29uc3QgREFUQUJBU0VfVkVSU0lPTiA9IDE7XHJcbmNvbnN0IE9CSkVDVF9TVE9SRV9OQU1FID0gJ2ZpcmViYXNlLWluc3RhbGxhdGlvbnMtc3RvcmUnO1xyXG5sZXQgZGJQcm9taXNlID0gbnVsbDtcclxuZnVuY3Rpb24gZ2V0RGJQcm9taXNlKCkge1xyXG4gICAgaWYgKCFkYlByb21pc2UpIHtcclxuICAgICAgICBkYlByb21pc2UgPSBvcGVuREIoREFUQUJBU0VfTkFNRSwgREFUQUJBU0VfVkVSU0lPTiwge1xyXG4gICAgICAgICAgICB1cGdyYWRlOiAoZGIsIG9sZFZlcnNpb24pID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIFdlIGRvbid0IHVzZSAnYnJlYWsnIGluIHRoaXMgc3dpdGNoIHN0YXRlbWVudCwgdGhlIGZhbGwtdGhyb3VnaFxyXG4gICAgICAgICAgICAgICAgLy8gYmVoYXZpb3IgaXMgd2hhdCB3ZSB3YW50LCBiZWNhdXNlIGlmIHRoZXJlIGFyZSBtdWx0aXBsZSB2ZXJzaW9ucyBiZXR3ZWVuXHJcbiAgICAgICAgICAgICAgICAvLyB0aGUgb2xkIHZlcnNpb24gYW5kIHRoZSBjdXJyZW50IHZlcnNpb24sIHdlIHdhbnQgQUxMIHRoZSBtaWdyYXRpb25zXHJcbiAgICAgICAgICAgICAgICAvLyB0aGF0IGNvcnJlc3BvbmQgdG8gdGhvc2UgdmVyc2lvbnMgdG8gcnVuLCBub3Qgb25seSB0aGUgbGFzdCBvbmUuXHJcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVmYXVsdC1jYXNlXHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKG9sZFZlcnNpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKE9CSkVDVF9TVE9SRV9OQU1FKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRiUHJvbWlzZTtcclxufVxyXG4vKiogQXNzaWducyBvciBvdmVyd3JpdGVzIHRoZSByZWNvcmQgZm9yIHRoZSBnaXZlbiBrZXkgd2l0aCB0aGUgZ2l2ZW4gdmFsdWUuICovXHJcbmFzeW5jIGZ1bmN0aW9uIHNldChhcHBDb25maWcsIHZhbHVlKSB7XHJcbiAgICBjb25zdCBrZXkgPSBnZXRLZXkoYXBwQ29uZmlnKTtcclxuICAgIGNvbnN0IGRiID0gYXdhaXQgZ2V0RGJQcm9taXNlKCk7XHJcbiAgICBjb25zdCB0eCA9IGRiLnRyYW5zYWN0aW9uKE9CSkVDVF9TVE9SRV9OQU1FLCAncmVhZHdyaXRlJyk7XHJcbiAgICBjb25zdCBvYmplY3RTdG9yZSA9IHR4Lm9iamVjdFN0b3JlKE9CSkVDVF9TVE9SRV9OQU1FKTtcclxuICAgIGNvbnN0IG9sZFZhbHVlID0gKGF3YWl0IG9iamVjdFN0b3JlLmdldChrZXkpKTtcclxuICAgIGF3YWl0IG9iamVjdFN0b3JlLnB1dCh2YWx1ZSwga2V5KTtcclxuICAgIGF3YWl0IHR4LmRvbmU7XHJcbiAgICBpZiAoIW9sZFZhbHVlIHx8IG9sZFZhbHVlLmZpZCAhPT0gdmFsdWUuZmlkKSB7XHJcbiAgICAgICAgZmlkQ2hhbmdlZChhcHBDb25maWcsIHZhbHVlLmZpZCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbn1cclxuLyoqIFJlbW92ZXMgcmVjb3JkKHMpIGZyb20gdGhlIG9iamVjdFN0b3JlIHRoYXQgbWF0Y2ggdGhlIGdpdmVuIGtleS4gKi9cclxuYXN5bmMgZnVuY3Rpb24gcmVtb3ZlKGFwcENvbmZpZykge1xyXG4gICAgY29uc3Qga2V5ID0gZ2V0S2V5KGFwcENvbmZpZyk7XHJcbiAgICBjb25zdCBkYiA9IGF3YWl0IGdldERiUHJvbWlzZSgpO1xyXG4gICAgY29uc3QgdHggPSBkYi50cmFuc2FjdGlvbihPQkpFQ1RfU1RPUkVfTkFNRSwgJ3JlYWR3cml0ZScpO1xyXG4gICAgYXdhaXQgdHgub2JqZWN0U3RvcmUoT0JKRUNUX1NUT1JFX05BTUUpLmRlbGV0ZShrZXkpO1xyXG4gICAgYXdhaXQgdHguZG9uZTtcclxufVxyXG4vKipcclxuICogQXRvbWljYWxseSB1cGRhdGVzIGEgcmVjb3JkIHdpdGggdGhlIHJlc3VsdCBvZiB1cGRhdGVGbiwgd2hpY2ggZ2V0c1xyXG4gKiBjYWxsZWQgd2l0aCB0aGUgY3VycmVudCB2YWx1ZS4gSWYgbmV3VmFsdWUgaXMgdW5kZWZpbmVkLCB0aGUgcmVjb3JkIGlzXHJcbiAqIGRlbGV0ZWQgaW5zdGVhZC5cclxuICogQHJldHVybiBVcGRhdGVkIHZhbHVlXHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiB1cGRhdGUoYXBwQ29uZmlnLCB1cGRhdGVGbikge1xyXG4gICAgY29uc3Qga2V5ID0gZ2V0S2V5KGFwcENvbmZpZyk7XHJcbiAgICBjb25zdCBkYiA9IGF3YWl0IGdldERiUHJvbWlzZSgpO1xyXG4gICAgY29uc3QgdHggPSBkYi50cmFuc2FjdGlvbihPQkpFQ1RfU1RPUkVfTkFNRSwgJ3JlYWR3cml0ZScpO1xyXG4gICAgY29uc3Qgc3RvcmUgPSB0eC5vYmplY3RTdG9yZShPQkpFQ1RfU1RPUkVfTkFNRSk7XHJcbiAgICBjb25zdCBvbGRWYWx1ZSA9IChhd2FpdCBzdG9yZS5nZXQoa2V5KSk7XHJcbiAgICBjb25zdCBuZXdWYWx1ZSA9IHVwZGF0ZUZuKG9sZFZhbHVlKTtcclxuICAgIGlmIChuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgYXdhaXQgc3RvcmUuZGVsZXRlKGtleSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBhd2FpdCBzdG9yZS5wdXQobmV3VmFsdWUsIGtleSk7XHJcbiAgICB9XHJcbiAgICBhd2FpdCB0eC5kb25lO1xyXG4gICAgaWYgKG5ld1ZhbHVlICYmICghb2xkVmFsdWUgfHwgb2xkVmFsdWUuZmlkICE9PSBuZXdWYWx1ZS5maWQpKSB7XHJcbiAgICAgICAgZmlkQ2hhbmdlZChhcHBDb25maWcsIG5ld1ZhbHVlLmZpZCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmV3VmFsdWU7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIFVwZGF0ZXMgYW5kIHJldHVybnMgdGhlIEluc3RhbGxhdGlvbkVudHJ5IGZyb20gdGhlIGRhdGFiYXNlLlxyXG4gKiBBbHNvIHRyaWdnZXJzIGEgcmVnaXN0cmF0aW9uIHJlcXVlc3QgaWYgaXQgaXMgbmVjZXNzYXJ5IGFuZCBwb3NzaWJsZS5cclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIGdldEluc3RhbGxhdGlvbkVudHJ5KGluc3RhbGxhdGlvbnMpIHtcclxuICAgIGxldCByZWdpc3RyYXRpb25Qcm9taXNlO1xyXG4gICAgY29uc3QgaW5zdGFsbGF0aW9uRW50cnkgPSBhd2FpdCB1cGRhdGUoaW5zdGFsbGF0aW9ucy5hcHBDb25maWcsIG9sZEVudHJ5ID0+IHtcclxuICAgICAgICBjb25zdCBpbnN0YWxsYXRpb25FbnRyeSA9IHVwZGF0ZU9yQ3JlYXRlSW5zdGFsbGF0aW9uRW50cnkob2xkRW50cnkpO1xyXG4gICAgICAgIGNvbnN0IGVudHJ5V2l0aFByb21pc2UgPSB0cmlnZ2VyUmVnaXN0cmF0aW9uSWZOZWNlc3NhcnkoaW5zdGFsbGF0aW9ucywgaW5zdGFsbGF0aW9uRW50cnkpO1xyXG4gICAgICAgIHJlZ2lzdHJhdGlvblByb21pc2UgPSBlbnRyeVdpdGhQcm9taXNlLnJlZ2lzdHJhdGlvblByb21pc2U7XHJcbiAgICAgICAgcmV0dXJuIGVudHJ5V2l0aFByb21pc2UuaW5zdGFsbGF0aW9uRW50cnk7XHJcbiAgICB9KTtcclxuICAgIGlmIChpbnN0YWxsYXRpb25FbnRyeS5maWQgPT09IElOVkFMSURfRklEKSB7XHJcbiAgICAgICAgLy8gRklEIGdlbmVyYXRpb24gZmFpbGVkLiBXYWl0aW5nIGZvciB0aGUgRklEIGZyb20gdGhlIHNlcnZlci5cclxuICAgICAgICByZXR1cm4geyBpbnN0YWxsYXRpb25FbnRyeTogYXdhaXQgcmVnaXN0cmF0aW9uUHJvbWlzZSB9O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBpbnN0YWxsYXRpb25FbnRyeSxcclxuICAgICAgICByZWdpc3RyYXRpb25Qcm9taXNlXHJcbiAgICB9O1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgbmV3IEluc3RhbGxhdGlvbiBFbnRyeSBpZiBvbmUgZG9lcyBub3QgZXhpc3QuXHJcbiAqIEFsc28gY2xlYXJzIHRpbWVkIG91dCBwZW5kaW5nIHJlcXVlc3RzLlxyXG4gKi9cclxuZnVuY3Rpb24gdXBkYXRlT3JDcmVhdGVJbnN0YWxsYXRpb25FbnRyeShvbGRFbnRyeSkge1xyXG4gICAgY29uc3QgZW50cnkgPSBvbGRFbnRyeSB8fCB7XHJcbiAgICAgICAgZmlkOiBnZW5lcmF0ZUZpZCgpLFxyXG4gICAgICAgIHJlZ2lzdHJhdGlvblN0YXR1czogMCAvKiBSZXF1ZXN0U3RhdHVzLk5PVF9TVEFSVEVEICovXHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGNsZWFyVGltZWRPdXRSZXF1ZXN0KGVudHJ5KTtcclxufVxyXG4vKipcclxuICogSWYgdGhlIEZpcmViYXNlIEluc3RhbGxhdGlvbiBpcyBub3QgcmVnaXN0ZXJlZCB5ZXQsIHRoaXMgd2lsbCB0cmlnZ2VyIHRoZVxyXG4gKiByZWdpc3RyYXRpb24gYW5kIHJldHVybiBhbiBJblByb2dyZXNzSW5zdGFsbGF0aW9uRW50cnkuXHJcbiAqXHJcbiAqIElmIHJlZ2lzdHJhdGlvblByb21pc2UgZG9lcyBub3QgZXhpc3QsIHRoZSBpbnN0YWxsYXRpb25FbnRyeSBpcyBndWFyYW50ZWVkXHJcbiAqIHRvIGJlIHJlZ2lzdGVyZWQuXHJcbiAqL1xyXG5mdW5jdGlvbiB0cmlnZ2VyUmVnaXN0cmF0aW9uSWZOZWNlc3NhcnkoaW5zdGFsbGF0aW9ucywgaW5zdGFsbGF0aW9uRW50cnkpIHtcclxuICAgIGlmIChpbnN0YWxsYXRpb25FbnRyeS5yZWdpc3RyYXRpb25TdGF0dXMgPT09IDAgLyogUmVxdWVzdFN0YXR1cy5OT1RfU1RBUlRFRCAqLykge1xyXG4gICAgICAgIGlmICghbmF2aWdhdG9yLm9uTGluZSkge1xyXG4gICAgICAgICAgICAvLyBSZWdpc3RyYXRpb24gcmVxdWlyZWQgYnV0IGFwcCBpcyBvZmZsaW5lLlxyXG4gICAgICAgICAgICBjb25zdCByZWdpc3RyYXRpb25Qcm9taXNlV2l0aEVycm9yID0gUHJvbWlzZS5yZWplY3QoRVJST1JfRkFDVE9SWS5jcmVhdGUoXCJhcHAtb2ZmbGluZVwiIC8qIEVycm9yQ29kZS5BUFBfT0ZGTElORSAqLykpO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgaW5zdGFsbGF0aW9uRW50cnksXHJcbiAgICAgICAgICAgICAgICByZWdpc3RyYXRpb25Qcm9taXNlOiByZWdpc3RyYXRpb25Qcm9taXNlV2l0aEVycm9yXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFRyeSByZWdpc3RlcmluZy4gQ2hhbmdlIHN0YXR1cyB0byBJTl9QUk9HUkVTUy5cclxuICAgICAgICBjb25zdCBpblByb2dyZXNzRW50cnkgPSB7XHJcbiAgICAgICAgICAgIGZpZDogaW5zdGFsbGF0aW9uRW50cnkuZmlkLFxyXG4gICAgICAgICAgICByZWdpc3RyYXRpb25TdGF0dXM6IDEgLyogUmVxdWVzdFN0YXR1cy5JTl9QUk9HUkVTUyAqLyxcclxuICAgICAgICAgICAgcmVnaXN0cmF0aW9uVGltZTogRGF0ZS5ub3coKVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc3QgcmVnaXN0cmF0aW9uUHJvbWlzZSA9IHJlZ2lzdGVySW5zdGFsbGF0aW9uKGluc3RhbGxhdGlvbnMsIGluUHJvZ3Jlc3NFbnRyeSk7XHJcbiAgICAgICAgcmV0dXJuIHsgaW5zdGFsbGF0aW9uRW50cnk6IGluUHJvZ3Jlc3NFbnRyeSwgcmVnaXN0cmF0aW9uUHJvbWlzZSB9O1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaW5zdGFsbGF0aW9uRW50cnkucmVnaXN0cmF0aW9uU3RhdHVzID09PSAxIC8qIFJlcXVlc3RTdGF0dXMuSU5fUFJPR1JFU1MgKi8pIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBpbnN0YWxsYXRpb25FbnRyeSxcclxuICAgICAgICAgICAgcmVnaXN0cmF0aW9uUHJvbWlzZTogd2FpdFVudGlsRmlkUmVnaXN0cmF0aW9uKGluc3RhbGxhdGlvbnMpXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiB7IGluc3RhbGxhdGlvbkVudHJ5IH07XHJcbiAgICB9XHJcbn1cclxuLyoqIFRoaXMgd2lsbCBiZSBleGVjdXRlZCBvbmx5IG9uY2UgZm9yIGVhY2ggbmV3IEZpcmViYXNlIEluc3RhbGxhdGlvbi4gKi9cclxuYXN5bmMgZnVuY3Rpb24gcmVnaXN0ZXJJbnN0YWxsYXRpb24oaW5zdGFsbGF0aW9ucywgaW5zdGFsbGF0aW9uRW50cnkpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgcmVnaXN0ZXJlZEluc3RhbGxhdGlvbkVudHJ5ID0gYXdhaXQgY3JlYXRlSW5zdGFsbGF0aW9uUmVxdWVzdChpbnN0YWxsYXRpb25zLCBpbnN0YWxsYXRpb25FbnRyeSk7XHJcbiAgICAgICAgcmV0dXJuIHNldChpbnN0YWxsYXRpb25zLmFwcENvbmZpZywgcmVnaXN0ZXJlZEluc3RhbGxhdGlvbkVudHJ5KTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgaWYgKGlzU2VydmVyRXJyb3IoZSkgJiYgZS5jdXN0b21EYXRhLnNlcnZlckNvZGUgPT09IDQwOSkge1xyXG4gICAgICAgICAgICAvLyBTZXJ2ZXIgcmV0dXJuZWQgYSBcIkZJRCBjYW4gbm90IGJlIHVzZWRcIiBlcnJvci5cclxuICAgICAgICAgICAgLy8gR2VuZXJhdGUgYSBuZXcgSUQgbmV4dCB0aW1lLlxyXG4gICAgICAgICAgICBhd2FpdCByZW1vdmUoaW5zdGFsbGF0aW9ucy5hcHBDb25maWcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gUmVnaXN0cmF0aW9uIGZhaWxlZC4gU2V0IEZJRCBhcyBub3QgcmVnaXN0ZXJlZC5cclxuICAgICAgICAgICAgYXdhaXQgc2V0KGluc3RhbGxhdGlvbnMuYXBwQ29uZmlnLCB7XHJcbiAgICAgICAgICAgICAgICBmaWQ6IGluc3RhbGxhdGlvbkVudHJ5LmZpZCxcclxuICAgICAgICAgICAgICAgIHJlZ2lzdHJhdGlvblN0YXR1czogMCAvKiBSZXF1ZXN0U3RhdHVzLk5PVF9TVEFSVEVEICovXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aHJvdyBlO1xyXG4gICAgfVxyXG59XHJcbi8qKiBDYWxsIGlmIEZJRCByZWdpc3RyYXRpb24gaXMgcGVuZGluZyBpbiBhbm90aGVyIHJlcXVlc3QuICovXHJcbmFzeW5jIGZ1bmN0aW9uIHdhaXRVbnRpbEZpZFJlZ2lzdHJhdGlvbihpbnN0YWxsYXRpb25zKSB7XHJcbiAgICAvLyBVbmZvcnR1bmF0ZWx5LCB0aGVyZSBpcyBubyB3YXkgb2YgcmVsaWFibHkgb2JzZXJ2aW5nIHdoZW4gYSB2YWx1ZSBpblxyXG4gICAgLy8gSW5kZXhlZERCIGNoYW5nZXMgKHlldCwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9XSUNHL2luZGV4ZWQtZGItb2JzZXJ2ZXJzKSxcclxuICAgIC8vIHNvIHdlIG5lZWQgdG8gcG9sbC5cclxuICAgIGxldCBlbnRyeSA9IGF3YWl0IHVwZGF0ZUluc3RhbGxhdGlvblJlcXVlc3QoaW5zdGFsbGF0aW9ucy5hcHBDb25maWcpO1xyXG4gICAgd2hpbGUgKGVudHJ5LnJlZ2lzdHJhdGlvblN0YXR1cyA9PT0gMSAvKiBSZXF1ZXN0U3RhdHVzLklOX1BST0dSRVNTICovKSB7XHJcbiAgICAgICAgLy8gY3JlYXRlSW5zdGFsbGF0aW9uIHJlcXVlc3Qgc3RpbGwgaW4gcHJvZ3Jlc3MuXHJcbiAgICAgICAgYXdhaXQgc2xlZXAoMTAwKTtcclxuICAgICAgICBlbnRyeSA9IGF3YWl0IHVwZGF0ZUluc3RhbGxhdGlvblJlcXVlc3QoaW5zdGFsbGF0aW9ucy5hcHBDb25maWcpO1xyXG4gICAgfVxyXG4gICAgaWYgKGVudHJ5LnJlZ2lzdHJhdGlvblN0YXR1cyA9PT0gMCAvKiBSZXF1ZXN0U3RhdHVzLk5PVF9TVEFSVEVEICovKSB7XHJcbiAgICAgICAgLy8gVGhlIHJlcXVlc3QgdGltZWQgb3V0IG9yIGZhaWxlZCBpbiBhIGRpZmZlcmVudCBjYWxsLiBUcnkgYWdhaW4uXHJcbiAgICAgICAgY29uc3QgeyBpbnN0YWxsYXRpb25FbnRyeSwgcmVnaXN0cmF0aW9uUHJvbWlzZSB9ID0gYXdhaXQgZ2V0SW5zdGFsbGF0aW9uRW50cnkoaW5zdGFsbGF0aW9ucyk7XHJcbiAgICAgICAgaWYgKHJlZ2lzdHJhdGlvblByb21pc2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlZ2lzdHJhdGlvblByb21pc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBubyByZWdpc3RyYXRpb25Qcm9taXNlLCBlbnRyeSBpcyByZWdpc3RlcmVkLlxyXG4gICAgICAgICAgICByZXR1cm4gaW5zdGFsbGF0aW9uRW50cnk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGVudHJ5O1xyXG59XHJcbi8qKlxyXG4gKiBDYWxsZWQgb25seSBpZiB0aGVyZSBpcyBhIENyZWF0ZUluc3RhbGxhdGlvbiByZXF1ZXN0IGluIHByb2dyZXNzLlxyXG4gKlxyXG4gKiBVcGRhdGVzIHRoZSBJbnN0YWxsYXRpb25FbnRyeSBpbiB0aGUgREIgYmFzZWQgb24gdGhlIHN0YXR1cyBvZiB0aGVcclxuICogQ3JlYXRlSW5zdGFsbGF0aW9uIHJlcXVlc3QuXHJcbiAqXHJcbiAqIFJldHVybnMgdGhlIHVwZGF0ZWQgSW5zdGFsbGF0aW9uRW50cnkuXHJcbiAqL1xyXG5mdW5jdGlvbiB1cGRhdGVJbnN0YWxsYXRpb25SZXF1ZXN0KGFwcENvbmZpZykge1xyXG4gICAgcmV0dXJuIHVwZGF0ZShhcHBDb25maWcsIG9sZEVudHJ5ID0+IHtcclxuICAgICAgICBpZiAoIW9sZEVudHJ5KSB7XHJcbiAgICAgICAgICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwiaW5zdGFsbGF0aW9uLW5vdC1mb3VuZFwiIC8qIEVycm9yQ29kZS5JTlNUQUxMQVRJT05fTk9UX0ZPVU5EICovKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZWRPdXRSZXF1ZXN0KG9sZEVudHJ5KTtcclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIGNsZWFyVGltZWRPdXRSZXF1ZXN0KGVudHJ5KSB7XHJcbiAgICBpZiAoaGFzSW5zdGFsbGF0aW9uUmVxdWVzdFRpbWVkT3V0KGVudHJ5KSkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGZpZDogZW50cnkuZmlkLFxyXG4gICAgICAgICAgICByZWdpc3RyYXRpb25TdGF0dXM6IDAgLyogUmVxdWVzdFN0YXR1cy5OT1RfU1RBUlRFRCAqL1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZW50cnk7XHJcbn1cclxuZnVuY3Rpb24gaGFzSW5zdGFsbGF0aW9uUmVxdWVzdFRpbWVkT3V0KGluc3RhbGxhdGlvbkVudHJ5KSB7XHJcbiAgICByZXR1cm4gKGluc3RhbGxhdGlvbkVudHJ5LnJlZ2lzdHJhdGlvblN0YXR1cyA9PT0gMSAvKiBSZXF1ZXN0U3RhdHVzLklOX1BST0dSRVNTICovICYmXHJcbiAgICAgICAgaW5zdGFsbGF0aW9uRW50cnkucmVnaXN0cmF0aW9uVGltZSArIFBFTkRJTkdfVElNRU9VVF9NUyA8IERhdGUubm93KCkpO1xyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIGdlbmVyYXRlQXV0aFRva2VuUmVxdWVzdCh7IGFwcENvbmZpZywgaGVhcnRiZWF0U2VydmljZVByb3ZpZGVyIH0sIGluc3RhbGxhdGlvbkVudHJ5KSB7XHJcbiAgICBjb25zdCBlbmRwb2ludCA9IGdldEdlbmVyYXRlQXV0aFRva2VuRW5kcG9pbnQoYXBwQ29uZmlnLCBpbnN0YWxsYXRpb25FbnRyeSk7XHJcbiAgICBjb25zdCBoZWFkZXJzID0gZ2V0SGVhZGVyc1dpdGhBdXRoKGFwcENvbmZpZywgaW5zdGFsbGF0aW9uRW50cnkpO1xyXG4gICAgLy8gSWYgaGVhcnRiZWF0IHNlcnZpY2UgZXhpc3RzLCBhZGQgdGhlIGhlYXJ0YmVhdCBzdHJpbmcgdG8gdGhlIGhlYWRlci5cclxuICAgIGNvbnN0IGhlYXJ0YmVhdFNlcnZpY2UgPSBoZWFydGJlYXRTZXJ2aWNlUHJvdmlkZXIuZ2V0SW1tZWRpYXRlKHtcclxuICAgICAgICBvcHRpb25hbDogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBpZiAoaGVhcnRiZWF0U2VydmljZSkge1xyXG4gICAgICAgIGNvbnN0IGhlYXJ0YmVhdHNIZWFkZXIgPSBhd2FpdCBoZWFydGJlYXRTZXJ2aWNlLmdldEhlYXJ0YmVhdHNIZWFkZXIoKTtcclxuICAgICAgICBpZiAoaGVhcnRiZWF0c0hlYWRlcikge1xyXG4gICAgICAgICAgICBoZWFkZXJzLmFwcGVuZCgneC1maXJlYmFzZS1jbGllbnQnLCBoZWFydGJlYXRzSGVhZGVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjb25zdCBib2R5ID0ge1xyXG4gICAgICAgIGluc3RhbGxhdGlvbjoge1xyXG4gICAgICAgICAgICBzZGtWZXJzaW9uOiBQQUNLQUdFX1ZFUlNJT04sXHJcbiAgICAgICAgICAgIGFwcElkOiBhcHBDb25maWcuYXBwSWRcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgcmVxdWVzdCA9IHtcclxuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICBoZWFkZXJzLFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpXHJcbiAgICB9O1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXRyeUlmU2VydmVyRXJyb3IoKCkgPT4gZmV0Y2goZW5kcG9pbnQsIHJlcXVlc3QpKTtcclxuICAgIGlmIChyZXNwb25zZS5vaykge1xyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlVmFsdWUgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgY29uc3QgY29tcGxldGVkQXV0aFRva2VuID0gZXh0cmFjdEF1dGhUb2tlbkluZm9Gcm9tUmVzcG9uc2UocmVzcG9uc2VWYWx1ZSk7XHJcbiAgICAgICAgcmV0dXJuIGNvbXBsZXRlZEF1dGhUb2tlbjtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHRocm93IGF3YWl0IGdldEVycm9yRnJvbVJlc3BvbnNlKCdHZW5lcmF0ZSBBdXRoIFRva2VuJywgcmVzcG9uc2UpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGdldEdlbmVyYXRlQXV0aFRva2VuRW5kcG9pbnQoYXBwQ29uZmlnLCB7IGZpZCB9KSB7XHJcbiAgICByZXR1cm4gYCR7Z2V0SW5zdGFsbGF0aW9uc0VuZHBvaW50KGFwcENvbmZpZyl9LyR7ZmlkfS9hdXRoVG9rZW5zOmdlbmVyYXRlYDtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogUmV0dXJucyBhIHZhbGlkIGF1dGhlbnRpY2F0aW9uIHRva2VuIGZvciB0aGUgaW5zdGFsbGF0aW9uLiBHZW5lcmF0ZXMgYSBuZXdcclxuICogdG9rZW4gaWYgb25lIGRvZXNuJ3QgZXhpc3QsIGlzIGV4cGlyZWQgb3IgYWJvdXQgdG8gZXhwaXJlLlxyXG4gKlxyXG4gKiBTaG91bGQgb25seSBiZSBjYWxsZWQgaWYgdGhlIEZpcmViYXNlIEluc3RhbGxhdGlvbiBpcyByZWdpc3RlcmVkLlxyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gcmVmcmVzaEF1dGhUb2tlbihpbnN0YWxsYXRpb25zLCBmb3JjZVJlZnJlc2ggPSBmYWxzZSkge1xyXG4gICAgbGV0IHRva2VuUHJvbWlzZTtcclxuICAgIGNvbnN0IGVudHJ5ID0gYXdhaXQgdXBkYXRlKGluc3RhbGxhdGlvbnMuYXBwQ29uZmlnLCBvbGRFbnRyeSA9PiB7XHJcbiAgICAgICAgaWYgKCFpc0VudHJ5UmVnaXN0ZXJlZChvbGRFbnRyeSkpIHtcclxuICAgICAgICAgICAgdGhyb3cgRVJST1JfRkFDVE9SWS5jcmVhdGUoXCJub3QtcmVnaXN0ZXJlZFwiIC8qIEVycm9yQ29kZS5OT1RfUkVHSVNURVJFRCAqLyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG9sZEF1dGhUb2tlbiA9IG9sZEVudHJ5LmF1dGhUb2tlbjtcclxuICAgICAgICBpZiAoIWZvcmNlUmVmcmVzaCAmJiBpc0F1dGhUb2tlblZhbGlkKG9sZEF1dGhUb2tlbikpIHtcclxuICAgICAgICAgICAgLy8gVGhlcmUgaXMgYSB2YWxpZCB0b2tlbiBpbiB0aGUgREIuXHJcbiAgICAgICAgICAgIHJldHVybiBvbGRFbnRyeTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAob2xkQXV0aFRva2VuLnJlcXVlc3RTdGF0dXMgPT09IDEgLyogUmVxdWVzdFN0YXR1cy5JTl9QUk9HUkVTUyAqLykge1xyXG4gICAgICAgICAgICAvLyBUaGVyZSBhbHJlYWR5IGlzIGEgdG9rZW4gcmVxdWVzdCBpbiBwcm9ncmVzcy5cclxuICAgICAgICAgICAgdG9rZW5Qcm9taXNlID0gd2FpdFVudGlsQXV0aFRva2VuUmVxdWVzdChpbnN0YWxsYXRpb25zLCBmb3JjZVJlZnJlc2gpO1xyXG4gICAgICAgICAgICByZXR1cm4gb2xkRW50cnk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBObyB0b2tlbiBvciB0b2tlbiBleHBpcmVkLlxyXG4gICAgICAgICAgICBpZiAoIW5hdmlnYXRvci5vbkxpbmUpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwiYXBwLW9mZmxpbmVcIiAvKiBFcnJvckNvZGUuQVBQX09GRkxJTkUgKi8pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IGluUHJvZ3Jlc3NFbnRyeSA9IG1ha2VBdXRoVG9rZW5SZXF1ZXN0SW5Qcm9ncmVzc0VudHJ5KG9sZEVudHJ5KTtcclxuICAgICAgICAgICAgdG9rZW5Qcm9taXNlID0gZmV0Y2hBdXRoVG9rZW5Gcm9tU2VydmVyKGluc3RhbGxhdGlvbnMsIGluUHJvZ3Jlc3NFbnRyeSk7XHJcbiAgICAgICAgICAgIHJldHVybiBpblByb2dyZXNzRW50cnk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBjb25zdCBhdXRoVG9rZW4gPSB0b2tlblByb21pc2VcclxuICAgICAgICA/IGF3YWl0IHRva2VuUHJvbWlzZVxyXG4gICAgICAgIDogZW50cnkuYXV0aFRva2VuO1xyXG4gICAgcmV0dXJuIGF1dGhUb2tlbjtcclxufVxyXG4vKipcclxuICogQ2FsbCBvbmx5IGlmIEZJRCBpcyByZWdpc3RlcmVkIGFuZCBBdXRoIFRva2VuIHJlcXVlc3QgaXMgaW4gcHJvZ3Jlc3MuXHJcbiAqXHJcbiAqIFdhaXRzIHVudGlsIHRoZSBjdXJyZW50IHBlbmRpbmcgcmVxdWVzdCBmaW5pc2hlcy4gSWYgdGhlIHJlcXVlc3QgdGltZXMgb3V0LFxyXG4gKiB0cmllcyBvbmNlIGluIHRoaXMgdGhyZWFkIGFzIHdlbGwuXHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiB3YWl0VW50aWxBdXRoVG9rZW5SZXF1ZXN0KGluc3RhbGxhdGlvbnMsIGZvcmNlUmVmcmVzaCkge1xyXG4gICAgLy8gVW5mb3J0dW5hdGVseSwgdGhlcmUgaXMgbm8gd2F5IG9mIHJlbGlhYmx5IG9ic2VydmluZyB3aGVuIGEgdmFsdWUgaW5cclxuICAgIC8vIEluZGV4ZWREQiBjaGFuZ2VzICh5ZXQsIHNlZSBodHRwczovL2dpdGh1Yi5jb20vV0lDRy9pbmRleGVkLWRiLW9ic2VydmVycyksXHJcbiAgICAvLyBzbyB3ZSBuZWVkIHRvIHBvbGwuXHJcbiAgICBsZXQgZW50cnkgPSBhd2FpdCB1cGRhdGVBdXRoVG9rZW5SZXF1ZXN0KGluc3RhbGxhdGlvbnMuYXBwQ29uZmlnKTtcclxuICAgIHdoaWxlIChlbnRyeS5hdXRoVG9rZW4ucmVxdWVzdFN0YXR1cyA9PT0gMSAvKiBSZXF1ZXN0U3RhdHVzLklOX1BST0dSRVNTICovKSB7XHJcbiAgICAgICAgLy8gZ2VuZXJhdGVBdXRoVG9rZW4gc3RpbGwgaW4gcHJvZ3Jlc3MuXHJcbiAgICAgICAgYXdhaXQgc2xlZXAoMTAwKTtcclxuICAgICAgICBlbnRyeSA9IGF3YWl0IHVwZGF0ZUF1dGhUb2tlblJlcXVlc3QoaW5zdGFsbGF0aW9ucy5hcHBDb25maWcpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgYXV0aFRva2VuID0gZW50cnkuYXV0aFRva2VuO1xyXG4gICAgaWYgKGF1dGhUb2tlbi5yZXF1ZXN0U3RhdHVzID09PSAwIC8qIFJlcXVlc3RTdGF0dXMuTk9UX1NUQVJURUQgKi8pIHtcclxuICAgICAgICAvLyBUaGUgcmVxdWVzdCB0aW1lZCBvdXQgb3IgZmFpbGVkIGluIGEgZGlmZmVyZW50IGNhbGwuIFRyeSBhZ2Fpbi5cclxuICAgICAgICByZXR1cm4gcmVmcmVzaEF1dGhUb2tlbihpbnN0YWxsYXRpb25zLCBmb3JjZVJlZnJlc2gpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGF1dGhUb2tlbjtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogQ2FsbGVkIG9ubHkgaWYgdGhlcmUgaXMgYSBHZW5lcmF0ZUF1dGhUb2tlbiByZXF1ZXN0IGluIHByb2dyZXNzLlxyXG4gKlxyXG4gKiBVcGRhdGVzIHRoZSBJbnN0YWxsYXRpb25FbnRyeSBpbiB0aGUgREIgYmFzZWQgb24gdGhlIHN0YXR1cyBvZiB0aGVcclxuICogR2VuZXJhdGVBdXRoVG9rZW4gcmVxdWVzdC5cclxuICpcclxuICogUmV0dXJucyB0aGUgdXBkYXRlZCBJbnN0YWxsYXRpb25FbnRyeS5cclxuICovXHJcbmZ1bmN0aW9uIHVwZGF0ZUF1dGhUb2tlblJlcXVlc3QoYXBwQ29uZmlnKSB7XHJcbiAgICByZXR1cm4gdXBkYXRlKGFwcENvbmZpZywgb2xkRW50cnkgPT4ge1xyXG4gICAgICAgIGlmICghaXNFbnRyeVJlZ2lzdGVyZWQob2xkRW50cnkpKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwibm90LXJlZ2lzdGVyZWRcIiAvKiBFcnJvckNvZGUuTk9UX1JFR0lTVEVSRUQgKi8pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBvbGRBdXRoVG9rZW4gPSBvbGRFbnRyeS5hdXRoVG9rZW47XHJcbiAgICAgICAgaWYgKGhhc0F1dGhUb2tlblJlcXVlc3RUaW1lZE91dChvbGRBdXRoVG9rZW4pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIG9sZEVudHJ5KSwgeyBhdXRoVG9rZW46IHsgcmVxdWVzdFN0YXR1czogMCAvKiBSZXF1ZXN0U3RhdHVzLk5PVF9TVEFSVEVEICovIH0gfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBvbGRFbnRyeTtcclxuICAgIH0pO1xyXG59XHJcbmFzeW5jIGZ1bmN0aW9uIGZldGNoQXV0aFRva2VuRnJvbVNlcnZlcihpbnN0YWxsYXRpb25zLCBpbnN0YWxsYXRpb25FbnRyeSkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBhdXRoVG9rZW4gPSBhd2FpdCBnZW5lcmF0ZUF1dGhUb2tlblJlcXVlc3QoaW5zdGFsbGF0aW9ucywgaW5zdGFsbGF0aW9uRW50cnkpO1xyXG4gICAgICAgIGNvbnN0IHVwZGF0ZWRJbnN0YWxsYXRpb25FbnRyeSA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgaW5zdGFsbGF0aW9uRW50cnkpLCB7IGF1dGhUb2tlbiB9KTtcclxuICAgICAgICBhd2FpdCBzZXQoaW5zdGFsbGF0aW9ucy5hcHBDb25maWcsIHVwZGF0ZWRJbnN0YWxsYXRpb25FbnRyeSk7XHJcbiAgICAgICAgcmV0dXJuIGF1dGhUb2tlbjtcclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgaWYgKGlzU2VydmVyRXJyb3IoZSkgJiZcclxuICAgICAgICAgICAgKGUuY3VzdG9tRGF0YS5zZXJ2ZXJDb2RlID09PSA0MDEgfHwgZS5jdXN0b21EYXRhLnNlcnZlckNvZGUgPT09IDQwNCkpIHtcclxuICAgICAgICAgICAgLy8gU2VydmVyIHJldHVybmVkIGEgXCJGSUQgbm90IGZvdW5kXCIgb3IgYSBcIkludmFsaWQgYXV0aGVudGljYXRpb25cIiBlcnJvci5cclxuICAgICAgICAgICAgLy8gR2VuZXJhdGUgYSBuZXcgSUQgbmV4dCB0aW1lLlxyXG4gICAgICAgICAgICBhd2FpdCByZW1vdmUoaW5zdGFsbGF0aW9ucy5hcHBDb25maWcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgdXBkYXRlZEluc3RhbGxhdGlvbkVudHJ5ID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBpbnN0YWxsYXRpb25FbnRyeSksIHsgYXV0aFRva2VuOiB7IHJlcXVlc3RTdGF0dXM6IDAgLyogUmVxdWVzdFN0YXR1cy5OT1RfU1RBUlRFRCAqLyB9IH0pO1xyXG4gICAgICAgICAgICBhd2FpdCBzZXQoaW5zdGFsbGF0aW9ucy5hcHBDb25maWcsIHVwZGF0ZWRJbnN0YWxsYXRpb25FbnRyeSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRocm93IGU7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaXNFbnRyeVJlZ2lzdGVyZWQoaW5zdGFsbGF0aW9uRW50cnkpIHtcclxuICAgIHJldHVybiAoaW5zdGFsbGF0aW9uRW50cnkgIT09IHVuZGVmaW5lZCAmJlxyXG4gICAgICAgIGluc3RhbGxhdGlvbkVudHJ5LnJlZ2lzdHJhdGlvblN0YXR1cyA9PT0gMiAvKiBSZXF1ZXN0U3RhdHVzLkNPTVBMRVRFRCAqLyk7XHJcbn1cclxuZnVuY3Rpb24gaXNBdXRoVG9rZW5WYWxpZChhdXRoVG9rZW4pIHtcclxuICAgIHJldHVybiAoYXV0aFRva2VuLnJlcXVlc3RTdGF0dXMgPT09IDIgLyogUmVxdWVzdFN0YXR1cy5DT01QTEVURUQgKi8gJiZcclxuICAgICAgICAhaXNBdXRoVG9rZW5FeHBpcmVkKGF1dGhUb2tlbikpO1xyXG59XHJcbmZ1bmN0aW9uIGlzQXV0aFRva2VuRXhwaXJlZChhdXRoVG9rZW4pIHtcclxuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XHJcbiAgICByZXR1cm4gKG5vdyA8IGF1dGhUb2tlbi5jcmVhdGlvblRpbWUgfHxcclxuICAgICAgICBhdXRoVG9rZW4uY3JlYXRpb25UaW1lICsgYXV0aFRva2VuLmV4cGlyZXNJbiA8IG5vdyArIFRPS0VOX0VYUElSQVRJT05fQlVGRkVSKTtcclxufVxyXG4vKiogUmV0dXJucyBhbiB1cGRhdGVkIEluc3RhbGxhdGlvbkVudHJ5IHdpdGggYW4gSW5Qcm9ncmVzc0F1dGhUb2tlbi4gKi9cclxuZnVuY3Rpb24gbWFrZUF1dGhUb2tlblJlcXVlc3RJblByb2dyZXNzRW50cnkob2xkRW50cnkpIHtcclxuICAgIGNvbnN0IGluUHJvZ3Jlc3NBdXRoVG9rZW4gPSB7XHJcbiAgICAgICAgcmVxdWVzdFN0YXR1czogMSAvKiBSZXF1ZXN0U3RhdHVzLklOX1BST0dSRVNTICovLFxyXG4gICAgICAgIHJlcXVlc3RUaW1lOiBEYXRlLm5vdygpXHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgb2xkRW50cnkpLCB7IGF1dGhUb2tlbjogaW5Qcm9ncmVzc0F1dGhUb2tlbiB9KTtcclxufVxyXG5mdW5jdGlvbiBoYXNBdXRoVG9rZW5SZXF1ZXN0VGltZWRPdXQoYXV0aFRva2VuKSB7XHJcbiAgICByZXR1cm4gKGF1dGhUb2tlbi5yZXF1ZXN0U3RhdHVzID09PSAxIC8qIFJlcXVlc3RTdGF0dXMuSU5fUFJPR1JFU1MgKi8gJiZcclxuICAgICAgICBhdXRoVG9rZW4ucmVxdWVzdFRpbWUgKyBQRU5ESU5HX1RJTUVPVVRfTVMgPCBEYXRlLm5vdygpKTtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogQ3JlYXRlcyBhIEZpcmViYXNlIEluc3RhbGxhdGlvbiBpZiB0aGVyZSBpc24ndCBvbmUgZm9yIHRoZSBhcHAgYW5kXHJcbiAqIHJldHVybnMgdGhlIEluc3RhbGxhdGlvbiBJRC5cclxuICogQHBhcmFtIGluc3RhbGxhdGlvbnMgLSBUaGUgYEluc3RhbGxhdGlvbnNgIGluc3RhbmNlLlxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiBnZXRJZChpbnN0YWxsYXRpb25zKSB7XHJcbiAgICBjb25zdCBpbnN0YWxsYXRpb25zSW1wbCA9IGluc3RhbGxhdGlvbnM7XHJcbiAgICBjb25zdCB7IGluc3RhbGxhdGlvbkVudHJ5LCByZWdpc3RyYXRpb25Qcm9taXNlIH0gPSBhd2FpdCBnZXRJbnN0YWxsYXRpb25FbnRyeShpbnN0YWxsYXRpb25zSW1wbCk7XHJcbiAgICBpZiAocmVnaXN0cmF0aW9uUHJvbWlzZSkge1xyXG4gICAgICAgIHJlZ2lzdHJhdGlvblByb21pc2UuY2F0Y2goY29uc29sZS5lcnJvcik7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyBJZiB0aGUgaW5zdGFsbGF0aW9uIGlzIGFscmVhZHkgcmVnaXN0ZXJlZCwgdXBkYXRlIHRoZSBhdXRoZW50aWNhdGlvblxyXG4gICAgICAgIC8vIHRva2VuIGlmIG5lZWRlZC5cclxuICAgICAgICByZWZyZXNoQXV0aFRva2VuKGluc3RhbGxhdGlvbnNJbXBsKS5jYXRjaChjb25zb2xlLmVycm9yKTtcclxuICAgIH1cclxuICAgIHJldHVybiBpbnN0YWxsYXRpb25FbnRyeS5maWQ7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIFJldHVybnMgYSBGaXJlYmFzZSBJbnN0YWxsYXRpb25zIGF1dGggdG9rZW4sIGlkZW50aWZ5aW5nIHRoZSBjdXJyZW50XHJcbiAqIEZpcmViYXNlIEluc3RhbGxhdGlvbi5cclxuICogQHBhcmFtIGluc3RhbGxhdGlvbnMgLSBUaGUgYEluc3RhbGxhdGlvbnNgIGluc3RhbmNlLlxyXG4gKiBAcGFyYW0gZm9yY2VSZWZyZXNoIC0gRm9yY2UgcmVmcmVzaCByZWdhcmRsZXNzIG9mIHRva2VuIGV4cGlyYXRpb24uXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIGdldFRva2VuKGluc3RhbGxhdGlvbnMsIGZvcmNlUmVmcmVzaCA9IGZhbHNlKSB7XHJcbiAgICBjb25zdCBpbnN0YWxsYXRpb25zSW1wbCA9IGluc3RhbGxhdGlvbnM7XHJcbiAgICBhd2FpdCBjb21wbGV0ZUluc3RhbGxhdGlvblJlZ2lzdHJhdGlvbihpbnN0YWxsYXRpb25zSW1wbCk7XHJcbiAgICAvLyBBdCB0aGlzIHBvaW50IHdlIGVpdGhlciBoYXZlIGEgUmVnaXN0ZXJlZCBJbnN0YWxsYXRpb24gaW4gdGhlIERCLCBvciB3ZSd2ZVxyXG4gICAgLy8gYWxyZWFkeSB0aHJvd24gYW4gZXJyb3IuXHJcbiAgICBjb25zdCBhdXRoVG9rZW4gPSBhd2FpdCByZWZyZXNoQXV0aFRva2VuKGluc3RhbGxhdGlvbnNJbXBsLCBmb3JjZVJlZnJlc2gpO1xyXG4gICAgcmV0dXJuIGF1dGhUb2tlbi50b2tlbjtcclxufVxyXG5hc3luYyBmdW5jdGlvbiBjb21wbGV0ZUluc3RhbGxhdGlvblJlZ2lzdHJhdGlvbihpbnN0YWxsYXRpb25zKSB7XHJcbiAgICBjb25zdCB7IHJlZ2lzdHJhdGlvblByb21pc2UgfSA9IGF3YWl0IGdldEluc3RhbGxhdGlvbkVudHJ5KGluc3RhbGxhdGlvbnMpO1xyXG4gICAgaWYgKHJlZ2lzdHJhdGlvblByb21pc2UpIHtcclxuICAgICAgICAvLyBBIGNyZWF0ZUluc3RhbGxhdGlvbiByZXF1ZXN0IGlzIGluIHByb2dyZXNzLiBXYWl0IHVudGlsIGl0IGZpbmlzaGVzLlxyXG4gICAgICAgIGF3YWl0IHJlZ2lzdHJhdGlvblByb21pc2U7XHJcbiAgICB9XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gZGVsZXRlSW5zdGFsbGF0aW9uUmVxdWVzdChhcHBDb25maWcsIGluc3RhbGxhdGlvbkVudHJ5KSB7XHJcbiAgICBjb25zdCBlbmRwb2ludCA9IGdldERlbGV0ZUVuZHBvaW50KGFwcENvbmZpZywgaW5zdGFsbGF0aW9uRW50cnkpO1xyXG4gICAgY29uc3QgaGVhZGVycyA9IGdldEhlYWRlcnNXaXRoQXV0aChhcHBDb25maWcsIGluc3RhbGxhdGlvbkVudHJ5KTtcclxuICAgIGNvbnN0IHJlcXVlc3QgPSB7XHJcbiAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcclxuICAgICAgICBoZWFkZXJzXHJcbiAgICB9O1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXRyeUlmU2VydmVyRXJyb3IoKCkgPT4gZmV0Y2goZW5kcG9pbnQsIHJlcXVlc3QpKTtcclxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgICB0aHJvdyBhd2FpdCBnZXRFcnJvckZyb21SZXNwb25zZSgnRGVsZXRlIEluc3RhbGxhdGlvbicsIHJlc3BvbnNlKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBnZXREZWxldGVFbmRwb2ludChhcHBDb25maWcsIHsgZmlkIH0pIHtcclxuICAgIHJldHVybiBgJHtnZXRJbnN0YWxsYXRpb25zRW5kcG9pbnQoYXBwQ29uZmlnKX0vJHtmaWR9YDtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogRGVsZXRlcyB0aGUgRmlyZWJhc2UgSW5zdGFsbGF0aW9uIGFuZCBhbGwgYXNzb2NpYXRlZCBkYXRhLlxyXG4gKiBAcGFyYW0gaW5zdGFsbGF0aW9ucyAtIFRoZSBgSW5zdGFsbGF0aW9uc2AgaW5zdGFuY2UuXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIGRlbGV0ZUluc3RhbGxhdGlvbnMoaW5zdGFsbGF0aW9ucykge1xyXG4gICAgY29uc3QgeyBhcHBDb25maWcgfSA9IGluc3RhbGxhdGlvbnM7XHJcbiAgICBjb25zdCBlbnRyeSA9IGF3YWl0IHVwZGF0ZShhcHBDb25maWcsIG9sZEVudHJ5ID0+IHtcclxuICAgICAgICBpZiAob2xkRW50cnkgJiYgb2xkRW50cnkucmVnaXN0cmF0aW9uU3RhdHVzID09PSAwIC8qIFJlcXVlc3RTdGF0dXMuTk9UX1NUQVJURUQgKi8pIHtcclxuICAgICAgICAgICAgLy8gRGVsZXRlIHRoZSB1bnJlZ2lzdGVyZWQgZW50cnkgd2l0aG91dCBzZW5kaW5nIGEgZGVsZXRlSW5zdGFsbGF0aW9uIHJlcXVlc3QuXHJcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBvbGRFbnRyeTtcclxuICAgIH0pO1xyXG4gICAgaWYgKGVudHJ5KSB7XHJcbiAgICAgICAgaWYgKGVudHJ5LnJlZ2lzdHJhdGlvblN0YXR1cyA9PT0gMSAvKiBSZXF1ZXN0U3RhdHVzLklOX1BST0dSRVNTICovKSB7XHJcbiAgICAgICAgICAgIC8vIENhbid0IGRlbGV0ZSB3aGlsZSB0cnlpbmcgdG8gcmVnaXN0ZXIuXHJcbiAgICAgICAgICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwiZGVsZXRlLXBlbmRpbmctcmVnaXN0cmF0aW9uXCIgLyogRXJyb3JDb2RlLkRFTEVURV9QRU5ESU5HX1JFR0lTVFJBVElPTiAqLyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGVudHJ5LnJlZ2lzdHJhdGlvblN0YXR1cyA9PT0gMiAvKiBSZXF1ZXN0U3RhdHVzLkNPTVBMRVRFRCAqLykge1xyXG4gICAgICAgICAgICBpZiAoIW5hdmlnYXRvci5vbkxpbmUpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwiYXBwLW9mZmxpbmVcIiAvKiBFcnJvckNvZGUuQVBQX09GRkxJTkUgKi8pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgZGVsZXRlSW5zdGFsbGF0aW9uUmVxdWVzdChhcHBDb25maWcsIGVudHJ5KTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHJlbW92ZShhcHBDb25maWcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBTZXRzIGEgbmV3IGNhbGxiYWNrIHRoYXQgd2lsbCBnZXQgY2FsbGVkIHdoZW4gSW5zdGFsbGF0aW9uIElEIGNoYW5nZXMuXHJcbiAqIFJldHVybnMgYW4gdW5zdWJzY3JpYmUgZnVuY3Rpb24gdGhhdCB3aWxsIHJlbW92ZSB0aGUgY2FsbGJhY2sgd2hlbiBjYWxsZWQuXHJcbiAqIEBwYXJhbSBpbnN0YWxsYXRpb25zIC0gVGhlIGBJbnN0YWxsYXRpb25zYCBpbnN0YW5jZS5cclxuICogQHBhcmFtIGNhbGxiYWNrIC0gVGhlIGNhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgaXMgaW52b2tlZCB3aGVuIEZJRCBjaGFuZ2VzLlxyXG4gKiBAcmV0dXJucyBBIGZ1bmN0aW9uIHRoYXQgY2FuIGJlIGNhbGxlZCB0byB1bnN1YnNjcmliZS5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZnVuY3Rpb24gb25JZENoYW5nZShpbnN0YWxsYXRpb25zLCBjYWxsYmFjaykge1xyXG4gICAgY29uc3QgeyBhcHBDb25maWcgfSA9IGluc3RhbGxhdGlvbnM7XHJcbiAgICBhZGRDYWxsYmFjayhhcHBDb25maWcsIGNhbGxiYWNrKTtcclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgcmVtb3ZlQ2FsbGJhY2soYXBwQ29uZmlnLCBjYWxsYmFjayk7XHJcbiAgICB9O1xyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBSZXR1cm5zIGFuIGluc3RhbmNlIG9mIHtAbGluayBJbnN0YWxsYXRpb25zfSBhc3NvY2lhdGVkIHdpdGggdGhlIGdpdmVuXHJcbiAqIHtAbGluayBAZmlyZWJhc2UvYXBwI0ZpcmViYXNlQXBwfSBpbnN0YW5jZS5cclxuICogQHBhcmFtIGFwcCAtIFRoZSB7QGxpbmsgQGZpcmViYXNlL2FwcCNGaXJlYmFzZUFwcH0gaW5zdGFuY2UuXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmZ1bmN0aW9uIGdldEluc3RhbGxhdGlvbnMoYXBwID0gZ2V0QXBwKCkpIHtcclxuICAgIGNvbnN0IGluc3RhbGxhdGlvbnNJbXBsID0gX2dldFByb3ZpZGVyKGFwcCwgJ2luc3RhbGxhdGlvbnMnKS5nZXRJbW1lZGlhdGUoKTtcclxuICAgIHJldHVybiBpbnN0YWxsYXRpb25zSW1wbDtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5mdW5jdGlvbiBleHRyYWN0QXBwQ29uZmlnKGFwcCkge1xyXG4gICAgaWYgKCFhcHAgfHwgIWFwcC5vcHRpb25zKSB7XHJcbiAgICAgICAgdGhyb3cgZ2V0TWlzc2luZ1ZhbHVlRXJyb3IoJ0FwcCBDb25maWd1cmF0aW9uJyk7XHJcbiAgICB9XHJcbiAgICBpZiAoIWFwcC5uYW1lKSB7XHJcbiAgICAgICAgdGhyb3cgZ2V0TWlzc2luZ1ZhbHVlRXJyb3IoJ0FwcCBOYW1lJyk7XHJcbiAgICB9XHJcbiAgICAvLyBSZXF1aXJlZCBhcHAgY29uZmlnIGtleXNcclxuICAgIGNvbnN0IGNvbmZpZ0tleXMgPSBbXHJcbiAgICAgICAgJ3Byb2plY3RJZCcsXHJcbiAgICAgICAgJ2FwaUtleScsXHJcbiAgICAgICAgJ2FwcElkJ1xyXG4gICAgXTtcclxuICAgIGZvciAoY29uc3Qga2V5TmFtZSBvZiBjb25maWdLZXlzKSB7XHJcbiAgICAgICAgaWYgKCFhcHAub3B0aW9uc1trZXlOYW1lXSkge1xyXG4gICAgICAgICAgICB0aHJvdyBnZXRNaXNzaW5nVmFsdWVFcnJvcihrZXlOYW1lKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGFwcE5hbWU6IGFwcC5uYW1lLFxyXG4gICAgICAgIHByb2plY3RJZDogYXBwLm9wdGlvbnMucHJvamVjdElkLFxyXG4gICAgICAgIGFwaUtleTogYXBwLm9wdGlvbnMuYXBpS2V5LFxyXG4gICAgICAgIGFwcElkOiBhcHAub3B0aW9ucy5hcHBJZFxyXG4gICAgfTtcclxufVxyXG5mdW5jdGlvbiBnZXRNaXNzaW5nVmFsdWVFcnJvcih2YWx1ZU5hbWUpIHtcclxuICAgIHJldHVybiBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcIm1pc3NpbmctYXBwLWNvbmZpZy12YWx1ZXNcIiAvKiBFcnJvckNvZGUuTUlTU0lOR19BUFBfQ09ORklHX1ZBTFVFUyAqLywge1xyXG4gICAgICAgIHZhbHVlTmFtZVxyXG4gICAgfSk7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuY29uc3QgSU5TVEFMTEFUSU9OU19OQU1FID0gJ2luc3RhbGxhdGlvbnMnO1xyXG5jb25zdCBJTlNUQUxMQVRJT05TX05BTUVfSU5URVJOQUwgPSAnaW5zdGFsbGF0aW9ucy1pbnRlcm5hbCc7XHJcbmNvbnN0IHB1YmxpY0ZhY3RvcnkgPSAoY29udGFpbmVyKSA9PiB7XHJcbiAgICBjb25zdCBhcHAgPSBjb250YWluZXIuZ2V0UHJvdmlkZXIoJ2FwcCcpLmdldEltbWVkaWF0ZSgpO1xyXG4gICAgLy8gVGhyb3dzIGlmIGFwcCBpc24ndCBjb25maWd1cmVkIHByb3Blcmx5LlxyXG4gICAgY29uc3QgYXBwQ29uZmlnID0gZXh0cmFjdEFwcENvbmZpZyhhcHApO1xyXG4gICAgY29uc3QgaGVhcnRiZWF0U2VydmljZVByb3ZpZGVyID0gX2dldFByb3ZpZGVyKGFwcCwgJ2hlYXJ0YmVhdCcpO1xyXG4gICAgY29uc3QgaW5zdGFsbGF0aW9uc0ltcGwgPSB7XHJcbiAgICAgICAgYXBwLFxyXG4gICAgICAgIGFwcENvbmZpZyxcclxuICAgICAgICBoZWFydGJlYXRTZXJ2aWNlUHJvdmlkZXIsXHJcbiAgICAgICAgX2RlbGV0ZTogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKClcclxuICAgIH07XHJcbiAgICByZXR1cm4gaW5zdGFsbGF0aW9uc0ltcGw7XHJcbn07XHJcbmNvbnN0IGludGVybmFsRmFjdG9yeSA9IChjb250YWluZXIpID0+IHtcclxuICAgIGNvbnN0IGFwcCA9IGNvbnRhaW5lci5nZXRQcm92aWRlcignYXBwJykuZ2V0SW1tZWRpYXRlKCk7XHJcbiAgICAvLyBJbnRlcm5hbCBGSVMgaW5zdGFuY2UgcmVsaWVzIG9uIHB1YmxpYyBGSVMgaW5zdGFuY2UuXHJcbiAgICBjb25zdCBpbnN0YWxsYXRpb25zID0gX2dldFByb3ZpZGVyKGFwcCwgSU5TVEFMTEFUSU9OU19OQU1FKS5nZXRJbW1lZGlhdGUoKTtcclxuICAgIGNvbnN0IGluc3RhbGxhdGlvbnNJbnRlcm5hbCA9IHtcclxuICAgICAgICBnZXRJZDogKCkgPT4gZ2V0SWQoaW5zdGFsbGF0aW9ucyksXHJcbiAgICAgICAgZ2V0VG9rZW46IChmb3JjZVJlZnJlc2gpID0+IGdldFRva2VuKGluc3RhbGxhdGlvbnMsIGZvcmNlUmVmcmVzaClcclxuICAgIH07XHJcbiAgICByZXR1cm4gaW5zdGFsbGF0aW9uc0ludGVybmFsO1xyXG59O1xyXG5mdW5jdGlvbiByZWdpc3Rlckluc3RhbGxhdGlvbnMoKSB7XHJcbiAgICBfcmVnaXN0ZXJDb21wb25lbnQobmV3IENvbXBvbmVudChJTlNUQUxMQVRJT05TX05BTUUsIHB1YmxpY0ZhY3RvcnksIFwiUFVCTElDXCIgLyogQ29tcG9uZW50VHlwZS5QVUJMSUMgKi8pKTtcclxuICAgIF9yZWdpc3RlckNvbXBvbmVudChuZXcgQ29tcG9uZW50KElOU1RBTExBVElPTlNfTkFNRV9JTlRFUk5BTCwgaW50ZXJuYWxGYWN0b3J5LCBcIlBSSVZBVEVcIiAvKiBDb21wb25lbnRUeXBlLlBSSVZBVEUgKi8pKTtcclxufVxuXG4vKipcclxuICogRmlyZWJhc2UgSW5zdGFsbGF0aW9uc1xyXG4gKlxyXG4gKiBAcGFja2FnZURvY3VtZW50YXRpb25cclxuICovXHJcbnJlZ2lzdGVySW5zdGFsbGF0aW9ucygpO1xyXG5yZWdpc3RlclZlcnNpb24obmFtZSwgdmVyc2lvbik7XHJcbi8vIEJVSUxEX1RBUkdFVCB3aWxsIGJlIHJlcGxhY2VkIGJ5IHZhbHVlcyBsaWtlIGVzbTUsIGVzbTIwMTcsIGNqczUsIGV0YyBkdXJpbmcgdGhlIGNvbXBpbGF0aW9uXHJcbnJlZ2lzdGVyVmVyc2lvbihuYW1lLCB2ZXJzaW9uLCAnZXNtMjAxNycpO1xuXG5leHBvcnQgeyBkZWxldGVJbnN0YWxsYXRpb25zLCBnZXRJZCwgZ2V0SW5zdGFsbGF0aW9ucywgZ2V0VG9rZW4sIG9uSWRDaGFuZ2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmVzbTIwMTcuanMubWFwXG4iLCJpbXBvcnQgeyBfZ2V0UHJvdmlkZXIsIGdldEFwcCwgX3JlZ2lzdGVyQ29tcG9uZW50LCByZWdpc3RlclZlcnNpb24gfSBmcm9tICdAZmlyZWJhc2UvYXBwJztcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gJ0BmaXJlYmFzZS9sb2dnZXInO1xuaW1wb3J0IHsgRXJyb3JGYWN0b3J5LCBjYWxjdWxhdGVCYWNrb2ZmTWlsbGlzLCBGaXJlYmFzZUVycm9yLCBpc0luZGV4ZWREQkF2YWlsYWJsZSwgdmFsaWRhdGVJbmRleGVkREJPcGVuYWJsZSwgaXNCcm93c2VyRXh0ZW5zaW9uLCBhcmVDb29raWVzRW5hYmxlZCwgZ2V0TW9kdWxhckluc3RhbmNlLCBkZWVwRXF1YWwgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICdAZmlyZWJhc2UvY29tcG9uZW50JztcbmltcG9ydCAnQGZpcmViYXNlL2luc3RhbGxhdGlvbnMnO1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogVHlwZSBjb25zdGFudCBmb3IgRmlyZWJhc2UgQW5hbHl0aWNzLlxyXG4gKi9cclxuY29uc3QgQU5BTFlUSUNTX1RZUEUgPSAnYW5hbHl0aWNzJztcclxuLy8gS2V5IHRvIGF0dGFjaCBGSUQgdG8gaW4gZ3RhZyBwYXJhbXMuXHJcbmNvbnN0IEdBX0ZJRF9LRVkgPSAnZmlyZWJhc2VfaWQnO1xyXG5jb25zdCBPUklHSU5fS0VZID0gJ29yaWdpbic7XHJcbmNvbnN0IEZFVENIX1RJTUVPVVRfTUlMTElTID0gNjAgKiAxMDAwO1xyXG5jb25zdCBEWU5BTUlDX0NPTkZJR19VUkwgPSAnaHR0cHM6Ly9maXJlYmFzZS5nb29nbGVhcGlzLmNvbS92MWFscGhhL3Byb2plY3RzLy0vYXBwcy97YXBwLWlkfS93ZWJDb25maWcnO1xyXG5jb25zdCBHVEFHX1VSTCA9ICdodHRwczovL3d3dy5nb29nbGV0YWdtYW5hZ2VyLmNvbS9ndGFnL2pzJztcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcignQGZpcmViYXNlL2FuYWx5dGljcycpO1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5jb25zdCBFUlJPUlMgPSB7XHJcbiAgICBbXCJhbHJlYWR5LWV4aXN0c1wiIC8qIEFuYWx5dGljc0Vycm9yLkFMUkVBRFlfRVhJU1RTICovXTogJ0EgRmlyZWJhc2UgQW5hbHl0aWNzIGluc3RhbmNlIHdpdGggdGhlIGFwcElkIHskaWR9ICcgK1xyXG4gICAgICAgICcgYWxyZWFkeSBleGlzdHMuICcgK1xyXG4gICAgICAgICdPbmx5IG9uZSBGaXJlYmFzZSBBbmFseXRpY3MgaW5zdGFuY2UgY2FuIGJlIGNyZWF0ZWQgZm9yIGVhY2ggYXBwSWQuJyxcclxuICAgIFtcImFscmVhZHktaW5pdGlhbGl6ZWRcIiAvKiBBbmFseXRpY3NFcnJvci5BTFJFQURZX0lOSVRJQUxJWkVEICovXTogJ2luaXRpYWxpemVBbmFseXRpY3MoKSBjYW5ub3QgYmUgY2FsbGVkIGFnYWluIHdpdGggZGlmZmVyZW50IG9wdGlvbnMgdGhhbiB0aG9zZSAnICtcclxuICAgICAgICAnaXQgd2FzIGluaXRpYWxseSBjYWxsZWQgd2l0aC4gSXQgY2FuIGJlIGNhbGxlZCBhZ2FpbiB3aXRoIHRoZSBzYW1lIG9wdGlvbnMgdG8gJyArXHJcbiAgICAgICAgJ3JldHVybiB0aGUgZXhpc3RpbmcgaW5zdGFuY2UsIG9yIGdldEFuYWx5dGljcygpIGNhbiBiZSB1c2VkICcgK1xyXG4gICAgICAgICd0byBnZXQgYSByZWZlcmVuY2UgdG8gdGhlIGFscmVhZHktaW50aWFsaXplZCBpbnN0YW5jZS4nLFxyXG4gICAgW1wiYWxyZWFkeS1pbml0aWFsaXplZC1zZXR0aW5nc1wiIC8qIEFuYWx5dGljc0Vycm9yLkFMUkVBRFlfSU5JVElBTElaRURfU0VUVElOR1MgKi9dOiAnRmlyZWJhc2UgQW5hbHl0aWNzIGhhcyBhbHJlYWR5IGJlZW4gaW5pdGlhbGl6ZWQuJyArXHJcbiAgICAgICAgJ3NldHRpbmdzKCkgbXVzdCBiZSBjYWxsZWQgYmVmb3JlIGluaXRpYWxpemluZyBhbnkgQW5hbHl0aWNzIGluc3RhbmNlJyArXHJcbiAgICAgICAgJ29yIGl0IHdpbGwgaGF2ZSBubyBlZmZlY3QuJyxcclxuICAgIFtcImludGVyb3AtY29tcG9uZW50LXJlZy1mYWlsZWRcIiAvKiBBbmFseXRpY3NFcnJvci5JTlRFUk9QX0NPTVBPTkVOVF9SRUdfRkFJTEVEICovXTogJ0ZpcmViYXNlIEFuYWx5dGljcyBJbnRlcm9wIENvbXBvbmVudCBmYWlsZWQgdG8gaW5zdGFudGlhdGU6IHskcmVhc29ufScsXHJcbiAgICBbXCJpbnZhbGlkLWFuYWx5dGljcy1jb250ZXh0XCIgLyogQW5hbHl0aWNzRXJyb3IuSU5WQUxJRF9BTkFMWVRJQ1NfQ09OVEVYVCAqL106ICdGaXJlYmFzZSBBbmFseXRpY3MgaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGVudmlyb25tZW50LiAnICtcclxuICAgICAgICAnV3JhcCBpbml0aWFsaXphdGlvbiBvZiBhbmFseXRpY3MgaW4gYW5hbHl0aWNzLmlzU3VwcG9ydGVkKCkgJyArXHJcbiAgICAgICAgJ3RvIHByZXZlbnQgaW5pdGlhbGl6YXRpb24gaW4gdW5zdXBwb3J0ZWQgZW52aXJvbm1lbnRzLiBEZXRhaWxzOiB7JGVycm9ySW5mb30nLFxyXG4gICAgW1wiaW5kZXhlZGRiLXVuYXZhaWxhYmxlXCIgLyogQW5hbHl0aWNzRXJyb3IuSU5ERVhFRERCX1VOQVZBSUxBQkxFICovXTogJ0luZGV4ZWREQiB1bmF2YWlsYWJsZSBvciByZXN0cmljdGVkIGluIHRoaXMgZW52aXJvbm1lbnQuICcgK1xyXG4gICAgICAgICdXcmFwIGluaXRpYWxpemF0aW9uIG9mIGFuYWx5dGljcyBpbiBhbmFseXRpY3MuaXNTdXBwb3J0ZWQoKSAnICtcclxuICAgICAgICAndG8gcHJldmVudCBpbml0aWFsaXphdGlvbiBpbiB1bnN1cHBvcnRlZCBlbnZpcm9ubWVudHMuIERldGFpbHM6IHskZXJyb3JJbmZvfScsXHJcbiAgICBbXCJmZXRjaC10aHJvdHRsZVwiIC8qIEFuYWx5dGljc0Vycm9yLkZFVENIX1RIUk9UVExFICovXTogJ1RoZSBjb25maWcgZmV0Y2ggcmVxdWVzdCB0aW1lZCBvdXQgd2hpbGUgaW4gYW4gZXhwb25lbnRpYWwgYmFja29mZiBzdGF0ZS4nICtcclxuICAgICAgICAnIFVuaXggdGltZXN0YW1wIGluIG1pbGxpc2Vjb25kcyB3aGVuIGZldGNoIHJlcXVlc3QgdGhyb3R0bGluZyBlbmRzOiB7JHRocm90dGxlRW5kVGltZU1pbGxpc30uJyxcclxuICAgIFtcImNvbmZpZy1mZXRjaC1mYWlsZWRcIiAvKiBBbmFseXRpY3NFcnJvci5DT05GSUdfRkVUQ0hfRkFJTEVEICovXTogJ0R5bmFtaWMgY29uZmlnIGZldGNoIGZhaWxlZDogW3skaHR0cFN0YXR1c31dIHskcmVzcG9uc2VNZXNzYWdlfScsXHJcbiAgICBbXCJuby1hcGkta2V5XCIgLyogQW5hbHl0aWNzRXJyb3IuTk9fQVBJX0tFWSAqL106ICdUaGUgXCJhcGlLZXlcIiBmaWVsZCBpcyBlbXB0eSBpbiB0aGUgbG9jYWwgRmlyZWJhc2UgY29uZmlnLiBGaXJlYmFzZSBBbmFseXRpY3MgcmVxdWlyZXMgdGhpcyBmaWVsZCB0bycgK1xyXG4gICAgICAgICdjb250YWluIGEgdmFsaWQgQVBJIGtleS4nLFxyXG4gICAgW1wibm8tYXBwLWlkXCIgLyogQW5hbHl0aWNzRXJyb3IuTk9fQVBQX0lEICovXTogJ1RoZSBcImFwcElkXCIgZmllbGQgaXMgZW1wdHkgaW4gdGhlIGxvY2FsIEZpcmViYXNlIGNvbmZpZy4gRmlyZWJhc2UgQW5hbHl0aWNzIHJlcXVpcmVzIHRoaXMgZmllbGQgdG8nICtcclxuICAgICAgICAnY29udGFpbiBhIHZhbGlkIGFwcCBJRC4nLFxyXG4gICAgW1wibm8tY2xpZW50LWlkXCIgLyogQW5hbHl0aWNzRXJyb3IuTk9fQ0xJRU5UX0lEICovXTogJ1RoZSBcImNsaWVudF9pZFwiIGZpZWxkIGlzIGVtcHR5LicsXHJcbiAgICBbXCJpbnZhbGlkLWd0YWctcmVzb3VyY2VcIiAvKiBBbmFseXRpY3NFcnJvci5JTlZBTElEX0dUQUdfUkVTT1VSQ0UgKi9dOiAnVHJ1c3RlZCBUeXBlcyBkZXRlY3RlZCBhbiBpbnZhbGlkIGd0YWcgcmVzb3VyY2U6IHskZ3RhZ1VSTH0uJ1xyXG59O1xyXG5jb25zdCBFUlJPUl9GQUNUT1JZID0gbmV3IEVycm9yRmFjdG9yeSgnYW5hbHl0aWNzJywgJ0FuYWx5dGljcycsIEVSUk9SUyk7XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBWZXJpZmllcyBhbmQgY3JlYXRlcyBhIFRydXN0ZWRTY3JpcHRVUkwuXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVHdGFnVHJ1c3RlZFR5cGVzU2NyaXB0VVJMKHVybCkge1xyXG4gICAgaWYgKCF1cmwuc3RhcnRzV2l0aChHVEFHX1VSTCkpIHtcclxuICAgICAgICBjb25zdCBlcnIgPSBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcImludmFsaWQtZ3RhZy1yZXNvdXJjZVwiIC8qIEFuYWx5dGljc0Vycm9yLklOVkFMSURfR1RBR19SRVNPVVJDRSAqLywge1xyXG4gICAgICAgICAgICBndGFnVVJMOiB1cmxcclxuICAgICAgICB9KTtcclxuICAgICAgICBsb2dnZXIud2FybihlcnIubWVzc2FnZSk7XHJcbiAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHVybDtcclxufVxyXG4vKipcclxuICogTWFrZXNoaWZ0IHBvbHlmaWxsIGZvciBQcm9taXNlLmFsbFNldHRsZWQoKS4gUmVzb2x2ZXMgd2hlbiBhbGwgcHJvbWlzZXNcclxuICogaGF2ZSBlaXRoZXIgcmVzb2x2ZWQgb3IgcmVqZWN0ZWQuXHJcbiAqXHJcbiAqIEBwYXJhbSBwcm9taXNlcyBBcnJheSBvZiBwcm9taXNlcyB0byB3YWl0IGZvci5cclxuICovXHJcbmZ1bmN0aW9uIHByb21pc2VBbGxTZXR0bGVkKHByb21pc2VzKSB7XHJcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMubWFwKHByb21pc2UgPT4gcHJvbWlzZS5jYXRjaChlID0+IGUpKSk7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBUcnVzdGVkVHlwZVBvbGljeSBvYmplY3QgdGhhdCBpbXBsZW1lbnRzIHRoZSBydWxlcyBwYXNzZWQgYXMgcG9saWN5T3B0aW9ucy5cclxuICpcclxuICogQHBhcmFtIHBvbGljeU5hbWUgQSBzdHJpbmcgY29udGFpbmluZyB0aGUgbmFtZSBvZiB0aGUgcG9saWN5XHJcbiAqIEBwYXJhbSBwb2xpY3lPcHRpb25zIE9iamVjdCBjb250YWluaW5nIGltcGxlbWVudGF0aW9ucyBvZiBpbnN0YW5jZSBtZXRob2RzIGZvciBUcnVzdGVkVHlwZXNQb2xpY3ksIHNlZSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1RydXN0ZWRUeXBlUG9saWN5I2luc3RhbmNlX21ldGhvZHNcclxuICogfCB0aGUgVHJ1c3RlZFR5cGVQb2xpY3kgcmVmZXJlbmNlIGRvY3VtZW50YXRpb259LlxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlVHJ1c3RlZFR5cGVzUG9saWN5KHBvbGljeU5hbWUsIHBvbGljeU9wdGlvbnMpIHtcclxuICAgIC8vIENyZWF0ZSBhIFRydXN0ZWRUeXBlcyBwb2xpY3kgdGhhdCB3ZSBjYW4gdXNlIGZvciB1cGRhdGluZyBzcmNcclxuICAgIC8vIHByb3BlcnRpZXNcclxuICAgIGxldCB0cnVzdGVkVHlwZXNQb2xpY3k7XHJcbiAgICBpZiAod2luZG93LnRydXN0ZWRUeXBlcykge1xyXG4gICAgICAgIHRydXN0ZWRUeXBlc1BvbGljeSA9IHdpbmRvdy50cnVzdGVkVHlwZXMuY3JlYXRlUG9saWN5KHBvbGljeU5hbWUsIHBvbGljeU9wdGlvbnMpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydXN0ZWRUeXBlc1BvbGljeTtcclxufVxyXG4vKipcclxuICogSW5zZXJ0cyBndGFnIHNjcmlwdCB0YWcgaW50byB0aGUgcGFnZSB0byBhc3luY2hyb25vdXNseSBkb3dubG9hZCBndGFnLlxyXG4gKiBAcGFyYW0gZGF0YUxheWVyTmFtZSBOYW1lIG9mIGRhdGFsYXllciAobW9zdCBvZnRlbiB0aGUgZGVmYXVsdCwgXCJfZGF0YUxheWVyXCIpLlxyXG4gKi9cclxuZnVuY3Rpb24gaW5zZXJ0U2NyaXB0VGFnKGRhdGFMYXllck5hbWUsIG1lYXN1cmVtZW50SWQpIHtcclxuICAgIGNvbnN0IHRydXN0ZWRUeXBlc1BvbGljeSA9IGNyZWF0ZVRydXN0ZWRUeXBlc1BvbGljeSgnZmlyZWJhc2UtanMtc2RrLXBvbGljeScsIHtcclxuICAgICAgICBjcmVhdGVTY3JpcHRVUkw6IGNyZWF0ZUd0YWdUcnVzdGVkVHlwZXNTY3JpcHRVUkxcclxuICAgIH0pO1xyXG4gICAgY29uc3Qgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XHJcbiAgICAvLyBXZSBhcmUgbm90IHByb3ZpZGluZyBhbiBhbmFseXRpY3NJZCBpbiB0aGUgVVJMIGJlY2F1c2UgaXQgd291bGQgdHJpZ2dlciBhIGBwYWdlX3ZpZXdgXHJcbiAgICAvLyB3aXRob3V0IGZpZC4gV2Ugd2lsbCBpbml0aWFsaXplIGdhLWlkIHVzaW5nIGd0YWcgKGNvbmZpZykgY29tbWFuZCB0b2dldGhlciB3aXRoIGZpZC5cclxuICAgIGNvbnN0IGd0YWdTY3JpcHRVUkwgPSBgJHtHVEFHX1VSTH0/bD0ke2RhdGFMYXllck5hbWV9JmlkPSR7bWVhc3VyZW1lbnRJZH1gO1xyXG4gICAgc2NyaXB0LnNyYyA9IHRydXN0ZWRUeXBlc1BvbGljeVxyXG4gICAgICAgID8gdHJ1c3RlZFR5cGVzUG9saWN5ID09PSBudWxsIHx8IHRydXN0ZWRUeXBlc1BvbGljeSA9PT0gdm9pZCAwID8gdm9pZCAwIDogdHJ1c3RlZFR5cGVzUG9saWN5LmNyZWF0ZVNjcmlwdFVSTChndGFnU2NyaXB0VVJMKVxyXG4gICAgICAgIDogZ3RhZ1NjcmlwdFVSTDtcclxuICAgIHNjcmlwdC5hc3luYyA9IHRydWU7XHJcbiAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7XHJcbn1cclxuLyoqXHJcbiAqIEdldCByZWZlcmVuY2UgdG8sIG9yIGNyZWF0ZSwgZ2xvYmFsIGRhdGFsYXllci5cclxuICogQHBhcmFtIGRhdGFMYXllck5hbWUgTmFtZSBvZiBkYXRhbGF5ZXIgKG1vc3Qgb2Z0ZW4gdGhlIGRlZmF1bHQsIFwiX2RhdGFMYXllclwiKS5cclxuICovXHJcbmZ1bmN0aW9uIGdldE9yQ3JlYXRlRGF0YUxheWVyKGRhdGFMYXllck5hbWUpIHtcclxuICAgIC8vIENoZWNrIGZvciBleGlzdGluZyBkYXRhTGF5ZXIgYW5kIGNyZWF0ZSBpZiBuZWVkZWQuXHJcbiAgICBsZXQgZGF0YUxheWVyID0gW107XHJcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh3aW5kb3dbZGF0YUxheWVyTmFtZV0pKSB7XHJcbiAgICAgICAgZGF0YUxheWVyID0gd2luZG93W2RhdGFMYXllck5hbWVdO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgd2luZG93W2RhdGFMYXllck5hbWVdID0gZGF0YUxheWVyO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRhdGFMYXllcjtcclxufVxyXG4vKipcclxuICogV3JhcHBlZCBndGFnIGxvZ2ljIHdoZW4gZ3RhZyBpcyBjYWxsZWQgd2l0aCAnY29uZmlnJyBjb21tYW5kLlxyXG4gKlxyXG4gKiBAcGFyYW0gZ3RhZ0NvcmUgQmFzaWMgZ3RhZyBmdW5jdGlvbiB0aGF0IGp1c3QgYXBwZW5kcyB0byBkYXRhTGF5ZXIuXHJcbiAqIEBwYXJhbSBpbml0aWFsaXphdGlvblByb21pc2VzTWFwIE1hcCBvZiBhcHBJZHMgdG8gdGhlaXIgaW5pdGlhbGl6YXRpb24gcHJvbWlzZXMuXHJcbiAqIEBwYXJhbSBkeW5hbWljQ29uZmlnUHJvbWlzZXNMaXN0IEFycmF5IG9mIGR5bmFtaWMgY29uZmlnIGZldGNoIHByb21pc2VzLlxyXG4gKiBAcGFyYW0gbWVhc3VyZW1lbnRJZFRvQXBwSWQgTWFwIG9mIEdBIG1lYXN1cmVtZW50SURzIHRvIGNvcnJlc3BvbmRpbmcgRmlyZWJhc2UgYXBwSWQuXHJcbiAqIEBwYXJhbSBtZWFzdXJlbWVudElkIEdBIE1lYXN1cmVtZW50IElEIHRvIHNldCBjb25maWcgZm9yLlxyXG4gKiBAcGFyYW0gZ3RhZ1BhcmFtcyBHdGFnIGNvbmZpZyBwYXJhbXMgdG8gc2V0LlxyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gZ3RhZ09uQ29uZmlnKGd0YWdDb3JlLCBpbml0aWFsaXphdGlvblByb21pc2VzTWFwLCBkeW5hbWljQ29uZmlnUHJvbWlzZXNMaXN0LCBtZWFzdXJlbWVudElkVG9BcHBJZCwgbWVhc3VyZW1lbnRJZCwgZ3RhZ1BhcmFtcykge1xyXG4gICAgLy8gSWYgY29uZmlnIGlzIGFscmVhZHkgZmV0Y2hlZCwgd2Uga25vdyB0aGUgYXBwSWQgYW5kIGNhbiB1c2UgaXQgdG8gbG9vayB1cCB3aGF0IEZJRCBwcm9taXNlIHdlXHJcbiAgICAvLy8gYXJlIHdhaXRpbmcgZm9yLCBhbmQgd2FpdCBvbmx5IG9uIHRoYXQgb25lLlxyXG4gICAgY29uc3QgY29ycmVzcG9uZGluZ0FwcElkID0gbWVhc3VyZW1lbnRJZFRvQXBwSWRbbWVhc3VyZW1lbnRJZF07XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGlmIChjb3JyZXNwb25kaW5nQXBwSWQpIHtcclxuICAgICAgICAgICAgYXdhaXQgaW5pdGlhbGl6YXRpb25Qcm9taXNlc01hcFtjb3JyZXNwb25kaW5nQXBwSWRdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gSWYgY29uZmlnIGlzIG5vdCBmZXRjaGVkIHlldCwgd2FpdCBmb3IgYWxsIGNvbmZpZ3MgKHdlIGRvbid0IGtub3cgd2hpY2ggb25lIHdlIG5lZWQpIGFuZFxyXG4gICAgICAgICAgICAvLyBmaW5kIHRoZSBhcHBJZCAoaWYgYW55KSBjb3JyZXNwb25kaW5nIHRvIHRoaXMgbWVhc3VyZW1lbnRJZC4gSWYgdGhlcmUgaXMgb25lLCB3YWl0IG9uXHJcbiAgICAgICAgICAgIC8vIHRoYXQgYXBwSWQncyBpbml0aWFsaXphdGlvbiBwcm9taXNlLiBJZiB0aGVyZSBpcyBub25lLCBwcm9taXNlIHJlc29sdmVzIGFuZCBndGFnXHJcbiAgICAgICAgICAgIC8vIGNhbGwgZ29lcyB0aHJvdWdoLlxyXG4gICAgICAgICAgICBjb25zdCBkeW5hbWljQ29uZmlnUmVzdWx0cyA9IGF3YWl0IHByb21pc2VBbGxTZXR0bGVkKGR5bmFtaWNDb25maWdQcm9taXNlc0xpc3QpO1xyXG4gICAgICAgICAgICBjb25zdCBmb3VuZENvbmZpZyA9IGR5bmFtaWNDb25maWdSZXN1bHRzLmZpbmQoY29uZmlnID0+IGNvbmZpZy5tZWFzdXJlbWVudElkID09PSBtZWFzdXJlbWVudElkKTtcclxuICAgICAgICAgICAgaWYgKGZvdW5kQ29uZmlnKSB7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBpbml0aWFsaXphdGlvblByb21pc2VzTWFwW2ZvdW5kQ29uZmlnLmFwcElkXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgbG9nZ2VyLmVycm9yKGUpO1xyXG4gICAgfVxyXG4gICAgZ3RhZ0NvcmUoXCJjb25maWdcIiAvKiBHdGFnQ29tbWFuZC5DT05GSUcgKi8sIG1lYXN1cmVtZW50SWQsIGd0YWdQYXJhbXMpO1xyXG59XHJcbi8qKlxyXG4gKiBXcmFwcGVkIGd0YWcgbG9naWMgd2hlbiBndGFnIGlzIGNhbGxlZCB3aXRoICdldmVudCcgY29tbWFuZC5cclxuICpcclxuICogQHBhcmFtIGd0YWdDb3JlIEJhc2ljIGd0YWcgZnVuY3Rpb24gdGhhdCBqdXN0IGFwcGVuZHMgdG8gZGF0YUxheWVyLlxyXG4gKiBAcGFyYW0gaW5pdGlhbGl6YXRpb25Qcm9taXNlc01hcCBNYXAgb2YgYXBwSWRzIHRvIHRoZWlyIGluaXRpYWxpemF0aW9uIHByb21pc2VzLlxyXG4gKiBAcGFyYW0gZHluYW1pY0NvbmZpZ1Byb21pc2VzTGlzdCBBcnJheSBvZiBkeW5hbWljIGNvbmZpZyBmZXRjaCBwcm9taXNlcy5cclxuICogQHBhcmFtIG1lYXN1cmVtZW50SWQgR0EgTWVhc3VyZW1lbnQgSUQgdG8gbG9nIGV2ZW50IHRvLlxyXG4gKiBAcGFyYW0gZ3RhZ1BhcmFtcyBQYXJhbXMgdG8gbG9nIHdpdGggdGhpcyBldmVudC5cclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIGd0YWdPbkV2ZW50KGd0YWdDb3JlLCBpbml0aWFsaXphdGlvblByb21pc2VzTWFwLCBkeW5hbWljQ29uZmlnUHJvbWlzZXNMaXN0LCBtZWFzdXJlbWVudElkLCBndGFnUGFyYW1zKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGxldCBpbml0aWFsaXphdGlvblByb21pc2VzVG9XYWl0Rm9yID0gW107XHJcbiAgICAgICAgLy8gSWYgdGhlcmUncyBhICdzZW5kX3RvJyBwYXJhbSwgY2hlY2sgaWYgYW55IElEIHNwZWNpZmllZCBtYXRjaGVzXHJcbiAgICAgICAgLy8gYW4gaW5pdGlhbGl6ZUlkcygpIHByb21pc2Ugd2UgYXJlIHdhaXRpbmcgZm9yLlxyXG4gICAgICAgIGlmIChndGFnUGFyYW1zICYmIGd0YWdQYXJhbXNbJ3NlbmRfdG8nXSkge1xyXG4gICAgICAgICAgICBsZXQgZ2FTZW5kVG9MaXN0ID0gZ3RhZ1BhcmFtc1snc2VuZF90byddO1xyXG4gICAgICAgICAgICAvLyBNYWtlIGl0IGFuIGFycmF5IGlmIGlzIGlzbid0LCBzbyBpdCBjYW4gYmUgZGVhbHQgd2l0aCB0aGUgc2FtZSB3YXkuXHJcbiAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShnYVNlbmRUb0xpc3QpKSB7XHJcbiAgICAgICAgICAgICAgICBnYVNlbmRUb0xpc3QgPSBbZ2FTZW5kVG9MaXN0XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBDaGVja2luZyAnc2VuZF90bycgZmllbGRzIHJlcXVpcmVzIGhhdmluZyBhbGwgbWVhc3VyZW1lbnQgSUQgcmVzdWx0cyBiYWNrIGZyb21cclxuICAgICAgICAgICAgLy8gdGhlIGR5bmFtaWMgY29uZmlnIGZldGNoLlxyXG4gICAgICAgICAgICBjb25zdCBkeW5hbWljQ29uZmlnUmVzdWx0cyA9IGF3YWl0IHByb21pc2VBbGxTZXR0bGVkKGR5bmFtaWNDb25maWdQcm9taXNlc0xpc3QpO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHNlbmRUb0lkIG9mIGdhU2VuZFRvTGlzdCkge1xyXG4gICAgICAgICAgICAgICAgLy8gQW55IGZldGNoZWQgZHluYW1pYyBtZWFzdXJlbWVudCBJRCB0aGF0IG1hdGNoZXMgdGhpcyAnc2VuZF90bycgSURcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZvdW5kQ29uZmlnID0gZHluYW1pY0NvbmZpZ1Jlc3VsdHMuZmluZChjb25maWcgPT4gY29uZmlnLm1lYXN1cmVtZW50SWQgPT09IHNlbmRUb0lkKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGluaXRpYWxpemF0aW9uUHJvbWlzZSA9IGZvdW5kQ29uZmlnICYmIGluaXRpYWxpemF0aW9uUHJvbWlzZXNNYXBbZm91bmRDb25maWcuYXBwSWRdO1xyXG4gICAgICAgICAgICAgICAgaWYgKGluaXRpYWxpemF0aW9uUHJvbWlzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxpemF0aW9uUHJvbWlzZXNUb1dhaXRGb3IucHVzaChpbml0aWFsaXphdGlvblByb21pc2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRm91bmQgYW4gaXRlbSBpbiAnc2VuZF90bycgdGhhdCBpcyBub3QgYXNzb2NpYXRlZFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGRpcmVjdGx5IHdpdGggYW4gRklELCBwb3NzaWJseSBhIGdyb3VwLiAgRW1wdHkgdGhpcyBhcnJheSxcclxuICAgICAgICAgICAgICAgICAgICAvLyBleGl0IHRoZSBsb29wIGVhcmx5LCBhbmQgbGV0IGl0IGdldCBwb3B1bGF0ZWQgYmVsb3cuXHJcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbGl6YXRpb25Qcm9taXNlc1RvV2FpdEZvciA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFRoaXMgd2lsbCBiZSB1bnBvcHVsYXRlZCBpZiB0aGVyZSB3YXMgbm8gJ3NlbmRfdG8nIGZpZWxkICwgb3JcclxuICAgICAgICAvLyBpZiBub3QgYWxsIGVudHJpZXMgaW4gdGhlICdzZW5kX3RvJyBmaWVsZCBjb3VsZCBiZSBtYXBwZWQgdG9cclxuICAgICAgICAvLyBhIEZJRC4gSW4gdGhlc2UgY2FzZXMsIHdhaXQgb24gYWxsIHBlbmRpbmcgaW5pdGlhbGl6YXRpb24gcHJvbWlzZXMuXHJcbiAgICAgICAgaWYgKGluaXRpYWxpemF0aW9uUHJvbWlzZXNUb1dhaXRGb3IubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIGluaXRpYWxpemF0aW9uUHJvbWlzZXNUb1dhaXRGb3IgPSBPYmplY3QudmFsdWVzKGluaXRpYWxpemF0aW9uUHJvbWlzZXNNYXApO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBSdW4gY29yZSBndGFnIGZ1bmN0aW9uIHdpdGggYXJncyBhZnRlciBhbGwgcmVsZXZhbnQgaW5pdGlhbGl6YXRpb25cclxuICAgICAgICAvLyBwcm9taXNlcyBoYXZlIGJlZW4gcmVzb2x2ZWQuXHJcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoaW5pdGlhbGl6YXRpb25Qcm9taXNlc1RvV2FpdEZvcik7XHJcbiAgICAgICAgLy8gV29ya2Fyb3VuZCBmb3IgaHR0cDovL2IvMTQxMzcwNDQ5IC0gdGhpcmQgYXJndW1lbnQgY2Fubm90IGJlIHVuZGVmaW5lZC5cclxuICAgICAgICBndGFnQ29yZShcImV2ZW50XCIgLyogR3RhZ0NvbW1hbmQuRVZFTlQgKi8sIG1lYXN1cmVtZW50SWQsIGd0YWdQYXJhbXMgfHwge30pO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICBsb2dnZXIuZXJyb3IoZSk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIFdyYXBzIGEgc3RhbmRhcmQgZ3RhZyBmdW5jdGlvbiB3aXRoIGV4dHJhIGNvZGUgdG8gd2FpdCBmb3IgY29tcGxldGlvbiBvZlxyXG4gKiByZWxldmFudCBpbml0aWFsaXphdGlvbiBwcm9taXNlcyBiZWZvcmUgc2VuZGluZyByZXF1ZXN0cy5cclxuICpcclxuICogQHBhcmFtIGd0YWdDb3JlIEJhc2ljIGd0YWcgZnVuY3Rpb24gdGhhdCBqdXN0IGFwcGVuZHMgdG8gZGF0YUxheWVyLlxyXG4gKiBAcGFyYW0gaW5pdGlhbGl6YXRpb25Qcm9taXNlc01hcCBNYXAgb2YgYXBwSWRzIHRvIHRoZWlyIGluaXRpYWxpemF0aW9uIHByb21pc2VzLlxyXG4gKiBAcGFyYW0gZHluYW1pY0NvbmZpZ1Byb21pc2VzTGlzdCBBcnJheSBvZiBkeW5hbWljIGNvbmZpZyBmZXRjaCBwcm9taXNlcy5cclxuICogQHBhcmFtIG1lYXN1cmVtZW50SWRUb0FwcElkIE1hcCBvZiBHQSBtZWFzdXJlbWVudElEcyB0byBjb3JyZXNwb25kaW5nIEZpcmViYXNlIGFwcElkLlxyXG4gKi9cclxuZnVuY3Rpb24gd3JhcEd0YWcoZ3RhZ0NvcmUsIFxyXG4vKipcclxuICogQWxsb3dzIHdyYXBwZWQgZ3RhZyBjYWxscyB0byB3YWl0IG9uIHdoaWNoZXZlciBpbnRpYWxpemF0aW9uIHByb21pc2VzIGFyZSByZXF1aXJlZCxcclxuICogZGVwZW5kaW5nIG9uIHRoZSBjb250ZW50cyBvZiB0aGUgZ3RhZyBwYXJhbXMnIGBzZW5kX3RvYCBmaWVsZCwgaWYgYW55LlxyXG4gKi9cclxuaW5pdGlhbGl6YXRpb25Qcm9taXNlc01hcCwgXHJcbi8qKlxyXG4gKiBXcmFwcGVkIGd0YWcgY2FsbHMgc29tZXRpbWVzIHJlcXVpcmUgYWxsIGR5bmFtaWMgY29uZmlnIGZldGNoZXMgdG8gaGF2ZSByZXR1cm5lZFxyXG4gKiBiZWZvcmUgZGV0ZXJtaW5pbmcgd2hhdCBpbml0aWFsaXphdGlvbiBwcm9taXNlcyAod2hpY2ggaW5jbHVkZSBGSURzKSB0byB3YWl0IGZvci5cclxuICovXHJcbmR5bmFtaWNDb25maWdQcm9taXNlc0xpc3QsIFxyXG4vKipcclxuICogV3JhcHBlZCBndGFnIGNvbmZpZyBjYWxscyBjYW4gbmFycm93IGRvd24gd2hpY2ggaW5pdGlhbGl6YXRpb24gcHJvbWlzZSAod2l0aCBGSUQpXHJcbiAqIHRvIHdhaXQgZm9yIGlmIHRoZSBtZWFzdXJlbWVudElkIGlzIGFscmVhZHkgZmV0Y2hlZCwgYnkgZ2V0dGluZyB0aGUgY29ycmVzcG9uZGluZyBhcHBJZCxcclxuICogd2hpY2ggaXMgdGhlIGtleSBmb3IgdGhlIGluaXRpYWxpemF0aW9uIHByb21pc2VzIG1hcC5cclxuICovXHJcbm1lYXN1cmVtZW50SWRUb0FwcElkKSB7XHJcbiAgICAvKipcclxuICAgICAqIFdyYXBwZXIgYXJvdW5kIGd0YWcgdGhhdCBlbnN1cmVzIEZJRCBpcyBzZW50IHdpdGggZ3RhZyBjYWxscy5cclxuICAgICAqIEBwYXJhbSBjb21tYW5kIEd0YWcgY29tbWFuZCB0eXBlLlxyXG4gICAgICogQHBhcmFtIGlkT3JOYW1lT3JQYXJhbXMgTWVhc3VyZW1lbnQgSUQgaWYgY29tbWFuZCBpcyBFVkVOVC9DT05GSUcsIHBhcmFtcyBpZiBjb21tYW5kIGlzIFNFVC5cclxuICAgICAqIEBwYXJhbSBndGFnUGFyYW1zIFBhcmFtcyBpZiBldmVudCBpcyBFVkVOVC9DT05GSUcuXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGZ1bmN0aW9uIGd0YWdXcmFwcGVyKGNvbW1hbmQsIC4uLmFyZ3MpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBJZiBldmVudCwgY2hlY2sgdGhhdCByZWxldmFudCBpbml0aWFsaXphdGlvbiBwcm9taXNlcyBoYXZlIGNvbXBsZXRlZC5cclxuICAgICAgICAgICAgaWYgKGNvbW1hbmQgPT09IFwiZXZlbnRcIiAvKiBHdGFnQ29tbWFuZC5FVkVOVCAqLykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgW21lYXN1cmVtZW50SWQsIGd0YWdQYXJhbXNdID0gYXJncztcclxuICAgICAgICAgICAgICAgIC8vIElmIEVWRU5ULCBzZWNvbmQgYXJnIG11c3QgYmUgbWVhc3VyZW1lbnRJZC5cclxuICAgICAgICAgICAgICAgIGF3YWl0IGd0YWdPbkV2ZW50KGd0YWdDb3JlLCBpbml0aWFsaXphdGlvblByb21pc2VzTWFwLCBkeW5hbWljQ29uZmlnUHJvbWlzZXNMaXN0LCBtZWFzdXJlbWVudElkLCBndGFnUGFyYW1zKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChjb21tYW5kID09PSBcImNvbmZpZ1wiIC8qIEd0YWdDb21tYW5kLkNPTkZJRyAqLykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgW21lYXN1cmVtZW50SWQsIGd0YWdQYXJhbXNdID0gYXJncztcclxuICAgICAgICAgICAgICAgIC8vIElmIENPTkZJRywgc2Vjb25kIGFyZyBtdXN0IGJlIG1lYXN1cmVtZW50SWQuXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBndGFnT25Db25maWcoZ3RhZ0NvcmUsIGluaXRpYWxpemF0aW9uUHJvbWlzZXNNYXAsIGR5bmFtaWNDb25maWdQcm9taXNlc0xpc3QsIG1lYXN1cmVtZW50SWRUb0FwcElkLCBtZWFzdXJlbWVudElkLCBndGFnUGFyYW1zKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChjb21tYW5kID09PSBcImNvbnNlbnRcIiAvKiBHdGFnQ29tbWFuZC5DT05TRU5UICovKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBbZ3RhZ1BhcmFtc10gPSBhcmdzO1xyXG4gICAgICAgICAgICAgICAgZ3RhZ0NvcmUoXCJjb25zZW50XCIgLyogR3RhZ0NvbW1hbmQuQ09OU0VOVCAqLywgJ3VwZGF0ZScsIGd0YWdQYXJhbXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNvbW1hbmQgPT09IFwiZ2V0XCIgLyogR3RhZ0NvbW1hbmQuR0VUICovKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBbbWVhc3VyZW1lbnRJZCwgZmllbGROYW1lLCBjYWxsYmFja10gPSBhcmdzO1xyXG4gICAgICAgICAgICAgICAgZ3RhZ0NvcmUoXCJnZXRcIiAvKiBHdGFnQ29tbWFuZC5HRVQgKi8sIG1lYXN1cmVtZW50SWQsIGZpZWxkTmFtZSwgY2FsbGJhY2spO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNvbW1hbmQgPT09IFwic2V0XCIgLyogR3RhZ0NvbW1hbmQuU0VUICovKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBbY3VzdG9tUGFyYW1zXSA9IGFyZ3M7XHJcbiAgICAgICAgICAgICAgICAvLyBJZiBTRVQsIHNlY29uZCBhcmcgbXVzdCBiZSBwYXJhbXMuXHJcbiAgICAgICAgICAgICAgICBndGFnQ29yZShcInNldFwiIC8qIEd0YWdDb21tYW5kLlNFVCAqLywgY3VzdG9tUGFyYW1zKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGd0YWdDb3JlKGNvbW1hbmQsIC4uLmFyZ3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcihlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZ3RhZ1dyYXBwZXI7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZXMgZ2xvYmFsIGd0YWcgZnVuY3Rpb24gb3Igd3JhcHMgZXhpc3Rpbmcgb25lIGlmIGZvdW5kLlxyXG4gKiBUaGlzIHdyYXBwZWQgZnVuY3Rpb24gYXR0YWNoZXMgRmlyZWJhc2UgaW5zdGFuY2UgSUQgKEZJRCkgdG8gZ3RhZyAnY29uZmlnJyBhbmRcclxuICogJ2V2ZW50JyBjYWxscyB0aGF0IGJlbG9uZyB0byB0aGUgR0FJRCBhc3NvY2lhdGVkIHdpdGggdGhpcyBGaXJlYmFzZSBpbnN0YW5jZS5cclxuICpcclxuICogQHBhcmFtIGluaXRpYWxpemF0aW9uUHJvbWlzZXNNYXAgTWFwIG9mIGFwcElkcyB0byB0aGVpciBpbml0aWFsaXphdGlvbiBwcm9taXNlcy5cclxuICogQHBhcmFtIGR5bmFtaWNDb25maWdQcm9taXNlc0xpc3QgQXJyYXkgb2YgZHluYW1pYyBjb25maWcgZmV0Y2ggcHJvbWlzZXMuXHJcbiAqIEBwYXJhbSBtZWFzdXJlbWVudElkVG9BcHBJZCBNYXAgb2YgR0EgbWVhc3VyZW1lbnRJRHMgdG8gY29ycmVzcG9uZGluZyBGaXJlYmFzZSBhcHBJZC5cclxuICogQHBhcmFtIGRhdGFMYXllck5hbWUgTmFtZSBvZiBnbG9iYWwgR0EgZGF0YWxheWVyIGFycmF5LlxyXG4gKiBAcGFyYW0gZ3RhZ0Z1bmN0aW9uTmFtZSBOYW1lIG9mIGdsb2JhbCBndGFnIGZ1bmN0aW9uIChcImd0YWdcIiBpZiBub3QgdXNlci1zcGVjaWZpZWQpLlxyXG4gKi9cclxuZnVuY3Rpb24gd3JhcE9yQ3JlYXRlR3RhZyhpbml0aWFsaXphdGlvblByb21pc2VzTWFwLCBkeW5hbWljQ29uZmlnUHJvbWlzZXNMaXN0LCBtZWFzdXJlbWVudElkVG9BcHBJZCwgZGF0YUxheWVyTmFtZSwgZ3RhZ0Z1bmN0aW9uTmFtZSkge1xyXG4gICAgLy8gQ3JlYXRlIGEgYmFzaWMgY29yZSBndGFnIGZ1bmN0aW9uXHJcbiAgICBsZXQgZ3RhZ0NvcmUgPSBmdW5jdGlvbiAoLi4uX2FyZ3MpIHtcclxuICAgICAgICAvLyBNdXN0IHB1c2ggSUFyZ3VtZW50cyBvYmplY3QsIG5vdCBhbiBhcnJheS5cclxuICAgICAgICB3aW5kb3dbZGF0YUxheWVyTmFtZV0ucHVzaChhcmd1bWVudHMpO1xyXG4gICAgfTtcclxuICAgIC8vIFJlcGxhY2UgaXQgd2l0aCBleGlzdGluZyBvbmUgaWYgZm91bmRcclxuICAgIGlmICh3aW5kb3dbZ3RhZ0Z1bmN0aW9uTmFtZV0gJiZcclxuICAgICAgICB0eXBlb2Ygd2luZG93W2d0YWdGdW5jdGlvbk5hbWVdID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGd0YWdDb3JlID0gd2luZG93W2d0YWdGdW5jdGlvbk5hbWVdO1xyXG4gICAgfVxyXG4gICAgd2luZG93W2d0YWdGdW5jdGlvbk5hbWVdID0gd3JhcEd0YWcoZ3RhZ0NvcmUsIGluaXRpYWxpemF0aW9uUHJvbWlzZXNNYXAsIGR5bmFtaWNDb25maWdQcm9taXNlc0xpc3QsIG1lYXN1cmVtZW50SWRUb0FwcElkKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgZ3RhZ0NvcmUsXHJcbiAgICAgICAgd3JhcHBlZEd0YWc6IHdpbmRvd1tndGFnRnVuY3Rpb25OYW1lXVxyXG4gICAgfTtcclxufVxyXG4vKipcclxuICogUmV0dXJucyB0aGUgc2NyaXB0IHRhZyBpbiB0aGUgRE9NIG1hdGNoaW5nIGJvdGggdGhlIGd0YWcgdXJsIHBhdHRlcm5cclxuICogYW5kIHRoZSBwcm92aWRlZCBkYXRhIGxheWVyIG5hbWUuXHJcbiAqL1xyXG5mdW5jdGlvbiBmaW5kR3RhZ1NjcmlwdE9uUGFnZShkYXRhTGF5ZXJOYW1lKSB7XHJcbiAgICBjb25zdCBzY3JpcHRUYWdzID0gd2luZG93LmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKTtcclxuICAgIGZvciAoY29uc3QgdGFnIG9mIE9iamVjdC52YWx1ZXMoc2NyaXB0VGFncykpIHtcclxuICAgICAgICBpZiAodGFnLnNyYyAmJlxyXG4gICAgICAgICAgICB0YWcuc3JjLmluY2x1ZGVzKEdUQUdfVVJMKSAmJlxyXG4gICAgICAgICAgICB0YWcuc3JjLmluY2x1ZGVzKGRhdGFMYXllck5hbWUpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0YWc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIEJhY2tvZmYgZmFjdG9yIGZvciA1MDMgZXJyb3JzLCB3aGljaCB3ZSB3YW50IHRvIGJlIGNvbnNlcnZhdGl2ZSBhYm91dFxyXG4gKiB0byBhdm9pZCBvdmVybG9hZGluZyBzZXJ2ZXJzLiBFYWNoIHJldHJ5IGludGVydmFsIHdpbGwgYmVcclxuICogQkFTRV9JTlRFUlZBTF9NSUxMSVMgKiBMT05HX1JFVFJZX0ZBQ1RPUiBeIHJldHJ5Q291bnQsIHNvIHRoZSBzZWNvbmQgb25lXHJcbiAqIHdpbGwgYmUgfjMwIHNlY29uZHMgKHdpdGggZnV6emluZykuXHJcbiAqL1xyXG5jb25zdCBMT05HX1JFVFJZX0ZBQ1RPUiA9IDMwO1xyXG4vKipcclxuICogQmFzZSB3YWl0IGludGVydmFsIHRvIG11bHRpcGxpZWQgYnkgYmFja29mZkZhY3Rvcl5iYWNrb2ZmQ291bnQuXHJcbiAqL1xyXG5jb25zdCBCQVNFX0lOVEVSVkFMX01JTExJUyA9IDEwMDA7XHJcbi8qKlxyXG4gKiBTdHViYmFibGUgcmV0cnkgZGF0YSBzdG9yYWdlIGNsYXNzLlxyXG4gKi9cclxuY2xhc3MgUmV0cnlEYXRhIHtcclxuICAgIGNvbnN0cnVjdG9yKHRocm90dGxlTWV0YWRhdGEgPSB7fSwgaW50ZXJ2YWxNaWxsaXMgPSBCQVNFX0lOVEVSVkFMX01JTExJUykge1xyXG4gICAgICAgIHRoaXMudGhyb3R0bGVNZXRhZGF0YSA9IHRocm90dGxlTWV0YWRhdGE7XHJcbiAgICAgICAgdGhpcy5pbnRlcnZhbE1pbGxpcyA9IGludGVydmFsTWlsbGlzO1xyXG4gICAgfVxyXG4gICAgZ2V0VGhyb3R0bGVNZXRhZGF0YShhcHBJZCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRocm90dGxlTWV0YWRhdGFbYXBwSWRdO1xyXG4gICAgfVxyXG4gICAgc2V0VGhyb3R0bGVNZXRhZGF0YShhcHBJZCwgbWV0YWRhdGEpIHtcclxuICAgICAgICB0aGlzLnRocm90dGxlTWV0YWRhdGFbYXBwSWRdID0gbWV0YWRhdGE7XHJcbiAgICB9XHJcbiAgICBkZWxldGVUaHJvdHRsZU1ldGFkYXRhKGFwcElkKSB7XHJcbiAgICAgICAgZGVsZXRlIHRoaXMudGhyb3R0bGVNZXRhZGF0YVthcHBJZF07XHJcbiAgICB9XHJcbn1cclxuY29uc3QgZGVmYXVsdFJldHJ5RGF0YSA9IG5ldyBSZXRyeURhdGEoKTtcclxuLyoqXHJcbiAqIFNldCBHRVQgcmVxdWVzdCBoZWFkZXJzLlxyXG4gKiBAcGFyYW0gYXBpS2V5IEFwcCBBUEkga2V5LlxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0SGVhZGVycyhhcGlLZXkpIHtcclxuICAgIHJldHVybiBuZXcgSGVhZGVycyh7XHJcbiAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgJ3gtZ29vZy1hcGkta2V5JzogYXBpS2V5XHJcbiAgICB9KTtcclxufVxyXG4vKipcclxuICogRmV0Y2hlcyBkeW5hbWljIGNvbmZpZyBmcm9tIGJhY2tlbmQuXHJcbiAqIEBwYXJhbSBhcHAgRmlyZWJhc2UgYXBwIHRvIGZldGNoIGNvbmZpZyBmb3IuXHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiBmZXRjaER5bmFtaWNDb25maWcoYXBwRmllbGRzKSB7XHJcbiAgICB2YXIgX2E7XHJcbiAgICBjb25zdCB7IGFwcElkLCBhcGlLZXkgfSA9IGFwcEZpZWxkcztcclxuICAgIGNvbnN0IHJlcXVlc3QgPSB7XHJcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgICBoZWFkZXJzOiBnZXRIZWFkZXJzKGFwaUtleSlcclxuICAgIH07XHJcbiAgICBjb25zdCBhcHBVcmwgPSBEWU5BTUlDX0NPTkZJR19VUkwucmVwbGFjZSgne2FwcC1pZH0nLCBhcHBJZCk7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGFwcFVybCwgcmVxdWVzdCk7XHJcbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzICE9PSAyMDAgJiYgcmVzcG9uc2Uuc3RhdHVzICE9PSAzMDQpIHtcclxuICAgICAgICBsZXQgZXJyb3JNZXNzYWdlID0gJyc7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gVHJ5IHRvIGdldCBhbnkgZXJyb3IgbWVzc2FnZSB0ZXh0IGZyb20gc2VydmVyIHJlc3BvbnNlLlxyXG4gICAgICAgICAgICBjb25zdCBqc29uUmVzcG9uc2UgPSAoYXdhaXQgcmVzcG9uc2UuanNvbigpKTtcclxuICAgICAgICAgICAgaWYgKChfYSA9IGpzb25SZXNwb25zZS5lcnJvcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZSA9IGpzb25SZXNwb25zZS5lcnJvci5tZXNzYWdlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChfaWdub3JlZCkgeyB9XHJcbiAgICAgICAgdGhyb3cgRVJST1JfRkFDVE9SWS5jcmVhdGUoXCJjb25maWctZmV0Y2gtZmFpbGVkXCIgLyogQW5hbHl0aWNzRXJyb3IuQ09ORklHX0ZFVENIX0ZBSUxFRCAqLywge1xyXG4gICAgICAgICAgICBodHRwU3RhdHVzOiByZXNwb25zZS5zdGF0dXMsXHJcbiAgICAgICAgICAgIHJlc3BvbnNlTWVzc2FnZTogZXJyb3JNZXNzYWdlXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xyXG59XHJcbi8qKlxyXG4gKiBGZXRjaGVzIGR5bmFtaWMgY29uZmlnIGZyb20gYmFja2VuZCwgcmV0cnlpbmcgaWYgZmFpbGVkLlxyXG4gKiBAcGFyYW0gYXBwIEZpcmViYXNlIGFwcCB0byBmZXRjaCBjb25maWcgZm9yLlxyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hEeW5hbWljQ29uZmlnV2l0aFJldHJ5KGFwcCwgXHJcbi8vIHJldHJ5RGF0YSBhbmQgdGltZW91dE1pbGxpcyBhcmUgcGFyYW1ldGVyaXplZCB0byBhbGxvdyBwYXNzaW5nIGEgZGlmZmVyZW50IHZhbHVlIGZvciB0ZXN0aW5nLlxyXG5yZXRyeURhdGEgPSBkZWZhdWx0UmV0cnlEYXRhLCB0aW1lb3V0TWlsbGlzKSB7XHJcbiAgICBjb25zdCB7IGFwcElkLCBhcGlLZXksIG1lYXN1cmVtZW50SWQgfSA9IGFwcC5vcHRpb25zO1xyXG4gICAgaWYgKCFhcHBJZCkge1xyXG4gICAgICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwibm8tYXBwLWlkXCIgLyogQW5hbHl0aWNzRXJyb3IuTk9fQVBQX0lEICovKTtcclxuICAgIH1cclxuICAgIGlmICghYXBpS2V5KSB7XHJcbiAgICAgICAgaWYgKG1lYXN1cmVtZW50SWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIG1lYXN1cmVtZW50SWQsXHJcbiAgICAgICAgICAgICAgICBhcHBJZFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcIm5vLWFwaS1rZXlcIiAvKiBBbmFseXRpY3NFcnJvci5OT19BUElfS0VZICovKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHRocm90dGxlTWV0YWRhdGEgPSByZXRyeURhdGEuZ2V0VGhyb3R0bGVNZXRhZGF0YShhcHBJZCkgfHwge1xyXG4gICAgICAgIGJhY2tvZmZDb3VudDogMCxcclxuICAgICAgICB0aHJvdHRsZUVuZFRpbWVNaWxsaXM6IERhdGUubm93KClcclxuICAgIH07XHJcbiAgICBjb25zdCBzaWduYWwgPSBuZXcgQW5hbHl0aWNzQWJvcnRTaWduYWwoKTtcclxuICAgIHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIC8vIE5vdGUgYSB2ZXJ5IGxvdyBkZWxheSwgZWcgPCAxMG1zLCBjYW4gZWxhcHNlIGJlZm9yZSBsaXN0ZW5lcnMgYXJlIGluaXRpYWxpemVkLlxyXG4gICAgICAgIHNpZ25hbC5hYm9ydCgpO1xyXG4gICAgfSwgdGltZW91dE1pbGxpcyAhPT0gdW5kZWZpbmVkID8gdGltZW91dE1pbGxpcyA6IEZFVENIX1RJTUVPVVRfTUlMTElTKTtcclxuICAgIHJldHVybiBhdHRlbXB0RmV0Y2hEeW5hbWljQ29uZmlnV2l0aFJldHJ5KHsgYXBwSWQsIGFwaUtleSwgbWVhc3VyZW1lbnRJZCB9LCB0aHJvdHRsZU1ldGFkYXRhLCBzaWduYWwsIHJldHJ5RGF0YSk7XHJcbn1cclxuLyoqXHJcbiAqIFJ1bnMgb25lIHJldHJ5IGF0dGVtcHQuXHJcbiAqIEBwYXJhbSBhcHBGaWVsZHMgTmVjZXNzYXJ5IGFwcCBjb25maWcgZmllbGRzLlxyXG4gKiBAcGFyYW0gdGhyb3R0bGVNZXRhZGF0YSBPbmdvaW5nIG1ldGFkYXRhIHRvIGRldGVybWluZSB0aHJvdHRsaW5nIHRpbWVzLlxyXG4gKiBAcGFyYW0gc2lnbmFsIEFib3J0IHNpZ25hbC5cclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIGF0dGVtcHRGZXRjaER5bmFtaWNDb25maWdXaXRoUmV0cnkoYXBwRmllbGRzLCB7IHRocm90dGxlRW5kVGltZU1pbGxpcywgYmFja29mZkNvdW50IH0sIHNpZ25hbCwgcmV0cnlEYXRhID0gZGVmYXVsdFJldHJ5RGF0YSAvLyBmb3IgdGVzdGluZ1xyXG4pIHtcclxuICAgIHZhciBfYTtcclxuICAgIGNvbnN0IHsgYXBwSWQsIG1lYXN1cmVtZW50SWQgfSA9IGFwcEZpZWxkcztcclxuICAgIC8vIFN0YXJ0cyB3aXRoIGEgKHBvdGVudGlhbGx5IHplcm8pIHRpbWVvdXQgdG8gc3VwcG9ydCByZXN1bXB0aW9uIGZyb20gc3RvcmVkIHN0YXRlLlxyXG4gICAgLy8gRW5zdXJlcyB0aGUgdGhyb3R0bGUgZW5kIHRpbWUgaXMgaG9ub3JlZCBpZiB0aGUgbGFzdCBhdHRlbXB0IHRpbWVkIG91dC5cclxuICAgIC8vIE5vdGUgdGhlIFNESyB3aWxsIG5ldmVyIG1ha2UgYSByZXF1ZXN0IGlmIHRoZSBmZXRjaCB0aW1lb3V0IGV4cGlyZXMgYXQgdGhpcyBwb2ludC5cclxuICAgIHRyeSB7XHJcbiAgICAgICAgYXdhaXQgc2V0QWJvcnRhYmxlVGltZW91dChzaWduYWwsIHRocm90dGxlRW5kVGltZU1pbGxpcyk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgIGlmIChtZWFzdXJlbWVudElkKSB7XHJcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKGBUaW1lZCBvdXQgZmV0Y2hpbmcgdGhpcyBGaXJlYmFzZSBhcHAncyBtZWFzdXJlbWVudCBJRCBmcm9tIHRoZSBzZXJ2ZXIuYCArXHJcbiAgICAgICAgICAgICAgICBgIEZhbGxpbmcgYmFjayB0byB0aGUgbWVhc3VyZW1lbnQgSUQgJHttZWFzdXJlbWVudElkfWAgK1xyXG4gICAgICAgICAgICAgICAgYCBwcm92aWRlZCBpbiB0aGUgXCJtZWFzdXJlbWVudElkXCIgZmllbGQgaW4gdGhlIGxvY2FsIEZpcmViYXNlIGNvbmZpZy4gWyR7ZSA9PT0gbnVsbCB8fCBlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlLm1lc3NhZ2V9XWApO1xyXG4gICAgICAgICAgICByZXR1cm4geyBhcHBJZCwgbWVhc3VyZW1lbnRJZCB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aHJvdyBlO1xyXG4gICAgfVxyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoRHluYW1pY0NvbmZpZyhhcHBGaWVsZHMpO1xyXG4gICAgICAgIC8vIE5vdGUgdGhlIFNESyBvbmx5IGNsZWFycyB0aHJvdHRsZSBzdGF0ZSBpZiByZXNwb25zZSBpcyBzdWNjZXNzIG9yIG5vbi1yZXRyaWFibGUuXHJcbiAgICAgICAgcmV0cnlEYXRhLmRlbGV0ZVRocm90dGxlTWV0YWRhdGEoYXBwSWQpO1xyXG4gICAgICAgIHJldHVybiByZXNwb25zZTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgY29uc3QgZXJyb3IgPSBlO1xyXG4gICAgICAgIGlmICghaXNSZXRyaWFibGVFcnJvcihlcnJvcikpIHtcclxuICAgICAgICAgICAgcmV0cnlEYXRhLmRlbGV0ZVRocm90dGxlTWV0YWRhdGEoYXBwSWQpO1xyXG4gICAgICAgICAgICBpZiAobWVhc3VyZW1lbnRJZCkge1xyXG4gICAgICAgICAgICAgICAgbG9nZ2VyLndhcm4oYEZhaWxlZCB0byBmZXRjaCB0aGlzIEZpcmViYXNlIGFwcCdzIG1lYXN1cmVtZW50IElEIGZyb20gdGhlIHNlcnZlci5gICtcclxuICAgICAgICAgICAgICAgICAgICBgIEZhbGxpbmcgYmFjayB0byB0aGUgbWVhc3VyZW1lbnQgSUQgJHttZWFzdXJlbWVudElkfWAgK1xyXG4gICAgICAgICAgICAgICAgICAgIGAgcHJvdmlkZWQgaW4gdGhlIFwibWVhc3VyZW1lbnRJZFwiIGZpZWxkIGluIHRoZSBsb2NhbCBGaXJlYmFzZSBjb25maWcuIFske2Vycm9yID09PSBudWxsIHx8IGVycm9yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlcnJvci5tZXNzYWdlfV1gKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7IGFwcElkLCBtZWFzdXJlbWVudElkIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGJhY2tvZmZNaWxsaXMgPSBOdW1iZXIoKF9hID0gZXJyb3IgPT09IG51bGwgfHwgZXJyb3IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVycm9yLmN1c3RvbURhdGEpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5odHRwU3RhdHVzKSA9PT0gNTAzXHJcbiAgICAgICAgICAgID8gY2FsY3VsYXRlQmFja29mZk1pbGxpcyhiYWNrb2ZmQ291bnQsIHJldHJ5RGF0YS5pbnRlcnZhbE1pbGxpcywgTE9OR19SRVRSWV9GQUNUT1IpXHJcbiAgICAgICAgICAgIDogY2FsY3VsYXRlQmFja29mZk1pbGxpcyhiYWNrb2ZmQ291bnQsIHJldHJ5RGF0YS5pbnRlcnZhbE1pbGxpcyk7XHJcbiAgICAgICAgLy8gSW5jcmVtZW50cyBiYWNrb2ZmIHN0YXRlLlxyXG4gICAgICAgIGNvbnN0IHRocm90dGxlTWV0YWRhdGEgPSB7XHJcbiAgICAgICAgICAgIHRocm90dGxlRW5kVGltZU1pbGxpczogRGF0ZS5ub3coKSArIGJhY2tvZmZNaWxsaXMsXHJcbiAgICAgICAgICAgIGJhY2tvZmZDb3VudDogYmFja29mZkNvdW50ICsgMVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gUGVyc2lzdHMgc3RhdGUuXHJcbiAgICAgICAgcmV0cnlEYXRhLnNldFRocm90dGxlTWV0YWRhdGEoYXBwSWQsIHRocm90dGxlTWV0YWRhdGEpO1xyXG4gICAgICAgIGxvZ2dlci5kZWJ1ZyhgQ2FsbGluZyBhdHRlbXB0RmV0Y2ggYWdhaW4gaW4gJHtiYWNrb2ZmTWlsbGlzfSBtaWxsaXNgKTtcclxuICAgICAgICByZXR1cm4gYXR0ZW1wdEZldGNoRHluYW1pY0NvbmZpZ1dpdGhSZXRyeShhcHBGaWVsZHMsIHRocm90dGxlTWV0YWRhdGEsIHNpZ25hbCwgcmV0cnlEYXRhKTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogU3VwcG9ydHMgd2FpdGluZyBvbiBhIGJhY2tvZmYgYnk6XHJcbiAqXHJcbiAqIDx1bD5cclxuICogICA8bGk+UHJvbWlzaWZ5aW5nIHNldFRpbWVvdXQsIHNvIHdlIGNhbiBzZXQgYSB0aW1lb3V0IGluIG91ciBQcm9taXNlIGNoYWluPC9saT5cclxuICogICA8bGk+TGlzdGVuaW5nIG9uIGEgc2lnbmFsIGJ1cyBmb3IgYWJvcnQgZXZlbnRzLCBqdXN0IGxpa2UgdGhlIEZldGNoIEFQSTwvbGk+XHJcbiAqICAgPGxpPkZhaWxpbmcgaW4gdGhlIHNhbWUgd2F5IHRoZSBGZXRjaCBBUEkgZmFpbHMsIHNvIHRpbWluZyBvdXQgYSBsaXZlIHJlcXVlc3QgYW5kIGEgdGhyb3R0bGVkXHJcbiAqICAgICAgIHJlcXVlc3QgYXBwZWFyIHRoZSBzYW1lLjwvbGk+XHJcbiAqIDwvdWw+XHJcbiAqXHJcbiAqIDxwPlZpc2libGUgZm9yIHRlc3RpbmcuXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXRBYm9ydGFibGVUaW1lb3V0KHNpZ25hbCwgdGhyb3R0bGVFbmRUaW1lTWlsbGlzKSB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgIC8vIERlcml2ZXMgYmFja29mZiBmcm9tIGdpdmVuIGVuZCB0aW1lLCBub3JtYWxpemluZyBuZWdhdGl2ZSBudW1iZXJzIHRvIHplcm8uXHJcbiAgICAgICAgY29uc3QgYmFja29mZk1pbGxpcyA9IE1hdGgubWF4KHRocm90dGxlRW5kVGltZU1pbGxpcyAtIERhdGUubm93KCksIDApO1xyXG4gICAgICAgIGNvbnN0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KHJlc29sdmUsIGJhY2tvZmZNaWxsaXMpO1xyXG4gICAgICAgIC8vIEFkZHMgbGlzdGVuZXIsIHJhdGhlciB0aGFuIHNldHMgb25hYm9ydCwgYmVjYXVzZSBzaWduYWwgaXMgYSBzaGFyZWQgb2JqZWN0LlxyXG4gICAgICAgIHNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCgpID0+IHtcclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xyXG4gICAgICAgICAgICAvLyBJZiB0aGUgcmVxdWVzdCBjb21wbGV0ZXMgYmVmb3JlIHRoaXMgdGltZW91dCwgdGhlIHJlamVjdGlvbiBoYXMgbm8gZWZmZWN0LlxyXG4gICAgICAgICAgICByZWplY3QoRVJST1JfRkFDVE9SWS5jcmVhdGUoXCJmZXRjaC10aHJvdHRsZVwiIC8qIEFuYWx5dGljc0Vycm9yLkZFVENIX1RIUk9UVExFICovLCB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdHRsZUVuZFRpbWVNaWxsaXNcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUge0BsaW5rIEVycm9yfSBpbmRpY2F0ZXMgYSBmZXRjaCByZXF1ZXN0IG1heSBzdWNjZWVkIGxhdGVyLlxyXG4gKi9cclxuZnVuY3Rpb24gaXNSZXRyaWFibGVFcnJvcihlKSB7XHJcbiAgICBpZiAoIShlIGluc3RhbmNlb2YgRmlyZWJhc2VFcnJvcikgfHwgIWUuY3VzdG9tRGF0YSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIC8vIFVzZXMgc3RyaW5nIGluZGV4IGRlZmluZWQgYnkgRXJyb3JEYXRhLCB3aGljaCBGaXJlYmFzZUVycm9yIGltcGxlbWVudHMuXHJcbiAgICBjb25zdCBodHRwU3RhdHVzID0gTnVtYmVyKGUuY3VzdG9tRGF0YVsnaHR0cFN0YXR1cyddKTtcclxuICAgIHJldHVybiAoaHR0cFN0YXR1cyA9PT0gNDI5IHx8XHJcbiAgICAgICAgaHR0cFN0YXR1cyA9PT0gNTAwIHx8XHJcbiAgICAgICAgaHR0cFN0YXR1cyA9PT0gNTAzIHx8XHJcbiAgICAgICAgaHR0cFN0YXR1cyA9PT0gNTA0KTtcclxufVxyXG4vKipcclxuICogU2hpbXMgYSBtaW5pbWFsIEFib3J0U2lnbmFsIChjb3BpZWQgZnJvbSBSZW1vdGUgQ29uZmlnKS5cclxuICpcclxuICogPHA+QWJvcnRDb250cm9sbGVyJ3MgQWJvcnRTaWduYWwgY29udmVuaWVudGx5IGRlY291cGxlcyBmZXRjaCB0aW1lb3V0IGxvZ2ljIGZyb20gb3RoZXIgYXNwZWN0c1xyXG4gKiBvZiBuZXR3b3JraW5nLCBzdWNoIGFzIHJldHJpZXMuIEZpcmViYXNlIGRvZXNuJ3QgdXNlIEFib3J0Q29udHJvbGxlciBlbm91Z2ggdG8ganVzdGlmeSBhXHJcbiAqIHBvbHlmaWxsIHJlY29tbWVuZGF0aW9uLCBsaWtlIHdlIGRvIHdpdGggdGhlIEZldGNoIEFQSSwgYnV0IHRoaXMgbWluaW1hbCBzaGltIGNhbiBlYXNpbHkgYmVcclxuICogc3dhcHBlZCBvdXQgaWYvd2hlbiB3ZSBkby5cclxuICovXHJcbmNsYXNzIEFuYWx5dGljc0Fib3J0U2lnbmFsIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzID0gW107XHJcbiAgICB9XHJcbiAgICBhZGRFdmVudExpc3RlbmVyKGxpc3RlbmVyKSB7XHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcbiAgICB9XHJcbiAgICBhYm9ydCgpIHtcclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVyID0+IGxpc3RlbmVyKCkpO1xyXG4gICAgfVxyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBFdmVudCBwYXJhbWV0ZXJzIHRvIHNldCBvbiAnZ3RhZycgZHVyaW5nIGluaXRpYWxpemF0aW9uLlxyXG4gKi9cclxubGV0IGRlZmF1bHRFdmVudFBhcmFtZXRlcnNGb3JJbml0O1xyXG4vKipcclxuICogTG9ncyBhbiBhbmFseXRpY3MgZXZlbnQgdGhyb3VnaCB0aGUgRmlyZWJhc2UgU0RLLlxyXG4gKlxyXG4gKiBAcGFyYW0gZ3RhZ0Z1bmN0aW9uIFdyYXBwZWQgZ3RhZyBmdW5jdGlvbiB0aGF0IHdhaXRzIGZvciBmaWQgdG8gYmUgc2V0IGJlZm9yZSBzZW5kaW5nIGFuIGV2ZW50XHJcbiAqIEBwYXJhbSBldmVudE5hbWUgR29vZ2xlIEFuYWx5dGljcyBldmVudCBuYW1lLCBjaG9vc2UgZnJvbSBzdGFuZGFyZCBsaXN0IG9yIHVzZSBhIGN1c3RvbSBzdHJpbmcuXHJcbiAqIEBwYXJhbSBldmVudFBhcmFtcyBBbmFseXRpY3MgZXZlbnQgcGFyYW1ldGVycy5cclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIGxvZ0V2ZW50JDEoZ3RhZ0Z1bmN0aW9uLCBpbml0aWFsaXphdGlvblByb21pc2UsIGV2ZW50TmFtZSwgZXZlbnRQYXJhbXMsIG9wdGlvbnMpIHtcclxuICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuZ2xvYmFsKSB7XHJcbiAgICAgICAgZ3RhZ0Z1bmN0aW9uKFwiZXZlbnRcIiAvKiBHdGFnQ29tbWFuZC5FVkVOVCAqLywgZXZlbnROYW1lLCBldmVudFBhcmFtcyk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgY29uc3QgbWVhc3VyZW1lbnRJZCA9IGF3YWl0IGluaXRpYWxpemF0aW9uUHJvbWlzZTtcclxuICAgICAgICBjb25zdCBwYXJhbXMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGV2ZW50UGFyYW1zKSwgeyAnc2VuZF90byc6IG1lYXN1cmVtZW50SWQgfSk7XHJcbiAgICAgICAgZ3RhZ0Z1bmN0aW9uKFwiZXZlbnRcIiAvKiBHdGFnQ29tbWFuZC5FVkVOVCAqLywgZXZlbnROYW1lLCBwYXJhbXMpO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBTZXQgc2NyZWVuX25hbWUgcGFyYW1ldGVyIGZvciB0aGlzIEdvb2dsZSBBbmFseXRpY3MgSUQuXHJcbiAqXHJcbiAqIEBkZXByZWNhdGVkIFVzZSB7QGxpbmsgbG9nRXZlbnR9IHdpdGggYGV2ZW50TmFtZWAgYXMgJ3NjcmVlbl92aWV3JyBhbmQgYWRkIHJlbGV2YW50IGBldmVudFBhcmFtc2AuXHJcbiAqIFNlZSB7QGxpbmsgaHR0cHM6Ly9maXJlYmFzZS5nb29nbGUuY29tL2RvY3MvYW5hbHl0aWNzL3NjcmVlbnZpZXdzIHwgVHJhY2sgU2NyZWVudmlld3N9LlxyXG4gKlxyXG4gKiBAcGFyYW0gZ3RhZ0Z1bmN0aW9uIFdyYXBwZWQgZ3RhZyBmdW5jdGlvbiB0aGF0IHdhaXRzIGZvciBmaWQgdG8gYmUgc2V0IGJlZm9yZSBzZW5kaW5nIGFuIGV2ZW50XHJcbiAqIEBwYXJhbSBzY3JlZW5OYW1lIFNjcmVlbiBuYW1lIHN0cmluZyB0byBzZXQuXHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiBzZXRDdXJyZW50U2NyZWVuJDEoZ3RhZ0Z1bmN0aW9uLCBpbml0aWFsaXphdGlvblByb21pc2UsIHNjcmVlbk5hbWUsIG9wdGlvbnMpIHtcclxuICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuZ2xvYmFsKSB7XHJcbiAgICAgICAgZ3RhZ0Z1bmN0aW9uKFwic2V0XCIgLyogR3RhZ0NvbW1hbmQuU0VUICovLCB7ICdzY3JlZW5fbmFtZSc6IHNjcmVlbk5hbWUgfSk7XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgY29uc3QgbWVhc3VyZW1lbnRJZCA9IGF3YWl0IGluaXRpYWxpemF0aW9uUHJvbWlzZTtcclxuICAgICAgICBndGFnRnVuY3Rpb24oXCJjb25maWdcIiAvKiBHdGFnQ29tbWFuZC5DT05GSUcgKi8sIG1lYXN1cmVtZW50SWQsIHtcclxuICAgICAgICAgICAgdXBkYXRlOiB0cnVlLFxyXG4gICAgICAgICAgICAnc2NyZWVuX25hbWUnOiBzY3JlZW5OYW1lXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIFNldCB1c2VyX2lkIHBhcmFtZXRlciBmb3IgdGhpcyBHb29nbGUgQW5hbHl0aWNzIElELlxyXG4gKlxyXG4gKiBAcGFyYW0gZ3RhZ0Z1bmN0aW9uIFdyYXBwZWQgZ3RhZyBmdW5jdGlvbiB0aGF0IHdhaXRzIGZvciBmaWQgdG8gYmUgc2V0IGJlZm9yZSBzZW5kaW5nIGFuIGV2ZW50XHJcbiAqIEBwYXJhbSBpZCBVc2VyIElEIHN0cmluZyB0byBzZXRcclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIHNldFVzZXJJZCQxKGd0YWdGdW5jdGlvbiwgaW5pdGlhbGl6YXRpb25Qcm9taXNlLCBpZCwgb3B0aW9ucykge1xyXG4gICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5nbG9iYWwpIHtcclxuICAgICAgICBndGFnRnVuY3Rpb24oXCJzZXRcIiAvKiBHdGFnQ29tbWFuZC5TRVQgKi8sIHsgJ3VzZXJfaWQnOiBpZCB9KTtcclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBjb25zdCBtZWFzdXJlbWVudElkID0gYXdhaXQgaW5pdGlhbGl6YXRpb25Qcm9taXNlO1xyXG4gICAgICAgIGd0YWdGdW5jdGlvbihcImNvbmZpZ1wiIC8qIEd0YWdDb21tYW5kLkNPTkZJRyAqLywgbWVhc3VyZW1lbnRJZCwge1xyXG4gICAgICAgICAgICB1cGRhdGU6IHRydWUsXHJcbiAgICAgICAgICAgICd1c2VyX2lkJzogaWRcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogU2V0IGFsbCBvdGhlciB1c2VyIHByb3BlcnRpZXMgb3RoZXIgdGhhbiB1c2VyX2lkIGFuZCBzY3JlZW5fbmFtZS5cclxuICpcclxuICogQHBhcmFtIGd0YWdGdW5jdGlvbiBXcmFwcGVkIGd0YWcgZnVuY3Rpb24gdGhhdCB3YWl0cyBmb3IgZmlkIHRvIGJlIHNldCBiZWZvcmUgc2VuZGluZyBhbiBldmVudFxyXG4gKiBAcGFyYW0gcHJvcGVydGllcyBNYXAgb2YgdXNlciBwcm9wZXJ0aWVzIHRvIHNldFxyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gc2V0VXNlclByb3BlcnRpZXMkMShndGFnRnVuY3Rpb24sIGluaXRpYWxpemF0aW9uUHJvbWlzZSwgcHJvcGVydGllcywgb3B0aW9ucykge1xyXG4gICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5nbG9iYWwpIHtcclxuICAgICAgICBjb25zdCBmbGF0UHJvcGVydGllcyA9IHt9O1xyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHByb3BlcnRpZXMpKSB7XHJcbiAgICAgICAgICAgIC8vIHVzZSBkb3Qgbm90YXRpb24gZm9yIG1lcmdlIGJlaGF2aW9yIGluIGd0YWcuanNcclxuICAgICAgICAgICAgZmxhdFByb3BlcnRpZXNbYHVzZXJfcHJvcGVydGllcy4ke2tleX1gXSA9IHByb3BlcnRpZXNba2V5XTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZ3RhZ0Z1bmN0aW9uKFwic2V0XCIgLyogR3RhZ0NvbW1hbmQuU0VUICovLCBmbGF0UHJvcGVydGllcyk7XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgY29uc3QgbWVhc3VyZW1lbnRJZCA9IGF3YWl0IGluaXRpYWxpemF0aW9uUHJvbWlzZTtcclxuICAgICAgICBndGFnRnVuY3Rpb24oXCJjb25maWdcIiAvKiBHdGFnQ29tbWFuZC5DT05GSUcgKi8sIG1lYXN1cmVtZW50SWQsIHtcclxuICAgICAgICAgICAgdXBkYXRlOiB0cnVlLFxyXG4gICAgICAgICAgICAndXNlcl9wcm9wZXJ0aWVzJzogcHJvcGVydGllc1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBSZXRyaWV2ZXMgYSB1bmlxdWUgR29vZ2xlIEFuYWx5dGljcyBpZGVudGlmaWVyIGZvciB0aGUgd2ViIGNsaWVudC5cclxuICogU2VlIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9hbmFseXRpY3MvZGV2Z3VpZGVzL2NvbGxlY3Rpb24vZ2E0L3JlZmVyZW5jZS9jb25maWcjY2xpZW50X2lkIHwgY2xpZW50X2lkfS5cclxuICpcclxuICogQHBhcmFtIGd0YWdGdW5jdGlvbiBXcmFwcGVkIGd0YWcgZnVuY3Rpb24gdGhhdCB3YWl0cyBmb3IgZmlkIHRvIGJlIHNldCBiZWZvcmUgc2VuZGluZyBhbiBldmVudFxyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gaW50ZXJuYWxHZXRHb29nbGVBbmFseXRpY3NDbGllbnRJZChndGFnRnVuY3Rpb24sIGluaXRpYWxpemF0aW9uUHJvbWlzZSkge1xyXG4gICAgY29uc3QgbWVhc3VyZW1lbnRJZCA9IGF3YWl0IGluaXRpYWxpemF0aW9uUHJvbWlzZTtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgZ3RhZ0Z1bmN0aW9uKFwiZ2V0XCIgLyogR3RhZ0NvbW1hbmQuR0VUICovLCBtZWFzdXJlbWVudElkLCAnY2xpZW50X2lkJywgKGNsaWVudElkKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghY2xpZW50SWQpIHtcclxuICAgICAgICAgICAgICAgIHJlamVjdChFUlJPUl9GQUNUT1JZLmNyZWF0ZShcIm5vLWNsaWVudC1pZFwiIC8qIEFuYWx5dGljc0Vycm9yLk5PX0NMSUVOVF9JRCAqLykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlc29sdmUoY2xpZW50SWQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuLyoqXHJcbiAqIFNldCB3aGV0aGVyIGNvbGxlY3Rpb24gaXMgZW5hYmxlZCBmb3IgdGhpcyBJRC5cclxuICpcclxuICogQHBhcmFtIGVuYWJsZWQgSWYgdHJ1ZSwgY29sbGVjdGlvbiBpcyBlbmFibGVkIGZvciB0aGlzIElELlxyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gc2V0QW5hbHl0aWNzQ29sbGVjdGlvbkVuYWJsZWQkMShpbml0aWFsaXphdGlvblByb21pc2UsIGVuYWJsZWQpIHtcclxuICAgIGNvbnN0IG1lYXN1cmVtZW50SWQgPSBhd2FpdCBpbml0aWFsaXphdGlvblByb21pc2U7XHJcbiAgICB3aW5kb3dbYGdhLWRpc2FibGUtJHttZWFzdXJlbWVudElkfWBdID0gIWVuYWJsZWQ7XHJcbn1cclxuLyoqXHJcbiAqIENvbnNlbnQgcGFyYW1ldGVycyB0byBkZWZhdWx0IHRvIGR1cmluZyAnZ3RhZycgaW5pdGlhbGl6YXRpb24uXHJcbiAqL1xyXG5sZXQgZGVmYXVsdENvbnNlbnRTZXR0aW5nc0ZvckluaXQ7XHJcbi8qKlxyXG4gKiBTZXRzIHRoZSB2YXJpYWJsZSB7QGxpbmsgZGVmYXVsdENvbnNlbnRTZXR0aW5nc0ZvckluaXR9IGZvciB1c2UgaW4gdGhlIGluaXRpYWxpemF0aW9uIG9mXHJcbiAqIGFuYWx5dGljcy5cclxuICpcclxuICogQHBhcmFtIGNvbnNlbnRTZXR0aW5ncyBNYXBzIHRoZSBhcHBsaWNhYmxlIGVuZCB1c2VyIGNvbnNlbnQgc3RhdGUgZm9yIGd0YWcuanMuXHJcbiAqL1xyXG5mdW5jdGlvbiBfc2V0Q29uc2VudERlZmF1bHRGb3JJbml0KGNvbnNlbnRTZXR0aW5ncykge1xyXG4gICAgZGVmYXVsdENvbnNlbnRTZXR0aW5nc0ZvckluaXQgPSBjb25zZW50U2V0dGluZ3M7XHJcbn1cclxuLyoqXHJcbiAqIFNldHMgdGhlIHZhcmlhYmxlIGBkZWZhdWx0RXZlbnRQYXJhbWV0ZXJzRm9ySW5pdGAgZm9yIHVzZSBpbiB0aGUgaW5pdGlhbGl6YXRpb24gb2ZcclxuICogYW5hbHl0aWNzLlxyXG4gKlxyXG4gKiBAcGFyYW0gY3VzdG9tUGFyYW1zIEFueSBjdXN0b20gcGFyYW1zIHRoZSB1c2VyIG1heSBwYXNzIHRvIGd0YWcuanMuXHJcbiAqL1xyXG5mdW5jdGlvbiBfc2V0RGVmYXVsdEV2ZW50UGFyYW1ldGVyc0ZvckluaXQoY3VzdG9tUGFyYW1zKSB7XHJcbiAgICBkZWZhdWx0RXZlbnRQYXJhbWV0ZXJzRm9ySW5pdCA9IGN1c3RvbVBhcmFtcztcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiB2YWxpZGF0ZUluZGV4ZWREQigpIHtcclxuICAgIGlmICghaXNJbmRleGVkREJBdmFpbGFibGUoKSkge1xyXG4gICAgICAgIGxvZ2dlci53YXJuKEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwiaW5kZXhlZGRiLXVuYXZhaWxhYmxlXCIgLyogQW5hbHl0aWNzRXJyb3IuSU5ERVhFRERCX1VOQVZBSUxBQkxFICovLCB7XHJcbiAgICAgICAgICAgIGVycm9ySW5mbzogJ0luZGV4ZWREQiBpcyBub3QgYXZhaWxhYmxlIGluIHRoaXMgZW52aXJvbm1lbnQuJ1xyXG4gICAgICAgIH0pLm1lc3NhZ2UpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGF3YWl0IHZhbGlkYXRlSW5kZXhlZERCT3BlbmFibGUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgbG9nZ2VyLndhcm4oRVJST1JfRkFDVE9SWS5jcmVhdGUoXCJpbmRleGVkZGItdW5hdmFpbGFibGVcIiAvKiBBbmFseXRpY3NFcnJvci5JTkRFWEVEREJfVU5BVkFJTEFCTEUgKi8sIHtcclxuICAgICAgICAgICAgICAgIGVycm9ySW5mbzogZSA9PT0gbnVsbCB8fCBlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlLnRvU3RyaW5nKClcclxuICAgICAgICAgICAgfSkubWVzc2FnZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxyXG4vKipcclxuICogSW5pdGlhbGl6ZSB0aGUgYW5hbHl0aWNzIGluc3RhbmNlIGluIGd0YWcuanMgYnkgY2FsbGluZyBjb25maWcgY29tbWFuZCB3aXRoIGZpZC5cclxuICpcclxuICogTk9URTogV2UgY29tYmluZSBhbmFseXRpY3MgaW5pdGlhbGl6YXRpb24gYW5kIHNldHRpbmcgZmlkIHRvZ2V0aGVyIGJlY2F1c2Ugd2Ugd2FudCBmaWQgdG8gYmVcclxuICogcGFydCBvZiB0aGUgYHBhZ2Vfdmlld2AgZXZlbnQgdGhhdCdzIHNlbnQgZHVyaW5nIHRoZSBpbml0aWFsaXphdGlvblxyXG4gKiBAcGFyYW0gYXBwIEZpcmViYXNlIGFwcFxyXG4gKiBAcGFyYW0gZ3RhZ0NvcmUgVGhlIGd0YWcgZnVuY3Rpb24gdGhhdCdzIG5vdCB3cmFwcGVkLlxyXG4gKiBAcGFyYW0gZHluYW1pY0NvbmZpZ1Byb21pc2VzTGlzdCBBcnJheSBvZiBhbGwgZHluYW1pYyBjb25maWcgcHJvbWlzZXMuXHJcbiAqIEBwYXJhbSBtZWFzdXJlbWVudElkVG9BcHBJZCBNYXBzIG1lYXN1cmVtZW50SUQgdG8gYXBwSUQuXHJcbiAqIEBwYXJhbSBpbnN0YWxsYXRpb25zIF9GaXJlYmFzZUluc3RhbGxhdGlvbnNJbnRlcm5hbCBpbnN0YW5jZS5cclxuICpcclxuICogQHJldHVybnMgTWVhc3VyZW1lbnQgSUQuXHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiBfaW5pdGlhbGl6ZUFuYWx5dGljcyhhcHAsIGR5bmFtaWNDb25maWdQcm9taXNlc0xpc3QsIG1lYXN1cmVtZW50SWRUb0FwcElkLCBpbnN0YWxsYXRpb25zLCBndGFnQ29yZSwgZGF0YUxheWVyTmFtZSwgb3B0aW9ucykge1xyXG4gICAgdmFyIF9hO1xyXG4gICAgY29uc3QgZHluYW1pY0NvbmZpZ1Byb21pc2UgPSBmZXRjaER5bmFtaWNDb25maWdXaXRoUmV0cnkoYXBwKTtcclxuICAgIC8vIE9uY2UgZmV0Y2hlZCwgbWFwIG1lYXN1cmVtZW50SWRzIHRvIGFwcElkLCBmb3IgZWFzZSBvZiBsb29rdXAgaW4gd3JhcHBlZCBndGFnIGZ1bmN0aW9uLlxyXG4gICAgZHluYW1pY0NvbmZpZ1Byb21pc2VcclxuICAgICAgICAudGhlbihjb25maWcgPT4ge1xyXG4gICAgICAgIG1lYXN1cmVtZW50SWRUb0FwcElkW2NvbmZpZy5tZWFzdXJlbWVudElkXSA9IGNvbmZpZy5hcHBJZDtcclxuICAgICAgICBpZiAoYXBwLm9wdGlvbnMubWVhc3VyZW1lbnRJZCAmJlxyXG4gICAgICAgICAgICBjb25maWcubWVhc3VyZW1lbnRJZCAhPT0gYXBwLm9wdGlvbnMubWVhc3VyZW1lbnRJZCkge1xyXG4gICAgICAgICAgICBsb2dnZXIud2FybihgVGhlIG1lYXN1cmVtZW50IElEIGluIHRoZSBsb2NhbCBGaXJlYmFzZSBjb25maWcgKCR7YXBwLm9wdGlvbnMubWVhc3VyZW1lbnRJZH0pYCArXHJcbiAgICAgICAgICAgICAgICBgIGRvZXMgbm90IG1hdGNoIHRoZSBtZWFzdXJlbWVudCBJRCBmZXRjaGVkIGZyb20gdGhlIHNlcnZlciAoJHtjb25maWcubWVhc3VyZW1lbnRJZH0pLmAgK1xyXG4gICAgICAgICAgICAgICAgYCBUbyBlbnN1cmUgYW5hbHl0aWNzIGV2ZW50cyBhcmUgYWx3YXlzIHNlbnQgdG8gdGhlIGNvcnJlY3QgQW5hbHl0aWNzIHByb3BlcnR5LGAgK1xyXG4gICAgICAgICAgICAgICAgYCB1cGRhdGUgdGhlYCArXHJcbiAgICAgICAgICAgICAgICBgIG1lYXN1cmVtZW50IElEIGZpZWxkIGluIHRoZSBsb2NhbCBjb25maWcgb3IgcmVtb3ZlIGl0IGZyb20gdGhlIGxvY2FsIGNvbmZpZy5gKTtcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG4gICAgICAgIC5jYXRjaChlID0+IGxvZ2dlci5lcnJvcihlKSk7XHJcbiAgICAvLyBBZGQgdG8gbGlzdCB0byB0cmFjayBzdGF0ZSBvZiBhbGwgZHluYW1pYyBjb25maWcgcHJvbWlzZXMuXHJcbiAgICBkeW5hbWljQ29uZmlnUHJvbWlzZXNMaXN0LnB1c2goZHluYW1pY0NvbmZpZ1Byb21pc2UpO1xyXG4gICAgY29uc3QgZmlkUHJvbWlzZSA9IHZhbGlkYXRlSW5kZXhlZERCKCkudGhlbihlbnZJc1ZhbGlkID0+IHtcclxuICAgICAgICBpZiAoZW52SXNWYWxpZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gaW5zdGFsbGF0aW9ucy5nZXRJZCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIGNvbnN0IFtkeW5hbWljQ29uZmlnLCBmaWRdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xyXG4gICAgICAgIGR5bmFtaWNDb25maWdQcm9taXNlLFxyXG4gICAgICAgIGZpZFByb21pc2VcclxuICAgIF0pO1xyXG4gICAgLy8gRGV0ZWN0IGlmIHVzZXIgaGFzIGFscmVhZHkgcHV0IHRoZSBndGFnIDxzY3JpcHQ+IHRhZyBvbiB0aGlzIHBhZ2Ugd2l0aCB0aGUgcGFzc2VkIGluXHJcbiAgICAvLyBkYXRhIGxheWVyIG5hbWUuXHJcbiAgICBpZiAoIWZpbmRHdGFnU2NyaXB0T25QYWdlKGRhdGFMYXllck5hbWUpKSB7XHJcbiAgICAgICAgaW5zZXJ0U2NyaXB0VGFnKGRhdGFMYXllck5hbWUsIGR5bmFtaWNDb25maWcubWVhc3VyZW1lbnRJZCk7XHJcbiAgICB9XHJcbiAgICAvLyBEZXRlY3RzIGlmIHRoZXJlIGFyZSBjb25zZW50IHNldHRpbmdzIHRoYXQgbmVlZCB0byBiZSBjb25maWd1cmVkLlxyXG4gICAgaWYgKGRlZmF1bHRDb25zZW50U2V0dGluZ3NGb3JJbml0KSB7XHJcbiAgICAgICAgZ3RhZ0NvcmUoXCJjb25zZW50XCIgLyogR3RhZ0NvbW1hbmQuQ09OU0VOVCAqLywgJ2RlZmF1bHQnLCBkZWZhdWx0Q29uc2VudFNldHRpbmdzRm9ySW5pdCk7XHJcbiAgICAgICAgX3NldENvbnNlbnREZWZhdWx0Rm9ySW5pdCh1bmRlZmluZWQpO1xyXG4gICAgfVxyXG4gICAgLy8gVGhpcyBjb21tYW5kIGluaXRpYWxpemVzIGd0YWcuanMgYW5kIG9ubHkgbmVlZHMgdG8gYmUgY2FsbGVkIG9uY2UgZm9yIHRoZSBlbnRpcmUgd2ViIGFwcCxcclxuICAgIC8vIGJ1dCBzaW5jZSBpdCBpcyBpZGVtcG90ZW50LCB3ZSBjYW4gY2FsbCBpdCBtdWx0aXBsZSB0aW1lcy5cclxuICAgIC8vIFdlIGtlZXAgaXQgdG9nZXRoZXIgd2l0aCBvdGhlciBpbml0aWFsaXphdGlvbiBsb2dpYyBmb3IgYmV0dGVyIGNvZGUgc3RydWN0dXJlLlxyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxuICAgIGd0YWdDb3JlKCdqcycsIG5ldyBEYXRlKCkpO1xyXG4gICAgLy8gVXNlciBjb25maWcgYWRkZWQgZmlyc3QuIFdlIGRvbid0IHdhbnQgdXNlcnMgdG8gYWNjaWRlbnRhbGx5IG92ZXJ3cml0ZVxyXG4gICAgLy8gYmFzZSBGaXJlYmFzZSBjb25maWcgcHJvcGVydGllcy5cclxuICAgIGNvbnN0IGNvbmZpZ1Byb3BlcnRpZXMgPSAoX2EgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuY29uZmlnKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB7fTtcclxuICAgIC8vIGd1YXJkIGFnYWluc3QgZGV2ZWxvcGVycyBhY2NpZGVudGFsbHkgc2V0dGluZyBwcm9wZXJ0aWVzIHdpdGggcHJlZml4IGBmaXJlYmFzZV9gXHJcbiAgICBjb25maWdQcm9wZXJ0aWVzW09SSUdJTl9LRVldID0gJ2ZpcmViYXNlJztcclxuICAgIGNvbmZpZ1Byb3BlcnRpZXMudXBkYXRlID0gdHJ1ZTtcclxuICAgIGlmIChmaWQgIT0gbnVsbCkge1xyXG4gICAgICAgIGNvbmZpZ1Byb3BlcnRpZXNbR0FfRklEX0tFWV0gPSBmaWQ7XHJcbiAgICB9XHJcbiAgICAvLyBJdCBzaG91bGQgYmUgdGhlIGZpcnN0IGNvbmZpZyBjb21tYW5kIGNhbGxlZCBvbiB0aGlzIEdBLUlEXHJcbiAgICAvLyBJbml0aWFsaXplIHRoaXMgR0EtSUQgYW5kIHNldCBGSUQgb24gaXQgdXNpbmcgdGhlIGd0YWcgY29uZmlnIEFQSS5cclxuICAgIC8vIE5vdGU6IFRoaXMgd2lsbCB0cmlnZ2VyIGEgcGFnZV92aWV3IGV2ZW50IHVubGVzcyAnc2VuZF9wYWdlX3ZpZXcnIGlzIHNldCB0byBmYWxzZSBpblxyXG4gICAgLy8gYGNvbmZpZ1Byb3BlcnRpZXNgLlxyXG4gICAgZ3RhZ0NvcmUoXCJjb25maWdcIiAvKiBHdGFnQ29tbWFuZC5DT05GSUcgKi8sIGR5bmFtaWNDb25maWcubWVhc3VyZW1lbnRJZCwgY29uZmlnUHJvcGVydGllcyk7XHJcbiAgICAvLyBEZXRlY3RzIGlmIHRoZXJlIGlzIGRhdGEgdGhhdCB3aWxsIGJlIHNldCBvbiBldmVyeSBldmVudCBsb2dnZWQgZnJvbSB0aGUgU0RLLlxyXG4gICAgaWYgKGRlZmF1bHRFdmVudFBhcmFtZXRlcnNGb3JJbml0KSB7XHJcbiAgICAgICAgZ3RhZ0NvcmUoXCJzZXRcIiAvKiBHdGFnQ29tbWFuZC5TRVQgKi8sIGRlZmF1bHRFdmVudFBhcmFtZXRlcnNGb3JJbml0KTtcclxuICAgICAgICBfc2V0RGVmYXVsdEV2ZW50UGFyYW1ldGVyc0ZvckluaXQodW5kZWZpbmVkKTtcclxuICAgIH1cclxuICAgIHJldHVybiBkeW5hbWljQ29uZmlnLm1lYXN1cmVtZW50SWQ7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIEFuYWx5dGljcyBTZXJ2aWNlIGNsYXNzLlxyXG4gKi9cclxuY2xhc3MgQW5hbHl0aWNzU2VydmljZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihhcHApIHtcclxuICAgICAgICB0aGlzLmFwcCA9IGFwcDtcclxuICAgIH1cclxuICAgIF9kZWxldGUoKSB7XHJcbiAgICAgICAgZGVsZXRlIGluaXRpYWxpemF0aW9uUHJvbWlzZXNNYXBbdGhpcy5hcHAub3B0aW9ucy5hcHBJZF07XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBNYXBzIGFwcElkIHRvIGZ1bGwgaW5pdGlhbGl6YXRpb24gcHJvbWlzZS4gV3JhcHBlZCBndGFnIGNhbGxzIG11c3Qgd2FpdCBvblxyXG4gKiBhbGwgb3Igc29tZSBvZiB0aGVzZSwgZGVwZW5kaW5nIG9uIHRoZSBjYWxsJ3MgYHNlbmRfdG9gIHBhcmFtIGFuZCB0aGUgc3RhdHVzXHJcbiAqIG9mIHRoZSBkeW5hbWljIGNvbmZpZyBmZXRjaGVzIChzZWUgYmVsb3cpLlxyXG4gKi9cclxubGV0IGluaXRpYWxpemF0aW9uUHJvbWlzZXNNYXAgPSB7fTtcclxuLyoqXHJcbiAqIExpc3Qgb2YgZHluYW1pYyBjb25maWcgZmV0Y2ggcHJvbWlzZXMuIEluIGNlcnRhaW4gY2FzZXMsIHdyYXBwZWQgZ3RhZyBjYWxsc1xyXG4gKiB3YWl0IG9uIGFsbCB0aGVzZSB0byBiZSBjb21wbGV0ZSBpbiBvcmRlciB0byBkZXRlcm1pbmUgaWYgaXQgY2FuIHNlbGVjdGl2ZWx5XHJcbiAqIHdhaXQgZm9yIG9ubHkgY2VydGFpbiBpbml0aWFsaXphdGlvbiAoRklEKSBwcm9taXNlcyBvciBpZiBpdCBtdXN0IHdhaXQgZm9yIGFsbC5cclxuICovXHJcbmxldCBkeW5hbWljQ29uZmlnUHJvbWlzZXNMaXN0ID0gW107XHJcbi8qKlxyXG4gKiBNYXBzIGZldGNoZWQgbWVhc3VyZW1lbnRJZHMgdG8gYXBwSWQuIFBvcHVsYXRlZCB3aGVuIHRoZSBhcHAncyBkeW5hbWljIGNvbmZpZ1xyXG4gKiBmZXRjaCBjb21wbGV0ZXMuIElmIGFscmVhZHkgcG9wdWxhdGVkLCBndGFnIGNvbmZpZyBjYWxscyBjYW4gdXNlIHRoaXMgdG9cclxuICogc2VsZWN0aXZlbHkgd2FpdCBmb3Igb25seSB0aGlzIGFwcCdzIGluaXRpYWxpemF0aW9uIHByb21pc2UgKEZJRCkgaW5zdGVhZCBvZiBhbGxcclxuICogaW5pdGlhbGl6YXRpb24gcHJvbWlzZXMuXHJcbiAqL1xyXG5jb25zdCBtZWFzdXJlbWVudElkVG9BcHBJZCA9IHt9O1xyXG4vKipcclxuICogTmFtZSBmb3Igd2luZG93IGdsb2JhbCBkYXRhIGxheWVyIGFycmF5IHVzZWQgYnkgR0E6IGRlZmF1bHRzIHRvICdkYXRhTGF5ZXInLlxyXG4gKi9cclxubGV0IGRhdGFMYXllck5hbWUgPSAnZGF0YUxheWVyJztcclxuLyoqXHJcbiAqIE5hbWUgZm9yIHdpbmRvdyBnbG9iYWwgZ3RhZyBmdW5jdGlvbiB1c2VkIGJ5IEdBOiBkZWZhdWx0cyB0byAnZ3RhZycuXHJcbiAqL1xyXG5sZXQgZ3RhZ05hbWUgPSAnZ3RhZyc7XHJcbi8qKlxyXG4gKiBSZXByb2R1Y3Rpb24gb2Ygc3RhbmRhcmQgZ3RhZyBmdW5jdGlvbiBvciByZWZlcmVuY2UgdG8gZXhpc3RpbmdcclxuICogZ3RhZyBmdW5jdGlvbiBvbiB3aW5kb3cgb2JqZWN0LlxyXG4gKi9cclxubGV0IGd0YWdDb3JlRnVuY3Rpb247XHJcbi8qKlxyXG4gKiBXcmFwcGVyIGFyb3VuZCBndGFnIGZ1bmN0aW9uIHRoYXQgZW5zdXJlcyBGSUQgaXMgc2VudCB3aXRoIGFsbFxyXG4gKiByZWxldmFudCBldmVudCBhbmQgY29uZmlnIGNhbGxzLlxyXG4gKi9cclxubGV0IHdyYXBwZWRHdGFnRnVuY3Rpb247XHJcbi8qKlxyXG4gKiBGbGFnIHRvIGVuc3VyZSBwYWdlIGluaXRpYWxpemF0aW9uIHN0ZXBzIChjcmVhdGlvbiBvciB3cmFwcGluZyBvZlxyXG4gKiBkYXRhTGF5ZXIgYW5kIGd0YWcgc2NyaXB0KSBhcmUgb25seSBydW4gb25jZSBwZXIgcGFnZSBsb2FkLlxyXG4gKi9cclxubGV0IGdsb2JhbEluaXREb25lID0gZmFsc2U7XHJcbi8qKlxyXG4gKiBDb25maWd1cmVzIEZpcmViYXNlIEFuYWx5dGljcyB0byB1c2UgY3VzdG9tIGBndGFnYCBvciBgZGF0YUxheWVyYCBuYW1lcy5cclxuICogSW50ZW5kZWQgdG8gYmUgdXNlZCBpZiBgZ3RhZy5qc2Agc2NyaXB0IGhhcyBiZWVuIGluc3RhbGxlZCBvblxyXG4gKiB0aGlzIHBhZ2UgaW5kZXBlbmRlbnRseSBvZiBGaXJlYmFzZSBBbmFseXRpY3MsIGFuZCBpcyB1c2luZyBub24tZGVmYXVsdFxyXG4gKiBuYW1lcyBmb3IgZWl0aGVyIHRoZSBgZ3RhZ2AgZnVuY3Rpb24gb3IgZm9yIGBkYXRhTGF5ZXJgLlxyXG4gKiBNdXN0IGJlIGNhbGxlZCBiZWZvcmUgY2FsbGluZyBgZ2V0QW5hbHl0aWNzKClgIG9yIGl0IHdvbid0XHJcbiAqIGhhdmUgYW55IGVmZmVjdC5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKlxyXG4gKiBAcGFyYW0gb3B0aW9ucyAtIEN1c3RvbSBndGFnIGFuZCBkYXRhTGF5ZXIgbmFtZXMuXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXR0aW5ncyhvcHRpb25zKSB7XHJcbiAgICBpZiAoZ2xvYmFsSW5pdERvbmUpIHtcclxuICAgICAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcImFscmVhZHktaW5pdGlhbGl6ZWRcIiAvKiBBbmFseXRpY3NFcnJvci5BTFJFQURZX0lOSVRJQUxJWkVEICovKTtcclxuICAgIH1cclxuICAgIGlmIChvcHRpb25zLmRhdGFMYXllck5hbWUpIHtcclxuICAgICAgICBkYXRhTGF5ZXJOYW1lID0gb3B0aW9ucy5kYXRhTGF5ZXJOYW1lO1xyXG4gICAgfVxyXG4gICAgaWYgKG9wdGlvbnMuZ3RhZ05hbWUpIHtcclxuICAgICAgICBndGFnTmFtZSA9IG9wdGlvbnMuZ3RhZ05hbWU7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgdHJ1ZSBpZiBubyBlbnZpcm9ubWVudCBtaXNtYXRjaCBpcyBmb3VuZC5cclxuICogSWYgZW52aXJvbm1lbnQgbWlzbWF0Y2hlcyBhcmUgZm91bmQsIHRocm93cyBhbiBJTlZBTElEX0FOQUxZVElDU19DT05URVhUXHJcbiAqIGVycm9yIHRoYXQgYWxzbyBsaXN0cyBkZXRhaWxzIGZvciBlYWNoIG1pc21hdGNoIGZvdW5kLlxyXG4gKi9cclxuZnVuY3Rpb24gd2Fybk9uQnJvd3NlckNvbnRleHRNaXNtYXRjaCgpIHtcclxuICAgIGNvbnN0IG1pc21hdGNoZWRFbnZNZXNzYWdlcyA9IFtdO1xyXG4gICAgaWYgKGlzQnJvd3NlckV4dGVuc2lvbigpKSB7XHJcbiAgICAgICAgbWlzbWF0Y2hlZEVudk1lc3NhZ2VzLnB1c2goJ1RoaXMgaXMgYSBicm93c2VyIGV4dGVuc2lvbiBlbnZpcm9ubWVudC4nKTtcclxuICAgIH1cclxuICAgIGlmICghYXJlQ29va2llc0VuYWJsZWQoKSkge1xyXG4gICAgICAgIG1pc21hdGNoZWRFbnZNZXNzYWdlcy5wdXNoKCdDb29raWVzIGFyZSBub3QgYXZhaWxhYmxlLicpO1xyXG4gICAgfVxyXG4gICAgaWYgKG1pc21hdGNoZWRFbnZNZXNzYWdlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgY29uc3QgZGV0YWlscyA9IG1pc21hdGNoZWRFbnZNZXNzYWdlc1xyXG4gICAgICAgICAgICAubWFwKChtZXNzYWdlLCBpbmRleCkgPT4gYCgke2luZGV4ICsgMX0pICR7bWVzc2FnZX1gKVxyXG4gICAgICAgICAgICAuam9pbignICcpO1xyXG4gICAgICAgIGNvbnN0IGVyciA9IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwiaW52YWxpZC1hbmFseXRpY3MtY29udGV4dFwiIC8qIEFuYWx5dGljc0Vycm9yLklOVkFMSURfQU5BTFlUSUNTX0NPTlRFWFQgKi8sIHtcclxuICAgICAgICAgICAgZXJyb3JJbmZvOiBkZXRhaWxzXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbG9nZ2VyLndhcm4oZXJyLm1lc3NhZ2UpO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBBbmFseXRpY3MgaW5zdGFuY2UgZmFjdG9yeS5cclxuICogQGludGVybmFsXHJcbiAqL1xyXG5mdW5jdGlvbiBmYWN0b3J5KGFwcCwgaW5zdGFsbGF0aW9ucywgb3B0aW9ucykge1xyXG4gICAgd2Fybk9uQnJvd3NlckNvbnRleHRNaXNtYXRjaCgpO1xyXG4gICAgY29uc3QgYXBwSWQgPSBhcHAub3B0aW9ucy5hcHBJZDtcclxuICAgIGlmICghYXBwSWQpIHtcclxuICAgICAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcIm5vLWFwcC1pZFwiIC8qIEFuYWx5dGljc0Vycm9yLk5PX0FQUF9JRCAqLyk7XHJcbiAgICB9XHJcbiAgICBpZiAoIWFwcC5vcHRpb25zLmFwaUtleSkge1xyXG4gICAgICAgIGlmIChhcHAub3B0aW9ucy5tZWFzdXJlbWVudElkKSB7XHJcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKGBUaGUgXCJhcGlLZXlcIiBmaWVsZCBpcyBlbXB0eSBpbiB0aGUgbG9jYWwgRmlyZWJhc2UgY29uZmlnLiBUaGlzIGlzIG5lZWRlZCB0byBmZXRjaCB0aGUgbGF0ZXN0YCArXHJcbiAgICAgICAgICAgICAgICBgIG1lYXN1cmVtZW50IElEIGZvciB0aGlzIEZpcmViYXNlIGFwcC4gRmFsbGluZyBiYWNrIHRvIHRoZSBtZWFzdXJlbWVudCBJRCAke2FwcC5vcHRpb25zLm1lYXN1cmVtZW50SWR9YCArXHJcbiAgICAgICAgICAgICAgICBgIHByb3ZpZGVkIGluIHRoZSBcIm1lYXN1cmVtZW50SWRcIiBmaWVsZCBpbiB0aGUgbG9jYWwgRmlyZWJhc2UgY29uZmlnLmApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgRVJST1JfRkFDVE9SWS5jcmVhdGUoXCJuby1hcGkta2V5XCIgLyogQW5hbHl0aWNzRXJyb3IuTk9fQVBJX0tFWSAqLyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKGluaXRpYWxpemF0aW9uUHJvbWlzZXNNYXBbYXBwSWRdICE9IG51bGwpIHtcclxuICAgICAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcImFscmVhZHktZXhpc3RzXCIgLyogQW5hbHl0aWNzRXJyb3IuQUxSRUFEWV9FWElTVFMgKi8sIHtcclxuICAgICAgICAgICAgaWQ6IGFwcElkXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAoIWdsb2JhbEluaXREb25lKSB7XHJcbiAgICAgICAgLy8gU3RlcHMgaGVyZSBzaG91bGQgb25seSBiZSBkb25lIG9uY2UgcGVyIHBhZ2U6IGNyZWF0aW9uIG9yIHdyYXBwaW5nXHJcbiAgICAgICAgLy8gb2YgZGF0YUxheWVyIGFuZCBnbG9iYWwgZ3RhZyBmdW5jdGlvbi5cclxuICAgICAgICBnZXRPckNyZWF0ZURhdGFMYXllcihkYXRhTGF5ZXJOYW1lKTtcclxuICAgICAgICBjb25zdCB7IHdyYXBwZWRHdGFnLCBndGFnQ29yZSB9ID0gd3JhcE9yQ3JlYXRlR3RhZyhpbml0aWFsaXphdGlvblByb21pc2VzTWFwLCBkeW5hbWljQ29uZmlnUHJvbWlzZXNMaXN0LCBtZWFzdXJlbWVudElkVG9BcHBJZCwgZGF0YUxheWVyTmFtZSwgZ3RhZ05hbWUpO1xyXG4gICAgICAgIHdyYXBwZWRHdGFnRnVuY3Rpb24gPSB3cmFwcGVkR3RhZztcclxuICAgICAgICBndGFnQ29yZUZ1bmN0aW9uID0gZ3RhZ0NvcmU7XHJcbiAgICAgICAgZ2xvYmFsSW5pdERvbmUgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgLy8gQXN5bmMgYnV0IG5vbi1ibG9ja2luZy5cclxuICAgIC8vIFRoaXMgbWFwIHJlZmxlY3RzIHRoZSBjb21wbGV0aW9uIHN0YXRlIG9mIGFsbCBwcm9taXNlcyBmb3IgZWFjaCBhcHBJZC5cclxuICAgIGluaXRpYWxpemF0aW9uUHJvbWlzZXNNYXBbYXBwSWRdID0gX2luaXRpYWxpemVBbmFseXRpY3MoYXBwLCBkeW5hbWljQ29uZmlnUHJvbWlzZXNMaXN0LCBtZWFzdXJlbWVudElkVG9BcHBJZCwgaW5zdGFsbGF0aW9ucywgZ3RhZ0NvcmVGdW5jdGlvbiwgZGF0YUxheWVyTmFtZSwgb3B0aW9ucyk7XHJcbiAgICBjb25zdCBhbmFseXRpY3NJbnN0YW5jZSA9IG5ldyBBbmFseXRpY3NTZXJ2aWNlKGFwcCk7XHJcbiAgICByZXR1cm4gYW5hbHl0aWNzSW5zdGFuY2U7XHJcbn1cblxuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqL1xyXG4vKipcclxuICogUmV0dXJucyBhbiB7QGxpbmsgQW5hbHl0aWNzfSBpbnN0YW5jZSBmb3IgdGhlIGdpdmVuIGFwcC5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKlxyXG4gKiBAcGFyYW0gYXBwIC0gVGhlIHtAbGluayBAZmlyZWJhc2UvYXBwI0ZpcmViYXNlQXBwfSB0byB1c2UuXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRBbmFseXRpY3MoYXBwID0gZ2V0QXBwKCkpIHtcclxuICAgIGFwcCA9IGdldE1vZHVsYXJJbnN0YW5jZShhcHApO1xyXG4gICAgLy8gRGVwZW5kZW5jaWVzXHJcbiAgICBjb25zdCBhbmFseXRpY3NQcm92aWRlciA9IF9nZXRQcm92aWRlcihhcHAsIEFOQUxZVElDU19UWVBFKTtcclxuICAgIGlmIChhbmFseXRpY3NQcm92aWRlci5pc0luaXRpYWxpemVkKCkpIHtcclxuICAgICAgICByZXR1cm4gYW5hbHl0aWNzUHJvdmlkZXIuZ2V0SW1tZWRpYXRlKCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaW5pdGlhbGl6ZUFuYWx5dGljcyhhcHApO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIGFuIHtAbGluayBBbmFseXRpY3N9IGluc3RhbmNlIGZvciB0aGUgZ2l2ZW4gYXBwLlxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqXHJcbiAqIEBwYXJhbSBhcHAgLSBUaGUge0BsaW5rIEBmaXJlYmFzZS9hcHAjRmlyZWJhc2VBcHB9IHRvIHVzZS5cclxuICovXHJcbmZ1bmN0aW9uIGluaXRpYWxpemVBbmFseXRpY3MoYXBwLCBvcHRpb25zID0ge30pIHtcclxuICAgIC8vIERlcGVuZGVuY2llc1xyXG4gICAgY29uc3QgYW5hbHl0aWNzUHJvdmlkZXIgPSBfZ2V0UHJvdmlkZXIoYXBwLCBBTkFMWVRJQ1NfVFlQRSk7XHJcbiAgICBpZiAoYW5hbHl0aWNzUHJvdmlkZXIuaXNJbml0aWFsaXplZCgpKSB7XHJcbiAgICAgICAgY29uc3QgZXhpc3RpbmdJbnN0YW5jZSA9IGFuYWx5dGljc1Byb3ZpZGVyLmdldEltbWVkaWF0ZSgpO1xyXG4gICAgICAgIGlmIChkZWVwRXF1YWwob3B0aW9ucywgYW5hbHl0aWNzUHJvdmlkZXIuZ2V0T3B0aW9ucygpKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZXhpc3RpbmdJbnN0YW5jZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwiYWxyZWFkeS1pbml0aWFsaXplZFwiIC8qIEFuYWx5dGljc0Vycm9yLkFMUkVBRFlfSU5JVElBTElaRUQgKi8pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbnN0IGFuYWx5dGljc0luc3RhbmNlID0gYW5hbHl0aWNzUHJvdmlkZXIuaW5pdGlhbGl6ZSh7IG9wdGlvbnMgfSk7XHJcbiAgICByZXR1cm4gYW5hbHl0aWNzSW5zdGFuY2U7XHJcbn1cclxuLyoqXHJcbiAqIFRoaXMgaXMgYSBwdWJsaWMgc3RhdGljIG1ldGhvZCBwcm92aWRlZCB0byB1c2VycyB0aGF0IHdyYXBzIGZvdXIgZGlmZmVyZW50IGNoZWNrczpcclxuICpcclxuICogMS4gQ2hlY2sgaWYgaXQncyBub3QgYSBicm93c2VyIGV4dGVuc2lvbiBlbnZpcm9ubWVudC5cclxuICogMi4gQ2hlY2sgaWYgY29va2llcyBhcmUgZW5hYmxlZCBpbiBjdXJyZW50IGJyb3dzZXIuXHJcbiAqIDMuIENoZWNrIGlmIEluZGV4ZWREQiBpcyBzdXBwb3J0ZWQgYnkgdGhlIGJyb3dzZXIgZW52aXJvbm1lbnQuXHJcbiAqIDQuIENoZWNrIGlmIHRoZSBjdXJyZW50IGJyb3dzZXIgY29udGV4dCBpcyB2YWxpZCBmb3IgdXNpbmcgYEluZGV4ZWREQi5vcGVuKClgLlxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqXHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiBpc1N1cHBvcnRlZCgpIHtcclxuICAgIGlmIChpc0Jyb3dzZXJFeHRlbnNpb24oKSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGlmICghYXJlQ29va2llc0VuYWJsZWQoKSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGlmICghaXNJbmRleGVkREJBdmFpbGFibGUoKSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgaXNEQk9wZW5hYmxlID0gYXdhaXQgdmFsaWRhdGVJbmRleGVkREJPcGVuYWJsZSgpO1xyXG4gICAgICAgIHJldHVybiBpc0RCT3BlbmFibGU7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIFVzZSBndGFnIGBjb25maWdgIGNvbW1hbmQgdG8gc2V0IGBzY3JlZW5fbmFtZWAuXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICpcclxuICogQGRlcHJlY2F0ZWQgVXNlIHtAbGluayBsb2dFdmVudH0gd2l0aCBgZXZlbnROYW1lYCBhcyAnc2NyZWVuX3ZpZXcnIGFuZCBhZGQgcmVsZXZhbnQgYGV2ZW50UGFyYW1zYC5cclxuICogU2VlIHtAbGluayBodHRwczovL2ZpcmViYXNlLmdvb2dsZS5jb20vZG9jcy9hbmFseXRpY3Mvc2NyZWVudmlld3MgfCBUcmFjayBTY3JlZW52aWV3c30uXHJcbiAqXHJcbiAqIEBwYXJhbSBhbmFseXRpY3NJbnN0YW5jZSAtIFRoZSB7QGxpbmsgQW5hbHl0aWNzfSBpbnN0YW5jZS5cclxuICogQHBhcmFtIHNjcmVlbk5hbWUgLSBTY3JlZW4gbmFtZSB0byBzZXQuXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXRDdXJyZW50U2NyZWVuKGFuYWx5dGljc0luc3RhbmNlLCBzY3JlZW5OYW1lLCBvcHRpb25zKSB7XHJcbiAgICBhbmFseXRpY3NJbnN0YW5jZSA9IGdldE1vZHVsYXJJbnN0YW5jZShhbmFseXRpY3NJbnN0YW5jZSk7XHJcbiAgICBzZXRDdXJyZW50U2NyZWVuJDEod3JhcHBlZEd0YWdGdW5jdGlvbiwgaW5pdGlhbGl6YXRpb25Qcm9taXNlc01hcFthbmFseXRpY3NJbnN0YW5jZS5hcHAub3B0aW9ucy5hcHBJZF0sIHNjcmVlbk5hbWUsIG9wdGlvbnMpLmNhdGNoKGUgPT4gbG9nZ2VyLmVycm9yKGUpKTtcclxufVxyXG4vKipcclxuICogUmV0cmlldmVzIGEgdW5pcXVlIEdvb2dsZSBBbmFseXRpY3MgaWRlbnRpZmllciBmb3IgdGhlIHdlYiBjbGllbnQuXHJcbiAqIFNlZSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vYW5hbHl0aWNzL2Rldmd1aWRlcy9jb2xsZWN0aW9uL2dhNC9yZWZlcmVuY2UvY29uZmlnI2NsaWVudF9pZCB8IGNsaWVudF9pZH0uXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICpcclxuICogQHBhcmFtIGFwcCAtIFRoZSB7QGxpbmsgQGZpcmViYXNlL2FwcCNGaXJlYmFzZUFwcH0gdG8gdXNlLlxyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gZ2V0R29vZ2xlQW5hbHl0aWNzQ2xpZW50SWQoYW5hbHl0aWNzSW5zdGFuY2UpIHtcclxuICAgIGFuYWx5dGljc0luc3RhbmNlID0gZ2V0TW9kdWxhckluc3RhbmNlKGFuYWx5dGljc0luc3RhbmNlKTtcclxuICAgIHJldHVybiBpbnRlcm5hbEdldEdvb2dsZUFuYWx5dGljc0NsaWVudElkKHdyYXBwZWRHdGFnRnVuY3Rpb24sIGluaXRpYWxpemF0aW9uUHJvbWlzZXNNYXBbYW5hbHl0aWNzSW5zdGFuY2UuYXBwLm9wdGlvbnMuYXBwSWRdKTtcclxufVxyXG4vKipcclxuICogVXNlIGd0YWcgYGNvbmZpZ2AgY29tbWFuZCB0byBzZXQgYHVzZXJfaWRgLlxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqXHJcbiAqIEBwYXJhbSBhbmFseXRpY3NJbnN0YW5jZSAtIFRoZSB7QGxpbmsgQW5hbHl0aWNzfSBpbnN0YW5jZS5cclxuICogQHBhcmFtIGlkIC0gVXNlciBJRCB0byBzZXQuXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXRVc2VySWQoYW5hbHl0aWNzSW5zdGFuY2UsIGlkLCBvcHRpb25zKSB7XHJcbiAgICBhbmFseXRpY3NJbnN0YW5jZSA9IGdldE1vZHVsYXJJbnN0YW5jZShhbmFseXRpY3NJbnN0YW5jZSk7XHJcbiAgICBzZXRVc2VySWQkMSh3cmFwcGVkR3RhZ0Z1bmN0aW9uLCBpbml0aWFsaXphdGlvblByb21pc2VzTWFwW2FuYWx5dGljc0luc3RhbmNlLmFwcC5vcHRpb25zLmFwcElkXSwgaWQsIG9wdGlvbnMpLmNhdGNoKGUgPT4gbG9nZ2VyLmVycm9yKGUpKTtcclxufVxyXG4vKipcclxuICogVXNlIGd0YWcgYGNvbmZpZ2AgY29tbWFuZCB0byBzZXQgYWxsIHBhcmFtcyBzcGVjaWZpZWQuXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmZ1bmN0aW9uIHNldFVzZXJQcm9wZXJ0aWVzKGFuYWx5dGljc0luc3RhbmNlLCBwcm9wZXJ0aWVzLCBvcHRpb25zKSB7XHJcbiAgICBhbmFseXRpY3NJbnN0YW5jZSA9IGdldE1vZHVsYXJJbnN0YW5jZShhbmFseXRpY3NJbnN0YW5jZSk7XHJcbiAgICBzZXRVc2VyUHJvcGVydGllcyQxKHdyYXBwZWRHdGFnRnVuY3Rpb24sIGluaXRpYWxpemF0aW9uUHJvbWlzZXNNYXBbYW5hbHl0aWNzSW5zdGFuY2UuYXBwLm9wdGlvbnMuYXBwSWRdLCBwcm9wZXJ0aWVzLCBvcHRpb25zKS5jYXRjaChlID0+IGxvZ2dlci5lcnJvcihlKSk7XHJcbn1cclxuLyoqXHJcbiAqIFNldHMgd2hldGhlciBHb29nbGUgQW5hbHl0aWNzIGNvbGxlY3Rpb24gaXMgZW5hYmxlZCBmb3IgdGhpcyBhcHAgb24gdGhpcyBkZXZpY2UuXHJcbiAqIFNldHMgZ2xvYmFsIGB3aW5kb3dbJ2dhLWRpc2FibGUtYW5hbHl0aWNzSWQnXSA9IHRydWU7YFxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqXHJcbiAqIEBwYXJhbSBhbmFseXRpY3NJbnN0YW5jZSAtIFRoZSB7QGxpbmsgQW5hbHl0aWNzfSBpbnN0YW5jZS5cclxuICogQHBhcmFtIGVuYWJsZWQgLSBJZiB0cnVlLCBlbmFibGVzIGNvbGxlY3Rpb24sIGlmIGZhbHNlLCBkaXNhYmxlcyBpdC5cclxuICovXHJcbmZ1bmN0aW9uIHNldEFuYWx5dGljc0NvbGxlY3Rpb25FbmFibGVkKGFuYWx5dGljc0luc3RhbmNlLCBlbmFibGVkKSB7XHJcbiAgICBhbmFseXRpY3NJbnN0YW5jZSA9IGdldE1vZHVsYXJJbnN0YW5jZShhbmFseXRpY3NJbnN0YW5jZSk7XHJcbiAgICBzZXRBbmFseXRpY3NDb2xsZWN0aW9uRW5hYmxlZCQxKGluaXRpYWxpemF0aW9uUHJvbWlzZXNNYXBbYW5hbHl0aWNzSW5zdGFuY2UuYXBwLm9wdGlvbnMuYXBwSWRdLCBlbmFibGVkKS5jYXRjaChlID0+IGxvZ2dlci5lcnJvcihlKSk7XHJcbn1cclxuLyoqXHJcbiAqIEFkZHMgZGF0YSB0aGF0IHdpbGwgYmUgc2V0IG9uIGV2ZXJ5IGV2ZW50IGxvZ2dlZCBmcm9tIHRoZSBTREssIGluY2x1ZGluZyBhdXRvbWF0aWMgb25lcy5cclxuICogV2l0aCBndGFnJ3MgXCJzZXRcIiBjb21tYW5kLCB0aGUgdmFsdWVzIHBhc3NlZCBwZXJzaXN0IG9uIHRoZSBjdXJyZW50IHBhZ2UgYW5kIGFyZSBwYXNzZWQgd2l0aFxyXG4gKiBhbGwgc3Vic2VxdWVudCBldmVudHMuXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIGN1c3RvbVBhcmFtcyAtIEFueSBjdXN0b20gcGFyYW1zIHRoZSB1c2VyIG1heSBwYXNzIHRvIGd0YWcuanMuXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXREZWZhdWx0RXZlbnRQYXJhbWV0ZXJzKGN1c3RvbVBhcmFtcykge1xyXG4gICAgLy8gQ2hlY2sgaWYgcmVmZXJlbmNlIHRvIGV4aXN0aW5nIGd0YWcgZnVuY3Rpb24gb24gd2luZG93IG9iamVjdCBleGlzdHNcclxuICAgIGlmICh3cmFwcGVkR3RhZ0Z1bmN0aW9uKSB7XHJcbiAgICAgICAgd3JhcHBlZEd0YWdGdW5jdGlvbihcInNldFwiIC8qIEd0YWdDb21tYW5kLlNFVCAqLywgY3VzdG9tUGFyYW1zKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIF9zZXREZWZhdWx0RXZlbnRQYXJhbWV0ZXJzRm9ySW5pdChjdXN0b21QYXJhbXMpO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBTZW5kcyBhIEdvb2dsZSBBbmFseXRpY3MgZXZlbnQgd2l0aCBnaXZlbiBgZXZlbnRQYXJhbXNgLiBUaGlzIG1ldGhvZFxyXG4gKiBhdXRvbWF0aWNhbGx5IGFzc29jaWF0ZXMgdGhpcyBsb2dnZWQgZXZlbnQgd2l0aCB0aGlzIEZpcmViYXNlIHdlYlxyXG4gKiBhcHAgaW5zdGFuY2Ugb24gdGhpcyBkZXZpY2UuXHJcbiAqIExpc3Qgb2Ygb2ZmaWNpYWwgZXZlbnQgcGFyYW1ldGVycyBjYW4gYmUgZm91bmQgaW4gdGhlIGd0YWcuanNcclxuICogcmVmZXJlbmNlIGRvY3VtZW50YXRpb246XHJcbiAqIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9ndGFnanMvcmVmZXJlbmNlL2dhNC1ldmVudHNcclxuICogfCB0aGUgR0E0IHJlZmVyZW5jZSBkb2N1bWVudGF0aW9ufS5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZnVuY3Rpb24gbG9nRXZlbnQoYW5hbHl0aWNzSW5zdGFuY2UsIGV2ZW50TmFtZSwgZXZlbnRQYXJhbXMsIG9wdGlvbnMpIHtcclxuICAgIGFuYWx5dGljc0luc3RhbmNlID0gZ2V0TW9kdWxhckluc3RhbmNlKGFuYWx5dGljc0luc3RhbmNlKTtcclxuICAgIGxvZ0V2ZW50JDEod3JhcHBlZEd0YWdGdW5jdGlvbiwgaW5pdGlhbGl6YXRpb25Qcm9taXNlc01hcFthbmFseXRpY3NJbnN0YW5jZS5hcHAub3B0aW9ucy5hcHBJZF0sIGV2ZW50TmFtZSwgZXZlbnRQYXJhbXMsIG9wdGlvbnMpLmNhdGNoKGUgPT4gbG9nZ2VyLmVycm9yKGUpKTtcclxufVxyXG4vKipcclxuICogU2V0cyB0aGUgYXBwbGljYWJsZSBlbmQgdXNlciBjb25zZW50IHN0YXRlIGZvciB0aGlzIHdlYiBhcHAgYWNyb3NzIGFsbCBndGFnIHJlZmVyZW5jZXMgb25jZVxyXG4gKiBGaXJlYmFzZSBBbmFseXRpY3MgaXMgaW5pdGlhbGl6ZWQuXHJcbiAqXHJcbiAqIFVzZSB0aGUge0BsaW5rIENvbnNlbnRTZXR0aW5nc30gdG8gc3BlY2lmeSBpbmRpdmlkdWFsIGNvbnNlbnQgdHlwZSB2YWx1ZXMuIEJ5IGRlZmF1bHQgY29uc2VudFxyXG4gKiB0eXBlcyBhcmUgc2V0IHRvIFwiZ3JhbnRlZFwiLlxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSBjb25zZW50U2V0dGluZ3MgLSBNYXBzIHRoZSBhcHBsaWNhYmxlIGVuZCB1c2VyIGNvbnNlbnQgc3RhdGUgZm9yIGd0YWcuanMuXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXRDb25zZW50KGNvbnNlbnRTZXR0aW5ncykge1xyXG4gICAgLy8gQ2hlY2sgaWYgcmVmZXJlbmNlIHRvIGV4aXN0aW5nIGd0YWcgZnVuY3Rpb24gb24gd2luZG93IG9iamVjdCBleGlzdHNcclxuICAgIGlmICh3cmFwcGVkR3RhZ0Z1bmN0aW9uKSB7XHJcbiAgICAgICAgd3JhcHBlZEd0YWdGdW5jdGlvbihcImNvbnNlbnRcIiAvKiBHdGFnQ29tbWFuZC5DT05TRU5UICovLCAndXBkYXRlJywgY29uc2VudFNldHRpbmdzKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIF9zZXRDb25zZW50RGVmYXVsdEZvckluaXQoY29uc2VudFNldHRpbmdzKTtcclxuICAgIH1cclxufVxuXG5jb25zdCBuYW1lID0gXCJAZmlyZWJhc2UvYW5hbHl0aWNzXCI7XG5jb25zdCB2ZXJzaW9uID0gXCIwLjEwLjBcIjtcblxuLyoqXHJcbiAqIEZpcmViYXNlIEFuYWx5dGljc1xyXG4gKlxyXG4gKiBAcGFja2FnZURvY3VtZW50YXRpb25cclxuICovXHJcbmZ1bmN0aW9uIHJlZ2lzdGVyQW5hbHl0aWNzKCkge1xyXG4gICAgX3JlZ2lzdGVyQ29tcG9uZW50KG5ldyBDb21wb25lbnQoQU5BTFlUSUNTX1RZUEUsIChjb250YWluZXIsIHsgb3B0aW9uczogYW5hbHl0aWNzT3B0aW9ucyB9KSA9PiB7XHJcbiAgICAgICAgLy8gZ2V0SW1tZWRpYXRlIGZvciBGaXJlYmFzZUFwcCB3aWxsIGFsd2F5cyBzdWNjZWVkXHJcbiAgICAgICAgY29uc3QgYXBwID0gY29udGFpbmVyLmdldFByb3ZpZGVyKCdhcHAnKS5nZXRJbW1lZGlhdGUoKTtcclxuICAgICAgICBjb25zdCBpbnN0YWxsYXRpb25zID0gY29udGFpbmVyXHJcbiAgICAgICAgICAgIC5nZXRQcm92aWRlcignaW5zdGFsbGF0aW9ucy1pbnRlcm5hbCcpXHJcbiAgICAgICAgICAgIC5nZXRJbW1lZGlhdGUoKTtcclxuICAgICAgICByZXR1cm4gZmFjdG9yeShhcHAsIGluc3RhbGxhdGlvbnMsIGFuYWx5dGljc09wdGlvbnMpO1xyXG4gICAgfSwgXCJQVUJMSUNcIiAvKiBDb21wb25lbnRUeXBlLlBVQkxJQyAqLykpO1xyXG4gICAgX3JlZ2lzdGVyQ29tcG9uZW50KG5ldyBDb21wb25lbnQoJ2FuYWx5dGljcy1pbnRlcm5hbCcsIGludGVybmFsRmFjdG9yeSwgXCJQUklWQVRFXCIgLyogQ29tcG9uZW50VHlwZS5QUklWQVRFICovKSk7XHJcbiAgICByZWdpc3RlclZlcnNpb24obmFtZSwgdmVyc2lvbik7XHJcbiAgICAvLyBCVUlMRF9UQVJHRVQgd2lsbCBiZSByZXBsYWNlZCBieSB2YWx1ZXMgbGlrZSBlc201LCBlc20yMDE3LCBjanM1LCBldGMgZHVyaW5nIHRoZSBjb21waWxhdGlvblxyXG4gICAgcmVnaXN0ZXJWZXJzaW9uKG5hbWUsIHZlcnNpb24sICdlc20yMDE3Jyk7XHJcbiAgICBmdW5jdGlvbiBpbnRlcm5hbEZhY3RvcnkoY29udGFpbmVyKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgYW5hbHl0aWNzID0gY29udGFpbmVyLmdldFByb3ZpZGVyKEFOQUxZVElDU19UWVBFKS5nZXRJbW1lZGlhdGUoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGxvZ0V2ZW50OiAoZXZlbnROYW1lLCBldmVudFBhcmFtcywgb3B0aW9ucykgPT4gbG9nRXZlbnQoYW5hbHl0aWNzLCBldmVudE5hbWUsIGV2ZW50UGFyYW1zLCBvcHRpb25zKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcImludGVyb3AtY29tcG9uZW50LXJlZy1mYWlsZWRcIiAvKiBBbmFseXRpY3NFcnJvci5JTlRFUk9QX0NPTVBPTkVOVF9SRUdfRkFJTEVEICovLCB7XHJcbiAgICAgICAgICAgICAgICByZWFzb246IGVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbnJlZ2lzdGVyQW5hbHl0aWNzKCk7XG5cbmV4cG9ydCB7IGdldEFuYWx5dGljcywgZ2V0R29vZ2xlQW5hbHl0aWNzQ2xpZW50SWQsIGluaXRpYWxpemVBbmFseXRpY3MsIGlzU3VwcG9ydGVkLCBsb2dFdmVudCwgc2V0QW5hbHl0aWNzQ29sbGVjdGlvbkVuYWJsZWQsIHNldENvbnNlbnQsIHNldEN1cnJlbnRTY3JlZW4sIHNldERlZmF1bHRFdmVudFBhcmFtZXRlcnMsIHNldFVzZXJJZCwgc2V0VXNlclByb3BlcnRpZXMsIHNldHRpbmdzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lc20yMDE3LmpzLm1hcFxuIiwiZXhwb3J0IGNvbnN0IGZpcmViYXNlQ29uZmlnID0ge1xyXG4gICAgYXBpS2V5OiBcIkFJemFTeUI4YzJsQlZpMjZ1N1lSTDlzeE9QOTdVYXEzeU44aFRsNFwiLFxyXG4gICAgYXV0aERvbWFpbjogXCJmdG0tYjlkOTkuZmlyZWJhc2VhcHAuY29tXCIsXHJcbiAgICBkYXRhYmFzZVVSTDogXCJodHRwczovL2Z0bS1iOWQ5OS5maXJlYmFzZWlvLmNvbVwiLFxyXG4gICAgcHJvamVjdElkOiBcImZ0bS1iOWQ5OVwiLFxyXG4gICAgc3RvcmFnZUJ1Y2tldDogXCJmdG0tYjlkOTkuYXBwc3BvdC5jb21cIixcclxuICAgIG1lc3NhZ2luZ1NlbmRlcklkOiBcIjYwMjQwMjM4Nzk0MVwiLFxyXG4gICAgYXBwSWQ6IFwiMTo2MDI0MDIzODc5NDE6d2ViOmE2M2Y0ZWFkZGM5NDlmNTM5ZGUxMGNcIixcclxuICAgIG1lYXN1cmVtZW50SWQ6IFwiRy1GVkxTTjdEN05NXCIsXHJcbn07XHJcbiIsImltcG9ydCB7IGluaXRpYWxpemVBcHAgfSBmcm9tIFwiZmlyZWJhc2UvYXBwXCI7XHJcbmltcG9ydCB7IGdldEFuYWx5dGljcywgbG9nRXZlbnQgfSBmcm9tIFwiZmlyZWJhc2UvYW5hbHl0aWNzXCI7XHJcbmltcG9ydCB7IGZpcmViYXNlQ29uZmlnIH0gZnJvbSBcIi4vZmlyZWJhc2UtY29uZmlnXCI7XHJcbmV4cG9ydCBjbGFzcyBCYXNlRmlyZWJhc2VJbnRlZ3JhdGlvbiB7XHJcbiAgICBmaXJlYmFzZUFwcDtcclxuICAgIGFuYWx5dGljcztcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZUZpcmViYXNlKCk7XHJcbiAgICB9XHJcbiAgICBjdXN0b21FdmVudHMoZXZlbnROYW1lLCBldmVudCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBTZW5kaW5nIGN1c3RvbSBldmVudCAke2V2ZW50TmFtZX0gd2l0aCBkYXRhOmAsIGV2ZW50KTtcclxuICAgICAgICAgICAgbG9nRXZlbnQodGhpcy5hbmFseXRpY3MsIGV2ZW50TmFtZSwgZXZlbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHdoaWxlIGxvZ2dpbmcgY3VzdG9tIGV2ZW50OlwiLCBlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc2Vzc2lvbkVuZCgpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAobmF2aWdhdG9yLm9uTGluZSAmJiB0aGlzLmFuYWx5dGljcyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBsb2dFdmVudCh0aGlzLmFuYWx5dGljcywgXCJzZXNzaW9uX2VuZFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHdoaWxlIGxvZ2dpbmcgc2Vzc2lvbl9lbmQgZXZlbnQ6XCIsIGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpbml0aWFsaXplRmlyZWJhc2UoKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5maXJlYmFzZUFwcCA9IGluaXRpYWxpemVBcHAoZmlyZWJhc2VDb25maWcpO1xyXG4gICAgICAgICAgICB0aGlzLmFuYWx5dGljcyA9IGdldEFuYWx5dGljcyh0aGlzLmZpcmViYXNlQXBwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciB3aGlsZSBpbml0aWFsaXppbmcgRmlyZWJhc2U6XCIsIGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgQmFzZUZpcmViYXNlSW50ZWdyYXRpb24gfSBmcm9tIFwiLi9iYXNlLWZpcmViYXNlLWludGVncmF0aW9uXCI7XHJcbmV4cG9ydCBjbGFzcyBGaXJlYmFzZUludGVncmF0aW9uIGV4dGVuZHMgQmFzZUZpcmViYXNlSW50ZWdyYXRpb24ge1xyXG4gICAgc3RhdGljIGluc3RhbmNlO1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgIH1cclxuICAgIHN0YXRpYyBnZXRJbnN0YW5jZSgpIHtcclxuICAgICAgICBpZiAoIUZpcmViYXNlSW50ZWdyYXRpb24uaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgRmlyZWJhc2VJbnRlZ3JhdGlvbi5pbnN0YW5jZSA9IG5ldyBGaXJlYmFzZUludGVncmF0aW9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBGaXJlYmFzZUludGVncmF0aW9uLmluc3RhbmNlO1xyXG4gICAgfVxyXG4gICAgc2VuZFNlc3Npb25TdGFydEV2ZW50KGRhdGEpIHtcclxuICAgICAgICB0aGlzLmN1c3RvbUV2ZW50cyhcInNlc3Npb25fc3RhcnRcIiwgZGF0YSk7XHJcbiAgICB9XHJcbiAgICBzZW5kU2Vzc2lvbkVuZEV2ZW50KGRhdGEpIHtcclxuICAgICAgICB0aGlzLmN1c3RvbUV2ZW50cyhcInNlc3Npb25fZW5kXCIsIGRhdGEpO1xyXG4gICAgfVxyXG4gICAgc2VuZFNlbGVjdGVkTGV2ZWxFdmVudChkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5jdXN0b21FdmVudHMoXCJzZWxlY3RlZF9sZXZlbFwiLCBkYXRhKTtcclxuICAgIH1cclxuICAgIHNlbmRUYXBwZWRTdGFydEV2ZW50KGRhdGEpIHtcclxuICAgICAgICB0aGlzLmN1c3RvbUV2ZW50cyhcInRhcHBlZF9zdGFydFwiLCBkYXRhKTtcclxuICAgIH1cclxuICAgIHNlbmRQdXp6bGVDb21wbGV0ZWRFdmVudChkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5jdXN0b21FdmVudHMoXCJwdXp6bGVfY29tcGxldGVkXCIsIGRhdGEpO1xyXG4gICAgfVxyXG4gICAgc2VuZExldmVsQ29tcGxldGVkRXZlbnQoZGF0YSkge1xyXG4gICAgICAgIHRoaXMuY3VzdG9tRXZlbnRzKFwibGV2ZWxfY29tcGxldGVkXCIsIGRhdGEpO1xyXG4gICAgfVxyXG4gICAgc2VuZFVzZXJDbGlja2VkT25QbGF5RXZlbnQoKSB7XHJcbiAgICAgICAgdGhpcy5jdXN0b21FdmVudHMoJ3VzZXJfY2xpY2tlZCcsIHsgY2xpY2s6ICdDbGljaycgfSk7XHJcbiAgICB9XHJcbiAgICBzZW5kRG93bmxvYWRDb21wbGV0ZWRFdmVudChkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5jdXN0b21FdmVudHMoJ2Rvd25sb2FkX2NvbXBsZXRlZCcsIGRhdGEpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IGxvYWRJbWFnZXMgfSBmcm9tIFwiLi4vY29tbW9uL2NvbW1vblwiO1xyXG5pbXBvcnQgeyBGaXJlYmFzZUludGVncmF0aW9uIH0gZnJvbSBcIi4uL0ZpcmViYXNlL2ZpcmViYXNlLWludGVncmF0aW9uXCI7XHJcbmltcG9ydCB7IGxhbmcsIHBzZXVkb0lkIH0gZnJvbSBcIi4uLy4uL2dsb2JhbC12YXJpYWJsZXNcIjtcclxuaW1wb3J0IHsgZ2V0RGF0YSB9IGZyb20gXCIuLi9kYXRhL2FwaS1kYXRhXCI7XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBsYXlCdXR0b24ge1xyXG4gICAgcG9zWDtcclxuICAgIHBvc1k7XHJcbiAgICBjb250ZXh0O1xyXG4gICAgY2FudmFzO1xyXG4gICAgaW1hZ2VzO1xyXG4gICAgbG9hZGVkSW1hZ2VzO1xyXG4gICAgaW1hZ2VzTG9hZGVkID0gZmFsc2U7XHJcbiAgICBtYWpWZXJzaW9uO1xyXG4gICAgbWluVmVyc2lvbjtcclxuICAgIGZpcmViYXNlSW50ZWdyYXRpb247XHJcbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0LCBjYW52YXMsIHBvc1gsIHBvc1kpIHtcclxuICAgICAgICB0aGlzLnBvc1ggPSBwb3NYO1xyXG4gICAgICAgIHRoaXMucG9zWSA9IHBvc1k7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcclxuICAgICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcclxuICAgICAgICB0aGlzLmZpcmViYXNlSW50ZWdyYXRpb24gPSBuZXcgRmlyZWJhc2VJbnRlZ3JhdGlvbigpO1xyXG4gICAgICAgIHRoaXMuaW5pdCgpO1xyXG4gICAgICAgIHRoaXMuaW1hZ2VzID0ge1xyXG4gICAgICAgICAgICBwYXVzZV9idXR0b25faW1hZ2U6IFwiLi9hc3NldHMvaW1hZ2VzL1BsYXlfYnV0dG9uLnBuZ1wiXHJcbiAgICAgICAgfTtcclxuICAgICAgICBsb2FkSW1hZ2VzKHRoaXMuaW1hZ2VzLCAoaW1hZ2VzKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZGVkSW1hZ2VzID0gT2JqZWN0LmFzc2lnbih7fSwgaW1hZ2VzKTtcclxuICAgICAgICAgICAgdGhpcy5pbWFnZXNMb2FkZWQgPSB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgYXN5bmMgaW5pdCgpIHtcclxuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgZ2V0RGF0YSgpO1xyXG4gICAgICAgIHRoaXMubWFqVmVyc2lvbiA9IGRhdGEubWFqdmVyc2lvbjtcclxuICAgICAgICB0aGlzLm1pblZlcnNpb24gPSBkYXRhLm1pbnZlcnNpb247XHJcbiAgICB9XHJcbiAgICBkcmF3KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmltYWdlc0xvYWRlZCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMubG9hZGVkSW1hZ2VzLnBhdXNlX2J1dHRvbl9pbWFnZSwgdGhpcy5wb3NYLCB0aGlzLnBvc1ksIHRoaXMuY2FudmFzLndpZHRoIC8gMywgdGhpcy5jYW52YXMud2lkdGggLyAzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBvbkNsaWNrKHhDbGljaywgeUNsaWNrKSB7XHJcbiAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLnNxcnQoKHhDbGljayAtIHRoaXMucG9zWCAtIHRoaXMuY2FudmFzLndpZHRoIC8gNikgKlxyXG4gICAgICAgICAgICAoeENsaWNrIC0gdGhpcy5wb3NYIC0gdGhpcy5jYW52YXMud2lkdGggLyA2KSArXHJcbiAgICAgICAgICAgICh5Q2xpY2sgLSB0aGlzLnBvc1kgLSB0aGlzLmNhbnZhcy53aWR0aCAvIDYpICpcclxuICAgICAgICAgICAgICAgICh5Q2xpY2sgLSB0aGlzLnBvc1kgLSB0aGlzLmNhbnZhcy53aWR0aCAvIDYpKTtcclxuICAgICAgICB0aGlzLmxvZ1RhcHBlZFN0YXJ0RmlyZWJhc2VFdmVudCgpO1xyXG4gICAgICAgIGlmIChkaXN0YW5jZSA8IHRoaXMuY2FudmFzLndpZHRoIC8gOCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBsb2dUYXBwZWRTdGFydEZpcmViYXNlRXZlbnQoKSB7XHJcbiAgICAgICAgbGV0IGVuZFRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIGNvbnN0IHRhcHBlZFN0YXJ0RGF0YSA9IHtcclxuICAgICAgICAgICAgY3JfdXNlcl9pZDogcHNldWRvSWQsXHJcbiAgICAgICAgICAgIGZ0bV9sYW5ndWFnZTogbGFuZyxcclxuICAgICAgICAgICAgcHJvZmlsZV9udW1iZXI6IDAsXHJcbiAgICAgICAgICAgIHZlcnNpb25fbnVtYmVyOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInZlcnNpb24taW5mby1pZFwiKS5pbm5lckhUTUwsXHJcbiAgICAgICAgICAgIGpzb25fdmVyc2lvbl9udW1iZXI6ICEhdGhpcy5tYWpWZXJzaW9uICYmICEhdGhpcy5taW5WZXJzaW9uID8gdGhpcy5tYWpWZXJzaW9uLnRvU3RyaW5nKCkgKyBcIi5cIiArIHRoaXMubWluVmVyc2lvbi50b1N0cmluZygpIDogXCJcIixcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuZmlyZWJhc2VJbnRlZ3JhdGlvbi5zZW5kVGFwcGVkU3RhcnRFdmVudCh0YXBwZWRTdGFydERhdGEpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IEZpcmViYXNlVXNlckNsaWNrZWQsIFBXQUluc3RhbGxTdGF0dXMsIFN0YXJ0U2NlbmUxLCB9IGZyb20gXCIuLi9jb21tb24vY29tbW9uXCI7XHJcbmltcG9ydCB7IE1vbnN0ZXIgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9tb25zdGVyXCI7XHJcbmltcG9ydCB7IERlYnVnZ2VyLCBmb250IH0gZnJvbSBcIi4uLy4uL2dsb2JhbC12YXJpYWJsZXNcIjtcclxuaW1wb3J0IHsgQmFja2dyb3VuZCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2JhY2tncm91bmRcIjtcclxuaW1wb3J0IHsgQXVkaW9QbGF5ZXIgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9hdWRpby1wbGF5ZXJcIjtcclxuaW1wb3J0IHsgRmlyZWJhc2VJbnRlZ3JhdGlvbiB9IGZyb20gXCIuLi9GaXJlYmFzZS9maXJlYmFzZS1pbnRlZ3JhdGlvblwiO1xyXG5pbXBvcnQgeyBVdGlscyB9IGZyb20gXCIuLi9jb21tb24vdXRpbHNcIjtcclxuaW1wb3J0IFBsYXlCdXR0b24gZnJvbSBcIi4uL2NvbXBvbmVudHMvcGxheS1idXR0b25cIjtcclxuZXhwb3J0IGNsYXNzIFN0YXJ0U2NlbmUge1xyXG4gICAgY2FudmFzO1xyXG4gICAgZGF0YTtcclxuICAgIHdpZHRoO1xyXG4gICAgaGVpZ2h0O1xyXG4gICAgbW9uc3RlcjtcclxuICAgIHBpY2tlZFN0b25lO1xyXG4gICAgcHdhX3N0YXR1cztcclxuICAgIGZpcmViYXNlX2FuYWx5dGljcztcclxuICAgIGlkO1xyXG4gICAgY2FuYXZzRWxlbWVudDtcclxuICAgIGNvbnRleHQ7XHJcbiAgICBidXR0b25Db250ZXh0O1xyXG4gICAgcGxheUJ1dHRvbjtcclxuICAgIGltYWdlcztcclxuICAgIGxvYWRlZEltYWdlcztcclxuICAgIGltYWdlc0xvYWRlZCA9IGZhbHNlO1xyXG4gICAgaGFuZGxlcjtcclxuICAgIHN0YXRpYyBTY2VuZU5hbWU7XHJcbiAgICBzd2l0Y2hTY2VuZVRvTGV2ZWxTZWxlY3Rpb247XHJcbiAgICB0aXRsZUZvbnQ7XHJcbiAgICBiYWNrZ3JvdW5kMTtcclxuICAgIGF1ZGlvUGxheWVyO1xyXG4gICAgdG9nZ2xlQnRuO1xyXG4gICAgcHdhX2luc3RhbGxfc3RhdHVzO1xyXG4gICAgY29uc3RydWN0b3IoY2FudmFzLCBkYXRhLCBzd2l0Y2hTY2VuZVRvTGV2ZWxTZWxlY3Rpb24pIHtcclxuICAgICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcclxuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xyXG4gICAgICAgIHRoaXMud2lkdGggPSBjYW52YXMud2lkdGg7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBjYW52YXMuaGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuY2FuYXZzRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FudmFzXCIpO1xyXG4gICAgICAgIHRoaXMuY29udGV4dCA9IHRoaXMuY2FuYXZzRWxlbWVudC5nZXRDb250ZXh0KFwiMmRcIik7XHJcbiAgICAgICAgdGhpcy50b2dnbGVCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRvZ2dsZS1idG5cIik7XHJcbiAgICAgICAgdGhpcy5tb25zdGVyID0gbmV3IE1vbnN0ZXIodGhpcy5jYW52YXMsIDQpO1xyXG4gICAgICAgIHRoaXMuc3dpdGNoU2NlbmVUb0xldmVsU2VsZWN0aW9uID0gc3dpdGNoU2NlbmVUb0xldmVsU2VsZWN0aW9uO1xyXG4gICAgICAgIHRoaXMuYmFja2dyb3VuZDEgPSBuZXcgQmFja2dyb3VuZCh0aGlzLmNvbnRleHQsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCAxKTtcclxuICAgICAgICB0aGlzLmF1ZGlvUGxheWVyID0gbmV3IEF1ZGlvUGxheWVyKCk7XHJcbiAgICAgICAgdGhpcy5wd2Ffc3RhdHVzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oUFdBSW5zdGFsbFN0YXR1cyk7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW52YXNcIik7XHJcbiAgICAgICAgdGhpcy5kZXZUb2dnbGUoKTtcclxuICAgICAgICB0aGlzLmNyZWF0ZVBsYXlCdXR0b24oKTtcclxuICAgICAgICBTdGFydFNjZW5lLlNjZW5lTmFtZSA9IFN0YXJ0U2NlbmUxO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiYmVmb3JlaW5zdGFsbHByb21wdFwiLCB0aGlzLmhhbmRsZXJJbnN0YWxsUHJvbXB0KTtcclxuICAgIH1cclxuICAgIGRldlRvZ2dsZSA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnRvZ2dsZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZUJ0bi5jbGFzc0xpc3QudG9nZ2xlKFwib25cIik7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRvZ2dsZUJ0bi5jbGFzc0xpc3QuY29udGFpbnMoXCJvblwiKSkge1xyXG4gICAgICAgICAgICAgICAgRGVidWdnZXIuRGVidWdNb2RlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlQnRuLmlubmVyVGV4dCA9IFwiRGV2XCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBEZWJ1Z2dlci5EZWJ1Z01vZGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlQnRuLmlubmVyVGV4dCA9IFwiRGV2XCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBhbmltYXRpb24gPSAoZGVsdGFUaW1lKSA9PiB7XHJcbiAgICAgICAgdGhpcy50aXRsZUZvbnQgPSB0aGlzLmdldEZvbnRXaWR0aE9mVGl0bGUoKTtcclxuICAgICAgICB0aGlzLmNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcclxuICAgICAgICBpZiAoU3RhcnRTY2VuZS5TY2VuZU5hbWUgPT0gU3RhcnRTY2VuZTEpIHtcclxuICAgICAgICAgICAgdGhpcy5iYWNrZ3JvdW5kMS5kcmF3KCk7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5mb250ID0gYCR7dGhpcy50aXRsZUZvbnR9cHggJHtmb250fSwgbW9ub3NwYWNlYDtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxTdHlsZSA9IFwid2hpdGVcIjtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5maWxsVGV4dCh0aGlzLmRhdGEudGl0bGUsIHRoaXMud2lkdGggKiAwLjUsIHRoaXMuaGVpZ2h0IC8gMTApO1xyXG4gICAgICAgICAgICB0aGlzLm1vbnN0ZXIudXBkYXRlKGRlbHRhVGltZSk7XHJcbiAgICAgICAgICAgIHRoaXMucGxheUJ1dHRvbi5kcmF3KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNyZWF0ZVBsYXlCdXR0b24oKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5QnV0dG9uID0gbmV3IFBsYXlCdXR0b24odGhpcy5jb250ZXh0LCB0aGlzLmNhbnZhcywgdGhpcy5jYW52YXMud2lkdGggKiAwLjM1LCB0aGlzLmNhbnZhcy5oZWlnaHQgLyA3KTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwic2VsZWN0c3RhcnRcIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuaGFuZGxlci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5oYW5kbGVNb3VzZUNsaWNrLCBmYWxzZSk7XHJcbiAgICB9XHJcbiAgICBoYW5kbGVNb3VzZUNsaWNrID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgbGV0IHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIGNvbnN0IHNlbGZFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW52YXNcIik7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB2YXIgcmVjdCA9IHNlbGZFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgIGNvbnN0IHggPSBldmVudC5jbGllbnRYIC0gcmVjdC5sZWZ0O1xyXG4gICAgICAgIGNvbnN0IHkgPSBldmVudC5jbGllbnRZIC0gcmVjdC50b3A7XHJcbiAgICAgICAgY29uc3QgeyBleGNsdWRlWCwgZXhjbHVkZVkgfSA9IFV0aWxzLmdldEV4Y2x1ZGVkQ29vcmRpbmF0ZXMoc2VsZkVsZW1lbnQsIDE1KTtcclxuICAgICAgICBpZiAoISh4IDwgZXhjbHVkZVggJiYgeSA8IGV4Y2x1ZGVZKSkge1xyXG4gICAgICAgICAgICBGaXJlYmFzZUludGVncmF0aW9uLmdldEluc3RhbmNlKCkuc2VuZFVzZXJDbGlja2VkT25QbGF5RXZlbnQoKTtcclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICBmYnEoXCJ0cmFja0N1c3RvbVwiLCBGaXJlYmFzZVVzZXJDbGlja2VkLCB7XHJcbiAgICAgICAgICAgICAgICBldmVudDogXCJjbGlja1wiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy50b2dnbGVCdG4uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICAgICAgICB0aGlzLmF1ZGlvUGxheWVyLnBsYXlCdXR0b25DbGlja1NvdW5kKFwiLi9hc3NldHMvYXVkaW9zL0J1dHRvbkNsaWNrLm1wM1wiKTtcclxuICAgICAgICAgICAgc2VsZi5zd2l0Y2hTY2VuZVRvTGV2ZWxTZWxlY3Rpb24oXCJTdGFydFNjZW5lXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBkaXNwb3NlKCkge1xyXG4gICAgICAgIHRoaXMuYXVkaW9QbGF5ZXIuc3RvcEFsbEF1ZGlvcygpO1xyXG4gICAgICAgIHRoaXMuaGFuZGxlci5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5oYW5kbGVNb3VzZUNsaWNrLCBmYWxzZSk7XHJcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJiZWZvcmVpbnN0YWxscHJvbXB0XCIsIHRoaXMuaGFuZGxlckluc3RhbGxQcm9tcHQsIGZhbHNlKTtcclxuICAgIH1cclxuICAgIGdldEZvbnRXaWR0aE9mVGl0bGUoKSB7XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLndpZHRoICsgMjAwKSAvIHRoaXMuZGF0YS50aXRsZS5sZW5ndGg7XHJcbiAgICB9XHJcbiAgICBoYW5kbGVySW5zdGFsbFByb21wdCA9IChldmVudCkgPT4ge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgdGhpcy5wd2FfaW5zdGFsbF9zdGF0dXMgPSBldmVudDtcclxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShQV0FJbnN0YWxsU3RhdHVzLCBcImZhbHNlXCIpO1xyXG4gICAgfTtcclxufVxyXG4iLCJleHBvcnQgY2xhc3MgTGV2ZWxDb25maWcge1xyXG4gICAgeDtcclxuICAgIHk7XHJcbiAgICBpbmRleDtcclxuICAgIGRyYXdyZWFkeTtcclxuICAgIGltZztcclxuICAgIGNvbnN0cnVjdG9yKHhQb3MsIHlQb3MsIGluZGV4KSB7XHJcbiAgICAgICAgdGhpcy54ID0geFBvcztcclxuICAgICAgICB0aGlzLnkgPSB5UG9zO1xyXG4gICAgICAgIHRoaXMuaW5kZXggPSBpbmRleDtcclxuICAgICAgICB0aGlzLmRyYXdyZWFkeSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuaW1nID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgdGhpcy5pbWcuc3JjID0gXCIuL2Fzc2V0cy9pbWFnZXMvbWFwSWNvbi5wbmdcIjtcclxuICAgICAgICB0aGlzLmltZy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwibWFwSWNvbiBsb2FkZWRlZGVkXCIpO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgRGVidWdnZXIsIGxhbmcgfSBmcm9tIFwiLi4vLi4vZ2xvYmFsLXZhcmlhYmxlc1wiO1xyXG5leHBvcnQgY2xhc3MgR2FtZVNjb3JlIHtcclxuICAgIHN0YXRpYyBjdXJyZW50bGFuZ3VhZ2UgPSBsYW5nO1xyXG4gICAgc3RhdGljIHNldEdhbWVMZXZlbFNjb3JlKGN1cnJlbnRMZXZlbEluZm8sIHNjb3JlKSB7XHJcbiAgICAgICAgbGV0IHN0YXJzR2FpbmVkID0gdGhpcy5jYWxjdWxhdGVTdGFyQ291bnQoc2NvcmUpO1xyXG4gICAgICAgIGxldCBsZXZlbFBsYXllZEluZm8gPSB7XHJcbiAgICAgICAgICAgIGxldmVsTmFtZTogY3VycmVudExldmVsSW5mby5sZXZlbE1ldGEubGV2ZWxUeXBlLFxyXG4gICAgICAgICAgICBsZXZlbE51bWJlcjogY3VycmVudExldmVsSW5mby5sZXZlbE1ldGEubGV2ZWxOdW1iZXIsXHJcbiAgICAgICAgICAgIHNjb3JlOiBzY29yZSxcclxuICAgICAgICAgICAgc3RhckNvdW50OiBzdGFyc0dhaW5lZCxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuc2V0VG90YWxTdGFyQ291bnQoc3RhcnNHYWluZWQpO1xyXG4gICAgICAgIGxldCBhbGxHYW1lbGV2ZWxJbmZvID0gdGhpcy5nZXRBbGxHYW1lTGV2ZWxJbmZvKCk7XHJcbiAgICAgICAgbGV0IGluZGV4ID0gLTE7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbGxHYW1lbGV2ZWxJbmZvLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChhbGxHYW1lbGV2ZWxJbmZvW2ldLmxldmVsTnVtYmVyID09PSBsZXZlbFBsYXllZEluZm8ubGV2ZWxOdW1iZXIpIHtcclxuICAgICAgICAgICAgICAgIGluZGV4ID0gaTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpbmRleCAhPT0gLTEgJiYgbGV2ZWxQbGF5ZWRJbmZvLnNjb3JlID4gYWxsR2FtZWxldmVsSW5mb1tpbmRleF0uc2NvcmUpIHtcclxuICAgICAgICAgICAgYWxsR2FtZWxldmVsSW5mb1tpbmRleF0gPSBsZXZlbFBsYXllZEluZm87XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBhbGxHYW1lbGV2ZWxJbmZvLnB1c2gobGV2ZWxQbGF5ZWRJbmZvKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0odGhpcy5jdXJyZW50bGFuZ3VhZ2UgKyBcImdhbWVQbGF5ZWRJbmZvXCIsIEpTT04uc3RyaW5naWZ5KGFsbEdhbWVsZXZlbEluZm8pKTtcclxuICAgIH1cclxuICAgIHN0YXRpYyBnZXRBbGxHYW1lTGV2ZWxJbmZvKCkge1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLmN1cnJlbnRsYW5ndWFnZSArIFwiZ2FtZVBsYXllZEluZm9cIik7XHJcbiAgICAgICAgcmV0dXJuIGRhdGEgPT0gdW5kZWZpbmVkID8gW10gOiBKU09OLnBhcnNlKGRhdGEpO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIHNldFRvdGFsU3RhckNvdW50KHN0YXJzR2FpbmVkKSB7XHJcbiAgICAgICAgbGV0IHN0YXJDb3VudCA9IHRoaXMuZ2V0VG90YWxTdGFyQ291bnQoKTtcclxuICAgICAgICBsZXQgdG90YWxTdGFyQ291bnQgPSBzdGFyQ291bnQgKyBzdGFyc0dhaW5lZDtcclxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0aGlzLmN1cnJlbnRsYW5ndWFnZSArIFwidG90YWxTdGFyQ291bnRcIiwgdG90YWxTdGFyQ291bnQpO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIGdldFRvdGFsU3RhckNvdW50KCkge1xyXG4gICAgICAgIGNvbnN0IHN0YXJDb3VudCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMuY3VycmVudGxhbmd1YWdlICsgXCJ0b3RhbFN0YXJDb3VudFwiKTtcclxuICAgICAgICByZXR1cm4gc3RhckNvdW50ID09IHVuZGVmaW5lZCA/IDAgOiBwYXJzZUludChzdGFyQ291bnQpO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIGNhbGN1bGF0ZVN0YXJDb3VudChzY29yZSkge1xyXG4gICAgICAgIHJldHVybiBzY29yZSA9PSAyMDBcclxuICAgICAgICAgICAgPyAxXHJcbiAgICAgICAgICAgIDogc2NvcmUgPT0gMzAwXHJcbiAgICAgICAgICAgICAgICA/IDJcclxuICAgICAgICAgICAgICAgIDogc2NvcmUgPT0gNDAwXHJcbiAgICAgICAgICAgICAgICAgICAgPyAyXHJcbiAgICAgICAgICAgICAgICAgICAgOiBzY29yZSA9PSA1MDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyAzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogMDtcclxuICAgIH1cclxuICAgIHN0YXRpYyBnZXREYXRhZnJvbVN0b3JhZ2UoKSB7XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IERlYnVnZ2VyLkRlYnVnTW9kZVxyXG4gICAgICAgICAgICA/IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0obGFuZyArIFwiUHJvZmlsZURlYnVnXCIpIHx8IFwie31cIilcclxuICAgICAgICAgICAgOiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKGxhbmcgKyBcIlByb2ZpbGVcIikgfHwgXCJ7fVwiKTtcclxuICAgICAgICByZXR1cm4gZGF0YTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBEZWJ1Z2dlciwgZm9udCwgbGFuZywgcHNldWRvSWQgfSBmcm9tIFwiLi4vLi4vZ2xvYmFsLXZhcmlhYmxlc1wiO1xyXG5pbXBvcnQgeyBQcmV2aW91c1BsYXllZExldmVsLCBsb2FkSW1hZ2VzIH0gZnJvbSBcIi4uL2NvbW1vbi9jb21tb25cIjtcclxuaW1wb3J0IHsgTGV2ZWxDb25maWcgfSBmcm9tIFwiLi4vY29tbW9uL2xldmVsLWNvbmZpZ1wiO1xyXG5pbXBvcnQgeyBBdWRpb1BsYXllciB9IGZyb20gXCIuLi9jb21wb25lbnRzL2F1ZGlvLXBsYXllclwiO1xyXG5pbXBvcnQgeyBnZXREYXRhIH0gZnJvbSBcIi4uL2RhdGEvYXBpLWRhdGFcIjtcclxuaW1wb3J0IHsgR2FtZVNjb3JlIH0gZnJvbSBcIi4uL2RhdGEvZ2FtZS1zY29yZVwiO1xyXG5pbXBvcnQgeyBGaXJlYmFzZUludGVncmF0aW9uIH0gZnJvbSBcIi4uL0ZpcmViYXNlL2ZpcmViYXNlLWludGVncmF0aW9uXCI7XHJcbmV4cG9ydCBjbGFzcyBMZXZlbFNlbGVjdGlvblNjcmVlbiB7XHJcbiAgICBjYW52YXM7XHJcbiAgICBkYXRhO1xyXG4gICAgbGV2ZWxCdXR0b25Qb3M7XHJcbiAgICBjYW52YXNFbGVtZW50O1xyXG4gICAgY29udGV4dDtcclxuICAgIGxldmVscztcclxuICAgIGdhbWVMZXZlbERhdGE7XHJcbiAgICBjYWxsQmFjaztcclxuICAgIGF1ZGlvUGxheWVyO1xyXG4gICAgaW1hZ2VzO1xyXG4gICAgbG9hZGVkSW1hZ2VzO1xyXG4gICAgaW1hZ2VzTG9hZGVkID0gZmFsc2U7XHJcbiAgICB4RG93bjtcclxuICAgIHlEb3duO1xyXG4gICAgcHJldmlvdXNQbGF5ZWRMZXZlbE51bWJlcjtcclxuICAgIGxldmVsU2VsZWN0aW9uUGFnZUluZGV4ID0gMDtcclxuICAgIGxldmVsTnVtYmVyO1xyXG4gICAgbGV2ZWxzU2VjdGlvbkNvdW50O1xyXG4gICAgdW5sb2NrTGV2ZWxJbmRleDtcclxuICAgIG1halZlcnNpb247XHJcbiAgICBtaW5WZXJzaW9uO1xyXG4gICAgZmlyZWJhc2VJbnRlZ3JhdGlvbjtcclxuICAgIGNvbnN0cnVjdG9yKGNhbnZhcywgZGF0YSwgY2FsbEJhY2spIHtcclxuICAgICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcclxuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xyXG4gICAgICAgIGxldCBzZWxmID0gdGhpcztcclxuICAgICAgICB0aGlzLmNhbGxCYWNrID0gY2FsbEJhY2s7XHJcbiAgICAgICAgdGhpcy5sZXZlbHNTZWN0aW9uQ291bnQgPVxyXG4gICAgICAgICAgICBzZWxmLmRhdGEubGV2ZWxzLmxlbmd0aCAvIDEwID4gTWF0aC5mbG9vcihzZWxmLmRhdGEubGV2ZWxzLmxlbmd0aCAvIDEwKVxyXG4gICAgICAgICAgICAgICAgPyBNYXRoLmZsb29yKHNlbGYuZGF0YS5sZXZlbHMubGVuZ3RoIC8gMTApICsgMVxyXG4gICAgICAgICAgICAgICAgOiBNYXRoLmZsb29yKHNlbGYuZGF0YS5sZXZlbHMubGVuZ3RoIC8gMTApO1xyXG4gICAgICAgIHRoaXMuaW5pdGlhbGlzZUJ1dHRvblBvcygpO1xyXG4gICAgICAgIHRoaXMubGV2ZWxzID0gW107XHJcbiAgICAgICAgdGhpcy5maXJlYmFzZUludGVncmF0aW9uID0gbmV3IEZpcmViYXNlSW50ZWdyYXRpb24oKTtcclxuICAgICAgICB0aGlzLmluaXQoKTtcclxuICAgICAgICB0aGlzLmNhbnZhc0VsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbnZhc1wiKTtcclxuICAgICAgICB0aGlzLmNvbnRleHQgPSB0aGlzLmNhbnZhc0VsZW1lbnQuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlTGV2ZWxCdXR0b25zKHRoaXMubGV2ZWxCdXR0b25Qb3MpO1xyXG4gICAgICAgIHRoaXMuZ2FtZUxldmVsRGF0YSA9IEdhbWVTY29yZS5nZXRBbGxHYW1lTGV2ZWxJbmZvKCk7XHJcbiAgICAgICAgdGhpcy5jYWxsQmFjayA9IGNhbGxCYWNrO1xyXG4gICAgICAgIHRoaXMuYXVkaW9QbGF5ZXIgPSBuZXcgQXVkaW9QbGF5ZXIoKTtcclxuICAgICAgICB0aGlzLnVubG9ja0xldmVsSW5kZXggPSAtMTtcclxuICAgICAgICB0aGlzLnByZXZpb3VzUGxheWVkTGV2ZWxOdW1iZXIgPVxyXG4gICAgICAgICAgICBwYXJzZUludChEZWJ1Z2dlci5EZWJ1Z01vZGVcclxuICAgICAgICAgICAgICAgID8gbG9jYWxTdG9yYWdlLmdldEl0ZW0oUHJldmlvdXNQbGF5ZWRMZXZlbCArIGxhbmcgKyBcIkRlYnVnXCIpXHJcbiAgICAgICAgICAgICAgICA6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFByZXZpb3VzUGxheWVkTGV2ZWwgKyBsYW5nKSkgfCAwO1xyXG4gICAgICAgIGlmICh0aGlzLnByZXZpb3VzUGxheWVkTGV2ZWxOdW1iZXIgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLmxldmVsU2VsZWN0aW9uUGFnZUluZGV4ID1cclxuICAgICAgICAgICAgICAgIDEwICogTWF0aC5mbG9vcih0aGlzLnByZXZpb3VzUGxheWVkTGV2ZWxOdW1iZXIgLyAxMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGxvYWRpbmcgaW1hZ2VzXHJcbiAgICAgICAgdGhpcy5pbWFnZXMgPSB7XHJcbiAgICAgICAgICAgIG1hcEljb246IFwiLi9hc3NldHMvaW1hZ2VzL21hcEljb24ucG5nXCIsXHJcbiAgICAgICAgICAgIG1hcEljb25TcGVjaWFsOiBcIi4vYXNzZXRzL2ltYWdlcy9tYXBfaWNvbl9tb25zdGVyX2xldmVsX3YwMS5wbmdcIixcclxuICAgICAgICAgICAgbWFwTG9jazogXCIuL2Fzc2V0cy9pbWFnZXMvbWFwTG9jay5wbmdcIixcclxuICAgICAgICAgICAgbWFwOiBcIi4vYXNzZXRzL2ltYWdlcy9tYXAuanBnXCIsXHJcbiAgICAgICAgICAgIHN0YXI6IFwiLi9hc3NldHMvaW1hZ2VzL3N0YXIucG5nXCIsXHJcbiAgICAgICAgICAgIG5leHRidG46IFwiLi9hc3NldHMvaW1hZ2VzL25leHRfYnRuLnBuZ1wiLFxyXG4gICAgICAgICAgICBiYWNrYnRuOiBcIi4vYXNzZXRzL2ltYWdlcy9iYWNrX2J0bi5wbmdcIixcclxuICAgICAgICB9O1xyXG4gICAgICAgIGxvYWRJbWFnZXModGhpcy5pbWFnZXMsIChpbWFnZXMpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5sb2FkZWRJbWFnZXMgPSBPYmplY3QuYXNzaWduKHt9LCBpbWFnZXMpO1xyXG4gICAgICAgICAgICB0aGlzLmltYWdlc0xvYWRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmIChkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09IFwidmlzaWJsZVwiKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmF1ZGlvUGxheWVyLnBsYXlBdWRpbyhcIi4vYXNzZXRzL2F1ZGlvcy9pbnRyby5tcDNcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFkZExpc3RlbmVycygpO1xyXG4gICAgfVxyXG4gICAgYXN5bmMgaW5pdCgpIHtcclxuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgZ2V0RGF0YSgpO1xyXG4gICAgICAgIHRoaXMubWFqVmVyc2lvbiA9IGRhdGEubWFqdmVyc2lvbjtcclxuICAgICAgICB0aGlzLm1pblZlcnNpb24gPSBkYXRhLm1pbnZlcnNpb247XHJcbiAgICB9XHJcbiAgICBpbml0aWFsaXNlQnV0dG9uUG9zKCkge1xyXG4gICAgICAgIHRoaXMubGV2ZWxCdXR0b25Qb3MgPSBbXHJcbiAgICAgICAgICAgIFtcclxuICAgICAgICAgICAgICAgIFt0aGlzLmNhbnZhcy53aWR0aCAvIDEwLCB0aGlzLmNhbnZhcy5oZWlnaHQgLyAxMF0sXHJcbiAgICAgICAgICAgICAgICBbdGhpcy5jYW52YXMud2lkdGggLyAyLjUsIHRoaXMuY2FudmFzLmhlaWdodCAvIDEwXSxcclxuICAgICAgICAgICAgICAgIFtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCAvIDMgKyB0aGlzLmNhbnZhcy53aWR0aCAvIDIuOCxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgLyAxMCxcclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICBbdGhpcy5jYW52YXMud2lkdGggLyAxMCwgdGhpcy5jYW52YXMuaGVpZ2h0IC8gM10sXHJcbiAgICAgICAgICAgICAgICBbdGhpcy5jYW52YXMud2lkdGggLyAyLjUsIHRoaXMuY2FudmFzLmhlaWdodCAvIDNdLFxyXG4gICAgICAgICAgICAgICAgW1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzLndpZHRoIC8gMyArIHRoaXMuY2FudmFzLndpZHRoIC8gMi44LFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCAvIDMsXHJcbiAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgW3RoaXMuY2FudmFzLndpZHRoIC8gMTAsIHRoaXMuY2FudmFzLmhlaWdodCAvIDEuOF0sXHJcbiAgICAgICAgICAgICAgICBbdGhpcy5jYW52YXMud2lkdGggLyAyLjUsIHRoaXMuY2FudmFzLmhlaWdodCAvIDEuOF0sXHJcbiAgICAgICAgICAgICAgICBbXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW52YXMud2lkdGggLyAzICsgdGhpcy5jYW52YXMud2lkdGggLyAyLjgsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0IC8gMS44LFxyXG4gICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgIFt0aGlzLmNhbnZhcy53aWR0aCAvIDIuNSwgdGhpcy5jYW52YXMuaGVpZ2h0IC8gMS4zXSxcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICBdO1xyXG4gICAgfVxyXG4gICAgY3JlYXRlTGV2ZWxCdXR0b25zKGxldmVsQnV0dG9ucG9zKSB7XHJcbiAgICAgICAgbGV0IHBvc3MgPSBsZXZlbEJ1dHRvbnBvc1swXTtcclxuICAgICAgICBsZXQgaSA9IDA7XHJcbiAgICAgICAgZm9yIChsZXQgcyA9IDA7IHMgPCAxMDsgcysrKSB7XHJcbiAgICAgICAgICAgIGxldCBucyA9IG5ldyBMZXZlbENvbmZpZyhwb3NzW2ldWzBdLCBwb3NzW2ldWzFdLCBpICsgMSk7XHJcbiAgICAgICAgICAgIHRoaXMubGV2ZWxzLnB1c2gobnMpO1xyXG4gICAgICAgICAgICBpICs9IDE7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgYWRkTGlzdGVuZXJzKCkge1xyXG4gICAgICAgIC8vIG5leHQgcHJldiBidXR0b24gbGlzdG5lciAjMVxyXG4gICAgICAgIGRvY3VtZW50XHJcbiAgICAgICAgICAgIC5nZXRFbGVtZW50QnlJZChcImNhbnZhc1wiKVxyXG4gICAgICAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLmhhbmRsZU1vdXNlRG93biwgZmFsc2UpO1xyXG4gICAgICAgIC8vIHdoZW4gYXBwIGdvZXMgYmFja2dyb3VuZCAjMlxyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsIHRoaXMucGF1c2VQbGF5QXVkaW9zLCBmYWxzZSk7XHJcbiAgICAgICAgLy8vIHN3aXBlIGxpc3RlbmVyICMzXHJcbiAgICAgICAgZG9jdW1lbnRcclxuICAgICAgICAgICAgLmdldEVsZW1lbnRCeUlkKFwiY2FudmFzXCIpXHJcbiAgICAgICAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCB0aGlzLmhhbmRsZVRvdWNoU3RhcnQsIGZhbHNlKTtcclxuICAgICAgICAvLyAjNFxyXG4gICAgICAgIGRvY3VtZW50XHJcbiAgICAgICAgICAgIC5nZXRFbGVtZW50QnlJZChcImNhbnZhc1wiKVxyXG4gICAgICAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLCB0aGlzLmhhbmRsZVRvdWNoTW92ZSwgZmFsc2UpO1xyXG4gICAgfVxyXG4gICAgcGF1c2VQbGF5QXVkaW9zID0gKCkgPT4ge1xyXG4gICAgICAgIGlmIChkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09IFwidmlzaWJsZVwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYXVkaW9QbGF5ZXIucGxheUF1ZGlvKFwiLi9hc3NldHMvYXVkaW9zL2ludHJvLm1wM1wiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuYXVkaW9QbGF5ZXIuc3RvcEFsbEF1ZGlvcygpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBnZXRUb3VjaGVzKGV2dCkge1xyXG4gICAgICAgIHJldHVybiAoZXZ0LnRvdWNoZXMgfHwgLy8gYnJvd3NlciBBUElcclxuICAgICAgICAgICAgZXZ0Lm9yaWdpbmFsRXZlbnQudG91Y2hlcyk7IC8vIGpRdWVyeVxyXG4gICAgfVxyXG4gICAgaGFuZGxlVG91Y2hTdGFydCA9IChldnQpID0+IHtcclxuICAgICAgICBjb25zdCBmaXJzdFRvdWNoID0gdGhpcy5nZXRUb3VjaGVzKGV2dClbMF07XHJcbiAgICAgICAgdGhpcy54RG93biA9IGZpcnN0VG91Y2guY2xpZW50WDtcclxuICAgICAgICB0aGlzLnlEb3duID0gZmlyc3RUb3VjaC5jbGllbnRZO1xyXG4gICAgfTtcclxuICAgIGhhbmRsZVRvdWNoTW92ZSA9IChldnQpID0+IHtcclxuICAgICAgICBpZiAoIXRoaXMueERvd24gfHwgIXRoaXMueURvd24pIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgeFVwID0gZXZ0LnRvdWNoZXNbMF0uY2xpZW50WDtcclxuICAgICAgICBsZXQgeVVwID0gZXZ0LnRvdWNoZXNbMF0uY2xpZW50WTtcclxuICAgICAgICBsZXQgeERpZmYgPSB0aGlzLnhEb3duIC0geFVwO1xyXG4gICAgICAgIGxldCB5RGlmZiA9IHRoaXMueURvd24gLSB5VXA7XHJcbiAgICAgICAgaWYgKE1hdGguYWJzKHhEaWZmKSA+IE1hdGguYWJzKHlEaWZmKSkge1xyXG4gICAgICAgICAgICAvKm1vc3Qgc2lnbmlmaWNhbnQqL1xyXG4gICAgICAgICAgICBpZiAoeERpZmYgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5sZXZlbFNlbGVjdGlvblBhZ2VJbmRleCAhPSB0aGlzLmxldmVsc1NlY3Rpb25Db3VudCAqIDEwIC0gMTApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxldmVsU2VsZWN0aW9uUGFnZUluZGV4ID0gdGhpcy5sZXZlbFNlbGVjdGlvblBhZ2VJbmRleCArIDEwO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG93bkJ1dHRvbih0aGlzLmxldmVsU2VsZWN0aW9uUGFnZUluZGV4KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8qIHJpZ2h0IHN3aXBlICovXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5sZXZlbFNlbGVjdGlvblBhZ2VJbmRleCAhPSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sZXZlbFNlbGVjdGlvblBhZ2VJbmRleCA9IHRoaXMubGV2ZWxTZWxlY3Rpb25QYWdlSW5kZXggLSAxMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuZG93bkJ1dHRvbih0aGlzLmxldmVsU2VsZWN0aW9uUGFnZUluZGV4KTtcclxuICAgICAgICAgICAgICAgIC8qIGxlZnQgc3dpcGUgKi9cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvKiByZXNldCB2YWx1ZXMgKi9cclxuICAgICAgICB0aGlzLnhEb3duID0gbnVsbDtcclxuICAgICAgICB0aGlzLnlEb3duID0gbnVsbDtcclxuICAgIH07XHJcbiAgICBoYW5kbGVNb3VzZURvd24gPSAoZXZlbnQpID0+IHtcclxuICAgICAgICAvLyByZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBsZXQgcmVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FudmFzXCIpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgIGNvbnN0IHggPSBldmVudC5jbGllbnRYIC0gcmVjdC5sZWZ0O1xyXG4gICAgICAgIGNvbnN0IHkgPSBldmVudC5jbGllbnRZIC0gcmVjdC50b3A7XHJcbiAgICAgICAgaWYgKHggPj0gdGhpcy5jYW52YXMud2lkdGggKiAwLjcgJiZcclxuICAgICAgICAgICAgeCA8IHRoaXMuY2FudmFzLndpZHRoICogMC43ICsgdGhpcy5jYW52YXMuaGVpZ2h0IC8gMTAgJiZcclxuICAgICAgICAgICAgeSA+IHRoaXMuY2FudmFzLmhlaWdodCAvIDEuMyAmJlxyXG4gICAgICAgICAgICB5IDwgdGhpcy5jYW52YXMuaGVpZ2h0IC8gMS4zICsgdGhpcy5jYW52YXMuaGVpZ2h0IC8gMTApIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMubGV2ZWxTZWxlY3Rpb25QYWdlSW5kZXggIT0gdGhpcy5sZXZlbHNTZWN0aW9uQ291bnQgKiAxMCAtIDEwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxldmVsU2VsZWN0aW9uUGFnZUluZGV4ID0gdGhpcy5sZXZlbFNlbGVjdGlvblBhZ2VJbmRleCArIDEwO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kb3duQnV0dG9uKHRoaXMubGV2ZWxTZWxlY3Rpb25QYWdlSW5kZXgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh4ID49IHRoaXMuY2FudmFzLndpZHRoIC8gMTAgJiZcclxuICAgICAgICAgICAgeCA8IHRoaXMuY2FudmFzLndpZHRoIC8gMTAgKyB0aGlzLmNhbnZhcy5oZWlnaHQgLyAxMCAmJlxyXG4gICAgICAgICAgICB5ID4gdGhpcy5jYW52YXMuaGVpZ2h0IC8gMS4zICYmXHJcbiAgICAgICAgICAgIHkgPCB0aGlzLmNhbnZhcy5oZWlnaHQgLyAxLjMgKyB0aGlzLmNhbnZhcy5oZWlnaHQgLyAxMCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5sZXZlbFNlbGVjdGlvblBhZ2VJbmRleCAhPSAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxldmVsU2VsZWN0aW9uUGFnZUluZGV4ID0gdGhpcy5sZXZlbFNlbGVjdGlvblBhZ2VJbmRleCAtIDEwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuZG93bkJ1dHRvbih0aGlzLmxldmVsU2VsZWN0aW9uUGFnZUluZGV4KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChsZXQgcyBvZiB0aGlzLmxldmVscykge1xyXG4gICAgICAgICAgICBpZiAoTWF0aC5zcXJ0KCh4IC0gcy54IC0gdGhpcy5jYW52YXMuaGVpZ2h0IC8gMjApICpcclxuICAgICAgICAgICAgICAgICh4IC0gcy54IC0gdGhpcy5jYW52YXMuaGVpZ2h0IC8gMjApICtcclxuICAgICAgICAgICAgICAgICh5IC0gcy55IC0gdGhpcy5jYW52YXMuaGVpZ2h0IC8gMjApICpcclxuICAgICAgICAgICAgICAgICAgICAoeSAtIHMueSAtIHRoaXMuY2FudmFzLmhlaWdodCAvIDIwKSkgPCA0NSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKERlYnVnZ2VyLkRlYnVnTW9kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXVkaW9QbGF5ZXIucGxheUJ1dHRvbkNsaWNrU291bmQoXCIuL2Fzc2V0cy9hdWRpb3MvQnV0dG9uQ2xpY2subXAzXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGV2ZWxOdW1iZXIgPSBzLmluZGV4ICsgdGhpcy5sZXZlbFNlbGVjdGlvblBhZ2VJbmRleCAtIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5sZXZlbE51bWJlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGFydEdhbWUodGhpcy5sZXZlbE51bWJlcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzLmluZGV4ICsgdGhpcy5sZXZlbFNlbGVjdGlvblBhZ2VJbmRleCAtIDEgPD1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVubG9ja0xldmVsSW5kZXggKyAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdWRpb1BsYXllci5wbGF5QnV0dG9uQ2xpY2tTb3VuZChcIi4vYXNzZXRzL2F1ZGlvcy9CdXR0b25DbGljay5tcDNcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sZXZlbE51bWJlciA9IHMuaW5kZXggKyB0aGlzLmxldmVsU2VsZWN0aW9uUGFnZUluZGV4IC0gMTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0R2FtZSh0aGlzLmxldmVsTnVtYmVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBkcmF3TGV2ZWwocywgY2FudmFzKSB7XHJcbiAgICAgICAgbGV0IGltYWdlU2l6ZSA9IGNhbnZhcy5oZWlnaHQgLyA1O1xyXG4gICAgICAgIGxldCB0ZXh0Rm9udFNpemUgPSBpbWFnZVNpemUgLyA2O1xyXG4gICAgICAgIGNvbnN0IHNwZWNpYWxMZXZlbHMgPSBbNSwgMTMsIDIwLCAzMCwgNDJdO1xyXG4gICAgICAgIGlmIChzLmluZGV4ICsgdGhpcy5sZXZlbFNlbGVjdGlvblBhZ2VJbmRleCA8PSB0aGlzLmRhdGEubGV2ZWxzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBjb25zdCBsZXZlbE51bWJlciA9IHMuaW5kZXggKyB0aGlzLmxldmVsU2VsZWN0aW9uUGFnZUluZGV4O1xyXG4gICAgICAgICAgICBjb25zdCBpc1NwZWNpYWxMZXZlbCA9IHNwZWNpYWxMZXZlbHMuaW5jbHVkZXMobGV2ZWxOdW1iZXIpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKGlzU3BlY2lhbExldmVsID8gdGhpcy5sb2FkZWRJbWFnZXMubWFwSWNvblNwZWNpYWwgOiB0aGlzLmxvYWRlZEltYWdlcy5tYXBJY29uLCBzLngsIHMueSwgaXNTcGVjaWFsTGV2ZWwgPyBpbWFnZVNpemUgKiAwLjkgOiBpbWFnZVNpemUsIGlzU3BlY2lhbExldmVsID8gaW1hZ2VTaXplICogMC45IDogaW1hZ2VTaXplKTtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxTdHlsZSA9IFwid2hpdGVcIjtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmZvbnQgPVxyXG4gICAgICAgICAgICAgICAgdGV4dEZvbnRTaXplICsgYHB4ICR7Zm9udH0sIG1vbm9zcGFjZWA7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFRleHQocy5pbmRleCArIHRoaXMubGV2ZWxTZWxlY3Rpb25QYWdlSW5kZXgsIHMueCArIGltYWdlU2l6ZSAvIDMuNSwgcy55ICsgaW1hZ2VTaXplIC8gMyk7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5mb250ID1cclxuICAgICAgICAgICAgICAgIHRleHRGb250U2l6ZSAtXHJcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VTaXplIC8gMzAgK1xyXG4gICAgICAgICAgICAgICAgICAgIGBweCAke2ZvbnR9LCBtb25vc3BhY2VgO1xyXG4gICAgICAgICAgICBEZWJ1Z2dlci5EZWJ1Z01vZGVcclxuICAgICAgICAgICAgICAgID8gdGhpcy5jb250ZXh0LmZpbGxUZXh0KHRoaXMuZGF0YS5sZXZlbHNbcy5pbmRleCArIHRoaXMubGV2ZWxTZWxlY3Rpb25QYWdlSW5kZXggLSAxXVxyXG4gICAgICAgICAgICAgICAgICAgIC5sZXZlbE1ldGEubGV2ZWxUeXBlLCBzLnggKyBpbWFnZVNpemUgLyAzLjUsIHMueSArIGltYWdlU2l6ZSAvIDEuMylcclxuICAgICAgICAgICAgICAgIDogbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBkcmF3KCkge1xyXG4gICAgICAgIGZvciAobGV0IHMgb2YgdGhpcy5sZXZlbHMpIHtcclxuICAgICAgICAgICAgdGhpcy5kcmF3TGV2ZWwocywgdGhpcy5jYW52YXMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGRvd25CdXR0b24obGV2ZWwpIHtcclxuICAgICAgICBsZXQgaW1hZ2VTaXplID0gdGhpcy5jYW52YXMuaGVpZ2h0IC8gMTA7XHJcbiAgICAgICAgaWYgKGxldmVsICE9IHRoaXMubGV2ZWxzU2VjdGlvbkNvdW50ICogMTAgLSAxMCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMubG9hZGVkSW1hZ2VzLm5leHRidG4sIHRoaXMuY2FudmFzLndpZHRoICogMC43LCB0aGlzLmNhbnZhcy5oZWlnaHQgLyAxLjMsIGltYWdlU2l6ZSwgaW1hZ2VTaXplKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGxldmVsICE9IDApIHtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZSh0aGlzLmxvYWRlZEltYWdlcy5iYWNrYnRuLCB0aGlzLmNhbnZhcy53aWR0aCAvIDEwLCB0aGlzLmNhbnZhcy5oZWlnaHQgLyAxLjMsIGltYWdlU2l6ZSwgaW1hZ2VTaXplKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBkcmF3IHN0YXJzIG9uIHRvcCBvZiBsZXZlbCBudW1iZXJcclxuICAgIGRyYXdTdGFycyhnYW1lTGV2ZWxEYXRhKSB7XHJcbiAgICAgICAgaWYgKGdhbWVMZXZlbERhdGEgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBpZiAoZ2FtZUxldmVsRGF0YS5sZW5ndGggIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBnYW1lIG9mIGdhbWVMZXZlbERhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy51bmxvY2tMZXZlbEluZGV4IDwgcGFyc2VJbnQoZ2FtZS5sZXZlbE51bWJlcikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZS5zdGFyQ291bnQgPj0gMlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAodGhpcy51bmxvY2tMZXZlbEluZGV4ID0gcGFyc2VJbnQoZ2FtZS5sZXZlbE51bWJlcikpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvciAobGV0IHMgb2YgdGhpcy5sZXZlbHMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzLmluZGV4ICsgdGhpcy5sZXZlbFNlbGVjdGlvblBhZ2VJbmRleCA8PSB0aGlzLmRhdGEubGV2ZWxzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghRGVidWdnZXIuRGVidWdNb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHMuaW5kZXggKyB0aGlzLmxldmVsU2VsZWN0aW9uUGFnZUluZGV4IC0gMSA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVubG9ja0xldmVsSW5kZXggKyAxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5sb2FkZWRJbWFnZXMubWFwTG9jaywgcy54LCBzLnksIHRoaXMuY2FudmFzLmhlaWdodCAvIDEzLCB0aGlzLmNhbnZhcy5oZWlnaHQgLyAxMylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBnYW1lTGV2ZWxEYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzLmluZGV4IC0gMSArIHRoaXMubGV2ZWxTZWxlY3Rpb25QYWdlSW5kZXggPT1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlSW50KGdhbWVMZXZlbERhdGFbaV0ubGV2ZWxOdW1iZXIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdTdGFyKHMsIHRoaXMuY2FudmFzLCBnYW1lTGV2ZWxEYXRhW2ldLnN0YXJDb3VudCwgdGhpcy5jb250ZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZHJhd1N0YXIocywgY2FudmFzLCBzdGFyQ291bnQsIGNvbnRleHQpIHtcclxuICAgICAgICBsZXQgaW1hZ2VTaXplID0gY2FudmFzLmhlaWdodCAvIDU7XHJcbiAgICAgICAgaWYgKHN0YXJDb3VudCA+PSAxKSB7XHJcbiAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKHRoaXMubG9hZGVkSW1hZ2VzLnN0YXIsIHMueCwgcy55IC0gaW1hZ2VTaXplICogMC4wMSwgaW1hZ2VTaXplIC8gNSwgaW1hZ2VTaXplIC8gNSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzdGFyQ291bnQgPiAxKSB7XHJcbiAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKHRoaXMubG9hZGVkSW1hZ2VzLnN0YXIsIHMueCArIGltYWdlU2l6ZSAvIDIuNSwgcy55IC0gaW1hZ2VTaXplICogMC4wMSwgaW1hZ2VTaXplIC8gNSwgaW1hZ2VTaXplIC8gNSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzdGFyQ291bnQgPT0gMykge1xyXG4gICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZSh0aGlzLmxvYWRlZEltYWdlcy5zdGFyLCBzLnggKyBpbWFnZVNpemUgLyA1LCBzLnkgLSBpbWFnZVNpemUgKiAwLjEsIGltYWdlU2l6ZSAvIDUsIGltYWdlU2l6ZSAvIDUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHN0YXJ0R2FtZShsZXZlbF9udW1iZXIpIHtcclxuICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcclxuICAgICAgICB0aGlzLmF1ZGlvUGxheWVyLnN0b3BBbGxBdWRpb3MoKTtcclxuICAgICAgICAvLyBTdGFydFNjZW5lLlNjZW5lTmFtZSA9IEdhbWVTY2VuZTE7XHJcbiAgICAgICAgbGV0IGdhbWVQbGF5RGF0YSA9IHtcclxuICAgICAgICAgICAgY3VycmVudExldmVsRGF0YTogdGhpcy5kYXRhLmxldmVsc1tsZXZlbF9udW1iZXJdLFxyXG4gICAgICAgICAgICBzZWxlY3RlZExldmVsTnVtYmVyOiBsZXZlbF9udW1iZXIsXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmxvZ1NlbGVjdGVkTGV2ZWxFdmVudCgpO1xyXG4gICAgICAgIHRoaXMuY2FsbEJhY2soZ2FtZVBsYXlEYXRhLCBcIkxldmVsU2VsZWN0aW9uXCIpO1xyXG4gICAgfVxyXG4gICAgbG9nU2VsZWN0ZWRMZXZlbEV2ZW50KCkge1xyXG4gICAgICAgIGNvbnN0IHNlbGVjdGVkTGV2ZWx0RGF0YSA9IHtcclxuICAgICAgICAgICAgY3JfdXNlcl9pZDogcHNldWRvSWQsXHJcbiAgICAgICAgICAgIGZ0bV9sYW5ndWFnZTogbGFuZyxcclxuICAgICAgICAgICAgcHJvZmlsZV9udW1iZXI6IDAsXHJcbiAgICAgICAgICAgIHZlcnNpb25fbnVtYmVyOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInZlcnNpb24taW5mby1pZFwiKS5pbm5lckhUTUwsXHJcbiAgICAgICAgICAgIGpzb25fdmVyc2lvbl9udW1iZXI6ICEhdGhpcy5tYWpWZXJzaW9uICYmICEhdGhpcy5taW5WZXJzaW9uID8gdGhpcy5tYWpWZXJzaW9uLnRvU3RyaW5nKCkgKyBcIi5cIiArIHRoaXMubWluVmVyc2lvbi50b1N0cmluZygpIDogXCJcIixcclxuICAgICAgICAgICAgbGV2ZWxfc2VsZWN0ZWQ6IHRoaXMubGV2ZWxOdW1iZXIsXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmZpcmViYXNlSW50ZWdyYXRpb24uc2VuZFNlbGVjdGVkTGV2ZWxFdmVudChzZWxlY3RlZExldmVsdERhdGEpO1xyXG4gICAgfVxyXG4gICAgZHJhd0xldmVsU2VsZWN0aW9uKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmltYWdlc0xvYWRlZCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMubG9hZGVkSW1hZ2VzLm1hcCwgMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAgICAgIHRoaXMuZHJhdygpO1xyXG4gICAgICAgICAgICB0aGlzLmRvd25CdXR0b24odGhpcy5sZXZlbFNlbGVjdGlvblBhZ2VJbmRleCk7XHJcbiAgICAgICAgICAgIHRoaXMuZHJhd1N0YXJzKHRoaXMuZ2FtZUxldmVsRGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZGlzcG9zZSgpIHtcclxuICAgICAgICB0aGlzLmF1ZGlvUGxheWVyLnN0b3BBbGxBdWRpb3MoKTtcclxuICAgICAgICBkb2N1bWVudFxyXG4gICAgICAgICAgICAuZ2V0RWxlbWVudEJ5SWQoXCJjYW52YXNcIilcclxuICAgICAgICAgICAgLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5oYW5kbGVNb3VzZURvd24sIGZhbHNlKTtcclxuICAgICAgICAvLyB3aGVuIGFwcCBnb2VzIGJhY2tncm91bmQgIzJcclxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLCB0aGlzLnBhdXNlUGxheUF1ZGlvcywgZmFsc2UpO1xyXG4gICAgICAgIC8vLyBzd2lwZSBsaXN0ZW5lciAjM1xyXG4gICAgICAgIGRvY3VtZW50XHJcbiAgICAgICAgICAgIC5nZXRFbGVtZW50QnlJZChcImNhbnZhc1wiKVxyXG4gICAgICAgICAgICAucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgdGhpcy5oYW5kbGVUb3VjaFN0YXJ0LCBmYWxzZSk7XHJcbiAgICAgICAgLy8gIzRcclxuICAgICAgICBkb2N1bWVudFxyXG4gICAgICAgICAgICAuZ2V0RWxlbWVudEJ5SWQoXCJjYW52YXNcIilcclxuICAgICAgICAgICAgLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIiwgdGhpcy5oYW5kbGVUb3VjaE1vdmUsIGZhbHNlKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBsb2FkSW1hZ2VzIH0gZnJvbSBcIi4uL2NvbW1vbi9jb21tb25cIjtcclxuaW1wb3J0IHsgRXZlbnRNYW5hZ2VyIH0gZnJvbSBcIi4uL2V2ZW50cy9FdmVudE1hbmFnZXJcIjtcclxuaW1wb3J0IHsgQXVkaW9QbGF5ZXIgfSBmcm9tIFwiLi9hdWRpby1wbGF5ZXJcIjtcclxuZXhwb3J0IGNsYXNzIFRpbWVyVGlja2luZyBleHRlbmRzIEV2ZW50TWFuYWdlciB7XHJcbiAgICB3aWR0aDtcclxuICAgIGhlaWdodDtcclxuICAgIHRpbWVyV2lkdGg7XHJcbiAgICB0aW1lckhlaWdodDtcclxuICAgIHdpZHRoVG9DbGVhcjtcclxuICAgIHRpbWVyO1xyXG4gICAgaXNUaW1lclN0YXJ0ZWQ7XHJcbiAgICBpc1RpbWVyRW5kZWQ7XHJcbiAgICBpc1RpbWVyUnVubmluZ091dDtcclxuICAgIGNhbmF2c0VsZW1lbnQ7XHJcbiAgICBjb250ZXh0O1xyXG4gICAgdGltZXJfZnVsbDtcclxuICAgIHBhdXNlQnV0dG9uQ2xpY2tlZDtcclxuICAgIGltYWdlcztcclxuICAgIGxvYWRlZEltYWdlcztcclxuICAgIGNhbGxiYWNrO1xyXG4gICAgaW1hZ2VzTG9hZGVkID0gZmFsc2U7XHJcbiAgICBzdGFydE15VGltZXIgPSB0cnVlO1xyXG4gICAgaXNNeVRpbWVyT3ZlciA9IGZhbHNlO1xyXG4gICAgaXNTdG9uZURyb3BwZWQgPSBmYWxzZTtcclxuICAgIGF1ZGlvUGxheWVyO1xyXG4gICAgcGxheUxldmVsRW5kQXVkaW9PbmNlID0gdHJ1ZTtcclxuICAgIGNvbnN0cnVjdG9yKHdpZHRoLCBoZWlnaHQsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgc3VwZXIoe1xyXG4gICAgICAgICAgICBzdG9uZURyb3BDYWxsYmFja0hhbmRsZXI6IChldmVudCkgPT4gdGhpcy5oYW5kbGVTdG9uZURyb3AoZXZlbnQpLFxyXG4gICAgICAgICAgICBsb2FkUHV6emxlQ2FsbGJhY2tIYW5kbGVyOiAoZXZlbnQpID0+IHRoaXMuaGFuZGxlTG9hZFB1enpsZShldmVudClcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICAgICAgdGhpcy53aWR0aFRvQ2xlYXIgPSB0aGlzLndpZHRoIC8gMy40O1xyXG4gICAgICAgIHRoaXMudGltZXJIZWlnaHQgPSAxMTI7XHJcbiAgICAgICAgdGhpcy50aW1lcldpZHRoID0gODg4O1xyXG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcclxuICAgICAgICB0aGlzLmNhbmF2c0VsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbnZhc1wiKTtcclxuICAgICAgICB0aGlzLmNvbnRleHQgPSB0aGlzLmNhbmF2c0VsZW1lbnQuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG4gICAgICAgIHRoaXMudGltZXIgPSAwO1xyXG4gICAgICAgIHRoaXMuaXNUaW1lclN0YXJ0ZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmlzVGltZXJFbmRlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuaXNUaW1lclJ1bm5pbmdPdXQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmF1ZGlvUGxheWVyID0gbmV3IEF1ZGlvUGxheWVyKCk7XHJcbiAgICAgICAgdGhpcy5wbGF5TGV2ZWxFbmRBdWRpb09uY2UgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuaW1hZ2VzID0ge1xyXG4gICAgICAgICAgICB0aW1lcl9lbXB0eTogXCIuL2Fzc2V0cy9pbWFnZXMvdGltZXJfZW1wdHkucG5nXCIsXHJcbiAgICAgICAgICAgIHJvdGF0aW5nX2Nsb2NrOiBcIi4vYXNzZXRzL2ltYWdlcy90aW1lci5wbmdcIixcclxuICAgICAgICAgICAgdGltZXJfZnVsbDogXCIuL2Fzc2V0cy9pbWFnZXMvdGltZXJfZnVsbC5wbmdcIlxyXG4gICAgICAgIH07XHJcbiAgICAgICAgbG9hZEltYWdlcyh0aGlzLmltYWdlcywgKGltYWdlcykgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRlZEltYWdlcyA9IE9iamVjdC5hc3NpZ24oe30sIGltYWdlcyk7XHJcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VzTG9hZGVkID0gdHJ1ZTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHN0YXJ0VGltZXIoKSB7XHJcbiAgICAgICAgLy8gaXQgd2lsbCBzdGFydCB0aW1lciBpbW1lZGlhdGx5XHJcbiAgICAgICAgdGhpcy5yZWFkeVRpbWVyKCk7XHJcbiAgICAgICAgdGhpcy5zdGFydE15VGltZXIgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuaXNNeVRpbWVyT3ZlciA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcmVhZHlUaW1lcigpIHtcclxuICAgICAgICAvLyBtYWtlIHRpbWVyIGxvb2sgZnVsbCBzbyBhcyBpdCBnZXQgc3RhcnQgc2lnbmFsLi4uLi4gaXQgd2lsbCBzdGFydCBkZWNyZWFzaW5nXHJcbiAgICAgICAgdGhpcy50aW1lciA9IDA7XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoZGVsdGFUaW1lKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3RhcnRNeVRpbWVyICYmICF0aGlzLmlzU3RvbmVEcm9wcGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGltZXIgKz0gZGVsdGFUaW1lICogMC4wMDg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChNYXRoLmZsb29yKHRoaXMud2lkdGggKiAwLjg3IC0gKHRoaXMud2lkdGggKiAwLjg3ICogdGhpcy50aW1lciAqIDAuMDEpKSA9PSA0MCAmJiAhdGhpcy5pc015VGltZXJPdmVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheUxldmVsRW5kQXVkaW9PbmNlID8gdGhpcy5hdWRpb1BsYXllci5wbGF5QXVkaW8oJy4vYXNzZXRzL2F1ZGlvcy90aW1lb3V0Lm1wMycpIDogbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5wbGF5TGV2ZWxFbmRBdWRpb09uY2UgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCh0aGlzLndpZHRoICogMC44NyAtICh0aGlzLndpZHRoICogMC44NyAqIHRoaXMudGltZXIgKiAwLjAxKSkgPCAwICYmICF0aGlzLmlzTXlUaW1lck92ZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5pc015VGltZXJPdmVyID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5jYWxsYmFjayh0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBkcmF3KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmltYWdlc0xvYWRlZCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMubG9hZGVkSW1hZ2VzLnRpbWVyX2VtcHR5LCAwLCB0aGlzLmhlaWdodCAqIDAuMSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQgKiAwLjA1KTtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZSh0aGlzLmxvYWRlZEltYWdlcy5yb3RhdGluZ19jbG9jaywgNSwgdGhpcy5oZWlnaHQgKiAwLjA5LCB0aGlzLndpZHRoICogMC4xMiwgdGhpcy5oZWlnaHQgKiAwLjA2KTtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZSh0aGlzLmxvYWRlZEltYWdlcy50aW1lcl9mdWxsLCAwLCAwLCB0aGlzLnRpbWVyV2lkdGggLSAodGhpcy50aW1lcldpZHRoICogdGhpcy50aW1lciAqIDAuMDEpLCB0aGlzLnRpbWVySGVpZ2h0LCB0aGlzLndpZHRoICogMC4xNCwgdGhpcy5oZWlnaHQgKiAwLjA5OSwgdGhpcy53aWR0aCAqIDAuODcgLSAodGhpcy53aWR0aCAqIDAuODcgKiB0aGlzLnRpbWVyICogMC4wMSksIHRoaXMuaGVpZ2h0ICogMC4wNSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaGFuZGxlU3RvbmVEcm9wKGV2ZW50KSB7XHJcbiAgICAgICAgdGhpcy5pc1N0b25lRHJvcHBlZCA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBoYW5kbGVMb2FkUHV6emxlKGV2ZW50KSB7XHJcbiAgICAgICAgdGhpcy5wbGF5TGV2ZWxFbmRBdWRpb09uY2UgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuaXNTdG9uZURyb3BwZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnN0YXJ0VGltZXIoKTtcclxuICAgIH1cclxuICAgIGRpc3Bvc2UoKSB7XHJcbiAgICAgICAgdGhpcy51bnJlZ2lzdGVyRXZlbnRMaXN0ZW5lcigpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IEV2ZW50TWFuYWdlciB9IGZyb20gXCIuLi9ldmVudHMvRXZlbnRNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSBcIi4uL2NvbW1vbi91dGlsc1wiO1xyXG5pbXBvcnQgeyBBdWRpb1BsYXllciB9IGZyb20gXCIuL2F1ZGlvLXBsYXllclwiO1xyXG5pbXBvcnQgeyBWSVNJQklMSVRZX0NIQU5HRSB9IGZyb20gXCIuLi9jb21tb24vZXZlbnQtbmFtZXNcIjtcclxuaW1wb3J0IHsgZm9udCB9IGZyb20gXCIuLi8uLi9nbG9iYWwtdmFyaWFibGVzXCI7XHJcbmV4cG9ydCBjbGFzcyBQcm9tcHRUZXh0IGV4dGVuZHMgRXZlbnRNYW5hZ2VyIHtcclxuICAgIHdpZHRoO1xyXG4gICAgaGVpZ2h0O1xyXG4gICAgbGV2ZWxEYXRhO1xyXG4gICAgY3VycmVudFByb21wdFRleHQ7XHJcbiAgICBjdXJyZW50UHV6emxlRGF0YTtcclxuICAgIGNhbmF2c0VsZW1lbnQ7XHJcbiAgICBjb250ZXh0O1xyXG4gICAgcHJvbXB0X2ltYWdlO1xyXG4gICAgdGFyZ2V0U3RvbmVzO1xyXG4gICAgcmlnaHRUb0xlZnQ7XHJcbiAgICBpbWFnZXNMb2FkZWQgPSBmYWxzZTtcclxuICAgIGF1ZGlvUGxheWVyO1xyXG4gICAgaXNTdG9uZURyb3BwZWQgPSBmYWxzZTtcclxuICAgIGRyb3BwZWRTdG9uZXMgPSAwO1xyXG4gICAgdGltZSA9IDA7XHJcbiAgICBwcm9tcHRJbWFnZVdpZHRoID0gMDtcclxuICAgIGlzQXBwRm9yZWdyb3VuZCA9IHRydWU7XHJcbiAgICBzY2FsZSA9IDE7XHJcbiAgICBpc1NjYWxpbmdVcCA9IHRydWU7XHJcbiAgICBzY2FsZUZhY3RvciA9IDAuMDAwNTA7XHJcbiAgICBwcm9tcHRJbWFnZUhlaWdodCA9IDA7XHJcbiAgICBwcm9tcHRQbGF5QnV0dG9uO1xyXG4gICAgY29uc3RydWN0b3Iod2lkdGgsIGhlaWdodCwgY3VycmVudFB1enpsZURhdGEsIGxldmVsRGF0YSwgcmlnaHRUb0xlZnQpIHtcclxuICAgICAgICBzdXBlcih7XHJcbiAgICAgICAgICAgIHN0b25lRHJvcENhbGxiYWNrSGFuZGxlcjogKGV2ZW50KSA9PiB0aGlzLmhhbmRsZVN0b25lRHJvcChldmVudCksXHJcbiAgICAgICAgICAgIGxvYWRQdXp6bGVDYWxsYmFja0hhbmRsZXI6IChldmVudCkgPT4gdGhpcy5oYW5kbGVMb2FkUHV6emxlKGV2ZW50KVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcclxuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcclxuICAgICAgICB0aGlzLmxldmVsRGF0YSA9IGxldmVsRGF0YTtcclxuICAgICAgICB0aGlzLnJpZ2h0VG9MZWZ0ID0gcmlnaHRUb0xlZnQ7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50UHJvbXB0VGV4dCA9IGN1cnJlbnRQdXp6bGVEYXRhLnByb21wdC5wcm9tcHRUZXh0O1xyXG4gICAgICAgIHRoaXMuY3VycmVudFB1enpsZURhdGEgPSBjdXJyZW50UHV6emxlRGF0YTtcclxuICAgICAgICB0aGlzLnRhcmdldFN0b25lcyA9IHRoaXMuY3VycmVudFB1enpsZURhdGEudGFyZ2V0U3RvbmVzO1xyXG4gICAgICAgIHRoaXMuY2FuYXZzRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FudmFzXCIpO1xyXG4gICAgICAgIHRoaXMuY29udGV4dCA9IHRoaXMuY2FuYXZzRWxlbWVudC5nZXRDb250ZXh0KFwiMmRcIik7XHJcbiAgICAgICAgdGhpcy5hdWRpb1BsYXllciA9IG5ldyBBdWRpb1BsYXllcigpO1xyXG4gICAgICAgIHRoaXMuYXVkaW9QbGF5ZXIucHJlbG9hZFByb21wdEF1ZGlvKHRoaXMuZ2V0UHJvbXB0QXVkaW9VcmwoKSk7XHJcbiAgICAgICAgdGhpcy5wcm9tcHRfaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICB0aGlzLnByb21wdFBsYXlCdXR0b24gPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICB0aGlzLmxvYWRJbWFnZXMoKS50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ0ltYWdlcyBsb2FkZWQnKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnRpbWUgPSAwO1xyXG4gICAgICAgIHRoaXMucHJvbXB0SW1hZ2VXaWR0aCA9IHRoaXMud2lkdGggKiAwLjY1O1xyXG4gICAgICAgIHRoaXMucHJvbXB0SW1hZ2VIZWlnaHQgPSB0aGlzLmhlaWdodCAqIDAuMztcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFZJU0lCSUxJVFlfQ0hBTkdFLCB0aGlzLmhhbmRsZVZpc2liaWxpdHlDaGFuZ2UsIGZhbHNlKTtcclxuICAgIH1cclxuICAgIGhhbmRsZU1vdXNlRG93biA9IChldmVudCkgPT4ge1xyXG4gICAgICAgIGxldCBzZWxmID0gdGhpcztcclxuICAgICAgICBjb25zdCBzZWxmRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FudmFzXCIpO1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgdmFyIHJlY3QgPSBzZWxmRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICBjb25zdCB4ID0gZXZlbnQuY2xpZW50WCAtIHJlY3QubGVmdDtcclxuICAgICAgICBjb25zdCB5ID0gZXZlbnQuY2xpZW50WSAtIHJlY3QudG9wO1xyXG4gICAgICAgIGlmIChzZWxmLm9uQ2xpY2soeCwgeSkpIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ0NsaWNrZWQgb24gUGxheSBwcm9tcHQgYXVkaW8nKTtcclxuICAgICAgICAgICAgdGhpcy5wbGF5U291bmQoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgZ2V0UHJvbXB0QXVkaW9VcmwgPSAoKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIFV0aWxzLmdldENvbnZlcnRlZERldlByb2RVUkwodGhpcy5jdXJyZW50UHV6emxlRGF0YS5wcm9tcHQucHJvbXB0QXVkaW8pO1xyXG4gICAgfTtcclxuICAgIHBsYXlTb3VuZCA9ICgpID0+IHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnUHJvbXB0QXVkaW8nLCAgVXRpbHMuZ2V0Q29udmVydGVkRGV2UHJvZFVSTCh0aGlzLmN1cnJlbnRQdXp6bGVEYXRhLnByb21wdC5wcm9tcHRBdWRpbykpO1xyXG4gICAgICAgIGlmICh0aGlzLmlzQXBwRm9yZWdyb3VuZCkge1xyXG4gICAgICAgICAgICB0aGlzLmF1ZGlvUGxheWVyLnBsYXlQcm9tcHRBdWRpbyhVdGlscy5nZXRDb252ZXJ0ZWREZXZQcm9kVVJMKHRoaXMuY3VycmVudFB1enpsZURhdGEucHJvbXB0LnByb21wdEF1ZGlvKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIG9uQ2xpY2soeENsaWNrLCB5Q2xpY2spIHtcclxuICAgICAgICBpZiAoTWF0aC5zcXJ0KHhDbGljayAtIHRoaXMud2lkdGggLyAzKSA8IDEyICYmXHJcbiAgICAgICAgICAgIE1hdGguc3FydCh5Q2xpY2sgLSB0aGlzLmhlaWdodCAvIDUuNSkgPCAxMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzZXRDdXJycmVudFB1enpsZURhdGEoZGF0YSkge1xyXG4gICAgICAgIHRoaXMuY3VycmVudFB1enpsZURhdGEgPSBkYXRhO1xyXG4gICAgICAgIHRoaXMuY3VycmVudFByb21wdFRleHQgPSBkYXRhLnByb21wdC5wcm9tcHRUZXh0O1xyXG4gICAgICAgIHRoaXMudGFyZ2V0U3RvbmVzID0gdGhpcy5jdXJyZW50UHV6emxlRGF0YS50YXJnZXRTdG9uZXM7XHJcbiAgICB9XHJcbiAgICBkcmF3UlRMTGFuZygpIHtcclxuICAgICAgICB2YXIgeCA9IHRoaXMud2lkdGggLyAyO1xyXG4gICAgICAgIGNvbnN0IHkgPSB0aGlzLmhlaWdodCAqIDAuMjY7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XHJcbiAgICAgICAgdmFyIGZvbnRTaXplID0gdGhpcy5jYWxjdWxhdGVGb250KCk7XHJcbiAgICAgICAgY29uc3Qgc2NhbGVkV2lkdGggPSB0aGlzLnByb21wdEltYWdlV2lkdGg7XHJcbiAgICAgICAgY29uc3Qgc2NhbGVkSGVpZ2h0ID0gdGhpcy5wcm9tcHRJbWFnZUhlaWdodDtcclxuICAgICAgICB0aGlzLmNvbnRleHQuZm9udCA9IGAke2ZvbnRTaXplfXB4ICR7Zm9udH0sIG1vbm9zcGFjZWA7XHJcbiAgICAgICAgaWYgKHRoaXMubGV2ZWxEYXRhLmxldmVsTWV0YS5sZXZlbFR5cGUgPT0gXCJMZXR0ZXJJbldvcmRcIikge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5sZXZlbERhdGEubGV2ZWxNZXRhLnByb3RvVHlwZSA9PSBcIlZpc2libGVcIikge1xyXG4gICAgICAgICAgICAgICAgdmFyIGxldHRlckluV29yZCA9IHRoaXMuY3VycmVudFByb21wdFRleHQucmVwbGFjZShuZXcgUmVnRXhwKHRoaXMuY3VycmVudFB1enpsZURhdGEudGFyZ2V0U3RvbmVzWzBdLCBcImdcIiksIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxTdHlsZSA9IFwicmVkXCI7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFRleHQodGhpcy50YXJnZXRTdG9uZXNbMF0sIHggKyB0aGlzLmNvbnRleHQubWVhc3VyZVRleHQobGV0dGVySW5Xb3JkKS53aWR0aCAvIDIsIHkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxTdHlsZSA9IFwiYmxhY2tcIjtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5maWxsVGV4dChsZXR0ZXJJbldvcmQsIHggLSB0aGlzLmNvbnRleHQubWVhc3VyZVRleHQodGhpcy50YXJnZXRTdG9uZXNbMF0pLndpZHRoIC8gMiwgeSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMucHJvbXB0UGxheUJ1dHRvbiwgdGhpcy53aWR0aCAvIDIuNCwgeSAvIDEuMTUsIHNjYWxlZFdpZHRoIC8gNCwgc2NhbGVkSGVpZ2h0IC8gNCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5sZXZlbERhdGEubGV2ZWxNZXRhLmxldmVsVHlwZSA9PSBcIldvcmRcIikge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5sZXZlbERhdGEubGV2ZWxNZXRhLnByb3RvVHlwZSA9PSBcIlZpc2libGVcIikge1xyXG4gICAgICAgICAgICAgICAgeCA9IHggLSB0aGlzLmNvbnRleHQubWVhc3VyZVRleHQodGhpcy5jdXJyZW50UHJvbXB0VGV4dCkud2lkdGggKiAwLjU7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gdGhpcy50YXJnZXRTdG9uZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kcm9wcGVkU3RvbmVzID4gaSB8fCB0aGlzLmRyb3BwZWRTdG9uZXMgPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5maWxsU3R5bGUgPSBcImJsYWNrXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5maWxsVGV4dCh0aGlzLnRhcmdldFN0b25lc1tpXSwgeCwgeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFN0eWxlID0gXCJyZWRcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxUZXh0KHRoaXMudGFyZ2V0U3RvbmVzW2ldLCB4LCB5KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgeCA9IHggKyB0aGlzLmNvbnRleHQubWVhc3VyZVRleHQodGhpcy50YXJnZXRTdG9uZXNbaV0pLndpZHRoICsgNTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5wcm9tcHRQbGF5QnV0dG9uLCB0aGlzLndpZHRoIC8gMi40LCB5IC8gMS4xNSwgc2NhbGVkV2lkdGggLyA0LCBzY2FsZWRIZWlnaHQgLyA0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLmxldmVsRGF0YS5sZXZlbE1ldGEubGV2ZWxUeXBlID09IFwiYXVkaW9QbGF5ZXJXb3JkXCIpIHtcclxuICAgICAgICAgICAgLy8gY29uc3Qgb2Zmc2V0WCA9ICh0aGlzLndpZHRoIC0gc2NhbGVkV2lkdGgpIC8gMjtcclxuICAgICAgICAgICAgLy8gY29uc3Qgb2Zmc2V0WSA9ICh0aGlzLmhlaWdodCAtIHNjYWxlZEhlaWdodCkgLyA1O1xyXG4gICAgICAgICAgICBjb25zdCBvZmZzZXRYID0gKHRoaXMud2lkdGggLSBzY2FsZWRXaWR0aCkgKiAxLjI1O1xyXG4gICAgICAgICAgICBjb25zdCBvZmZzZXRZID0gKHRoaXMuaGVpZ2h0IC0gc2NhbGVkSGVpZ2h0KSAqIDAuMzM7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5wcm9tcHRQbGF5QnV0dG9uLCBvZmZzZXRYLCBvZmZzZXRZLCBzY2FsZWRXaWR0aCAvIDQsIHNjYWxlZEhlaWdodCAvIDQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMubGV2ZWxEYXRhLmxldmVsTWV0YS5wcm90b1R5cGUgPT0gXCJWaXNpYmxlXCIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5maWxsU3R5bGUgPSBcImJsYWNrXCI7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFRleHQodGhpcy5jdXJyZW50UHJvbXB0VGV4dCwgeCwgeSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMucHJvbXB0UGxheUJ1dHRvbiwgdGhpcy53aWR0aCAvIDIuNCwgeSAvIDEuMTUsIHNjYWxlZFdpZHRoIC8gNCwgc2NhbGVkSGVpZ2h0IC8gNCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBkcmF3T3RoZXJzKCkge1xyXG4gICAgICAgIGNvbnN0IHByb21wdFRleHRMZXR0ZXJzID0gdGhpcy5jdXJyZW50UHJvbXB0VGV4dC5zcGxpdChcIlwiKTtcclxuICAgICAgICBjb25zdCB4ID0gdGhpcy53aWR0aCAvIDI7XHJcbiAgICAgICAgY29uc3QgeSA9IHRoaXMuaGVpZ2h0ICogMC4yODtcclxuICAgICAgICBjb25zdCBzY2FsZWRXaWR0aCA9IHRoaXMucHJvbXB0SW1hZ2VXaWR0aDtcclxuICAgICAgICBjb25zdCBzY2FsZWRIZWlnaHQgPSB0aGlzLnByb21wdEltYWdlSGVpZ2h0O1xyXG4gICAgICAgIHZhciBmb250U2l6ZSA9IHRoaXMuY2FsY3VsYXRlRm9udCgpO1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5mb250ID0gYCR7Zm9udFNpemV9cHggJHtmb250fSwgbW9ub3NwYWNlYDtcclxuICAgICAgICBsZXQgc3RhcnRQcm9tcHR0ZXh0WCA9IHRoaXMud2lkdGggLyAyIC1cclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0Lm1lYXN1cmVUZXh0KHRoaXMuY3VycmVudFByb21wdFRleHQpLndpZHRoIC8gMjtcclxuICAgICAgICBsZXQgY3VycmVudFdvcmRXaWR0aCA9IDA7XHJcbiAgICAgICAgdmFyIGxldHRlckhpZ2hsaWdodCA9IHRoaXMuY3VycmVudFB1enpsZURhdGEudGFyZ2V0U3RvbmVzWzBdLnNwbGl0KFwiXCIpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvbXB0VGV4dExldHRlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgc3dpdGNoICh0aGlzLmxldmVsRGF0YS5sZXZlbE1ldGEubGV2ZWxUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiTGV0dGVySW5Xb3JkXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5sZXZlbERhdGEubGV2ZWxNZXRhLnByb3RvVHlwZSA9PSBcIlZpc2libGVcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGV0dGVySGlnaGxpZ2h0LmluY2x1ZGVzKHByb21wdFRleHRMZXR0ZXJzW2ldKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0dGVySGlnaGxpZ2h0ID0gbGV0dGVySGlnaGxpZ2h0LnNsaWNlKDEsIGxldHRlckhpZ2hsaWdodC5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxTdHlsZSA9IFwicmVkXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFRleHQocHJvbXB0VGV4dExldHRlcnNbaV0sIHN0YXJ0UHJvbXB0dGV4dFgsIHkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxTdHlsZSA9IFwiYmxhY2tcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5maWxsVGV4dChwcm9tcHRUZXh0TGV0dGVyc1tpXSwgc3RhcnRQcm9tcHR0ZXh0WCwgeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMucHJvbXB0UGxheUJ1dHRvbiwgdGhpcy53aWR0aCAvIDIuNCwgeSAvIDEuMjUsIHNjYWxlZFdpZHRoIC8gNCwgc2NhbGVkSGVpZ2h0IC8gNCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2FzZSBcIldvcmRcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmxldmVsRGF0YS5sZXZlbE1ldGEucHJvdG9UeXBlID09IFwiVmlzaWJsZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRyb3BwZWRTdG9uZXMgPiBpIHx8IHRoaXMuZHJvcHBlZFN0b25lcyA9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5maWxsU3R5bGUgPSBcImJsYWNrXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFRleHQocHJvbXB0VGV4dExldHRlcnNbaV0sIHN0YXJ0UHJvbXB0dGV4dFgsIHkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxTdHlsZSA9IFwicmVkXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFRleHQocHJvbXB0VGV4dExldHRlcnNbaV0sIHN0YXJ0UHJvbXB0dGV4dFgsIHkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZSh0aGlzLnByb21wdFBsYXlCdXR0b24sIHRoaXMud2lkdGggLyAyLjQsIHkgLyAxLjI1LCBzY2FsZWRXaWR0aCAvIDQsIHNjYWxlZEhlaWdodCAvIDQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhc2UgXCJTb3VuZFdvcmRcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5wcm9tcHRQbGF5QnV0dG9uLCB0aGlzLndpZHRoIC8gMi40LCB5IC8gMS4yNSwgc2NhbGVkV2lkdGggLyA0LCBzY2FsZWRIZWlnaHQgLyA0KTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5sZXZlbERhdGEubGV2ZWxNZXRhLnByb3RvVHlwZSA9PSBcIlZpc2libGVcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFN0eWxlID0gXCJibGFja1wiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFRleHQodGhpcy5jdXJyZW50UHJvbXB0VGV4dCwgdGhpcy53aWR0aCAvIDIuMSwgeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZSh0aGlzLnByb21wdFBsYXlCdXR0b24sIHRoaXMud2lkdGggLyAyLjQsIHkgLyAxLjI1LCBzY2FsZWRXaWR0aCAvIDQsIHNjYWxlZEhlaWdodCAvIDQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjdXJyZW50V29yZFdpZHRoID0gKHRoaXMuY29udGV4dC5tZWFzdXJlVGV4dChwcm9tcHRUZXh0TGV0dGVyc1tpXSkud2lkdGggKyB0aGlzLmNvbnRleHQubWVhc3VyZVRleHQocHJvbXB0VGV4dExldHRlcnNbaSArIDFdKS53aWR0aCkgLyAyO1xyXG4gICAgICAgICAgICBzdGFydFByb21wdHRleHRYICs9IGN1cnJlbnRXb3JkV2lkdGg7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZHJhdyhkZWx0YVRpbWUpIHtcclxuICAgICAgICB0aGlzLnVwZGF0ZVNjYWxpbmcoKTtcclxuICAgICAgICB0aGlzLnRpbWUgPSAoZGVsdGFUaW1lIDwgMTcpID8gdGhpcy50aW1lICsgTWF0aC5mbG9vcihkZWx0YVRpbWUpIDogdGhpcy50aW1lICsgMTY7XHJcbiAgICAgICAgaWYgKE1hdGguZmxvb3IodGhpcy50aW1lKSA+PSAxOTEwICYmIE1hdGguZmxvb3IodGhpcy50aW1lKSA8PSAxOTI2KSB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheVNvdW5kKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGhpcy5pc1N0b25lRHJvcHBlZCkge1xyXG4gICAgICAgICAgICBjb25zdCBzY2FsZWRXaWR0aCA9IHRoaXMucHJvbXB0SW1hZ2VXaWR0aCAqIHRoaXMuc2NhbGU7XHJcbiAgICAgICAgICAgIGNvbnN0IHNjYWxlZEhlaWdodCA9IHRoaXMucHJvbXB0SW1hZ2VIZWlnaHQgKiB0aGlzLnNjYWxlO1xyXG4gICAgICAgICAgICBjb25zdCBvZmZzZXRYID0gKHRoaXMud2lkdGggLSBzY2FsZWRXaWR0aCkgLyAyO1xyXG4gICAgICAgICAgICBjb25zdCBvZmZzZXRZID0gKHRoaXMuaGVpZ2h0IC0gc2NhbGVkSGVpZ2h0KSAvIDU7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5wcm9tcHRfaW1hZ2UsIG9mZnNldFgsIG9mZnNldFksIHNjYWxlZFdpZHRoLCBzY2FsZWRIZWlnaHQpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFN0eWxlID0gXCJibGFja1wiO1xyXG4gICAgICAgICAgICB0aGlzLnJpZ2h0VG9MZWZ0XHJcbiAgICAgICAgICAgICAgICA/IHRoaXMuZHJhd1JUTExhbmcoKVxyXG4gICAgICAgICAgICAgICAgOiB0aGlzLmRyYXdPdGhlcnMoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBoYW5kbGVTdG9uZURyb3AoZXZlbnQpIHtcclxuICAgICAgICB0aGlzLmlzU3RvbmVEcm9wcGVkID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIGhhbmRsZUxvYWRQdXp6bGUoZXZlbnQpIHtcclxuICAgICAgICB0aGlzLmRyb3BwZWRTdG9uZXMgPSAwO1xyXG4gICAgICAgIHRoaXMuY3VycmVudFB1enpsZURhdGEgPSB0aGlzLmxldmVsRGF0YS5wdXp6bGVzW2V2ZW50LmRldGFpbC5jb3VudGVyXTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRQcm9tcHRUZXh0ID0gdGhpcy5jdXJyZW50UHV6emxlRGF0YS5wcm9tcHQucHJvbXB0VGV4dDtcclxuICAgICAgICB0aGlzLnRhcmdldFN0b25lcyA9IHRoaXMuY3VycmVudFB1enpsZURhdGEudGFyZ2V0U3RvbmVzO1xyXG4gICAgICAgIHRoaXMuYXVkaW9QbGF5ZXIucHJlbG9hZFByb21wdEF1ZGlvKHRoaXMuZ2V0UHJvbXB0QXVkaW9VcmwoKSk7XHJcbiAgICAgICAgdGhpcy5pc1N0b25lRHJvcHBlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudGltZSA9IDA7XHJcbiAgICB9XHJcbiAgICBkaXNwb3NlKCkge1xyXG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoVklTSUJJTElUWV9DSEFOR0UsIHRoaXMuaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMudW5yZWdpc3RlckV2ZW50TGlzdGVuZXIoKTtcclxuICAgIH1cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgIH1cclxuICAgIGRyb3BwZWRTdG9uZUluZGV4KGluZGV4KSB7XHJcbiAgICAgICAgdGhpcy5kcm9wcGVkU3RvbmVzID0gaW5kZXg7XHJcbiAgICB9XHJcbiAgICBjYWxjdWxhdGVGb250KCkge1xyXG4gICAgICAgIHJldHVybiAodGhpcy5wcm9tcHRJbWFnZVdpZHRoIC8gdGhpcy5jdXJyZW50UHJvbXB0VGV4dC5sZW5ndGggPiAzNSkgPyAzNSA6IHRoaXMud2lkdGggKiAwLjY1IC8gdGhpcy5jdXJyZW50UHJvbXB0VGV4dC5sZW5ndGg7XHJcbiAgICB9XHJcbiAgICB1cGRhdGVTY2FsaW5nKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzU2NhbGluZ1VwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NhbGUgKz0gdGhpcy5zY2FsZUZhY3RvcjtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc2NhbGUgPj0gMS4wNSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc1NjYWxpbmdVcCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnNjYWxlIC09IHRoaXMuc2NhbGVGYWN0b3I7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNjYWxlIDw9IDEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NhbGUgPSAxO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc1NjYWxpbmdVcCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlID0gKCkgPT4ge1xyXG4gICAgICAgIGlmIChkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT0gXCJoaWRkZW5cIikge1xyXG4gICAgICAgICAgICB0aGlzLmF1ZGlvUGxheWVyLnN0b3BBbGxBdWRpb3MoKTtcclxuICAgICAgICAgICAgdGhpcy5pc0FwcEZvcmVncm91bmQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PSBcInZpc2libGVcIikge1xyXG4gICAgICAgICAgICB0aGlzLmlzQXBwRm9yZWdyb3VuZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGFzeW5jIGxvYWRJbWFnZXMoKSB7XHJcbiAgICAgICAgY29uc3QgaW1hZ2UxUHJvbWlzZSA9IHRoaXMubG9hZEltYWdlKHRoaXMucHJvbXB0X2ltYWdlLCBcIi4vYXNzZXRzL2ltYWdlcy9wcm9tcHRUZXh0QmcucG5nXCIpO1xyXG4gICAgICAgIGNvbnN0IGltYWdlMlByb21pc2UgPSB0aGlzLmxvYWRJbWFnZSh0aGlzLnByb21wdFBsYXlCdXR0b24sIFwiLi9hc3NldHMvaW1hZ2VzL3Byb21wdFBsYXlCdXR0b24ucG5nXCIpO1xyXG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKFtpbWFnZTFQcm9taXNlLCBpbWFnZTJQcm9taXNlXSk7XHJcbiAgICAgICAgdGhpcy5pbWFnZXNMb2FkZWQgPSB0cnVlO1xyXG4gICAgICAgIC8vIFlvdSBjYW4gZG8gYWRkaXRpb25hbCBhY3Rpb25zIGhlcmUgYWZ0ZXIgYm90aCBpbWFnZXMgYXJlIGxvYWRlZC5cclxuICAgIH1cclxuICAgIGxvYWRJbWFnZShpbWFnZSwgc3JjKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgaW1hZ2Uub25sb2FkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBpbWFnZS5zcmMgPSBzcmM7XHJcbiAgICAgICAgICAgIGltYWdlLm9uZXJyb3IgPSAoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGF1c2VCdXR0b24ge1xyXG4gICAgcG9zWDtcclxuICAgIHBvc1k7XHJcbiAgICBjb250ZXh0O1xyXG4gICAgY2FudmFzO1xyXG4gICAgaW1hZ2VzTG9hZGVkID0gZmFsc2U7XHJcbiAgICBwYXVzZV9idXR0b25faW1hZ2U7XHJcbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0LCBjYW52YXMpIHtcclxuICAgICAgICB0aGlzLnBvc1ggPSBjYW52YXMud2lkdGggLSBjYW52YXMuaGVpZ2h0ICogMC4wOTtcclxuICAgICAgICB0aGlzLnBvc1kgPSAwO1xyXG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XHJcbiAgICAgICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XHJcbiAgICAgICAgdGhpcy5wYXVzZV9idXR0b25faW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICB0aGlzLnBhdXNlX2J1dHRvbl9pbWFnZS5zcmMgPSBcIi4vYXNzZXRzL2ltYWdlcy9wYXVzZV92MDEucG5nXCI7XHJcbiAgICAgICAgdGhpcy5wYXVzZV9idXR0b25faW1hZ2Uub25sb2FkID0gKGUpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5pbWFnZXNMb2FkZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnBhdXNlX2J1dHRvbl9pbWFnZSA9IHRoaXMucGF1c2VfYnV0dG9uX2ltYWdlO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBkcmF3KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmltYWdlc0xvYWRlZCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMucGF1c2VfYnV0dG9uX2ltYWdlLCB0aGlzLnBvc1gsIHRoaXMucG9zWSwgdGhpcy5jYW52YXMuaGVpZ2h0ICogMC4wOSwgdGhpcy5jYW52YXMuaGVpZ2h0ICogMC4wOSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgb25DbGljayh4Q2xpY2ssIHlDbGljaykge1xyXG4gICAgICAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5zcXJ0KCh4Q2xpY2sgLSB0aGlzLnBvc1ggLSAodGhpcy5jYW52YXMuaGVpZ2h0ICogMC4wOSkgLyAyKSAqXHJcbiAgICAgICAgICAgICh4Q2xpY2sgLSB0aGlzLnBvc1ggLSAodGhpcy5jYW52YXMuaGVpZ2h0ICogMC4wOSkgLyAyKSArXHJcbiAgICAgICAgICAgICh5Q2xpY2sgLSB0aGlzLnBvc1kgLSAodGhpcy5jYW52YXMuaGVpZ2h0ICogMC4wOSkgLyAyKSAqXHJcbiAgICAgICAgICAgICAgICAoeUNsaWNrIC0gdGhpcy5wb3NZIC0gKHRoaXMuY2FudmFzLmhlaWdodCAqIDAuMDkpIC8gMikpO1xyXG4gICAgICAgIGlmIChkaXN0YW5jZSA8ICh0aGlzLmNhbnZhcy5oZWlnaHQgKiAwLjA5KSAvIDIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IGxvYWRJbWFnZXMgfSBmcm9tIFwiLi4vY29tbW9uL2NvbW1vblwiO1xyXG5pbXBvcnQgeyBFdmVudE1hbmFnZXIgfSBmcm9tIFwiLi4vZXZlbnRzL0V2ZW50TWFuYWdlclwiO1xyXG5leHBvcnQgY2xhc3MgTGV2ZWxJbmRpY2F0b3JzIGV4dGVuZHMgRXZlbnRNYW5hZ2VyIHtcclxuICAgIGNvbnRleHQ7XHJcbiAgICBjYW52YXM7XHJcbiAgICBhY3RpdmVJbmRpY2F0b3JzO1xyXG4gICAgaW1hZ2VzO1xyXG4gICAgbG9hZGVkSW1hZ2VzO1xyXG4gICAgaW1hZ2VzTG9hZGVkID0gZmFsc2U7XHJcbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0LCBjYW52YXMsIGFjdGl2ZUluZGljYXRvcnMpIHtcclxuICAgICAgICBzdXBlcih7XHJcbiAgICAgICAgICAgIHN0b25lRHJvcENhbGxiYWNrSGFuZGxlcjogKGV2ZW50KSA9PiB0aGlzLmhhbmRsZVN0b25lRHJvcChldmVudCksXHJcbiAgICAgICAgICAgIGxvYWRQdXp6bGVDYWxsYmFja0hhbmRsZXI6IChldmVudCkgPT4gdGhpcy5oYW5kbGVMb2FkUHV6emxlKGV2ZW50KVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XHJcbiAgICAgICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XHJcbiAgICAgICAgdGhpcy5hY3RpdmVJbmRpY2F0b3JzID0gYWN0aXZlSW5kaWNhdG9ycztcclxuICAgICAgICB0aGlzLmltYWdlcyA9IHtcclxuICAgICAgICAgICAgbGV2ZWxfaW5kaWNhdG9yOiBcIi4vYXNzZXRzL2ltYWdlcy9sZXZlbHNfdjAxLnBuZ1wiLFxyXG4gICAgICAgICAgICBiYXJfZW1wdHk6IFwiLi9hc3NldHMvaW1hZ2VzL2Jhcl9lbXB0eV92MDEucG5nXCIsXHJcbiAgICAgICAgICAgIGJhcl9mdWxsOiBcIi4vYXNzZXRzL2ltYWdlcy9iYXJfZnVsbF92MDEucG5nXCJcclxuICAgICAgICB9O1xyXG4gICAgICAgIGxvYWRJbWFnZXModGhpcy5pbWFnZXMsIChpbWFnZXMpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5sb2FkZWRJbWFnZXMgPSBPYmplY3QuYXNzaWduKHt9LCBpbWFnZXMpO1xyXG4gICAgICAgICAgICB0aGlzLmltYWdlc0xvYWRlZCA9IHRydWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBzZXRJbmRpY2F0b3JzKGluZGljYXRvckNvdW50KSB7XHJcbiAgICAgICAgdGhpcy5hY3RpdmVJbmRpY2F0b3JzID0gaW5kaWNhdG9yQ291bnQ7XHJcbiAgICB9XHJcbiAgICBhZGREcm9wU3RvbmVFdmVudCgpIHtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdkcm9wc3RvbmUnLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJZZWVlIHJlY2l2ZWQgZnJvbSBsZXZlbC1pbmRpY2F0b3JcIik7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0SW5kaWNhdG9ycygyKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGRyYXcoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW1hZ2VzTG9hZGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5sb2FkZWRJbWFnZXMubGV2ZWxfaW5kaWNhdG9yLCB0aGlzLmNhbnZhcy53aWR0aCAqIDAuMTUsIDAsIHRoaXMuY2FudmFzLndpZHRoICogMC4zNSwgdGhpcy5jYW52YXMuaGVpZ2h0ICogMC4wOSk7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNTsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMubG9hZGVkSW1hZ2VzLmJhcl9lbXB0eSwgKCh0aGlzLmNhbnZhcy53aWR0aCAqIDAuMzUpIC8gNykgKiAoaSArIDEpICtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCAqIDAuMTUsICh0aGlzLmNhbnZhcy5oZWlnaHQgKiAwLjA5KSAvIDIgLSAodGhpcy5jYW52YXMuaGVpZ2h0ICogMC4wOSkgLyA2LCAodGhpcy5jYW52YXMud2lkdGggKiAwLjM1KSAvIDEwLCAodGhpcy5jYW52YXMuaGVpZ2h0ICogMC4wOSkgLyAzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYWN0aXZlSW5kaWNhdG9yczsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMubG9hZGVkSW1hZ2VzLmJhcl9mdWxsLCAoKHRoaXMuY2FudmFzLndpZHRoICogMC4zNSkgLyA3KSAqIChpICsgMSkgKyB0aGlzLmNhbnZhcy53aWR0aCAqIDAuMTUsICh0aGlzLmNhbnZhcy5oZWlnaHQgKiAwLjA5KSAvIDIgLSAodGhpcy5jYW52YXMuaGVpZ2h0ICogMC4wOSkgLyA2LCAodGhpcy5jYW52YXMud2lkdGggKiAwLjM1KSAvIDEwLCAodGhpcy5jYW52YXMuaGVpZ2h0ICogMC4wOSkgLyAzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGRpc3Bvc2UoKSB7XHJcbiAgICAgICAgdGhpcy51bnJlZ2lzdGVyRXZlbnRMaXN0ZW5lcigpO1xyXG4gICAgfVxyXG4gICAgaGFuZGxlU3RvbmVEcm9wKGV2ZW50KSB7XHJcbiAgICAgICAgLy8gdGhpcy5pc1N0b25lRHJvcHBlZCA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBoYW5kbGVMb2FkUHV6emxlKGV2ZW50KSB7XHJcbiAgICAgICAgdGhpcy5zZXRJbmRpY2F0b3JzKGV2ZW50LmRldGFpbC5jb3VudGVyKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBmb250IH0gZnJvbSBcIi4uLy4uL2dsb2JhbC12YXJpYWJsZXNcIjtcclxuZXhwb3J0IGNsYXNzIFN0b25lQ29uZmlnIHtcclxuICAgIHg7XHJcbiAgICB5O1xyXG4gICAgb3JpZ3g7XHJcbiAgICBvcmlneTtcclxuICAgIHRleHQ7XHJcbiAgICBpbWc7XHJcbiAgICBpbWFnZVNpemU7XHJcbiAgICB0ZXh0Rm9udFNpemU7XHJcbiAgICBjYW52YXNXaWR0aDtcclxuICAgIGNhbnZhc0hlaWdodDtcclxuICAgIGltYWdlQ2VudGVyT2Zmc2V0WDtcclxuICAgIGltYWdlQ2VudGVyT2Zmc2V0WTtcclxuICAgIGNvbnRleHQ7XHJcbiAgICB0dXRvcmlhbEluc3RhbmNlO1xyXG4gICAgdGltZXJUaWNraW5nSW5zdGFuY2U7XHJcbiAgICBmcmFtZSA9IDA7XHJcbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0LCBjYW52YXNXaWR0aCwgY2FudmFzSGVpZ2h0LCBzdG9uZUxldHRlciwgeFBvcywgeVBvcywgaW1nLCB0aW1lclRpY2tpbmdJbnN0YW5jZSwgdHV0b3JpYWxJbnN0YW5jZSkge1xyXG4gICAgICAgIHRoaXMueCA9IHhQb3M7XHJcbiAgICAgICAgdGhpcy55ID0geVBvcztcclxuICAgICAgICB0aGlzLm9yaWd4ID0geFBvcztcclxuICAgICAgICB0aGlzLm9yaWd5ID0geVBvcztcclxuICAgICAgICB0aGlzLmNhbnZhc1dpZHRoID0gY2FudmFzV2lkdGg7XHJcbiAgICAgICAgdGhpcy5jYW52YXNIZWlnaHQgPSBjYW52YXNIZWlnaHQ7XHJcbiAgICAgICAgdGhpcy50dXRvcmlhbEluc3RhbmNlID0gdHV0b3JpYWxJbnN0YW5jZTtcclxuICAgICAgICB0aGlzLnRleHQgPSBzdG9uZUxldHRlcjtcclxuICAgICAgICB0aGlzLmltZyA9IGltZztcclxuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xyXG4gICAgICAgIHRoaXMuY2FsY3VsYXRlSW1hZ2VBbmRGb250U2l6ZSgpO1xyXG4gICAgICAgIHRoaXMuaW1hZ2VDZW50ZXJPZmZzZXRYID0gdGhpcy5pbWFnZVNpemUgLyAyLjM7XHJcbiAgICAgICAgdGhpcy5pbWFnZUNlbnRlck9mZnNldFkgPSB0aGlzLmltYWdlU2l6ZSAvIDEuNTtcclxuICAgICAgICB0aGlzLnRpbWVyVGlja2luZ0luc3RhbmNlID0gdGltZXJUaWNraW5nSW5zdGFuY2U7XHJcbiAgICB9XHJcbiAgICBjYWxjdWxhdGVJbWFnZUFuZEZvbnRTaXplKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmNvbnRleHQubWVhc3VyZVRleHQodGhpcy50ZXh0KS53aWR0aCAqIDEuNCA+XHJcbiAgICAgICAgICAgIHRoaXMuY2FudmFzSGVpZ2h0IC8gMTMpIHtcclxuICAgICAgICAgICAgdGhpcy5pbWFnZVNpemUgPSB0aGlzLmNvbnRleHQubWVhc3VyZVRleHQodGhpcy50ZXh0KS53aWR0aCAqIDEuMTtcclxuICAgICAgICAgICAgdGhpcy50ZXh0Rm9udFNpemUgPSB0aGlzLmNhbnZhc0hlaWdodCAvIDI1O1xyXG4gICAgICAgICAgICBpZiAodGhpcy50ZXh0Lmxlbmd0aCA+PSAzICYmIHRoaXMub3JpZ3ggPCA1MCAmJiB0aGlzLm9yaWd4IDwgdGhpcy5jYW52YXNXaWR0aCAvIDIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMueCA9IHRoaXMub3JpZ3ggKyAyNTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5pbWFnZVNpemUgPSB0aGlzLmNhbnZhc0hlaWdodCAvIDEzO1xyXG4gICAgICAgICAgICB0aGlzLnRleHRGb250U2l6ZSA9IHRoaXMuY2FudmFzSGVpZ2h0IC8gMjA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0RWFzZSA9IChjdXJyZW50UHJvZ3Jlc3MsIHN0YXJ0LCBkaXN0YW5jZSwgc3RlcHMpID0+IHtcclxuICAgICAgICByZXR1cm4gLWRpc3RhbmNlIC8gMiAqIChNYXRoLmNvcyhNYXRoLlBJICogY3VycmVudFByb2dyZXNzIC8gc3RlcHMpIC0gMSkgKyBzdGFydDtcclxuICAgIH07XHJcbiAgICBnZXRYID0gKCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmZyYW1lID49IDEwMCkge1xyXG4gICAgICAgICAgICAvLyBBbmltYXRpb24gaGFzIGVuZGVkLCByZXR1cm4gdGhlIGZpbmFsIHN0b25lIHBvc2l0aW9uXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLng7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLmdldEVhc2UodGhpcy5mcmFtZSwgMCwgdGhpcy54LCAxMDApO1xyXG4gICAgfTtcclxuICAgIGdldFkgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuZnJhbWUgPj0gMTAwKSB7XHJcbiAgICAgICAgICAgIC8vIEFuaW1hdGlvbiBoYXMgZW5kZWQsIHJldHVybiB0aGUgZmluYWwgc3RvbmUgcG9zaXRpb25cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMueTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RWFzZSh0aGlzLmZyYW1lLCAwLCB0aGlzLnksIDEwMCk7XHJcbiAgICB9O1xyXG4gICAgZHJhdyhkZWx0YVRpbWUpIHtcclxuICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMuaW1nLCB0aGlzLmdldFgoKSAtIHRoaXMuaW1hZ2VDZW50ZXJPZmZzZXRYLCB0aGlzLmdldFkoKSAtIHRoaXMuaW1hZ2VDZW50ZXJPZmZzZXRZLCB0aGlzLmltYWdlU2l6ZSwgdGhpcy5pbWFnZVNpemUpO1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5maWxsU3R5bGUgPSBcIndoaXRlXCI7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmZvbnQgPSB0aGlzLnRleHRGb250U2l6ZSArIGBweCAke2ZvbnR9LCBtb25vc3BhY2VgO1xyXG4gICAgICAgIHRoaXMuY29udGV4dC50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5maWxsVGV4dCh0aGlzLnRleHQsIHRoaXMuZ2V0WCgpLCB0aGlzLmdldFkoKSk7XHJcbiAgICAgICAgaWYgKHRoaXMuZnJhbWUgPCAxMDApIHtcclxuICAgICAgICAgICAgdGhpcy5mcmFtZSA9IHRoaXMuZnJhbWUgKyAxO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLnR1dG9yaWFsSW5zdGFuY2UgIT0gbnVsbCB8fCB0aGlzLnR1dG9yaWFsSW5zdGFuY2UgIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMudHV0b3JpYWxJbnN0YW5jZS5kcmF3KGRlbHRhVGltZSwgdGhpcy5pbWcsIHRoaXMuaW1hZ2VTaXplKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgY3JlYXRlUmlwcGxlRWZmZWN0IH0gZnJvbSBcIi4uL2NvbW1vbi91dGlsc1wiO1xyXG5pbXBvcnQgeyBHYW1lU2NvcmUgfSBmcm9tIFwiLi4vZGF0YS9nYW1lLXNjb3JlXCI7XHJcbmV4cG9ydCBjbGFzcyBUdXRvcmlhbCB7XHJcbiAgICB3aWR0aDtcclxuICAgIGhlaWdodDtcclxuICAgIGNvbnRleHQ7XHJcbiAgICB0dXRvcmlhbEltZztcclxuICAgIGltYWdlc0xvYWRlZCA9IGZhbHNlO1xyXG4gICAgdGFyZ2V0U3RvbmVQb3NpdGlvbnM7XHJcbiAgICBzdGFydHg7XHJcbiAgICBzdGFydHk7XHJcbiAgICBlbmR4O1xyXG4gICAgZW5keTtcclxuICAgIGVuZFR1dG9yaWFsID0gZmFsc2U7XHJcbiAgICBwdXp6bGVOdW1iZXI7XHJcbiAgICBwbGF5TW5zdHJDbGtUdHJsQW5pbSA9IHRydWU7XHJcbiAgICB0b3RhbFRpbWUgPSAwO1xyXG4gICAgbW9uc3RlclN0b25lRGlmZmVyZW5jZSA9IDA7XHJcbiAgICB4O1xyXG4gICAgeTtcclxuICAgIGR4O1xyXG4gICAgZHk7XHJcbiAgICBhYnNkeDtcclxuICAgIGFic2R5O1xyXG4gICAgc3RhcnRSaXBwbGUgPSBmYWxzZTtcclxuICAgIGRyYXdSaXBwbGU7XHJcbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0LCB3aWR0aCwgaGVpZ2h0LCBwdXp6bGVOdW1iZXIpIHtcclxuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcclxuICAgICAgICB0aGlzLnN0YXJ0eCA9IDA7XHJcbiAgICAgICAgdGhpcy5zdGFydHkgPSAwO1xyXG4gICAgICAgIHRoaXMuZW5keCA9IHRoaXMud2lkdGggLyAyO1xyXG4gICAgICAgIHRoaXMuZW5keSA9IHRoaXMuaGVpZ2h0IC8gMjtcclxuICAgICAgICB0aGlzLnB1enpsZU51bWJlciA9IChwdXp6bGVOdW1iZXIgPj0gMCkgPyBwdXp6bGVOdW1iZXIgOiBudWxsO1xyXG4gICAgICAgIHRoaXMudHV0b3JpYWxJbWcgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICB0aGlzLnR1dG9yaWFsSW1nLnNyYyA9IFwiLi9hc3NldHMvaW1hZ2VzL3R1dG9yaWFsX2hhbmQucG5nXCI7XHJcbiAgICAgICAgdGhpcy5kcmF3UmlwcGxlID0gY3JlYXRlUmlwcGxlRWZmZWN0KHRoaXMuY29udGV4dCk7XHJcbiAgICAgICAgdGhpcy50dXRvcmlhbEltZy5vbmxvYWQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VzTG9hZGVkID0gdHJ1ZTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgdXBkYXRlVGFyZ2V0U3RvbmVQb3NpdGlvbnModGFyZ2V0U3RvbmVQb3NpdGlvbikge1xyXG4gICAgICAgIHRoaXMuc3RhcnR4ID0gdGFyZ2V0U3RvbmVQb3NpdGlvblswXSAtIDIyO1xyXG4gICAgICAgIHRoaXMuc3RhcnR5ID0gdGFyZ2V0U3RvbmVQb3NpdGlvblsxXSAtIDUwO1xyXG4gICAgICAgIHRoaXMubW9uc3RlclN0b25lRGlmZmVyZW5jZSA9IE1hdGguc3FydCgodGhpcy5zdGFydHggLSB0aGlzLmVuZHgpICogKHRoaXMuc3RhcnR4IC0gdGhpcy5lbmR4KSArICh0aGlzLnN0YXJ0eSAtIHRoaXMuZW5keSkgKiAodGhpcy5zdGFydHkgLSB0aGlzLmVuZHkpKTtcclxuICAgICAgICB0aGlzLmFuaW1hdGVJbWFnZSgpO1xyXG4gICAgfVxyXG4gICAgaXNNb2JpbGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIC9BbmRyb2lkfHdlYk9TfGlQaG9uZXxpUGFkfGlQb2R8QmxhY2tCZXJyeXxJRU1vYmlsZXxPcGVyYSBNaW5pL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcclxuICAgIH1cclxuICAgIHNldFR1dG9yaWFsRW5kKGVuZFR1dG9yaWFsKSB7XHJcbiAgICAgICAgdGhpcy5lbmRUdXRvcmlhbCA9IGVuZFR1dG9yaWFsO1xyXG4gICAgfVxyXG4gICAgYW5pbWF0ZUltYWdlKCkge1xyXG4gICAgICAgIHRoaXMueCA9IHRoaXMuc3RhcnR4O1xyXG4gICAgICAgIHRoaXMueSA9IHRoaXMuc3RhcnR5O1xyXG4gICAgICAgIHRoaXMuZHggPSAodGhpcy5lbmR4IC0gdGhpcy5zdGFydHgpIC8gNTAwMDtcclxuICAgICAgICB0aGlzLmR5ID0gKHRoaXMuZW5keSAtIHRoaXMuc3RhcnR5KSAvIDUwMDA7XHJcbiAgICAgICAgdGhpcy5hYnNkeCA9IHRoaXMuaXNNb2JpbGUoKSA/IE1hdGguYWJzKHRoaXMuZHgpICogMyA6IE1hdGguYWJzKHRoaXMuZHgpO1xyXG4gICAgICAgIHRoaXMuYWJzZHkgPSB0aGlzLmlzTW9iaWxlKCkgPyBNYXRoLmFicyh0aGlzLmR5KSAqIDMgOiBNYXRoLmFicyh0aGlzLmR5KTtcclxuICAgICAgICB0aGlzLnNldFR1dG9yaWFsRW5kKGZhbHNlKTtcclxuICAgIH1cclxuICAgIGRyYXcoZGVsdGFUaW1lLCBpbWcsIGltYWdlU2l6ZSkge1xyXG4gICAgICAgIGlmICh0aGlzLmltYWdlc0xvYWRlZCAmJiAhdGhpcy5lbmRUdXRvcmlhbCAmJiB0aGlzLnNob3VsZFBsYXlUdXRvcmlhbCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMueCA9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmR4ID49IDBcclxuICAgICAgICAgICAgICAgICAgICA/IHRoaXMueCArIHRoaXMuYWJzZHggKiBkZWx0YVRpbWVcclxuICAgICAgICAgICAgICAgICAgICA6IHRoaXMueCAtIHRoaXMuYWJzZHggKiBkZWx0YVRpbWU7XHJcbiAgICAgICAgICAgIHRoaXMueSA9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmR5ID49IDBcclxuICAgICAgICAgICAgICAgICAgICA/IHRoaXMueSArIHRoaXMuYWJzZHkgKiBkZWx0YVRpbWVcclxuICAgICAgICAgICAgICAgICAgICA6IHRoaXMueSAtIHRoaXMuYWJzZHkgKiBkZWx0YVRpbWU7XHJcbiAgICAgICAgICAgIGNvbnN0IGRpc3ggPSB0aGlzLnggLSB0aGlzLmVuZHggKyB0aGlzLmFic2R4O1xyXG4gICAgICAgICAgICBjb25zdCBkaXN5ID0gdGhpcy55IC0gdGhpcy5lbmR5ICsgdGhpcy5hYnNkeTtcclxuICAgICAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLnNxcnQoZGlzeCAqIGRpc3ggKyBkaXN5ICogZGlzeSk7XHJcbiAgICAgICAgICAgIGxldCBtb25zdGVyU3RvbmVEaWZmZXJlbmNlSW5QZXJjZW50YWdlID0gKDEwMCAqIGRpc3RhbmNlIC8gdGhpcy5tb25zdGVyU3RvbmVEaWZmZXJlbmNlKTtcclxuICAgICAgICAgICAgaWYgKG1vbnN0ZXJTdG9uZURpZmZlcmVuY2VJblBlcmNlbnRhZ2UgPCAxNSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG1vbnN0ZXJTdG9uZURpZmZlcmVuY2VJblBlcmNlbnRhZ2UgPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVIYW5kU2NhbGVBbmltYXRpb24oZGVsdGFUaW1lLCB0aGlzLmVuZHgsIHRoaXMuZW5keSArIDMwLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMueCA9IHRoaXMuc3RhcnR4O1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMueSA9IHRoaXMuc3RhcnR5O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKG1vbnN0ZXJTdG9uZURpZmZlcmVuY2VJblBlcmNlbnRhZ2UgPiA4MCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVIYW5kU2NhbGVBbmltYXRpb24oZGVsdGFUaW1lLCB0aGlzLnN0YXJ0eCArIDE1LCB0aGlzLnN0YXJ0eSArIDEwLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgcHJldmlvdXNBbHBoYSA9IHRoaXMuY29udGV4dC5nbG9iYWxBbHBoYTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5nbG9iYWxBbHBoYSA9IDAuNDtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UoaW1nLCB0aGlzLngsIHRoaXMueSArIDIwLCBpbWFnZVNpemUsIGltYWdlU2l6ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZ2xvYmFsQWxwaGEgPSBwcmV2aW91c0FscGhhO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZSh0aGlzLnR1dG9yaWFsSW1nLCB0aGlzLnggKyAxNSwgdGhpcy55ICsgMTApOyAvL2RyYXdzIHRoZSBoYW5kIHN0b25lIGRyYWcgYW5pbWF0aW9uIVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY3JlYXRlSGFuZFNjYWxlQW5pbWF0aW9uKGRlbHRhVGltZSwgb2Zmc2V0WCwgb2Zmc2V0WSwgc2hvdWxkQ3JlYXRlUmlwcGxlKSB7XHJcbiAgICAgICAgdGhpcy50b3RhbFRpbWUgKz0gTWF0aC5mbG9vcihkZWx0YVRpbWUpO1xyXG4gICAgICAgIGNvbnN0IHRyYW5zaXRpb25EdXJhdGlvbiA9IDUwMDtcclxuICAgICAgICBjb25zdCBzY2FsZUZhY3RvciA9IHRoaXMuc2ludXNvaWRhbEludGVycG9sYXRpb24odGhpcy50b3RhbFRpbWUsIDEsIDEuNSwgdHJhbnNpdGlvbkR1cmF0aW9uKTtcclxuICAgICAgICBjb25zdCBzY2FsZWRXaWR0aCA9IHRoaXMudHV0b3JpYWxJbWcud2lkdGggKiBzY2FsZUZhY3RvcjtcclxuICAgICAgICBjb25zdCBzY2FsZWRIZWlnaHQgPSB0aGlzLnR1dG9yaWFsSW1nLmhlaWdodCAqIHNjYWxlRmFjdG9yO1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy50dXRvcmlhbEltZywgb2Zmc2V0WCwgb2Zmc2V0WSwgc2NhbGVkV2lkdGgsIHNjYWxlZEhlaWdodCk7XHJcbiAgICAgICAgc2hvdWxkQ3JlYXRlUmlwcGxlID8gKG51bGwpIDogKHRoaXMuZHJhd1JpcHBsZShvZmZzZXRYICsgdGhpcy53aWR0aCAqIDAuMDIsIG9mZnNldFkgKyB0aGlzLnR1dG9yaWFsSW1nLmhlaWdodCAvIDIsIGZhbHNlKSk7XHJcbiAgICB9XHJcbiAgICBzaW51c29pZGFsSW50ZXJwb2xhdGlvbih0aW1lLCBtaW5TY2FsZSwgbWF4U2NhbGUsIGR1cmF0aW9uKSB7XHJcbiAgICAgICAgY29uc3QgYW1wbGl0dWRlID0gKG1heFNjYWxlIC0gbWluU2NhbGUpIC8gMjtcclxuICAgICAgICBjb25zdCBmcmVxdWVuY3kgPSBNYXRoLlBJIC8gZHVyYXRpb247XHJcbiAgICAgICAgcmV0dXJuIG1pblNjYWxlICsgYW1wbGl0dWRlICogTWF0aC5zaW4oZnJlcXVlbmN5ICogdGltZSk7XHJcbiAgICB9XHJcbiAgICBjbGlja09uTW9uc3RlclR1dG9yaWFsKGRlbHRhVGltZSkge1xyXG4gICAgICAgIGlmICh0aGlzLnNob3VsZFBsYXlNb25zdGVyQ2xpY2tUdXRvcmlhbEFuaW1hdGlvbigpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zaXRpb25EdXJhdGlvbiA9IDIwMDA7XHJcbiAgICAgICAgICAgIGNvbnN0IGJvdHRvbVBvc2l0aW9uID0gdGhpcy5oZWlnaHQgLyAxLjkgKyAodGhpcy50dXRvcmlhbEltZy5oZWlnaHQgLyAwLjgpO1xyXG4gICAgICAgICAgICBjb25zdCB0b3BQb3NpdGlvbiA9IHRoaXMuaGVpZ2h0IC8gMS45ICsgKHRoaXMudHV0b3JpYWxJbWcuaGVpZ2h0IC8gMC44KSAtIHRoaXMudHV0b3JpYWxJbWcuaGVpZ2h0O1xyXG4gICAgICAgICAgICBsZXQgY3VycmVudE9mZnNldFk7XHJcbiAgICAgICAgICAgIGNvbnN0IG9mZnNldFggPSB0aGlzLmVuZHg7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRvdGFsVGltZSA8IHRyYW5zaXRpb25EdXJhdGlvbiAvIDIpIHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRPZmZzZXRZID0gdG9wUG9zaXRpb24gKyAodGhpcy50b3RhbFRpbWUgLyAodHJhbnNpdGlvbkR1cmF0aW9uIC8gMikpICogKGJvdHRvbVBvc2l0aW9uIC0gdG9wUG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3UmlwcGxlKG9mZnNldFgsIHRoaXMuaGVpZ2h0IC8gMS45ICsgKHRoaXMudHV0b3JpYWxJbWcuaGVpZ2h0IC8gMS41KSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50T2Zmc2V0WSA9IGJvdHRvbVBvc2l0aW9uIC0gKCh0aGlzLnRvdGFsVGltZSAtIHRyYW5zaXRpb25EdXJhdGlvbiAvIDIpIC8gKHRyYW5zaXRpb25EdXJhdGlvbiAvIDIpKSAqIChib3R0b21Qb3NpdGlvbiAtIHRvcFBvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd1JpcHBsZShvZmZzZXRYLCB0aGlzLmhlaWdodCAvIDEuOSArICh0aGlzLnR1dG9yaWFsSW1nLmhlaWdodCAvIDEuMikgKyB0aGlzLnR1dG9yaWFsSW1nLmhlaWdodCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZSh0aGlzLnR1dG9yaWFsSW1nLCBvZmZzZXRYLCBjdXJyZW50T2Zmc2V0WSwgdGhpcy50dXRvcmlhbEltZy53aWR0aCwgdGhpcy50dXRvcmlhbEltZy5oZWlnaHQpO1xyXG4gICAgICAgICAgICBpZiAoY3VycmVudE9mZnNldFkgPD0gdG9wUG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudG90YWxUaW1lID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnRvdGFsVGltZSArPSBkZWx0YVRpbWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc2hvdWxkUGxheVR1dG9yaWFsKCkge1xyXG4gICAgICAgIGxldCBwbGF5RHJhZ0FuaW1hdGlvbkZvckZpcnN0UHV6emxlID0gR2FtZVNjb3JlLmdldEFsbEdhbWVMZXZlbEluZm8oKS5sZW5ndGggPD0gMCAmJiB0aGlzLnB1enpsZU51bWJlciA9PSAwO1xyXG4gICAgICAgIHJldHVybiBwbGF5RHJhZ0FuaW1hdGlvbkZvckZpcnN0UHV6emxlO1xyXG4gICAgfVxyXG4gICAgc2hvdWxkUGxheU1vbnN0ZXJDbGlja1R1dG9yaWFsQW5pbWF0aW9uKCkge1xyXG4gICAgICAgIGxldCBwbGF5RHJhZ0FuaW1hdGlvbkZvckZpcnN0UHV6emxlID0gR2FtZVNjb3JlLmdldEFsbEdhbWVMZXZlbEluZm8oKS5sZW5ndGggPD0gMCAmJiB0aGlzLnBsYXlNbnN0ckNsa1R0cmxBbmltO1xyXG4gICAgICAgIHJldHVybiBwbGF5RHJhZ0FuaW1hdGlvbkZvckZpcnN0UHV6emxlO1xyXG4gICAgfVxyXG4gICAgc2V0UHV6emxlTnVtYmVyKHB1enpsZU51bWVyKSB7XHJcbiAgICAgICAgdGhpcy5wdXp6bGVOdW1iZXIgPSBwdXp6bGVOdW1lcjtcclxuICAgIH1cclxuICAgIHNldFBsYXlNb25zdGVyQ2xpY2tBbmltYXRpb24odmFsdWUpIHtcclxuICAgICAgICB0aGlzLnBsYXlNbnN0ckNsa1R0cmxBbmltID0gdmFsdWU7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgU3RvbmVDb25maWcgfSBmcm9tIFwiLi4vY29tbW9uL3N0b25lLWNvbmZpZ1wiO1xyXG5pbXBvcnQgeyBFdmVudE1hbmFnZXIgfSBmcm9tIFwiLi4vZXZlbnRzL0V2ZW50TWFuYWdlclwiO1xyXG5pbXBvcnQgeyBUdXRvcmlhbCB9IGZyb20gXCIuL3R1dG9yaWFsXCI7XHJcbmltcG9ydCB7IEF1ZGlvUGxheWVyIH0gZnJvbSBcIi4vYXVkaW8tcGxheWVyXCI7XHJcbmltcG9ydCB7IFZJU0lCSUxJVFlfQ0hBTkdFIH0gZnJvbSBcIi4uL2NvbW1vbi9ldmVudC1uYW1lc1wiO1xyXG5pbXBvcnQgeyBVdGlscyB9IGZyb20gXCIuLi9jb21tb24vdXRpbHNcIjtcclxuaW1wb3J0IHsgR2FtZVNjb3JlIH0gZnJvbSBcIi4uL2RhdGEvZ2FtZS1zY29yZVwiO1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdG9uZUhhbmRsZXIgZXh0ZW5kcyBFdmVudE1hbmFnZXIge1xyXG4gICAgY29udGV4dDtcclxuICAgIGNhbnZhcztcclxuICAgIGN1cnJlbnRQdXp6bGVEYXRhO1xyXG4gICAgdGFyZ2V0U3RvbmVzO1xyXG4gICAgc3RvbmVQb3M7XHJcbiAgICBwaWNrZWRTdG9uZTtcclxuICAgIGZvaWxTdG9uZXMgPSBuZXcgQXJyYXkoKTtcclxuICAgIGFuc3dlciA9IFwiXCI7XHJcbiAgICBwdXp6bGVOdW1iZXI7XHJcbiAgICBsZXZlbERhdGE7XHJcbiAgICBjb3JyZWN0QW5zd2VyO1xyXG4gICAgcHV6emxlU3RhcnRUaW1lO1xyXG4gICAgc2hvd1R1dG9yaWFsID0gR2FtZVNjb3JlLmdldERhdGFmcm9tU3RvcmFnZSgpLmxlbmd0aCA9PSB1bmRlZmluZWQgPyB0cnVlIDogZmFsc2U7XHJcbiAgICBjb3JyZWN0U3RvbmVBdWRpbztcclxuICAgIHR1dG9yaWFsO1xyXG4gICAgY29ycmVjdFRhcmdldFN0b25lO1xyXG4gICAgc3RvbmViZztcclxuICAgIGF1ZGlvUGxheWVyO1xyXG4gICAgZmVlZGJhY2tBdWRpb3M7XHJcbiAgICB0aW1lclRpY2tpbmdJbnN0YW5jZTtcclxuICAgIGlzR2FtZVBhdXNlZCA9IGZhbHNlO1xyXG4gICAgY29uc3RydWN0b3IoY29udGV4dCwgY2FudmFzLCBwdXp6bGVOdW1iZXIsIGxldmVsRGF0YSwgZmVlZGJhY2tBdWRpb3MsIHRpbWVyVGlja2luZ0luc3RhbmNlKSB7XHJcbiAgICAgICAgc3VwZXIoe1xyXG4gICAgICAgICAgICBzdG9uZURyb3BDYWxsYmFja0hhbmRsZXI6IChldmVudCkgPT4gdGhpcy5oYW5kbGVTdG9uZURyb3AoZXZlbnQpLFxyXG4gICAgICAgICAgICBsb2FkUHV6emxlQ2FsbGJhY2tIYW5kbGVyOiAoZXZlbnQpID0+IHRoaXMuaGFuZGxlTG9hZFB1enpsZShldmVudCksXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcclxuICAgICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcclxuICAgICAgICB0aGlzLnB1enpsZU51bWJlciA9IHB1enpsZU51bWJlcjtcclxuICAgICAgICB0aGlzLmxldmVsRGF0YSA9IGxldmVsRGF0YTtcclxuICAgICAgICB0aGlzLnNldFRhcmdldFN0b25lKHRoaXMucHV6emxlTnVtYmVyKTtcclxuICAgICAgICB0aGlzLmluaXRpYWxpemVTdG9uZVBvcygpO1xyXG4gICAgICAgIHRoaXMuY29ycmVjdFN0b25lQXVkaW8gPSBuZXcgQXVkaW8oXCJhc3NldHMvYXVkaW9zL0NvcnJlY3RTdG9uZUZpbmFsLm1wM1wiKTtcclxuICAgICAgICB0aGlzLmNvcnJlY3RTdG9uZUF1ZGlvLmxvb3AgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmZlZWRiYWNrQXVkaW9zID0gdGhpcy5jb252ZXJ0RmVlZEJhY2tBdWRpb3NUb0xpc3QoZmVlZGJhY2tBdWRpb3MpO1xyXG4gICAgICAgIHRoaXMucHV6emxlU3RhcnRUaW1lID0gbmV3IERhdGUoKTtcclxuICAgICAgICB0aGlzLnR1dG9yaWFsID0gbmV3IFR1dG9yaWFsKGNvbnRleHQsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCwgcHV6emxlTnVtYmVyKTtcclxuICAgICAgICB0aGlzLnN0b25lYmcgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICB0aGlzLnN0b25lYmcuc3JjID0gXCIuL2Fzc2V0cy9pbWFnZXMvc3RvbmVfcGlua192MDIucG5nXCI7XHJcbiAgICAgICAgdGhpcy5hdWRpb1BsYXllciA9IG5ldyBBdWRpb1BsYXllcigpO1xyXG4gICAgICAgIHRoaXMuc3RvbmViZy5vbmxvYWQgPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVN0b25lcyh0aGlzLnN0b25lYmcpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5hdWRpb1BsYXllciA9IG5ldyBBdWRpb1BsYXllcigpO1xyXG4gICAgICAgIHRoaXMudGltZXJUaWNraW5nSW5zdGFuY2UgPSB0aW1lclRpY2tpbmdJbnN0YW5jZTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFZJU0lCSUxJVFlfQ0hBTkdFLCB0aGlzLmhhbmRsZVZpc2liaWxpdHlDaGFuZ2UsIGZhbHNlKTtcclxuICAgIH1cclxuICAgIGNyZWF0ZVN0b25lcyhpbWcpIHtcclxuICAgICAgICBjb25zdCBmb2lsU3RvbmVzID0gdGhpcy5nZXRGb2lsU3RvbmVzKCk7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmb2lsU3RvbmVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChmb2lsU3RvbmVzW2ldID09IHRoaXMuY29ycmVjdFRhcmdldFN0b25lKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnR1dG9yaWFsLnVwZGF0ZVRhcmdldFN0b25lUG9zaXRpb25zKHRoaXMuc3RvbmVQb3NbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuZm9pbFN0b25lcy5wdXNoKG5ldyBTdG9uZUNvbmZpZyh0aGlzLmNvbnRleHQsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQsIGZvaWxTdG9uZXNbaV0sIHRoaXMuc3RvbmVQb3NbaV1bMF0sIHRoaXMuc3RvbmVQb3NbaV1bMV0sIGltZywgdGhpcy50aW1lclRpY2tpbmdJbnN0YW5jZSwgaSA9PSBmb2lsU3RvbmVzLmxlbmd0aCAtIDEgPyB0aGlzLnR1dG9yaWFsIDogbnVsbCkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGRyYXcoZGVsdGFUaW1lKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmZvaWxTdG9uZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5mb2lsU3RvbmVzW2ldLmRyYXcoZGVsdGFUaW1lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuZm9pbFN0b25lc1t0aGlzLmZvaWxTdG9uZXMubGVuZ3RoIC0gMV0uZnJhbWUgPj0gMTAwICYmXHJcbiAgICAgICAgICAgICF0aGlzLmlzR2FtZVBhdXNlZCkge1xyXG4gICAgICAgICAgICB0aGlzLnRpbWVyVGlja2luZ0luc3RhbmNlLnVwZGF0ZShkZWx0YVRpbWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGluaXRpYWxpemVTdG9uZVBvcygpIHtcclxuICAgICAgICB2YXIgb2Zmc2V0Q29vcmRpbmF0ZVZhbHVlID0gMzI7XHJcbiAgICAgICAgdGhpcy5zdG9uZVBvcyA9IFtcclxuICAgICAgICAgICAgW1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW52YXMud2lkdGggLyA1IC0gb2Zmc2V0Q29vcmRpbmF0ZVZhbHVlLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0IC8gMS45IC0gb2Zmc2V0Q29vcmRpbmF0ZVZhbHVlLFxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICBbXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCAvIDIgLSBvZmZzZXRDb29yZGluYXRlVmFsdWUsXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgLyAxLjE1IC0gb2Zmc2V0Q29vcmRpbmF0ZVZhbHVlLFxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICBbXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCAvIDMuNSArIHRoaXMuY2FudmFzLndpZHRoIC8gMiAtIG9mZnNldENvb3JkaW5hdGVWYWx1ZSxcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCAvIDEuMiAtIG9mZnNldENvb3JkaW5hdGVWYWx1ZSxcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgW1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW52YXMud2lkdGggLyA0IC0gb2Zmc2V0Q29vcmRpbmF0ZVZhbHVlLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0IC8gMS4yOCAtIG9mZnNldENvb3JkaW5hdGVWYWx1ZSxcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgW1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW52YXMud2lkdGggLyA3IC0gb2Zmc2V0Q29vcmRpbmF0ZVZhbHVlLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0IC8gMS41IC0gb2Zmc2V0Q29vcmRpbmF0ZVZhbHVlLFxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICBbXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCAvIDIuMyArXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW52YXMud2lkdGggLyAyLjEgLVxyXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldENvb3JkaW5hdGVWYWx1ZSxcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCAvIDEuOSAtIG9mZnNldENvb3JkaW5hdGVWYWx1ZSxcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgW1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW52YXMud2lkdGggLyAyLjMgK1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzLndpZHRoIC8gMi4xIC1cclxuICAgICAgICAgICAgICAgICAgICBvZmZzZXRDb29yZGluYXRlVmFsdWUsXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgLyAxLjQyIC0gb2Zmc2V0Q29vcmRpbmF0ZVZhbHVlLFxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICBbXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCAvIDYgLSBvZmZzZXRDb29yZGluYXRlVmFsdWUsXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgLyAxLjEgLSBvZmZzZXRDb29yZGluYXRlVmFsdWUsXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgXTtcclxuICAgICAgICB0aGlzLnN0b25lUG9zID0gdGhpcy5zdG9uZVBvcy5zb3J0KCgpID0+IE1hdGgucmFuZG9tKCkgLSAwLjUpO1xyXG4gICAgfVxyXG4gICAgc2V0VGFyZ2V0U3RvbmUocHV6emxlTnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50UHV6emxlRGF0YSA9IHRoaXMubGV2ZWxEYXRhLnB1enpsZXNbcHV6emxlTnVtYmVyXTtcclxuICAgICAgICB0aGlzLnRhcmdldFN0b25lcyA9IFsuLi50aGlzLmN1cnJlbnRQdXp6bGVEYXRhLnRhcmdldFN0b25lc107XHJcbiAgICAgICAgdGhpcy5jb3JyZWN0VGFyZ2V0U3RvbmUgPSB0aGlzLnRhcmdldFN0b25lcy5qb2luKFwiXCIpO1xyXG4gICAgfVxyXG4gICAgaXNEcm9wcGVkU3RvbmVDb3JyZWN0KGRyb3BwZWRTdG9uZSkge1xyXG4gICAgICAgIGlmIChkcm9wcGVkU3RvbmUgPT0gdGhpcy5jb3JyZWN0VGFyZ2V0U3RvbmUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaGFuZGxlU3RvbmVEcm9wKGV2ZW50KSB7XHJcbiAgICAgICAgLy8gdGhpcy5pc1N0b25lRHJvcHBlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5mb2lsU3RvbmVzID0gW107XHJcbiAgICB9XHJcbiAgICBoYW5kbGVMb2FkUHV6emxlKGV2ZW50KSB7XHJcbiAgICAgICAgdGhpcy5mb2lsU3RvbmVzID0gW107XHJcbiAgICAgICAgdGhpcy50dXRvcmlhbC5zZXRQdXp6bGVOdW1iZXIoZXZlbnQuZGV0YWlsLmNvdW50ZXIpO1xyXG4gICAgICAgIHRoaXMucHV6emxlTnVtYmVyID0gZXZlbnQuZGV0YWlsLmNvdW50ZXI7XHJcbiAgICAgICAgdGhpcy5zZXRUYXJnZXRTdG9uZSh0aGlzLnB1enpsZU51bWJlcik7XHJcbiAgICAgICAgdGhpcy5pbml0aWFsaXplU3RvbmVQb3MoKTtcclxuICAgICAgICB0aGlzLmNyZWF0ZVN0b25lcyh0aGlzLnN0b25lYmcpO1xyXG4gICAgfVxyXG4gICAgZGlzcG9zZSgpIHtcclxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFZJU0lCSUxJVFlfQ0hBTkdFLCB0aGlzLmhhbmRsZVZpc2liaWxpdHlDaGFuZ2UsIGZhbHNlKTtcclxuICAgICAgICB0aGlzLnVucmVnaXN0ZXJFdmVudExpc3RlbmVyKCk7XHJcbiAgICB9XHJcbiAgICBpc1N0b25lRHJvcHBlZENvcnJlY3RGb3JMZXR0ZXJPbmx5KGRyb3BwZWRTdG9uZSwgZmVlZEJhY2tJbmRleCkge1xyXG4gICAgICAgIGlmIChkcm9wcGVkU3RvbmUgPT0gdGhpcy5jb3JyZWN0VGFyZ2V0U3RvbmUpIHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5Q29ycmVjdEFuc3dlckZlZWRiYWNrU291bmQoZmVlZEJhY2tJbmRleCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmF1ZGlvUGxheWVyLnBsYXlGZWVkYmFja0F1ZGlvcyhmYWxzZSwgXCIuL2Fzc2V0cy9hdWRpb3MvRWF0Lm1wM1wiLCBcIi4vYXNzZXRzL2F1ZGlvcy9EaXNhcG9pbnRlZC0wNS5tcDNcIiwgXCIuL2Fzc2V0cy9hdWRpb3MvTW9uc3RlclNwaXQubXAzXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hdWRpb1BsYXllci5wbGF5RmVlZGJhY2tBdWRpb3MoZmFsc2UsIFwiLi9hc3NldHMvYXVkaW9zL0VhdC5tcDNcIiwgXCIuL2Fzc2V0cy9hdWRpb3MvTW9uc3RlclNwaXQubXAzXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpc1N0b25lRHJvcHBlZENvcnJlY3RGb3JMZXR0ZXJJbldvcmQoZHJvcHBlZFN0b25lLCBmZWVkQmFja0luZGV4KSB7XHJcbiAgICAgICAgaWYgKGRyb3BwZWRTdG9uZSA9PSB0aGlzLmNvcnJlY3RUYXJnZXRTdG9uZSkge1xyXG4gICAgICAgICAgICB0aGlzLnBsYXlDb3JyZWN0QW5zd2VyRmVlZGJhY2tTb3VuZChmZWVkQmFja0luZGV4KTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpKSA+IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYXVkaW9QbGF5ZXIucGxheUZlZWRiYWNrQXVkaW9zKGZhbHNlLCBcIi4vYXNzZXRzL2F1ZGlvcy9FYXQubXAzXCIsIFwiLi9hc3NldHMvYXVkaW9zL0Rpc2Fwb2ludGVkLTA1Lm1wM1wiLCBcIi4vYXNzZXRzL2F1ZGlvcy9Nb25zdGVyU3BpdC5tcDNcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmF1ZGlvUGxheWVyLnBsYXlGZWVkYmFja0F1ZGlvcyhmYWxzZSwgXCIuL2Fzc2V0cy9hdWRpb3MvRWF0Lm1wM1wiLCBcIi4vYXNzZXRzL2F1ZGlvcy9Nb25zdGVyU3BpdC5tcDNcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlzU3RvbkRyb3BwZWRDb3JyZWN0Rm9yV29yZChkcm9wcGVkU3RvbmUsIGZlZWRCYWNrSW5kZXgpIHtcclxuICAgICAgICBpZiAoZHJvcHBlZFN0b25lID09IHRoaXMuY29ycmVjdFRhcmdldFN0b25lLnN1YnN0cmluZygwLCBkcm9wcGVkU3RvbmUubGVuZ3RoKSkge1xyXG4gICAgICAgICAgICBpZiAoZHJvcHBlZFN0b25lID09IHRoaXMuZ2V0Q29ycmVjdFRhcmdldFN0b25lKCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheUNvcnJlY3RBbnN3ZXJGZWVkYmFja1NvdW5kKGZlZWRCYWNrSW5kZXgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hdWRpb1BsYXllci5wbGF5RmVlZGJhY2tBdWRpb3MoZmFsc2UsIFwiLi9hc3NldHMvYXVkaW9zL0VhdC5tcDNcIiwgXCIuL2Fzc2V0cy9hdWRpb3MvQ2hlZXJpbmctMDIubXAzXCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb3JyZWN0U3RvbmVBdWRpby5wbGF5KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0Q29ycmVjdFRhcmdldFN0b25lKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvcnJlY3RUYXJnZXRTdG9uZTtcclxuICAgIH1cclxuICAgIGdldEZvaWxTdG9uZXMoKSB7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50UHV6emxlRGF0YS50YXJnZXRTdG9uZXMuZm9yRWFjaCgoZSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuY3VycmVudFB1enpsZURhdGEuZm9pbFN0b25lcy5pbmRleE9mKGUpO1xyXG4gICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQdXp6bGVEYXRhLmZvaWxTdG9uZXMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IHRvdGFsU3RvbmVzQ291bnQgPSB0aGlzLmN1cnJlbnRQdXp6bGVEYXRhLnRhcmdldFN0b25lcy5sZW5ndGggK1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQdXp6bGVEYXRhLmZvaWxTdG9uZXMubGVuZ3RoO1xyXG4gICAgICAgIGlmICh0b3RhbFN0b25lc0NvdW50ID4gOCkge1xyXG4gICAgICAgICAgICBjb25zdCBleHRyYVN0b25lc0NvdW50ID0gdG90YWxTdG9uZXNDb3VudCAtIDg7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFB1enpsZURhdGEuZm9pbFN0b25lcy5zcGxpY2UoMCwgZXh0cmFTdG9uZXNDb3VudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY3VycmVudFB1enpsZURhdGEudGFyZ2V0U3RvbmVzLmZvckVhY2goKGUpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50UHV6emxlRGF0YS5mb2lsU3RvbmVzLnB1c2goZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFB1enpsZURhdGEuZm9pbFN0b25lcy5zb3J0KCgpID0+IE1hdGgucmFuZG9tKCkgLSAwLjUpO1xyXG4gICAgfVxyXG4gICAgaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmF1ZGlvUGxheWVyLnN0b3BBbGxBdWRpb3MoKTtcclxuICAgICAgICB0aGlzLmNvcnJlY3RTdG9uZUF1ZGlvLnBhdXNlKCk7XHJcbiAgICB9O1xyXG4gICAgY29udmVydEZlZWRCYWNrQXVkaW9zVG9MaXN0KGZlZWRiYWNrQXVkaW9zKSB7XHJcbiAgICAgICAgbGV0IGZlZWRCYWNrQXVkaW9BcnJheSA9IFtdO1xyXG4gICAgICAgIGZlZWRCYWNrQXVkaW9BcnJheS5wdXNoKGZlZWRiYWNrQXVkaW9zW1wiZmFudGFzdGljXCJdLCBmZWVkYmFja0F1ZGlvc1tcImdyZWF0XCJdLCBmZWVkYmFja0F1ZGlvc1tcImFtYXppbmdcIl0pO1xyXG4gICAgICAgIHJldHVybiBmZWVkQmFja0F1ZGlvQXJyYXk7XHJcbiAgICB9XHJcbiAgICBzZXRHYW1lUGF1c2UoaXNHYW1lUGF1c2VkKSB7XHJcbiAgICAgICAgdGhpcy5pc0dhbWVQYXVzZWQgPSBpc0dhbWVQYXVzZWQ7XHJcbiAgICB9XHJcbiAgICBwbGF5Q29ycmVjdEFuc3dlckZlZWRiYWNrU291bmQoZmVlZEJhY2tJbmRleCkge1xyXG4gICAgICAgIGNvbnN0IHJhbmRvbU51bWJlciA9IFV0aWxzLmdldFJhbmRvbU51bWJlcigxLCAzKS50b1N0cmluZygpO1xyXG4gICAgICAgIHRoaXMuYXVkaW9QbGF5ZXIucGxheUZlZWRiYWNrQXVkaW9zKGZhbHNlLCBcIi4vYXNzZXRzL2F1ZGlvcy9FYXQubXAzXCIsIGAuL2Fzc2V0cy9hdWRpb3MvQ2hlZXJpbmctMCR7cmFuZG9tTnVtYmVyfS5tcDNgLCBcImFzc2V0cy9hdWRpb3MvUG9pbnRzQWRkLndhdlwiLCBVdGlscy5nZXRDb252ZXJ0ZWREZXZQcm9kVVJMKHRoaXMuZmVlZGJhY2tBdWRpb3NbZmVlZEJhY2tJbmRleF0pKTtcclxuICAgICAgICAvLyB0byBwbGF5IHRoZSBhdWRpbyBwYXJyYWxsZWx5LlxyXG4gICAgICAgIHRoaXMuY29ycmVjdFN0b25lQXVkaW8ucGxheSgpO1xyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhbmNlbEJ1dHRvbiB7XHJcbiAgICBwb3NYO1xyXG4gICAgcG9zWTtcclxuICAgIGNvbnRleHQ7XHJcbiAgICBjYW52YXM7XHJcbiAgICBpbWFnZXNMb2FkZWQgPSBmYWxzZTtcclxuICAgIGNhbmNlbF9idXR0b25faW1hZ2U7XHJcbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0LCBjYW52YXMpIHtcclxuICAgICAgICB0aGlzLnBvc1ggPSBjYW52YXMud2lkdGggKiAwLjEgKyAoY2FudmFzLndpZHRoICogMC4xNSkgLyAyO1xyXG4gICAgICAgIHRoaXMucG9zWSA9IGNhbnZhcy5oZWlnaHQgKiAwLjI7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcclxuICAgICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcclxuICAgICAgICB0aGlzLmNhbmNlbF9idXR0b25faW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICB0aGlzLmNhbmNlbF9idXR0b25faW1hZ2Uuc3JjID0gXCIuL2Fzc2V0cy9pbWFnZXMvY2xvc2VfYnRuLnBuZ1wiO1xyXG4gICAgICAgIHRoaXMuY2FuY2VsX2J1dHRvbl9pbWFnZS5vbmxvYWQgPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmltYWdlc0xvYWRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuY2FuY2VsX2J1dHRvbl9pbWFnZSA9IHRoaXMuY2FuY2VsX2J1dHRvbl9pbWFnZTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgZHJhdygpIHtcclxuICAgICAgICBpZiAodGhpcy5pbWFnZXNMb2FkZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZSh0aGlzLmNhbmNlbF9idXR0b25faW1hZ2UsIHRoaXMucG9zWCwgdGhpcy5wb3NZLCB0aGlzLmNhbnZhcy53aWR0aCAqIDAuMTUsIHRoaXMuY2FudmFzLndpZHRoICogMC4xNSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgb25DbGljayh4Q2xpY2ssIHlDbGljaykge1xyXG4gICAgICAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5zcXJ0KCh4Q2xpY2sgLSB0aGlzLnBvc1ggLSAodGhpcy5jYW52YXMud2lkdGggKiAwLjE1KSAvIDIpICpcclxuICAgICAgICAgICAgKHhDbGljayAtIHRoaXMucG9zWCAtICh0aGlzLmNhbnZhcy53aWR0aCAqIDAuMTUpIC8gMikgK1xyXG4gICAgICAgICAgICAoeUNsaWNrIC0gdGhpcy5wb3NZIC0gKHRoaXMuY2FudmFzLndpZHRoICogMC4xNSkgLyAyKSAqXHJcbiAgICAgICAgICAgICAgICAoeUNsaWNrIC0gdGhpcy5wb3NZIC0gKHRoaXMuY2FudmFzLndpZHRoICogMC4xNSkgLyAyKSk7XHJcbiAgICAgICAgaWYgKGRpc3RhbmNlIDwgKHRoaXMuY2FudmFzLndpZHRoICogMC4xNSkgLyAyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDbG9zZUJ1dHRvbiB7XHJcbiAgICBwb3NYO1xyXG4gICAgcG9zWTtcclxuICAgIGNvbnRleHQ7XHJcbiAgICBjYW52YXM7XHJcbiAgICBpbWFnZXNMb2FkZWQgPSBmYWxzZTtcclxuICAgIGNsb3NlX2J1dHRvbl9pbWFnZTtcclxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQsIGNhbnZhcywgcG9zWCwgcG9zWSkge1xyXG4gICAgICAgIHRoaXMucG9zWCA9IHBvc1g7XHJcbiAgICAgICAgdGhpcy5wb3NZID0gcG9zWTtcclxuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xyXG4gICAgICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xyXG4gICAgICAgIHRoaXMuY2xvc2VfYnV0dG9uX2ltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgdGhpcy5jbG9zZV9idXR0b25faW1hZ2Uuc3JjID0gXCIuL2Fzc2V0cy9pbWFnZXMvbWFwX2J0bi5wbmdcIjtcclxuICAgICAgICB0aGlzLmNsb3NlX2J1dHRvbl9pbWFnZS5vbmxvYWQgPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmltYWdlc0xvYWRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2VfYnV0dG9uX2ltYWdlID0gdGhpcy5jbG9zZV9idXR0b25faW1hZ2U7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIGRyYXcoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW1hZ2VzTG9hZGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5jbG9zZV9idXR0b25faW1hZ2UsIHRoaXMucG9zWCwgdGhpcy5wb3NZLCB0aGlzLmNhbnZhcy53aWR0aCAqIDAuMTksIHRoaXMuY2FudmFzLndpZHRoICogMC4xOSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgb25DbGljayh4Q2xpY2ssIHlDbGljaykge1xyXG4gICAgICAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5zcXJ0KCh4Q2xpY2sgLSB0aGlzLnBvc1ggLSAodGhpcy5jYW52YXMud2lkdGggKiAwLjE5KSAvIDIpICpcclxuICAgICAgICAgICAgKHhDbGljayAtIHRoaXMucG9zWCAtICh0aGlzLmNhbnZhcy53aWR0aCAqIDAuMTkpIC8gMikgK1xyXG4gICAgICAgICAgICAoeUNsaWNrIC0gdGhpcy5wb3NZIC0gKHRoaXMuY2FudmFzLndpZHRoICogMC4xOSkgLyAyKSAqXHJcbiAgICAgICAgICAgICAgICAoeUNsaWNrIC0gdGhpcy5wb3NZIC0gKHRoaXMuY2FudmFzLndpZHRoICogMC4xOSkgLyAyKSk7XHJcbiAgICAgICAgaWYgKGRpc3RhbmNlIDwgKHRoaXMuY2FudmFzLndpZHRoICogMC4xOSkgLyAyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBSZXRyeUJ1dHRvbiB7XHJcbiAgICBwb3NYO1xyXG4gICAgcG9zWTtcclxuICAgIGNvbnRleHQ7XHJcbiAgICBjYW52YXM7XHJcbiAgICBpbWFnZXNMb2FkZWQgPSBmYWxzZTtcclxuICAgIHJldHJ5X2J1dHRvbl9pbWFnZTtcclxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQsIGNhbnZhcywgcG9zWCwgcG9zWSkge1xyXG4gICAgICAgIHRoaXMucG9zWCA9IHBvc1g7XHJcbiAgICAgICAgdGhpcy5wb3NZID0gcG9zWTtcclxuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xyXG4gICAgICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xyXG4gICAgICAgIHRoaXMucmV0cnlfYnV0dG9uX2ltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgdGhpcy5yZXRyeV9idXR0b25faW1hZ2Uuc3JjID0gXCIuL2Fzc2V0cy9pbWFnZXMvcmV0cnlfYnRuLnBuZ1wiO1xyXG4gICAgICAgIHRoaXMucmV0cnlfYnV0dG9uX2ltYWdlLm9ubG9hZCA9IChlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VzTG9hZGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5yZXRyeV9idXR0b25faW1hZ2UgPSB0aGlzLnJldHJ5X2J1dHRvbl9pbWFnZTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgZHJhdygpIHtcclxuICAgICAgICBpZiAodGhpcy5pbWFnZXNMb2FkZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZSh0aGlzLnJldHJ5X2J1dHRvbl9pbWFnZSwgdGhpcy5wb3NYLCB0aGlzLnBvc1ksIHRoaXMuY2FudmFzLndpZHRoICogMC4xOSwgdGhpcy5jYW52YXMud2lkdGggKiAwLjE5KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBvbkNsaWNrKHhDbGljaywgeUNsaWNrKSB7XHJcbiAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLnNxcnQoKHhDbGljayAtIHRoaXMucG9zWCAtICh0aGlzLmNhbnZhcy53aWR0aCAqIDAuMTkpIC8gMikgKlxyXG4gICAgICAgICAgICAoeENsaWNrIC0gdGhpcy5wb3NYIC0gKHRoaXMuY2FudmFzLndpZHRoICogMC4xOSkgLyAyKSArXHJcbiAgICAgICAgICAgICh5Q2xpY2sgLSB0aGlzLnBvc1kgLSAodGhpcy5jYW52YXMud2lkdGggKiAwLjE5KSAvIDIpICpcclxuICAgICAgICAgICAgICAgICh5Q2xpY2sgLSB0aGlzLnBvc1kgLSAodGhpcy5jYW52YXMud2lkdGggKiAwLjE5KSAvIDIpKTtcclxuICAgICAgICBpZiAoZGlzdGFuY2UgPCAodGhpcy5jYW52YXMud2lkdGggKiAwLjE5KSAvIDIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFllc0J1dHRvbiB7XHJcbiAgICBwb3NYO1xyXG4gICAgcG9zWTtcclxuICAgIGNvbnRleHQ7XHJcbiAgICBjYW52YXM7XHJcbiAgICBpbWFnZXNMb2FkZWQgPSBmYWxzZTtcclxuICAgIHllc19idXR0b25faW1hZ2U7XHJcbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0LCBjYW52YXMsIHBvc1gsIHBvc1kpIHtcclxuICAgICAgICB0aGlzLnBvc1ggPSBwb3NYO1xyXG4gICAgICAgIHRoaXMucG9zWSA9IHBvc1k7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcclxuICAgICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcclxuICAgICAgICB0aGlzLnllc19idXR0b25faW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICB0aGlzLnllc19idXR0b25faW1hZ2Uuc3JjID0gXCIuL2Fzc2V0cy9pbWFnZXMvY29uZmlybV9idG4ucG5nXCI7XHJcbiAgICAgICAgdGhpcy55ZXNfYnV0dG9uX2ltYWdlLm9ubG9hZCA9IChlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VzTG9hZGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy55ZXNfYnV0dG9uX2ltYWdlID0gdGhpcy55ZXNfYnV0dG9uX2ltYWdlO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBkcmF3KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmltYWdlc0xvYWRlZCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMueWVzX2J1dHRvbl9pbWFnZSwgdGhpcy5wb3NYIC0gNSwgdGhpcy5wb3NZLCB0aGlzLmNhbnZhcy53aWR0aCAqIDAuMiwgdGhpcy5jYW52YXMud2lkdGggKiAwLjIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIG9uQ2xpY2soeENsaWNrLCB5Q2xpY2spIHtcclxuICAgICAgICBjb25zdCBkaXN0YW5jZSA9IE1hdGguc3FydCgoeENsaWNrIC0gdGhpcy5wb3NYIC0gKHRoaXMuY2FudmFzLndpZHRoICogMC4xNSkgLyAyKSAqXHJcbiAgICAgICAgICAgICh4Q2xpY2sgLSB0aGlzLnBvc1ggLSAodGhpcy5jYW52YXMud2lkdGggKiAwLjE1KSAvIDIpICtcclxuICAgICAgICAgICAgKHlDbGljayAtIHRoaXMucG9zWSAtICh0aGlzLmNhbnZhcy53aWR0aCAqIDAuMTUpIC8gMikgKlxyXG4gICAgICAgICAgICAgICAgKHlDbGljayAtIHRoaXMucG9zWSAtICh0aGlzLmNhbnZhcy53aWR0aCAqIDAuMTUpIC8gMikpO1xyXG4gICAgICAgIGlmIChkaXN0YW5jZSA8ICh0aGlzLmNhbnZhcy53aWR0aCAqIDAuMTUpIC8gMikge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgTm9CdXR0b24ge1xyXG4gICAgcG9zWDtcclxuICAgIHBvc1k7XHJcbiAgICBjb250ZXh0O1xyXG4gICAgY2FudmFzO1xyXG4gICAgaW1hZ2VzTG9hZGVkID0gZmFsc2U7XHJcbiAgICBub19idXR0b25faW1hZ2U7XHJcbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0LCBjYW52YXMsIHBvc1gsIHBvc1kpIHtcclxuICAgICAgICB0aGlzLnBvc1ggPSBwb3NYO1xyXG4gICAgICAgIHRoaXMucG9zWSA9IHBvc1k7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcclxuICAgICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcclxuICAgICAgICB0aGlzLm5vX2J1dHRvbl9pbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgIHRoaXMubm9fYnV0dG9uX2ltYWdlLnNyYyA9IFwiLi9hc3NldHMvaW1hZ2VzL2Nsb3NlX2J0bi5wbmdcIjtcclxuICAgICAgICB0aGlzLm5vX2J1dHRvbl9pbWFnZS5vbmxvYWQgPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmltYWdlc0xvYWRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMubm9fYnV0dG9uX2ltYWdlID0gdGhpcy5ub19idXR0b25faW1hZ2U7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIGRyYXcoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW1hZ2VzTG9hZGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5ub19idXR0b25faW1hZ2UsIHRoaXMucG9zWCArIDUsIHRoaXMucG9zWSArIDEwLCB0aGlzLmNhbnZhcy53aWR0aCAqIDAuMTgsIHRoaXMuY2FudmFzLndpZHRoICogMC4xOCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgb25DbGljayh4Q2xpY2ssIHlDbGljaykge1xyXG4gICAgICAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5zcXJ0KCh4Q2xpY2sgLSB0aGlzLnBvc1ggLSAodGhpcy5jYW52YXMud2lkdGggKiAwLjE1KSAvIDIpICpcclxuICAgICAgICAgICAgKHhDbGljayAtIHRoaXMucG9zWCAtICh0aGlzLmNhbnZhcy53aWR0aCAqIDAuMTUpIC8gMikgK1xyXG4gICAgICAgICAgICAoeUNsaWNrIC0gdGhpcy5wb3NZIC0gKHRoaXMuY2FudmFzLndpZHRoICogMC4xNSkgLyAyKSAqXHJcbiAgICAgICAgICAgICAgICAoeUNsaWNrIC0gdGhpcy5wb3NZIC0gKHRoaXMuY2FudmFzLndpZHRoICogMC4xNSkgLyAyKSk7XHJcbiAgICAgICAgaWYgKGRpc3RhbmNlIDwgKHRoaXMuY2FudmFzLndpZHRoICogMC4xNSkgLyAyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBDTElDSyB9IGZyb20gXCIuLi8uLi9jb21tb24vZXZlbnQtbmFtZXNcIjtcclxuaW1wb3J0IHsgQXVkaW9QbGF5ZXIgfSBmcm9tIFwiLi4vYXVkaW8tcGxheWVyXCI7XHJcbmltcG9ydCBZZXNCdXR0b24gZnJvbSBcIi4uL2J1dHRvbnMveWVzLWJ1dHRvblwiO1xyXG5pbXBvcnQgTm9CdXR0b24gZnJvbSBcIi4uL2J1dHRvbnMvbm8tYnV0dG9uXCI7XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFyZVlvdVN1cmVQb3BVcCB7XHJcbiAgICBjYW52YXM7XHJcbiAgICBjb250ZXh0O1xyXG4gICAgeWVzQnV0dG9uO1xyXG4gICAgbm9CdXR0b247XHJcbiAgICBpbWFnZXNMb2FkZWQgPSBmYWxzZTtcclxuICAgIHBvcF91cF9pbWFnZTtcclxuICAgIHllc0NhbGxiYWNrO1xyXG4gICAgbm9DYWxsYmFjaztcclxuICAgIGF1ZGlvUGxheWVyO1xyXG4gICAgY29uc3RydWN0b3IoY2FudmFzLCB5ZXNDYWxsYmFjaywgbm9DYWxsYmFjaykge1xyXG4gICAgICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xyXG4gICAgICAgIHRoaXMueWVzQ2FsbGJhY2sgPSB5ZXNDYWxsYmFjaztcclxuICAgICAgICB0aGlzLm5vQ2FsbGJhY2sgPSBub0NhbGxiYWNrO1xyXG4gICAgICAgIHRoaXMuY29udGV4dCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuICAgICAgICB0aGlzLmF1ZGlvUGxheWVyID0gbmV3IEF1ZGlvUGxheWVyKCk7XHJcbiAgICAgICAgdGhpcy55ZXNCdXR0b24gPSBuZXcgWWVzQnV0dG9uKHRoaXMuY29udGV4dCwgdGhpcy5jYW52YXMsIHRoaXMuY2FudmFzLndpZHRoICogMC41NSwgdGhpcy5jYW52YXMuaGVpZ2h0ICogMC4yICtcclxuICAgICAgICAgICAgdGhpcy5jYW52YXMud2lkdGggKiAwLjQgLVxyXG4gICAgICAgICAgICAodGhpcy5jYW52YXMud2lkdGggKiAwLjE1KSAvIDIpO1xyXG4gICAgICAgIHRoaXMubm9CdXR0b24gPSBuZXcgTm9CdXR0b24odGhpcy5jb250ZXh0LCB0aGlzLmNhbnZhcywgdGhpcy5jYW52YXMud2lkdGggKiAwLjI1LCB0aGlzLmNhbnZhcy5oZWlnaHQgKiAwLjIgK1xyXG4gICAgICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCAqIDAuNCAtXHJcbiAgICAgICAgICAgICh0aGlzLmNhbnZhcy53aWR0aCAqIDAuMTUpIC8gMik7XHJcbiAgICAgICAgdGhpcy5wb3BfdXBfaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICB0aGlzLnBvcF91cF9pbWFnZS5zcmMgPSBcIi4vYXNzZXRzL2ltYWdlcy9wb3B1cF9iZ192MDEucG5nXCI7XHJcbiAgICAgICAgdGhpcy5wb3BfdXBfaW1hZ2Uub25sb2FkID0gKGUpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wb3BfdXBfaW1hZ2UgPSB0aGlzLnBvcF91cF9pbWFnZTtcclxuICAgICAgICAgICAgdGhpcy5pbWFnZXNMb2FkZWQgPSB0cnVlO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBhZGRMaXN0bmVyID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuY2FudmFzXHJcbiAgICAgICAgICAgIC5hZGRFdmVudExpc3RlbmVyKENMSUNLLCB0aGlzLmhhbmRsZU1vdXNlQ2xpY2ssIGZhbHNlKTtcclxuICAgIH07XHJcbiAgICBoYW5kbGVNb3VzZUNsaWNrID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgY29uc3Qgc2VsZkVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbnZhc1wiKTtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHZhciByZWN0ID0gc2VsZkVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgY29uc3QgeCA9IGV2ZW50LmNsaWVudFggLSByZWN0LmxlZnQ7XHJcbiAgICAgICAgY29uc3QgeSA9IGV2ZW50LmNsaWVudFkgLSByZWN0LnRvcDtcclxuICAgICAgICBpZiAodGhpcy55ZXNCdXR0b24ub25DbGljayh4LCB5KSkge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIiBZZXMgYnV0dG9uIGNsaWNrZWRcIik7XHJcbiAgICAgICAgICAgIHRoaXMucGxheUNsaWNrU291bmQoKTtcclxuICAgICAgICAgICAgdGhpcy5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgIHRoaXMueWVzQ2FsbGJhY2soKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMubm9CdXR0b24ub25DbGljayh4LCB5KSkge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIiBObyBidXR0b24gY2xpY2tlZFwiKTtcclxuICAgICAgICAgICAgdGhpcy5wbGF5Q2xpY2tTb3VuZCgpO1xyXG4gICAgICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgdGhpcy5ub0NhbGxiYWNrKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGRyYXcoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW1hZ2VzTG9hZGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5maWxsU3R5bGUgPSBcInJnYmEoMCwwLDAsMC41KVwiO1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5wb3BfdXBfaW1hZ2UsIHRoaXMuY2FudmFzLndpZHRoICogMC4xLCB0aGlzLmNhbnZhcy5oZWlnaHQgKiAwLjIsIHRoaXMuY2FudmFzLndpZHRoICogMC44LCB0aGlzLmNhbnZhcy53aWR0aCAqIDAuOCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHRleHRZID0gdGhpcy5jYW52YXMuaGVpZ2h0ICogMC4yICsgODA7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5maWxsU3R5bGUgPSBcIndoaXRlXCI7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5mb250ID0gXCIyOHB4IEFyaWFsXCI7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5maWxsVGV4dChcIkFyZSB5b3Ugc3VyZT9cIiwgdGhpcy5jYW52YXMud2lkdGggLyAyLCB0aGlzLmNhbnZhcy5oZWlnaHQgLyAyLjgpO1xyXG4gICAgICAgICAgICB0aGlzLnllc0J1dHRvbi5kcmF3KCk7XHJcbiAgICAgICAgICAgIHRoaXMubm9CdXR0b24uZHJhdygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHBsYXlDbGlja1NvdW5kID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuYXVkaW9QbGF5ZXIucGxheUJ1dHRvbkNsaWNrU291bmQoXCIuL2Fzc2V0cy9hdWRpb3MvQnV0dG9uQ2xpY2subXAzXCIpO1xyXG4gICAgfTtcclxuICAgIGRpc3Bvc2UgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5jYW52YXNcclxuICAgICAgICAgICAgLnJlbW92ZUV2ZW50TGlzdGVuZXIoQ0xJQ0ssIHRoaXMuaGFuZGxlTW91c2VDbGljaywgZmFsc2UpO1xyXG4gICAgfTtcclxufVxyXG4iLCJpbXBvcnQgQ2FuY2VsQnV0dG9uIGZyb20gXCIuLi9jb21wb25lbnRzL2J1dHRvbnMvY2FuY2VsLWJ1dHRvblwiO1xyXG5pbXBvcnQgQ2xvc2VCdXR0b24gZnJvbSBcIi4uL2NvbXBvbmVudHMvYnV0dG9ucy9jbG9zZS1idXR0b25cIjtcclxuaW1wb3J0IFJldHJ5QnV0dG9uIGZyb20gXCIuLi9jb21wb25lbnRzL2J1dHRvbnMvcmV0cnktYnV0dG9uXCI7XHJcbmltcG9ydCB7IENMSUNLIH0gZnJvbSBcIi4uL2NvbW1vbi9ldmVudC1uYW1lc1wiO1xyXG5pbXBvcnQgeyBBdWRpb1BsYXllciB9IGZyb20gXCIuL2F1ZGlvLXBsYXllclwiO1xyXG5pbXBvcnQgQXJlWW91U3VyZVBvcFVwIGZyb20gXCIuL2ZlZWRiYWNrLXBhcnRpY2xlLWVmZmVjdC9zdXJlLXBvcHVwXCI7XHJcbmltcG9ydCB7IGxhbmcgfSBmcm9tIFwiLi4vLi4vZ2xvYmFsLXZhcmlhYmxlc1wiO1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXVzZVBvcFVwIHtcclxuICAgIGNhbnZhcztcclxuICAgIGNvbnRleHQ7XHJcbiAgICBjYW5jZWxCdXR0b247XHJcbiAgICByZXRyeUJ1dHRvbjtcclxuICAgIGNsb3NlQnV0dG9uO1xyXG4gICAgaW1hZ2VzTG9hZGVkID0gZmFsc2U7XHJcbiAgICBwb3BfdXBfaW1hZ2U7XHJcbiAgICBjYWxsYmFjaztcclxuICAgIHN3aXRjaFRvTGV2ZWxTZWxlY3Rpb247XHJcbiAgICByZWxvYWRTY2VuZTtcclxuICAgIGdhbWVwbGF5RGF0YTtcclxuICAgIGF1ZGlvUGxheWVyO1xyXG4gICAgcmV0cnlTdXJlUG9wdXA7XHJcbiAgICBDbG9zZVN1cmVQb3B1cDtcclxuICAgIGlzUmV0cnlCdXR0b25DbGlja2VkID0gZmFsc2U7XHJcbiAgICBpc0Nsb3NlQnV0dG9uQ2xpY2tlZCA9IGZhbHNlO1xyXG4gICAgY29uc3RydWN0b3IoY2FudmFzLCBjYWxsYmFjaywgc3dpdGNoVG9MZXZlbFNlbGVjdGlvbiwgcmVsb2FkU2NlbmUsIGdhbWVwbGF5RGF0YSkge1xyXG4gICAgICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xyXG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcclxuICAgICAgICB0aGlzLmdhbWVwbGF5RGF0YSA9IGdhbWVwbGF5RGF0YTtcclxuICAgICAgICB0aGlzLnN3aXRjaFRvTGV2ZWxTZWxlY3Rpb24gPSBzd2l0Y2hUb0xldmVsU2VsZWN0aW9uO1xyXG4gICAgICAgIHRoaXMucmVsb2FkU2NlbmUgPSByZWxvYWRTY2VuZTtcclxuICAgICAgICBjb25zdCBzZWxmSWRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW52YXNcIik7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gc2VsZklkRWxlbWVudC5nZXRDb250ZXh0KFwiMmRcIik7XHJcbiAgICAgICAgdGhpcy5hdWRpb1BsYXllciA9IG5ldyBBdWRpb1BsYXllcigpO1xyXG4gICAgICAgIHRoaXMuY2FuY2VsQnV0dG9uID0gbmV3IENhbmNlbEJ1dHRvbih0aGlzLmNvbnRleHQsIHRoaXMuY2FudmFzKTtcclxuICAgICAgICB0aGlzLnJldHJ5QnV0dG9uID0gbmV3IFJldHJ5QnV0dG9uKHRoaXMuY29udGV4dCwgdGhpcy5jYW52YXMsIHRoaXMuY2FudmFzLndpZHRoICogMC41NSwgdGhpcy5jYW52YXMuaGVpZ2h0ICogMC4yICtcclxuICAgICAgICAgICAgdGhpcy5jYW52YXMud2lkdGggKiAwLjQgLVxyXG4gICAgICAgICAgICAodGhpcy5jYW52YXMud2lkdGggKiAwLjE5KSAvIDIpO1xyXG4gICAgICAgIHRoaXMuY2xvc2VCdXR0b24gPSBuZXcgQ2xvc2VCdXR0b24odGhpcy5jb250ZXh0LCB0aGlzLmNhbnZhcywgdGhpcy5jYW52YXMud2lkdGggKiAwLjI1LCB0aGlzLmNhbnZhcy5oZWlnaHQgKiAwLjIgK1xyXG4gICAgICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCAqIDAuNCAtXHJcbiAgICAgICAgICAgICh0aGlzLmNhbnZhcy53aWR0aCAqIDAuMTkpIC8gMik7XHJcbiAgICAgICAgdGhpcy5wb3BfdXBfaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICB0aGlzLnBvcF91cF9pbWFnZS5zcmMgPSBcIi4vYXNzZXRzL2ltYWdlcy9wb3B1cF9iZ192MDEucG5nXCI7XHJcbiAgICAgICAgdGhpcy5wb3BfdXBfaW1hZ2Uub25sb2FkID0gKGUpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wb3BfdXBfaW1hZ2UgPSB0aGlzLnBvcF91cF9pbWFnZTtcclxuICAgICAgICAgICAgdGhpcy5pbWFnZXNMb2FkZWQgPSB0cnVlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5yZXRyeVN1cmVQb3B1cCA9IG5ldyBBcmVZb3VTdXJlUG9wVXAodGhpcy5jYW52YXMsIHRoaXMueWVzUmV0cnlDYWxsYmFjaywgdGhpcy5ub1JldHJ5Q2FsbGJhY2spO1xyXG4gICAgICAgIHRoaXMuQ2xvc2VTdXJlUG9wdXAgPSBuZXcgQXJlWW91U3VyZVBvcFVwKHRoaXMuY2FudmFzLCB0aGlzLnN3aXRjaFRvTGV2ZWxTZWxlY3Rpb24sIHRoaXMubm9DbG9zZUNhbGxiYWNrKTtcclxuICAgIH1cclxuICAgIHllc1JldHJ5Q2FsbGJhY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5wbGF5Q2xpY2tTb3VuZCgpO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiIHJldHJ5IGJ1dHRvbiBjbGlja2VkXCIpO1xyXG4gICAgICAgIHRoaXMucmVsb2FkU2NlbmUodGhpcy5nYW1lcGxheURhdGEsIFwiR2FtZVBsYXlcIik7XHJcbiAgICB9O1xyXG4gICAgbm9SZXRyeUNhbGxiYWNrID0gKCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmlzUmV0cnlCdXR0b25DbGlja2VkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNSZXRyeUJ1dHRvbkNsaWNrZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5jYWxsYmFjaygpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBub0Nsb3NlQ2FsbGJhY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNDbG9zZUJ1dHRvbkNsaWNrZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5pc0Nsb3NlQnV0dG9uQ2xpY2tlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGFkZExpc3RuZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgZG9jdW1lbnRcclxuICAgICAgICAgICAgLmdldEVsZW1lbnRCeUlkKFwiY2FudmFzXCIpXHJcbiAgICAgICAgICAgIC5hZGRFdmVudExpc3RlbmVyKENMSUNLLCB0aGlzLmhhbmRsZU1vdXNlQ2xpY2ssIGZhbHNlKTtcclxuICAgIH07XHJcbiAgICBoYW5kbGVNb3VzZUNsaWNrID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgY29uc3Qgc2VsZkVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbnZhc1wiKTtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHZhciByZWN0ID0gc2VsZkVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgY29uc3QgeCA9IGV2ZW50LmNsaWVudFggLSByZWN0LmxlZnQ7XHJcbiAgICAgICAgY29uc3QgeSA9IGV2ZW50LmNsaWVudFkgLSByZWN0LnRvcDtcclxuICAgICAgICBpZiAodGhpcy5jYW5jZWxCdXR0b24ub25DbGljayh4LCB5KSkge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIiBjYW5jZWwgYnV0dG9uIGNsaWNrZWRcIik7XHJcbiAgICAgICAgICAgIHRoaXMucGxheUNsaWNrU291bmQoKTtcclxuICAgICAgICAgICAgdGhpcy5jYWxsYmFjaygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5yZXRyeUJ1dHRvbi5vbkNsaWNrKHgsIHkpKSB7XHJcbiAgICAgICAgICAgIGlmIChsYW5nID09IFwiZW5nbGlzaFwiKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXlDbGlja1NvdW5kKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNSZXRyeUJ1dHRvbkNsaWNrZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCIgcmV0cnkgYnV0dG9uIGNsaWNrZWRcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJldHJ5U3VyZVBvcHVwLmFkZExpc3RuZXIoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheUFyZVlvdVN1cmVTb3VuZCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5Q2xpY2tTb3VuZCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIiByZXRyeSBidXR0b24gY2xpY2tlZFwiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVsb2FkU2NlbmUodGhpcy5nYW1lcGxheURhdGEsIFwiR2FtZVBsYXlcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VCdXR0b24ub25DbGljayh4LCB5KSkge1xyXG4gICAgICAgICAgICBpZiAobGFuZyA9PSBcImVuZ2xpc2hcIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5Q2xpY2tTb3VuZCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwb3NlKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzQ2xvc2VCdXR0b25DbGlja2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuQ2xvc2VTdXJlUG9wdXAuYWRkTGlzdG5lcigpO1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCIgY2xvc2UgYnV0dG9uIGNsaWNrZWRcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXlBcmVZb3VTdXJlU291bmQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheUNsaWNrU291bmQoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCIgY2xvc2UgYnV0dG9uIGNsaWNrZWRcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN3aXRjaFRvTGV2ZWxTZWxlY3Rpb24oXCJHYW1lUGxheVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBkcmF3KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmltYWdlc0xvYWRlZCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFN0eWxlID0gXCJyZ2JhKDAsMCwwLDAuNSlcIjtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMucG9wX3VwX2ltYWdlLCB0aGlzLmNhbnZhcy53aWR0aCAqIDAuMSwgdGhpcy5jYW52YXMuaGVpZ2h0ICogMC4yLCB0aGlzLmNhbnZhcy53aWR0aCAqIDAuOCwgdGhpcy5jYW52YXMud2lkdGggKiAwLjgpO1xyXG4gICAgICAgICAgICB0aGlzLmNhbmNlbEJ1dHRvbi5kcmF3KCk7XHJcbiAgICAgICAgICAgIHRoaXMucmV0cnlCdXR0b24uZHJhdygpO1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlQnV0dG9uLmRyYXcoKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNSZXRyeUJ1dHRvbkNsaWNrZWQgPT0gdHJ1ZSAmJiBsYW5nID09IFwiZW5nbGlzaFwiKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXRyeVN1cmVQb3B1cC5kcmF3KCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzQ2xvc2VCdXR0b25DbGlja2VkID09IHRydWUgJiYgbGFuZyA9PSBcImVuZ2xpc2hcIilcclxuICAgICAgICAgICAgICAgIHRoaXMuQ2xvc2VTdXJlUG9wdXAuZHJhdygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHBsYXlDbGlja1NvdW5kID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuYXVkaW9QbGF5ZXIucGxheUJ1dHRvbkNsaWNrU291bmQoXCIuL2Fzc2V0cy9hdWRpb3MvQnV0dG9uQ2xpY2subXAzXCIpO1xyXG4gICAgfTtcclxuICAgIHBsYXlBcmVZb3VTdXJlU291bmQgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5hdWRpb1BsYXllci5wbGF5QXVkaW8oXCIuL2Fzc2V0cy9hdWRpb3MvYXJlLXlvdS1zdXJlLm1wM1wiKTtcclxuICAgIH07XHJcbiAgICBkaXNwb3NlID0gKCkgPT4ge1xyXG4gICAgICAgIGRvY3VtZW50XHJcbiAgICAgICAgICAgIC5nZXRFbGVtZW50QnlJZChcImNhbnZhc1wiKVxyXG4gICAgICAgICAgICAucmVtb3ZlRXZlbnRMaXN0ZW5lcihDTElDSywgdGhpcy5oYW5kbGVNb3VzZUNsaWNrLCBmYWxzZSk7XHJcbiAgICB9O1xyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBUZXh0UGFydGljbGUge1xyXG4gICAgZmVlZGJhY2tUZXh0RWZmZWN0cztcclxuICAgIHg7XHJcbiAgICB5O1xyXG4gICAgY29sb3I7XHJcbiAgICBvcmlnaW5YO1xyXG4gICAgb3JpZ2luWTtcclxuICAgIHNpemU7XHJcbiAgICBlYXNlO1xyXG4gICAgY29uc3RydWN0b3IoZmVlZGJhY2tUZXh0RWZmZWN0cywgeCwgeSwgY29sb3IpIHtcclxuICAgICAgICB0aGlzLmZlZWRiYWNrVGV4dEVmZmVjdHMgPSBmZWVkYmFja1RleHRFZmZlY3RzO1xyXG4gICAgICAgIHRoaXMueCA9IE1hdGgucmFuZG9tKCkgKiB0aGlzLmZlZWRiYWNrVGV4dEVmZmVjdHMuY2FudmFzV2lkdGg7XHJcbiAgICAgICAgdGhpcy55ID0gMDtcclxuICAgICAgICB0aGlzLmNvbG9yID0gY29sb3I7XHJcbiAgICAgICAgdGhpcy5vcmlnaW5YID0geDtcclxuICAgICAgICB0aGlzLm9yaWdpblkgPSB5O1xyXG4gICAgICAgIHRoaXMuc2l6ZSA9IHRoaXMuZmVlZGJhY2tUZXh0RWZmZWN0cy5nYXA7XHJcbiAgICAgICAgdGhpcy5lYXNlID0gTWF0aC5yYW5kb20oKSAqIDAuMSArIDAuMDU1O1xyXG4gICAgfVxyXG4gICAgZHJhdygpIHtcclxuICAgICAgICB0aGlzLmZlZWRiYWNrVGV4dEVmZmVjdHMuY29udGV4dC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yO1xyXG4gICAgICAgIHRoaXMuZmVlZGJhY2tUZXh0RWZmZWN0cy5jb250ZXh0LmZpbGxSZWN0KHRoaXMueCwgdGhpcy55LCB0aGlzLnNpemUsIHRoaXMuc2l6ZSk7XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgdGhpcy54ICs9ICh0aGlzLm9yaWdpblggLSB0aGlzLngpICogdGhpcy5lYXNlO1xyXG4gICAgICAgIHRoaXMueSArPSB0aGlzLm9yaWdpblkgLSB0aGlzLnk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgVGV4dFBhcnRpY2xlIH0gZnJvbSBcIi4vdGV4dC1wYXJ0aWNsZVwiO1xyXG5pbXBvcnQgeyBmb250IH0gZnJvbSBcIi4uLy4uLy4uL2dsb2JhbC12YXJpYWJsZXNcIjtcclxuZXhwb3J0IGNsYXNzIEZlZWRiYWNrVGV4dEVmZmVjdHMge1xyXG4gICAgY29udGV4dDtcclxuICAgIGNhbnZhc1dpZHRoO1xyXG4gICAgY2FudmFzSGVpZ2h0O1xyXG4gICAgdGV4dFg7XHJcbiAgICB0ZXh0WTtcclxuICAgIGZvbnRTaXplO1xyXG4gICAgbGluZUhlaWdodDtcclxuICAgIG1heFRleHRXaWR0aDtcclxuICAgIHBhcnRpY2xlRHVyYXRpb247XHJcbiAgICBzdGFydFRpbWU7XHJcbiAgICBwYXJ0aWNsZXM7XHJcbiAgICBnYXA7XHJcbiAgICBtb3VzZTtcclxuICAgIHRleHRXb3JrZXI7XHJcbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0LCBjYW52YXNXaWR0aCwgY2FudmFzSGVpZ2h0KSB7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcclxuICAgICAgICB0aGlzLmNhbnZhc1dpZHRoID0gY2FudmFzV2lkdGg7XHJcbiAgICAgICAgdGhpcy5jYW52YXNIZWlnaHQgPSBjYW52YXNIZWlnaHQ7XHJcbiAgICAgICAgdGhpcy50ZXh0WCA9IHRoaXMuY2FudmFzV2lkdGggLyAxLjg7XHJcbiAgICAgICAgdGhpcy50ZXh0WSA9IHRoaXMuY2FudmFzSGVpZ2h0IC8gMjtcclxuICAgICAgICB0aGlzLmZvbnRTaXplID0gdGhpcy5jYW52YXNXaWR0aCAvIDcuNTtcclxuICAgICAgICB0aGlzLmxpbmVIZWlnaHQgPSB0aGlzLmZvbnRTaXplICogMC44O1xyXG4gICAgICAgIHRoaXMubWF4VGV4dFdpZHRoID0gdGhpcy5jYW52YXNXaWR0aCAqIDU7XHJcbiAgICAgICAgdGhpcy5wYXJ0aWNsZUR1cmF0aW9uID0gNTAwMDtcclxuICAgICAgICB0aGlzLnN0YXJ0VGltZSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5wYXJ0aWNsZXMgPSBbXTtcclxuICAgICAgICB0aGlzLmdhcCA9IDM7XHJcbiAgICAgICAgdGhpcy5tb3VzZSA9IHtcclxuICAgICAgICAgICAgcmFkaXVzOiAyMDAwLFxyXG4gICAgICAgICAgICB4OiAwLFxyXG4gICAgICAgICAgICB5OiAwLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy50ZXh0V29ya2VyID0gbmV3IFdvcmtlcih3aW5kb3cuZmVlZGJhY2tUZXh0V29ya2VyUGF0aCk7XHJcbiAgICAgICAgdGhpcy50ZXh0V29ya2VyLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIHRoaXMuaGFuZGxlVGV4dFdvcmtlck1lc3NhZ2UuYmluZCh0aGlzKSk7XHJcbiAgICB9XHJcbiAgICB3cmFwVGV4dCh0ZXh0KSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2codGV4dCwgXCI+Pj4+Pj4+Pj5cIik7XHJcbiAgICAgICAgY29uc3QgZ3JhZGllbnQgPSB0aGlzLmNvbnRleHQuY3JlYXRlTGluZWFyR3JhZGllbnQoMCwgMCwgdGhpcy5jYW52YXNXaWR0aCwgdGhpcy5jYW52YXNIZWlnaHQpO1xyXG4gICAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcCgwLjMsIFwiI0Y4RTIxOFwiKTtcclxuICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3AoMC41LCBcIiNGOEUyMThcIik7XHJcbiAgICAgICAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKDAuNywgXCIjRTM5RDM3XCIpO1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5maWxsU3R5bGUgPSBncmFkaWVudDtcclxuICAgICAgICB0aGlzLmNvbnRleHQudGV4dEFsaWduID0gXCJjZW50ZXJcIjtcclxuICAgICAgICB0aGlzLmNvbnRleHQudGV4dEJhc2VsaW5lID0gXCJtaWRkbGVcIjtcclxuICAgICAgICB0aGlzLmNvbnRleHQubGluZVdpZHRoID0gMztcclxuICAgICAgICB0aGlzLmNvbnRleHQuc3Ryb2tlU3R5bGUgPSBcIiNBNDYyMjVcIjtcclxuICAgICAgICB0aGlzLmNvbnRleHQuZm9udCA9IGAke3RoaXMuZm9udFNpemUgLSB0ZXh0Lmxlbmd0aCAqIDAuM31weCAke2ZvbnR9LCBtb25vc3BhY2VgO1xyXG4gICAgICAgIC8vIGJyZWFrIG11bHRpbGluZSB0ZXh0XHJcbiAgICAgICAgbGV0IGxpbmVBcnJheSA9IFtdO1xyXG4gICAgICAgIGxldCB3b3JkcyA9IHRleHQuc3BsaXQoXCIgXCIpO1xyXG4gICAgICAgIGxldCBsaW5lQ291bnRlciA9IDA7XHJcbiAgICAgICAgbGV0IGxpbmUgPSBcIlwiO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgd29yZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IHRlc3RMaW5lID0gbGluZSArIHdvcmRzW2ldICsgXCIgXCI7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRleHQubWVhc3VyZVRleHQodGVzdExpbmUpLndpZHRoID4gdGhpcy5tYXhUZXh0V2lkdGgpIHtcclxuICAgICAgICAgICAgICAgIGxpbmUgPSB3b3Jkc1tpXSArIFwiIFwiO1xyXG4gICAgICAgICAgICAgICAgbGluZUNvdW50ZXIrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGxpbmUgPSB0ZXN0TGluZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsaW5lQXJyYXlbbGluZUNvdW50ZXJdID0gbGluZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHRleHRIZWlnaHQgPSB0aGlzLmxpbmVIZWlnaHQgKiBsaW5lQ291bnRlcjtcclxuICAgICAgICB0aGlzLnRleHRZID0gdGhpcy5jYW52YXNIZWlnaHQgLyA0LjIgLSB0ZXh0SGVpZ2h0IC8gMjtcclxuICAgICAgICBjb25zdCBpbml0aWFsWCA9IDUwO1xyXG4gICAgICAgIGNvbnN0IHNwYWNpbmcgPSAwLjM7XHJcbiAgICAgICAgdGV4dCA9IHRleHQudHJpbSgpO1xyXG4gICAgICAgIGxpbmVBcnJheS5mb3JFYWNoKCh0ZXh0LCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgeCA9IGluaXRpYWxYO1xyXG4gICAgICAgICAgICBsZXQgbGFzdFNwYWNlSW5kZXggPSB0ZXh0Lmxhc3RJbmRleE9mKFwiIFwiLCB0ZXh0Lmxhc3RJbmRleE9mKFwiIFwiKSAtIDEpO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0ZXh0Lmxlbmd0aCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmZvbnRTaXplICogdGV4dC5sZW5ndGggPiB0aGlzLmNhbnZhc1dpZHRoICogMS43ICYmIGxhc3RTcGFjZUluZGV4ICE9IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgaW5pdGlhbFRleHQgPSB0ZXh0LnNsaWNlKDAsIGxhc3RTcGFjZUluZGV4KTtcclxuICAgICAgICAgICAgICAgIGxldCBsYXN0VGV4dCA9IFwiIFwiICsgdGV4dC5zbGljZShsYXN0U3BhY2VJbmRleCArIDEpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxUZXh0KGluaXRpYWxUZXh0LCB0aGlzLnRleHRYLCB0aGlzLnRleHRZICsgaW5kZXggKiB0aGlzLmxpbmVIZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxUZXh0KGxhc3RUZXh0LCB0aGlzLnRleHRYLCB0aGlzLnRleHRZICsgaW5kZXggKiB0aGlzLmxpbmVIZWlnaHQgKyB0aGlzLmNhbnZhc0hlaWdodCAvIDEyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5maWxsVGV4dCh0ZXh0LCB0aGlzLnRleHRYLCB0aGlzLnRleHRZICsgaW5kZXggKiB0aGlzLmxpbmVIZWlnaHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5jb252ZXJ0VG9QYXJ0aWNsZSgpO1xyXG4gICAgfVxyXG4gICAgaGFuZGxlVGV4dFdvcmtlck1lc3NhZ2UgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICBjb25zdCBwYXJ0aWNsZXMgPSBldmVudC5kYXRhO1xyXG4gICAgICAgIHRoaXMucGFydGljbGVzID0gcGFydGljbGVzLm1hcCgoeyB4LCB5LCBjb2xvciB9KSA9PiBuZXcgVGV4dFBhcnRpY2xlKHRoaXMsIHgsIHksIGNvbG9yKSk7XHJcbiAgICB9O1xyXG4gICAgY29udmVydFRvUGFydGljbGUoKSB7XHJcbiAgICAgICAgY29uc3QgcGl4ZWxzID0gdGhpcy5jb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCB0aGlzLmNhbnZhc1dpZHRoLCB0aGlzLmNhbnZhc0hlaWdodCkuZGF0YTtcclxuICAgICAgICB0aGlzLmNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2FudmFzV2lkdGgsIHRoaXMuY2FudmFzSGVpZ2h0KTtcclxuICAgICAgICB0aGlzLnRleHRXb3JrZXIucG9zdE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgICBjYW52YXNXaWR0aDogdGhpcy5jYW52YXNXaWR0aCxcclxuICAgICAgICAgICAgY2FudmFzSGVpZ2h0OiB0aGlzLmNhbnZhc0hlaWdodCxcclxuICAgICAgICAgICAgZ2FwOiB0aGlzLmdhcCxcclxuICAgICAgICAgICAgcGl4ZWxzLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXNXaWR0aCwgdGhpcy5jYW52YXNIZWlnaHQpO1xyXG4gICAgICAgIHRoaXMucGFydGljbGVzLmZvckVhY2goKHBhcnRpY2xlKSA9PiB7XHJcbiAgICAgICAgICAgIHBhcnRpY2xlLmRyYXcoKTtcclxuICAgICAgICAgICAgcGFydGljbGUudXBkYXRlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gaWYgKHRoaXMuc3RhcnRUaW1lID09PSBudWxsKSB7XHJcbiAgICAgICAgLy8gICB0aGlzLnN0YXJ0VGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIC8vIGNvbnN0IGN1cnJlbnRUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICAvLyBjb25zdCBlbGFwc2VkVGltZSA9IGN1cnJlbnRUaW1lIC0gdGhpcy5zdGFydFRpbWU7XHJcbiAgICAgICAgLy8gaWYgKGVsYXBzZWRUaW1lID49IHRoaXMucGFydGljbGVEdXJhdGlvbikge1xyXG4gICAgICAgIC8vICAgdGhpcy5zdGFydFRpbWUgPSBudWxsO1xyXG4gICAgICAgIC8vICAgLy8gdGhpcy5wYXJ0aWNsZXMgPSBbXTtcclxuICAgICAgICAvLyB9IGVsc2Uge1xyXG4gICAgICAgIC8vICAgdGhpcy5wYXJ0aWNsZXMuZm9yRWFjaCgocGFydGljbGUpID0+IHtcclxuICAgICAgICAvLyAgICAgcGFydGljbGUuZHJhdygpO1xyXG4gICAgICAgIC8vICAgICBwYXJ0aWNsZS51cGRhdGUoKTtcclxuICAgICAgICAvLyAgIH0pO1xyXG4gICAgICAgIC8vIH1cclxuICAgIH1cclxuICAgIHVwZGF0ZVBhcnRpY2xlcygpIHtcclxuICAgICAgICB0aGlzLnRleHRXb3JrZXIucG9zdE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgICBwYXJ0aWNsZXM6IHRoaXMucGFydGljbGVzLFxyXG4gICAgICAgICAgICBwYXJ0aWNsZUR1cmF0aW9uOiB0aGlzLnBhcnRpY2xlRHVyYXRpb24sXHJcbiAgICAgICAgICAgIHN0YXJ0VGltZTogdGhpcy5zdGFydFRpbWUsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBjbGVhclBhcnRpY2xlKCkge1xyXG4gICAgICAgIHRoaXMucGFydGljbGVzID0gW107XHJcbiAgICB9XHJcbiAgICB1bnJlZ2lzdGVyRXZlbnRMaXN0ZW5lciA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnRleHRXb3JrZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgdGhpcy5oYW5kbGVUZXh0V29ya2VyTWVzc2FnZSk7XHJcbiAgICB9O1xyXG59XHJcbiIsImltcG9ydCB7IE1vbnN0ZXIgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9tb25zdGVyXCI7XHJcbmltcG9ydCB7IFRpbWVyVGlja2luZyB9IGZyb20gXCIuLi9jb21wb25lbnRzL3RpbWVyLXRpY2tpbmdcIjtcclxuaW1wb3J0IHsgUHJvbXB0VGV4dCB9IGZyb20gXCIuLi9jb21wb25lbnRzL3Byb21wdC10ZXh0XCI7XHJcbmltcG9ydCBQYXVzZUJ1dHRvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9idXR0b25zL3BhdXNlLWJ1dHRvblwiO1xyXG5pbXBvcnQgeyBMZXZlbEluZGljYXRvcnMgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9sZXZlbC1pbmRpY2F0b3JcIjtcclxuaW1wb3J0IHsgbG9hZEltYWdlcywgUHJldmlvdXNQbGF5ZWRMZXZlbCwgfSBmcm9tIFwiLi4vY29tbW9uL2NvbW1vblwiO1xyXG5pbXBvcnQgeyBEZWJ1Z2dlciwgbGFuZywgcHNldWRvSWQgfSBmcm9tIFwiLi4vLi4vZ2xvYmFsLXZhcmlhYmxlc1wiO1xyXG5pbXBvcnQgU3RvbmVIYW5kbGVyIGZyb20gXCIuLi9jb21wb25lbnRzL3N0b25lLWhhbmRsZXJcIjtcclxuaW1wb3J0IHsgVHV0b3JpYWwgfSBmcm9tIFwiLi4vY29tcG9uZW50cy90dXRvcmlhbFwiO1xyXG5pbXBvcnQgUGF1c2VQb3BVcCBmcm9tIFwiLi4vY29tcG9uZW50cy9wYXVzZS1wb3B1cFwiO1xyXG5pbXBvcnQgeyBDTElDSywgTE9BRFBVWlpMRSwgTU9VU0VET1dOLCBNT1VTRU1PVkUsIE1PVVNFVVAsIFNUT05FRFJPUCwgVE9VQ0hFTkQsIFRPVUNITU9WRSwgVE9VQ0hTVEFSVCwgVklTSUJJTElUWV9DSEFOR0UsIH0gZnJvbSBcIi4uL2NvbW1vbi9ldmVudC1uYW1lc1wiO1xyXG5pbXBvcnQgeyBCYWNrZ3JvdW5kIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvYmFja2dyb3VuZFwiO1xyXG5pbXBvcnQgeyBGZWVkYmFja1RleHRFZmZlY3RzIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvZmVlZGJhY2stcGFydGljbGUtZWZmZWN0L2ZlZWRiYWNrLXRleHQtZWZmZWN0c1wiO1xyXG5pbXBvcnQgeyBHYW1lU2NvcmUgfSBmcm9tIFwiLi4vZGF0YS9nYW1lLXNjb3JlXCI7XHJcbmltcG9ydCB7IEF1ZGlvUGxheWVyIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvYXVkaW8tcGxheWVyXCI7XHJcbmltcG9ydCB7IEZpcmViYXNlSW50ZWdyYXRpb24gfSBmcm9tIFwiLi4vRmlyZWJhc2UvZmlyZWJhc2UtaW50ZWdyYXRpb25cIjtcclxuZXhwb3J0IGNsYXNzIEdhbWVwbGF5U2NlbmUge1xyXG4gICAgd2lkdGg7XHJcbiAgICBoZWlnaHQ7XHJcbiAgICBtb25zdGVyO1xyXG4gICAganNvblZlcnNpb25OdW1iZXI7XHJcbiAgICBjYW52YXM7XHJcbiAgICBsZXZlbERhdGE7XHJcbiAgICB0aW1lclRpY2tpbmc7XHJcbiAgICBwcm9tcHRUZXh0O1xyXG4gICAgcGF1c2VCdXR0b247XHJcbiAgICB0dXRvcmlhbDtcclxuICAgIHB1enpsZURhdGE7XHJcbiAgICBpZDtcclxuICAgIGNvbnRleHQ7XHJcbiAgICBsZXZlbEluZGljYXRvcnM7XHJcbiAgICBzdG9uZXNDb3VudCA9IDE7XHJcbiAgICBtb25zdGVyUGhhc2VOdW1iZXI7XHJcbiAgICBwaWNrZWRTdG9uZTtcclxuICAgIHB1enpsZVN0YXJ0VGltZTtcclxuICAgIHNob3dUdXRvcmlhbDtcclxuICAgIGZlZWRCYWNrVGV4dHM7XHJcbiAgICBpc1B1enpsZUNvbXBsZXRlZDtcclxuICAgIHJpZ2h0VG9MZWZ0O1xyXG4gICAgaW1hZ2VzTG9hZGVkID0gZmFsc2U7XHJcbiAgICBzd2l0Y2hTY2VuZVRvRW5kO1xyXG4gICAgbGV2ZWxOdW1iZXI7XHJcbiAgICBsb2FkZWRJbWFnZXM7XHJcbiAgICBzdG9uZUhhbmRsZXI7XHJcbiAgICBjb3VudGVyID0gMDtcclxuICAgIGltYWdlcztcclxuICAgIGhhbmRsZXI7XHJcbiAgICBwaWNrZWRTdG9uZU9iamVjdDtcclxuICAgIHBhdXNlUG9wdXA7XHJcbiAgICBpc1BhdXNlQnV0dG9uQ2xpY2tlZCA9IGZhbHNlO1xyXG4gICAgYmFja2dyb3VuZDE7XHJcbiAgICBmZWVkQmFja1RleHRDYW5hdnNFbGVtZW50O1xyXG4gICAgZmVlZGJhY2tUZXh0RWZmZWN0cztcclxuICAgIGlzR2FtZVN0YXJ0ZWQgPSBmYWxzZTtcclxuICAgIHRpbWUgPSAwO1xyXG4gICAgc2NvcmUgPSAwO1xyXG4gICAgdGVtcFdvcmRmb3JXb3JkUHV6emxlID0gXCJcIjtcclxuICAgIHN3aXRjaFRvTGV2ZWxTZWxlY3Rpb247XHJcbiAgICByZWxvYWRTY2VuZTtcclxuICAgIGF1ZGlvUGxheWVyO1xyXG4gICAgZmlyZWJhc2VJbnRlZ3JhdGlvbjtcclxuICAgIHN0YXJ0VGltZTtcclxuICAgIHB1enpsZVRpbWU7XHJcbiAgICBjb25zdHJ1Y3RvcihjYW52YXMsIGxldmVsRGF0YSwgbW9uc3RlclBoYXNlTnVtYmVyLCBmZWVkQmFja1RleHRzLCByaWdodFRvTGVmdCwgc3dpdGNoU2NlbmVUb0VuZCwgbGV2ZWxOdW1iZXIsIHN3aXRjaFRvTGV2ZWxTZWxlY3Rpb24sIHJlbG9hZFNjZW5lLCBqc29uVmVyc2lvbk51bWJlciwgZmVlZGJhY2tBdWRpb3MpIHtcclxuICAgICAgICB0aGlzLndpZHRoID0gY2FudmFzLndpZHRoO1xyXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gY2FudmFzLmhlaWdodDtcclxuICAgICAgICB0aGlzLnJpZ2h0VG9MZWZ0ID0gcmlnaHRUb0xlZnQ7XHJcbiAgICAgICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIsIHsgd2lsbFJlYWRGcmVxdWVudGx5OiB0cnVlIH0pO1xyXG4gICAgICAgIHRoaXMubW9uc3RlclBoYXNlTnVtYmVyID0gbW9uc3RlclBoYXNlTnVtYmVyIHx8IDE7XHJcbiAgICAgICAgdGhpcy5sZXZlbERhdGEgPSBsZXZlbERhdGE7XHJcbiAgICAgICAgdGhpcy5zd2l0Y2hTY2VuZVRvRW5kID0gc3dpdGNoU2NlbmVUb0VuZDtcclxuICAgICAgICB0aGlzLmxldmVsTnVtYmVyID0gbGV2ZWxOdW1iZXI7XHJcbiAgICAgICAgdGhpcy5zd2l0Y2hUb0xldmVsU2VsZWN0aW9uID0gc3dpdGNoVG9MZXZlbFNlbGVjdGlvbjtcclxuICAgICAgICB0aGlzLnJlbG9hZFNjZW5lID0gcmVsb2FkU2NlbmU7XHJcbiAgICAgICAgdGhpcy5qc29uVmVyc2lvbk51bWJlciA9IGpzb25WZXJzaW9uTnVtYmVyO1xyXG4gICAgICAgIHRoaXMuc3RhcnRHYW1lVGltZSgpO1xyXG4gICAgICAgIHRoaXMuc3RhcnRQdXp6bGVUaW1lKCk7XHJcbiAgICAgICAgdGhpcy5wYXVzZUJ1dHRvbiA9IG5ldyBQYXVzZUJ1dHRvbih0aGlzLmNvbnRleHQsIHRoaXMuY2FudmFzKTtcclxuICAgICAgICB0aGlzLnRpbWVyVGlja2luZyA9IG5ldyBUaW1lclRpY2tpbmcodGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIHRoaXMubG9hZFB1enpsZSk7XHJcbiAgICAgICAgdGhpcy5zdG9uZUhhbmRsZXIgPSBuZXcgU3RvbmVIYW5kbGVyKHRoaXMuY29udGV4dCwgdGhpcy5jYW52YXMsIHRoaXMuY291bnRlciwgdGhpcy5sZXZlbERhdGEsIGZlZWRiYWNrQXVkaW9zLCB0aGlzLnRpbWVyVGlja2luZyk7XHJcbiAgICAgICAgdGhpcy50dXRvcmlhbCA9IG5ldyBUdXRvcmlhbCh0aGlzLmNvbnRleHQsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAgdGhpcy5wcm9tcHRUZXh0ID0gbmV3IFByb21wdFRleHQodGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIHRoaXMubGV2ZWxEYXRhLnB1enpsZXNbdGhpcy5jb3VudGVyXSwgdGhpcy5sZXZlbERhdGEsIHRoaXMucmlnaHRUb0xlZnQpO1xyXG4gICAgICAgIHRoaXMubGV2ZWxJbmRpY2F0b3JzID0gbmV3IExldmVsSW5kaWNhdG9ycyh0aGlzLmNvbnRleHQsIHRoaXMuY2FudmFzLCAwKTtcclxuICAgICAgICB0aGlzLmxldmVsSW5kaWNhdG9ycy5zZXRJbmRpY2F0b3JzKHRoaXMuY291bnRlcik7XHJcbiAgICAgICAgdGhpcy5tb25zdGVyID0gbmV3IE1vbnN0ZXIodGhpcy5jYW52YXMsIHRoaXMubW9uc3RlclBoYXNlTnVtYmVyKTtcclxuICAgICAgICBsZXQgZ2FtZVBsYXlEYXRhID0ge1xyXG4gICAgICAgICAgICBjdXJyZW50TGV2ZWxEYXRhOiBsZXZlbERhdGEsXHJcbiAgICAgICAgICAgIHNlbGVjdGVkTGV2ZWxOdW1iZXI6IGxldmVsTnVtYmVyLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5wYXVzZVBvcHVwID0gbmV3IFBhdXNlUG9wVXAodGhpcy5jYW52YXMsIHRoaXMucmVzdW1lR2FtZSwgdGhpcy5zd2l0Y2hUb0xldmVsU2VsZWN0aW9uLCB0aGlzLnJlbG9hZFNjZW5lLCBnYW1lUGxheURhdGEpO1xyXG4gICAgICAgIHRoaXMuYmFja2dyb3VuZDEgPSBuZXcgQmFja2dyb3VuZCh0aGlzLmNvbnRleHQsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCB0aGlzLmxldmVsRGF0YS5sZXZlbE51bWJlcik7XHJcbiAgICAgICAgdGhpcy5maXJlYmFzZUludGVncmF0aW9uID0gbmV3IEZpcmViYXNlSW50ZWdyYXRpb24oKTtcclxuICAgICAgICB0aGlzLmZlZWRCYWNrVGV4dENhbmF2c0VsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZlZWRiYWNrLXRleHRcIik7XHJcbiAgICAgICAgdGhpcy5mZWVkQmFja1RleHRDYW5hdnNFbGVtZW50LmhlaWdodCA9IHRoaXMuaGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuZmVlZEJhY2tUZXh0Q2FuYXZzRWxlbWVudC53aWR0aCA9IHRoaXMud2lkdGg7XHJcbiAgICAgICAgdGhpcy5mZWVkYmFja1RleHRFZmZlY3RzID0gbmV3IEZlZWRiYWNrVGV4dEVmZmVjdHModGhpcy5mZWVkQmFja1RleHRDYW5hdnNFbGVtZW50LmdldENvbnRleHQoXCIyZFwiLCB7IHdpbGxSZWFkRnJlcXVlbnRseTogdHJ1ZSB9KSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xyXG4gICAgICAgIHRoaXMuYXVkaW9QbGF5ZXIgPSBuZXcgQXVkaW9QbGF5ZXIoKTtcclxuICAgICAgICB0aGlzLmhhbmRsZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbnZhc1wiKTtcclxuICAgICAgICB0aGlzLnB1enpsZURhdGEgPSBsZXZlbERhdGEucHV6emxlcztcclxuICAgICAgICB0aGlzLmZlZWRCYWNrVGV4dHMgPSBmZWVkQmFja1RleHRzO1xyXG4gICAgICAgIHRoaXMuaW1hZ2VzID0ge1xyXG4gICAgICAgICAgICBwaWxsZXJJbWc6IFwiLi9hc3NldHMvaW1hZ2VzL1RvdGVtX3YwMl92MDEucG5nXCIsXHJcbiAgICAgICAgICAgIGJnSW1nOiBcIi4vYXNzZXRzL2ltYWdlcy9iZ192MDEuanBnXCIsXHJcbiAgICAgICAgICAgIGhpbGxJbWc6IFwiLi9hc3NldHMvaW1hZ2VzL2hpbGxfdjAxLnBuZ1wiLFxyXG4gICAgICAgICAgICBmZW5jaEltZzogXCIuL2Fzc2V0cy9pbWFnZXMvZmVuY2VfdjAxLnBuZ1wiLFxyXG4gICAgICAgICAgICBwcm9maWxlTW9uc3RlcjogXCIuL2Fzc2V0cy9pbWFnZXMvaWRsZTQucG5nXCIsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBsb2FkSW1hZ2VzKHRoaXMuaW1hZ2VzLCAoaW1hZ2VzKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZGVkSW1hZ2VzID0gT2JqZWN0LmFzc2lnbih7fSwgaW1hZ2VzKTtcclxuICAgICAgICAgICAgdGhpcy5pbWFnZXNMb2FkZWQgPSB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZhciBwcmV2aW91c1BsYXllZExldmVsID0gdGhpcy5sZXZlbERhdGEubGV2ZWxNZXRhLmxldmVsTnVtYmVyO1xyXG4gICAgICAgIERlYnVnZ2VyLkRlYnVnTW9kZVxyXG4gICAgICAgICAgICA/IGxvY2FsU3RvcmFnZS5zZXRJdGVtKFByZXZpb3VzUGxheWVkTGV2ZWwgKyBsYW5nICsgXCJEZWJ1Z1wiLCBwcmV2aW91c1BsYXllZExldmVsKVxyXG4gICAgICAgICAgICA6IGxvY2FsU3RvcmFnZS5zZXRJdGVtKFByZXZpb3VzUGxheWVkTGV2ZWwgKyBsYW5nLCBwcmV2aW91c1BsYXllZExldmVsKTtcclxuICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB9XHJcbiAgICByZXN1bWVHYW1lID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgICAgICB0aGlzLmlzUGF1c2VCdXR0b25DbGlja2VkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5zdG9uZUhhbmRsZXIuc2V0R2FtZVBhdXNlKGZhbHNlKTtcclxuICAgICAgICB0aGlzLnBhdXNlUG9wdXAuZGlzcG9zZSgpO1xyXG4gICAgfTtcclxuICAgIGdldFJhbmRvbUZlZWRCYWNrVGV4dChyYW5kb21JbmRleCkge1xyXG4gICAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyh0aGlzLmZlZWRCYWNrVGV4dHMpO1xyXG4gICAgICAgIGNvbnN0IHNlbGVjdGVkS2V5ID0ga2V5c1tyYW5kb21JbmRleF07XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZmVlZEJhY2tUZXh0c1tzZWxlY3RlZEtleV07XHJcbiAgICB9XHJcbiAgICBnZXRSYW5kb21JbnQobWluLCBtYXgpIHtcclxuICAgICAgICBjb25zdCBmZWVkYmFja1ZhbHVlcyA9IE9iamVjdC52YWx1ZXModGhpcy5mZWVkQmFja1RleHRzKTtcclxuICAgICAgICBjb25zdCBkZWZpbmVkVmFsdWVzTWF4Q291bnQgPSAoZmVlZGJhY2tWYWx1ZXMuZmlsdGVyKHZhbHVlID0+IHZhbHVlICE9IHVuZGVmaW5lZCkubGVuZ3RoKSAtIDE7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChkZWZpbmVkVmFsdWVzTWF4Q291bnQgLSBtaW4gKyAxKSkgKyBtaW47XHJcbiAgICB9XHJcbiAgICBoYW5kbGVNb3VzZVVwID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgLy8gUmVtb3ZlIHVubmVjZXNzYXJ5IGxvZ2dpbmdcclxuICAgICAgICBsZXQgcmVjdCA9IHRoaXMuY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgIGNvbnN0IHggPSBldmVudC5jbGllbnRYIC0gcmVjdC5sZWZ0O1xyXG4gICAgICAgIGNvbnN0IHkgPSBldmVudC5jbGllbnRZIC0gcmVjdC50b3A7XHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGNsaWNrIGlzIHdpdGhpbiByYW5nZSBvZiB0aGUgbW9uc3RlclxyXG4gICAgICAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5zcXJ0KCh4IC0gdGhpcy5tb25zdGVyLnggLSB0aGlzLmNhbnZhcy53aWR0aCAvIDQpICoqIDIgK1xyXG4gICAgICAgICAgICAoeSAtIHRoaXMubW9uc3Rlci55IC0gdGhpcy5jYW52YXMuaGVpZ2h0IC8gMi4yKSAqKiAyKTtcclxuICAgICAgICBpZiAoZGlzdGFuY2UgPD0gMTAwKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBpY2tlZFN0b25lKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlBpY2tlZCBTdG9uZTpcIiwgdGhpcy5waWNrZWRTdG9uZSk7IC8vIERlYnVnZ2luZyBzdGF0ZW1lbnRcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgdGV4dCB9ID0gdGhpcy5waWNrZWRTdG9uZTsgLy8gVXNlIGRlc3RydWN0dXJpbmcgZm9yIGNsYXJpdHlcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy5sZXZlbERhdGEubGV2ZWxNZXRhLmxldmVsVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJMZXR0ZXJPbmx5XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGV0dGVyT25seVB1enpsZSh0ZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkxldHRlckluV29yZFwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxldHRlckluV29yZFB1enpsZSh0ZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIldvcmRcIjpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiU291bmRXb3JkXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud29yZFB1enpsZSh0ZXh0LCB0aGlzLnBpY2tlZFN0b25lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBpY2tlZFN0b25lICYmIHRoaXMucGlja2VkU3RvbmVPYmplY3QpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBpY2tlZFN0b25lLnRleHQgJiYgdHlwZW9mIHRoaXMucGlja2VkU3RvbmVPYmplY3Qub3JpZ3ggPT09ICdudW1iZXInICYmIHR5cGVvZiB0aGlzLnBpY2tlZFN0b25lT2JqZWN0Lm9yaWd5ID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHhMaW1pdCA9IDUwO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhhbGZXaWR0aCA9IHRoaXMud2lkdGggLyAyO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGlja2VkU3RvbmUueCA9ICh0aGlzLnBpY2tlZFN0b25lLnRleHQubGVuZ3RoIDw9IDMgJiYgdGhpcy5waWNrZWRTdG9uZU9iamVjdC5vcmlneCA8IHhMaW1pdCAmJiB0aGlzLnBpY2tlZFN0b25lT2JqZWN0Lm9yaWd4IDwgaGFsZldpZHRoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHRoaXMucGlja2VkU3RvbmVPYmplY3Qub3JpZ3ggKyAyNVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHRoaXMucGlja2VkU3RvbmVPYmplY3Qub3JpZ3g7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5waWNrZWRTdG9uZS55ID0gdGhpcy5waWNrZWRTdG9uZU9iamVjdC5vcmlneTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnBpY2tlZFN0b25lID0gbnVsbDtcclxuICAgIH07XHJcbiAgICAvLyBFdmVudCB0byBpZGVudGlmeSBtb3VzZSBtb3ZlZCBkb3duIG9uIHRoZSBjYW52YXNcclxuICAgIGhhbmRsZU1vdXNlRG93biA9IChldmVudCkgPT4ge1xyXG4gICAgICAgIGxldCByZWN0ID0gdGhpcy5jYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgY29uc3QgeCA9IGV2ZW50LmNsaWVudFggLSByZWN0LmxlZnQ7XHJcbiAgICAgICAgY29uc3QgeSA9IGV2ZW50LmNsaWVudFkgLSByZWN0LnRvcDtcclxuICAgICAgICBmb3IgKGxldCBzYyBvZiB0aGlzLnN0b25lSGFuZGxlci5mb2lsU3RvbmVzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5zcXJ0KCh4IC0gc2MueCkgKiogMiArICh5IC0gc2MueSkgKiogMik7XHJcbiAgICAgICAgICAgIGlmIChkaXN0YW5jZSA8PSA0MCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5waWNrZWRTdG9uZU9iamVjdCA9IHNjO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5waWNrZWRTdG9uZSA9IHNjO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hdWRpb1BsYXllci5wbGF5QXVkaW8oXCIuL2Fzc2V0cy9hdWRpb3Mvb25EcmFnLm1wM1wiKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGhhbmRsZU1vdXNlTW92ZSA9IChldmVudCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnBpY2tlZFN0b25lKSB7XHJcbiAgICAgICAgICAgIGxldCByZWN0ID0gdGhpcy5jYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHggPSBldmVudC5jbGllbnRYIC0gcmVjdC5sZWZ0O1xyXG4gICAgICAgICAgICBjb25zdCB5ID0gZXZlbnQuY2xpZW50WSAtIHJlY3QudG9wO1xyXG4gICAgICAgICAgICB0aGlzLm1vbnN0ZXIuY2hhbmdlVG9EcmFnQW5pbWF0aW9uKCk7XHJcbiAgICAgICAgICAgIHRoaXMucGlja2VkU3RvbmUueCA9IHg7XHJcbiAgICAgICAgICAgIHRoaXMucGlja2VkU3RvbmUueSA9IHk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGhhbmRsZU1vdXNlQ2xpY2sgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICBsZXQgcmVjdCA9IHRoaXMuY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgIGNvbnN0IHggPSBldmVudC5jbGllbnRYIC0gcmVjdC5sZWZ0O1xyXG4gICAgICAgIGNvbnN0IHkgPSBldmVudC5jbGllbnRZIC0gcmVjdC50b3A7XHJcbiAgICAgICAgaWYgKHRoaXMubW9uc3Rlci5vbkNsaWNrKHgsIHkpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNHYW1lU3RhcnRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMudGltZSA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMudHV0b3JpYWwuc2V0UGxheU1vbnN0ZXJDbGlja0FuaW1hdGlvbihmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnBhdXNlQnV0dG9uLm9uQ2xpY2soeCwgeSkpIHtcclxuICAgICAgICAgICAgdGhpcy5hdWRpb1BsYXllci5wbGF5QnV0dG9uQ2xpY2tTb3VuZChcIi4vYXNzZXRzL2F1ZGlvcy9CdXR0b25DbGljay5tcDNcIik7XHJcbiAgICAgICAgICAgIHRoaXMucGF1c2VHYW1lUGxheSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5wcm9tcHRUZXh0Lm9uQ2xpY2soeCwgeSkpIHtcclxuICAgICAgICAgICAgdGhpcy5wcm9tcHRUZXh0LnBsYXlTb3VuZCgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvLyBFdmVudCB0byBpZGVudGlmeSB0b3VjaCBvbiB0aGUgY2FudmFzXHJcbiAgICBoYW5kbGVUb3VjaFN0YXJ0ID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgY29uc3QgdG91Y2ggPSBldmVudC50b3VjaGVzWzBdO1xyXG4gICAgICAgIHRoaXMuaGFuZGxlTW91c2VEb3duKHsgY2xpZW50WDogdG91Y2guY2xpZW50WCwgY2xpZW50WTogdG91Y2guY2xpZW50WSB9KTtcclxuICAgIH07XHJcbiAgICBoYW5kbGVUb3VjaE1vdmUgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICBjb25zdCB0b3VjaCA9IGV2ZW50LnRvdWNoZXNbMF07XHJcbiAgICAgICAgdGhpcy5oYW5kbGVNb3VzZU1vdmUoeyBjbGllbnRYOiB0b3VjaC5jbGllbnRYLCBjbGllbnRZOiB0b3VjaC5jbGllbnRZIH0pO1xyXG4gICAgfTtcclxuICAgIGhhbmRsZVRvdWNoRW5kID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgY29uc3QgdG91Y2ggPSBldmVudC5jaGFuZ2VkVG91Y2hlc1swXTtcclxuICAgICAgICB0aGlzLmhhbmRsZU1vdXNlVXAoeyBjbGllbnRYOiB0b3VjaC5jbGllbnRYLCBjbGllbnRZOiB0b3VjaC5jbGllbnRZIH0pO1xyXG4gICAgfTtcclxuICAgIGRyYXcoZGVsdGFUaW1lKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJkcmF3XCIpO1xyXG4gICAgICAgIGlmICghdGhpcy5pc0dhbWVTdGFydGVkICYmICF0aGlzLmlzUGF1c2VCdXR0b25DbGlja2VkKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGltZSA9IHRoaXMudGltZSArIGRlbHRhVGltZTtcclxuICAgICAgICAgICAgaWYgKHRoaXMudGltZSA+PSA1MDAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzR2FtZVN0YXJ0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50aW1lID0gMDtcclxuICAgICAgICAgICAgICAgIHRoaXMudHV0b3JpYWwuc2V0UGxheU1vbnN0ZXJDbGlja0FuaW1hdGlvbihmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaW1hZ2VzTG9hZGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYmFja2dyb3VuZDEuZHJhdygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pc1BhdXNlQnV0dG9uQ2xpY2tlZCAmJiB0aGlzLmlzR2FtZVN0YXJ0ZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5wYXVzZUJ1dHRvbi5kcmF3KCk7XHJcbiAgICAgICAgICAgIHRoaXMubGV2ZWxJbmRpY2F0b3JzLmRyYXcoKTtcclxuICAgICAgICAgICAgdGhpcy5wcm9tcHRUZXh0LmRyYXcoZGVsdGFUaW1lKTtcclxuICAgICAgICAgICAgdGhpcy5tb25zdGVyLnVwZGF0ZShkZWx0YVRpbWUpO1xyXG4gICAgICAgICAgICB0aGlzLnRpbWVyVGlja2luZy5kcmF3KCk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RvbmVIYW5kbGVyLmRyYXcoZGVsdGFUaW1lKTtcclxuICAgICAgICAgICAgdGhpcy5wYXVzZVBvcHVwLmRyYXcoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzUGF1c2VCdXR0b25DbGlja2VkICYmICF0aGlzLmlzR2FtZVN0YXJ0ZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5wYXVzZUJ1dHRvbi5kcmF3KCk7XHJcbiAgICAgICAgICAgIHRoaXMubGV2ZWxJbmRpY2F0b3JzLmRyYXcoKTtcclxuICAgICAgICAgICAgdGhpcy5wcm9tcHRUZXh0LmRyYXcoZGVsdGFUaW1lKTtcclxuICAgICAgICAgICAgdGhpcy5tb25zdGVyLnVwZGF0ZShkZWx0YVRpbWUpO1xyXG4gICAgICAgICAgICB0aGlzLnRpbWVyVGlja2luZy5kcmF3KCk7XHJcbiAgICAgICAgICAgIHRoaXMuZmVlZGJhY2tUZXh0RWZmZWN0cy5yZW5kZXIoKTtcclxuICAgICAgICAgICAgKHRoaXMuY291bnRlciA9PSAwKSA/IHRoaXMudHV0b3JpYWwuY2xpY2tPbk1vbnN0ZXJUdXRvcmlhbChkZWx0YVRpbWUpIDogdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pc1BhdXNlQnV0dG9uQ2xpY2tlZCAmJiAhdGhpcy5pc0dhbWVTdGFydGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGF1c2VCdXR0b24uZHJhdygpO1xyXG4gICAgICAgICAgICB0aGlzLmxldmVsSW5kaWNhdG9ycy5kcmF3KCk7XHJcbiAgICAgICAgICAgIHRoaXMucHJvbXB0VGV4dC5kcmF3KGRlbHRhVGltZSk7XHJcbiAgICAgICAgICAgIHRoaXMubW9uc3Rlci51cGRhdGUoZGVsdGFUaW1lKTtcclxuICAgICAgICAgICAgdGhpcy50aW1lclRpY2tpbmcuZHJhdygpO1xyXG4gICAgICAgICAgICB0aGlzLnBhdXNlUG9wdXAuZHJhdygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMuaXNQYXVzZUJ1dHRvbkNsaWNrZWQgJiYgdGhpcy5pc0dhbWVTdGFydGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGF1c2VCdXR0b24uZHJhdygpO1xyXG4gICAgICAgICAgICB0aGlzLmxldmVsSW5kaWNhdG9ycy5kcmF3KCk7XHJcbiAgICAgICAgICAgIHRoaXMucHJvbXB0VGV4dC5kcmF3KGRlbHRhVGltZSk7XHJcbiAgICAgICAgICAgIHRoaXMubW9uc3Rlci51cGRhdGUoZGVsdGFUaW1lKTtcclxuICAgICAgICAgICAgLy8gdGhpcy50aW1lclRpY2tpbmcudXBkYXRlKGRlbHRhVGltZSk7XHJcbiAgICAgICAgICAgIHRoaXMudGltZXJUaWNraW5nLmRyYXcoKTtcclxuICAgICAgICAgICAgdGhpcy5zdG9uZUhhbmRsZXIuZHJhdyhkZWx0YVRpbWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGFkZEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIHRoaXMuaGFuZGxlci5hZGRFdmVudExpc3RlbmVyKE1PVVNFVVAsIHRoaXMuaGFuZGxlTW91c2VVcCwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuaGFuZGxlci5hZGRFdmVudExpc3RlbmVyKE1PVVNFTU9WRSwgdGhpcy5oYW5kbGVNb3VzZU1vdmUsIGZhbHNlKTtcclxuICAgICAgICB0aGlzLmhhbmRsZXIuYWRkRXZlbnRMaXN0ZW5lcihNT1VTRURPV04sIHRoaXMuaGFuZGxlTW91c2VEb3duLCBmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVyLmFkZEV2ZW50TGlzdGVuZXIoVE9VQ0hTVEFSVCwgdGhpcy5oYW5kbGVUb3VjaFN0YXJ0LCBmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVyLmFkZEV2ZW50TGlzdGVuZXIoVE9VQ0hNT1ZFLCB0aGlzLmhhbmRsZVRvdWNoTW92ZSwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuaGFuZGxlci5hZGRFdmVudExpc3RlbmVyKFRPVUNIRU5ELCB0aGlzLmhhbmRsZVRvdWNoRW5kLCBmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVyLmFkZEV2ZW50TGlzdGVuZXIoQ0xJQ0ssIHRoaXMuaGFuZGxlTW91c2VDbGljaywgZmFsc2UpO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoVklTSUJJTElUWV9DSEFOR0UsIHRoaXMuaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSwgZmFsc2UpO1xyXG4gICAgfVxyXG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgLy8gUmVtb3ZlIGV2ZW50IGxpc3RlbmVycyB1c2luZyB0aGUgZGVmaW5lZCBmdW5jdGlvbnNcclxuICAgICAgICB0aGlzLmhhbmRsZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihDTElDSywgdGhpcy5oYW5kbGVNb3VzZUNsaWNrLCBmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIHRoaXMuaGFuZGxlTW91c2VVcCwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuaGFuZGxlci5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMuaGFuZGxlTW91c2VNb3ZlLCBmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5oYW5kbGVNb3VzZURvd24sIGZhbHNlKTtcclxuICAgICAgICB0aGlzLmhhbmRsZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgdGhpcy5oYW5kbGVUb3VjaFN0YXJ0LCBmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIiwgdGhpcy5oYW5kbGVUb3VjaE1vdmUsIGZhbHNlKTtcclxuICAgICAgICB0aGlzLmhhbmRsZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsIHRoaXMuaGFuZGxlVG91Y2hFbmQsIGZhbHNlKTtcclxuICAgIH1cclxuICAgIGxvYWRQdXp6bGUgPSAoaXNUaW1lckVuZGVkKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zdG9uZXNDb3VudCA9IDE7XHJcbiAgICAgICAgbGV0IHRpbWVyRW5kZWQgPSBpc1RpbWVyRW5kZWQgPT0gdW5kZWZpbmVkID8gZmFsc2UgOiB0cnVlO1xyXG4gICAgICAgIGlmICh0aW1lckVuZGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nUHV6emxlRW5kRmlyZWJhc2VFdmVudChmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgICAgICB0aGlzLmluY3JlbWVudFB1enpsZSgpO1xyXG4gICAgICAgIHRoaXMuaXNHYW1lU3RhcnRlZCA9IGZhbHNlO1xyXG4gICAgICAgIGlmICh0aGlzLmNvdW50ZXIgPT0gdGhpcy5sZXZlbERhdGEucHV6emxlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5sZXZlbEluZGljYXRvcnMuc2V0SW5kaWNhdG9ycyh0aGlzLmNvdW50ZXIpO1xyXG4gICAgICAgICAgICB0aGlzLmxvZ0xldmVsRW5kRmlyZWJhc2VFdmVudCgpO1xyXG4gICAgICAgICAgICBHYW1lU2NvcmUuc2V0R2FtZUxldmVsU2NvcmUodGhpcy5sZXZlbERhdGEsIHRoaXMuc2NvcmUpO1xyXG4gICAgICAgICAgICB0aGlzLnN3aXRjaFNjZW5lVG9FbmQodGhpcy5sZXZlbERhdGEsIEdhbWVTY29yZS5jYWxjdWxhdGVTdGFyQ291bnQodGhpcy5zY29yZSksIHRoaXMubW9uc3RlclBoYXNlTnVtYmVyLCB0aGlzLmxldmVsTnVtYmVyLCB0aW1lckVuZGVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxvYWRQdXp6bGVEYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgY291bnRlcjogdGhpcy5jb3VudGVyLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBjb25zdCBsb2FkUHV6emxlRXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoTE9BRFBVWlpMRSwge1xyXG4gICAgICAgICAgICAgICAgZGV0YWlsOiBsb2FkUHV6emxlRGF0YSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmICh0aW1lckVuZGVkKSB7XHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzLm1vbnN0ZXIuY2hhbmdlVG9JZGxlQW5pbWF0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmluaXROZXdQdXp6bGUobG9hZFB1enpsZUV2ZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuY2hhbmdlVG9OZXh0UHV6emxlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbml0TmV3UHV6emxlKGxvYWRQdXp6bGVFdmVudCk7XHJcbiAgICAgICAgICAgICAgICB9LCA0NTAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBkaXNwb3NlID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuYXVkaW9QbGF5ZXIuc3RvcEFsbEF1ZGlvcygpO1xyXG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgICAgICB0aGlzLmZlZWRiYWNrVGV4dEVmZmVjdHMudW5yZWdpc3RlckV2ZW50TGlzdGVuZXIoKTtcclxuICAgICAgICB0aGlzLm1vbnN0ZXIudW5yZWdpc3RlckV2ZW50TGlzdGVuZXIoKTtcclxuICAgICAgICB0aGlzLnRpbWVyVGlja2luZy51bnJlZ2lzdGVyRXZlbnRMaXN0ZW5lcigpO1xyXG4gICAgICAgIHRoaXMubGV2ZWxJbmRpY2F0b3JzLnVucmVnaXN0ZXJFdmVudExpc3RlbmVyKCk7XHJcbiAgICAgICAgdGhpcy5zdG9uZUhhbmRsZXIudW5yZWdpc3RlckV2ZW50TGlzdGVuZXIoKTtcclxuICAgICAgICB0aGlzLnByb21wdFRleHQudW5yZWdpc3RlckV2ZW50TGlzdGVuZXIoKTtcclxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFZJU0lCSUxJVFlfQ0hBTkdFLCB0aGlzLmhhbmRsZVZpc2liaWxpdHlDaGFuZ2UsIGZhbHNlKTtcclxuICAgICAgICAvLyB0aGlzLmRlbGV0ZUNvbXBvbmVudEluc3RhbmNlcygpO1xyXG4gICAgfTtcclxuICAgIGxldHRlckluV29yZFB1enpsZShkcm9wcGVkU3RvbmUpIHtcclxuICAgICAgICBjb25zdCBmZWVkQmFja0luZGV4ID0gdGhpcy5nZXRSYW5kb21JbnQoMCwgMSk7XHJcbiAgICAgICAgY29uc3QgaXNDb3JyZWN0ID0gdGhpcy5zdG9uZUhhbmRsZXIuaXNTdG9uZURyb3BwZWRDb3JyZWN0Rm9yTGV0dGVySW5Xb3JkKGRyb3BwZWRTdG9uZSwgZmVlZEJhY2tJbmRleCk7XHJcbiAgICAgICAgaWYgKGlzQ29ycmVjdCkge1xyXG4gICAgICAgICAgICB0aGlzLmhhbmRsZUNvcnJlY3RTdG9uZURyb3AoZmVlZEJhY2tJbmRleCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubG9nUHV6emxlRW5kRmlyZWJhc2VFdmVudChpc0NvcnJlY3QpO1xyXG4gICAgICAgIHRoaXMuZGlzcGF0Y2hTdG9uZURyb3BFdmVudChpc0NvcnJlY3QpO1xyXG4gICAgICAgIHRoaXMubG9hZFB1enpsZSgpO1xyXG4gICAgfVxyXG4gICAgbGV0dGVyT25seVB1enpsZShkcm9wcGVkU3RvbmUpIHtcclxuICAgICAgICBjb25zdCBmZWVkQmFja0luZGV4ID0gdGhpcy5nZXRSYW5kb21JbnQoMCwgMSk7XHJcbiAgICAgICAgY29uc3QgaXNDb3JyZWN0ID0gdGhpcy5zdG9uZUhhbmRsZXIuaXNTdG9uZURyb3BwZWRDb3JyZWN0Rm9yTGV0dGVyT25seShkcm9wcGVkU3RvbmUsIGZlZWRCYWNrSW5kZXgpO1xyXG4gICAgICAgIGlmIChpc0NvcnJlY3QpIHtcclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVDb3JyZWN0U3RvbmVEcm9wKGZlZWRCYWNrSW5kZXgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmxvZ1B1enpsZUVuZEZpcmViYXNlRXZlbnQoaXNDb3JyZWN0KTtcclxuICAgICAgICB0aGlzLmRpc3BhdGNoU3RvbmVEcm9wRXZlbnQoaXNDb3JyZWN0KTtcclxuICAgICAgICB0aGlzLmxvYWRQdXp6bGUoKTtcclxuICAgIH1cclxuICAgIHdvcmRQdXp6bGUoZHJvcHBlZFN0b25lLCBkcm9wcGVkU3RvbmVJbnN0YW5jZSkge1xyXG4gICAgICAgIHRoaXMuYXVkaW9QbGF5ZXIuc3RvcEZlZWRiYWNrQXVkaW8oKTtcclxuICAgICAgICBkcm9wcGVkU3RvbmVJbnN0YW5jZS54ID0gLTk5OTtcclxuICAgICAgICBkcm9wcGVkU3RvbmVJbnN0YW5jZS55ID0gLTk5OTtcclxuICAgICAgICBjb25zdCBmZWVkQmFja0luZGV4ID0gdGhpcy5nZXRSYW5kb21JbnQoMCwgMSk7XHJcbiAgICAgICAgdGhpcy50ZW1wV29yZGZvcldvcmRQdXp6bGUgPSB0aGlzLnRlbXBXb3JkZm9yV29yZFB1enpsZSArIGRyb3BwZWRTdG9uZTtcclxuICAgICAgICBjb25zdCBpc0NvcnJlY3QgPSB0aGlzLnN0b25lSGFuZGxlci5pc1N0b25Ecm9wcGVkQ29ycmVjdEZvcldvcmQodGhpcy50ZW1wV29yZGZvcldvcmRQdXp6bGUsIGZlZWRCYWNrSW5kZXgpO1xyXG4gICAgICAgIGlmICh0aGlzLnN0b25lSGFuZGxlci5nZXRDb3JyZWN0VGFyZ2V0U3RvbmUoKSA9PSB0aGlzLnRlbXBXb3JkZm9yV29yZFB1enpsZSAmJlxyXG4gICAgICAgICAgICBpc0NvcnJlY3QpIHtcclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVDb3JyZWN0U3RvbmVEcm9wKGZlZWRCYWNrSW5kZXgpO1xyXG4gICAgICAgICAgICB0aGlzLmxvZ1B1enpsZUVuZEZpcmViYXNlRXZlbnQoaXNDb3JyZWN0LCBcIldvcmRcIik7XHJcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hTdG9uZURyb3BFdmVudChpc0NvcnJlY3QpO1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRQdXp6bGUoKTtcclxuICAgICAgICAgICAgdGhpcy5zdG9uZXNDb3VudCA9IDE7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzQ29ycmVjdCkge1xyXG4gICAgICAgICAgICB0aGlzLnRpbWVyVGlja2luZy5zdGFydFRpbWVyKCk7XHJcbiAgICAgICAgICAgIHRoaXMubW9uc3Rlci5jaGFuZ2VUb0VhdEFuaW1hdGlvbigpO1xyXG4gICAgICAgICAgICBsYW5nID09IFwiYXJhYmljXCJcclxuICAgICAgICAgICAgICAgID8gdGhpcy5wcm9tcHRUZXh0LmRyb3BwZWRTdG9uZUluZGV4KHRoaXMuc3RvbmVzQ291bnQpXHJcbiAgICAgICAgICAgICAgICA6IHRoaXMucHJvbXB0VGV4dC5kcm9wcGVkU3RvbmVJbmRleCh0aGlzLnRlbXBXb3JkZm9yV29yZFB1enpsZS5sZW5ndGgpO1xyXG4gICAgICAgICAgICB0aGlzLnN0b25lc0NvdW50Kys7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tb25zdGVyLmNoYW5nZVRvSWRsZUFuaW1hdGlvbigpO1xyXG4gICAgICAgICAgICB9LCAxNTAwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkpID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hdWRpb1BsYXllci5wbGF5RmVlZGJhY2tBdWRpb3MoZmFsc2UsIFwiLi9hc3NldHMvYXVkaW9zL0VhdC5tcDNcIiwgXCIuL2Fzc2V0cy9hdWRpb3MvRGlzYXBvaW50ZWQtMDUubXAzXCIsIFwiLi9hc3NldHMvYXVkaW9zL01vbnN0ZXJTcGl0Lm1wM1wiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYXVkaW9QbGF5ZXIucGxheUZlZWRiYWNrQXVkaW9zKGZhbHNlLCBcIi4vYXNzZXRzL2F1ZGlvcy9FYXQubXAzXCIsIFwiLi9hc3NldHMvYXVkaW9zL01vbnN0ZXJTcGl0Lm1wM1wiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmxvZ1B1enpsZUVuZEZpcmViYXNlRXZlbnQoaXNDb3JyZWN0LCBcIldvcmRcIik7XHJcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hTdG9uZURyb3BFdmVudChpc0NvcnJlY3QpO1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRQdXp6bGUoKTtcclxuICAgICAgICAgICAgdGhpcy5zdG9uZXNDb3VudCA9IDE7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaGFuZGxlQ29ycmVjdFN0b25lRHJvcCA9IChmZWVkYmFja0luZGV4KSA9PiB7XHJcbiAgICAgICAgdGhpcy5zY29yZSArPSAxMDA7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJoYW5kbGVDb3JyZWN0U3RvbmUtPlwiKTtcclxuICAgICAgICAvLyB0aGlzLmF1ZGlvUGxheWVyLnBsYXlBdWRpbyhmYWxzZSwgXCIuL2Fzc2V0cy9hdWRpb3MvRWF0Lm1wM1wiLFwiLi9hc3NldHMvYXVkaW9zL0NoZWVyaW5nLTAyLm1wM1wiLCBcIi4vYXNzZXRzL2F1ZGlvcy9mYW50YXN0aWMuV0FWXCIpO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuZ2V0UmFuZG9tRmVlZEJhY2tUZXh0KGZlZWRiYWNrSW5kZXgpKTtcclxuICAgICAgICB0aGlzLmZlZWRiYWNrVGV4dEVmZmVjdHMud3JhcFRleHQodGhpcy5nZXRSYW5kb21GZWVkQmFja1RleHQoZmVlZGJhY2tJbmRleCkpO1xyXG4gICAgICAgIHRoaXMuZmVlZEJhY2tUZXh0Q2FuYXZzRWxlbWVudC5zdHlsZS56SW5kZXggPSBcIjJcIjtcclxuICAgIH07XHJcbiAgICBkaXNwYXRjaFN0b25lRHJvcEV2ZW50KGlzQ29ycmVjdCkge1xyXG4gICAgICAgIGNvbnN0IGxvYWRQdXp6bGVEYXRhID0geyBpc0NvcnJlY3Q6IGlzQ29ycmVjdCB9O1xyXG4gICAgICAgIGNvbnN0IGRyb3BTdG9uZUV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KFNUT05FRFJPUCwge1xyXG4gICAgICAgICAgICBkZXRhaWw6IGxvYWRQdXp6bGVEYXRhLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoZHJvcFN0b25lRXZlbnQpO1xyXG4gICAgfVxyXG4gICAgaW5pdE5ld1B1enpsZShsb2FkUHV6emxlRXZlbnQpIHtcclxuICAgICAgICB0aGlzLmlzR2FtZVN0YXJ0ZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnRpbWUgPSAwO1xyXG4gICAgICAgIHRoaXMudGVtcFdvcmRmb3JXb3JkUHV6emxlID0gXCJcIjtcclxuICAgICAgICB0aGlzLnBpY2tlZFN0b25lID0gbnVsbDtcclxuICAgICAgICB0aGlzLmZlZWRiYWNrVGV4dEVmZmVjdHMuY2xlYXJQYXJ0aWNsZSgpO1xyXG4gICAgICAgIHRoaXMuZmVlZEJhY2tUZXh0Q2FuYXZzRWxlbWVudC5zdHlsZS56SW5kZXggPSBcIjBcIjtcclxuICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGxvYWRQdXp6bGVFdmVudCk7XHJcbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVycygpO1xyXG4gICAgICAgIHRoaXMuYXVkaW9QbGF5ZXIuc3RvcEFsbEF1ZGlvcygpO1xyXG4gICAgICAgIHRoaXMuc3RhcnRQdXp6bGVUaW1lKCk7XHJcbiAgICB9XHJcbiAgICBpbmNyZW1lbnRQdXp6bGUoKSB7XHJcbiAgICAgICAgdGhpcy5jb3VudGVyICs9IDE7XHJcbiAgICB9XHJcbiAgICBsb2dQdXp6bGVFbmRGaXJlYmFzZUV2ZW50KGlzQ29ycmVjdCwgcHV6emxlVHlwZSkge1xyXG4gICAgICAgIGxldCBlbmRUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICBjb25zdCBwdXp6bGVDb21wbGV0ZWREYXRhID0ge1xyXG4gICAgICAgICAgICBjcl91c2VyX2lkOiBwc2V1ZG9JZCxcclxuICAgICAgICAgICAgZnRtX2xhbmd1YWdlOiBsYW5nLFxyXG4gICAgICAgICAgICBwcm9maWxlX251bWJlcjogMCxcclxuICAgICAgICAgICAgdmVyc2lvbl9udW1iZXI6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidmVyc2lvbi1pbmZvLWlkXCIpLmlubmVySFRNTCxcclxuICAgICAgICAgICAganNvbl92ZXJzaW9uX251bWJlcjogdGhpcy5qc29uVmVyc2lvbk51bWJlcixcclxuICAgICAgICAgICAgc3VjY2Vzc19vcl9mYWlsdXJlOiBpc0NvcnJlY3QgPyBcInN1Y2Nlc3NcIiA6IFwiZmFpbHVyZVwiLFxyXG4gICAgICAgICAgICBsZXZlbF9udW1iZXI6IHRoaXMubGV2ZWxEYXRhLmxldmVsTWV0YS5sZXZlbE51bWJlcixcclxuICAgICAgICAgICAgcHV6emxlX251bWJlcjogdGhpcy5jb3VudGVyLFxyXG4gICAgICAgICAgICBpdGVtX3NlbGVjdGVkOiBwdXp6bGVUeXBlID09IFwiV29yZFwiXHJcbiAgICAgICAgICAgICAgICA/ICh0aGlzLnRlbXBXb3JkZm9yV29yZFB1enpsZSA9PSBudWxsIHx8IHRoaXMudGVtcFdvcmRmb3JXb3JkUHV6emxlID09IHVuZGVmaW5lZCkgPyBcIlRJTUVPVVRcIiA6IHRoaXMudGVtcFdvcmRmb3JXb3JkUHV6emxlXHJcbiAgICAgICAgICAgICAgICA6ICh0aGlzLnBpY2tlZFN0b25lID09IG51bGwgfHwgdGhpcy5waWNrZWRTdG9uZSA9PSB1bmRlZmluZWQpID8gXCJUSU1FT1VUXCIgOiB0aGlzLnBpY2tlZFN0b25lPy50ZXh0LFxyXG4gICAgICAgICAgICB0YXJnZXQ6IHRoaXMuc3RvbmVIYW5kbGVyLmdldENvcnJlY3RUYXJnZXRTdG9uZSgpLFxyXG4gICAgICAgICAgICBmb2lsczogdGhpcy5zdG9uZUhhbmRsZXIuZ2V0Rm9pbFN0b25lcygpLFxyXG4gICAgICAgICAgICByZXNwb25zZV90aW1lOiAoZW5kVGltZSAtIHRoaXMucHV6emxlVGltZSkgLyAxMDAwLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5maXJlYmFzZUludGVncmF0aW9uLnNlbmRQdXp6bGVDb21wbGV0ZWRFdmVudChwdXp6bGVDb21wbGV0ZWREYXRhKTtcclxuICAgIH1cclxuICAgIGxvZ0xldmVsRW5kRmlyZWJhc2VFdmVudCgpIHtcclxuICAgICAgICBsZXQgZW5kVGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgICAgY29uc3QgbGV2ZWxDb21wbGV0ZWREYXRhID0ge1xyXG4gICAgICAgICAgICBjcl91c2VyX2lkOiBwc2V1ZG9JZCxcclxuICAgICAgICAgICAgZnRtX2xhbmd1YWdlOiBsYW5nLFxyXG4gICAgICAgICAgICBwcm9maWxlX251bWJlcjogMCxcclxuICAgICAgICAgICAgdmVyc2lvbl9udW1iZXI6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidmVyc2lvbi1pbmZvLWlkXCIpLmlubmVySFRNTCxcclxuICAgICAgICAgICAganNvbl92ZXJzaW9uX251bWJlcjogdGhpcy5qc29uVmVyc2lvbk51bWJlcixcclxuICAgICAgICAgICAgc3VjY2Vzc19vcl9mYWlsdXJlOiBHYW1lU2NvcmUuY2FsY3VsYXRlU3RhckNvdW50KHRoaXMuc2NvcmUpID49IDMgPyBcInN1Y2Nlc3NcIiA6IFwiZmFpbHVyZVwiLFxyXG4gICAgICAgICAgICBudW1iZXJfb2Zfc3VjY2Vzc2Z1bF9wdXp6bGVzOiB0aGlzLnNjb3JlIC8gMTAwLFxyXG4gICAgICAgICAgICBsZXZlbF9udW1iZXI6IHRoaXMubGV2ZWxEYXRhLmxldmVsTWV0YS5sZXZlbE51bWJlcixcclxuICAgICAgICAgICAgZHVyYXRpb246IChlbmRUaW1lIC0gdGhpcy5zdGFydFRpbWUpIC8gMTAwMCxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuZmlyZWJhc2VJbnRlZ3JhdGlvbi5zZW5kTGV2ZWxDb21wbGV0ZWRFdmVudChsZXZlbENvbXBsZXRlZERhdGEpO1xyXG4gICAgfVxyXG4gICAgc3RhcnRHYW1lVGltZSgpIHtcclxuICAgICAgICB0aGlzLnN0YXJ0VGltZSA9IERhdGUubm93KCk7XHJcbiAgICB9XHJcbiAgICBzdGFydFB1enpsZVRpbWUoKSB7XHJcbiAgICAgICAgdGhpcy5wdXp6bGVUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgIH1cclxuICAgIHBhdXNlR2FtZVBsYXkgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5pc1BhdXNlQnV0dG9uQ2xpY2tlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5zdG9uZUhhbmRsZXIuc2V0R2FtZVBhdXNlKHRydWUpO1xyXG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgICAgICB0aGlzLnBhdXNlUG9wdXAuYWRkTGlzdG5lcigpO1xyXG4gICAgICAgIHRoaXMuYXVkaW9QbGF5ZXIuc3RvcEFsbEF1ZGlvcygpO1xyXG4gICAgfTtcclxuICAgIGhhbmRsZVZpc2liaWxpdHlDaGFuZ2UgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5hdWRpb1BsYXllci5zdG9wQWxsQXVkaW9zKCk7XHJcbiAgICAgICAgdGhpcy5wYXVzZUdhbWVQbGF5KCk7XHJcbiAgICB9O1xyXG59XHJcbiIsImltcG9ydCB7IGxvYWRJbWFnZXMgfSBmcm9tIFwiLi4vY29tbW9uL2NvbW1vblwiO1xyXG5leHBvcnQgY2xhc3MgTG9hZGluZ1NjZW5lIHtcclxuICAgIGNhbnZhcztcclxuICAgIGhlaWdodDtcclxuICAgIHdpZHRoO1xyXG4gICAgY29udGV4dDtcclxuICAgIGltYWdlcztcclxuICAgIGxvYWRlZEltYWdlcztcclxuICAgIGltYWdlc0xvYWRlZDtcclxuICAgIGNsb3VkWFBvc2l0aW9uID0gLTUwMDtcclxuICAgIHN0b3BDbG91ZE1vdmluZyA9IGZhbHNlO1xyXG4gICAgY2xvdWRNb3ZpbmdUaW1lT3V0ID0gMDtcclxuICAgIHJlbW92ZUxvYWRpbmc7XHJcbiAgICBjb25zdHJ1Y3Rvcih3aWR0aCwgaGVpZ2h0LCByZW1vdmVMb2FkaW5nKSB7XHJcbiAgICAgICAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxvYWRpbmdcIik7XHJcbiAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xyXG4gICAgICAgIHRoaXMucmVtb3ZlTG9hZGluZyA9IHJlbW92ZUxvYWRpbmc7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG4gICAgICAgIHRoaXMuaW1hZ2VzID0ge1xyXG4gICAgICAgICAgICBjbG91ZDY6IFwiLi9hc3NldHMvaW1hZ2VzL2Nsb3VkXzAxLnBuZ1wiLFxyXG4gICAgICAgICAgICBjbG91ZDc6IFwiLi9hc3NldHMvaW1hZ2VzL2Nsb3VkXzAyLnBuZ1wiLFxyXG4gICAgICAgICAgICBjbG91ZDg6IFwiLi9hc3NldHMvaW1hZ2VzL2Nsb3VkXzAzLnBuZ1wiLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgbG9hZEltYWdlcyh0aGlzLmltYWdlcywgKGltYWdlcykgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRlZEltYWdlcyA9IE9iamVjdC5hc3NpZ24oe30sIGltYWdlcyk7XHJcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VzTG9hZGVkID0gdHJ1ZTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGRyYXcoZGVsdGFUaW1lKSB7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XHJcbiAgICAgICAgdGhpcy5jbG91ZFhQb3NpdGlvbiArPSBkZWx0YVRpbWUgKiAwLjc1O1xyXG4gICAgICAgIHRoaXMuY2xvdWRNb3ZpbmdUaW1lT3V0ICs9IGRlbHRhVGltZTtcclxuICAgICAgICBpZiAodGhpcy5jbG91ZE1vdmluZ1RpbWVPdXQgPiAyOTgzKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlTG9hZGluZygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5jbG91ZFhQb3NpdGlvbiA+PSB0aGlzLndpZHRoICogMC41ICYmICF0aGlzLnN0b3BDbG91ZE1vdmluZykge1xyXG4gICAgICAgICAgICB0aGlzLmNsb3VkTW92aW5nVGltZU91dCArPSBkZWx0YVRpbWU7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNsb3VkTW92aW5nVGltZU91dCA+IDIwMDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RvcENsb3VkTW92aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xvdWRYUG9zaXRpb24gPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmltYWdlc0xvYWRlZCkge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuc3RvcENsb3VkTW92aW5nKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMubG9hZGVkSW1hZ2VzLmNsb3VkNiwgdGhpcy5jbG91ZFhQb3NpdGlvbiA+PSAwID8gMCA6IHRoaXMuY2xvdWRYUG9zaXRpb24sIHRoaXMuaGVpZ2h0ICogMC42LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCAqIDAuNSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMubG9hZGVkSW1hZ2VzLmNsb3VkNiwgdGhpcy5jbG91ZFhQb3NpdGlvbiA+PSB0aGlzLndpZHRoICogMC40XHJcbiAgICAgICAgICAgICAgICAgICAgPyB0aGlzLndpZHRoICogMC40XHJcbiAgICAgICAgICAgICAgICAgICAgOiB0aGlzLmNsb3VkWFBvc2l0aW9uLCB0aGlzLmhlaWdodCAqIDAuMTUsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0ICogMC41KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5sb2FkZWRJbWFnZXMuY2xvdWQ3LCB0aGlzLmNsb3VkWFBvc2l0aW9uID49IDAgPyAwIDogdGhpcy5jbG91ZFhQb3NpdGlvbiwgdGhpcy5oZWlnaHQgKiAwLjE1LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCAqIDAuNSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMubG9hZGVkSW1hZ2VzLmNsb3VkOCwgdGhpcy5jbG91ZFhQb3NpdGlvbiA+PSAtdGhpcy53aWR0aCAqIDAuNFxyXG4gICAgICAgICAgICAgICAgICAgID8gLXRoaXMud2lkdGggKiAwLjRcclxuICAgICAgICAgICAgICAgICAgICA6IHRoaXMuY2xvdWRYUG9zaXRpb24sIC10aGlzLmhlaWdodCAqIDAuMTUsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0ICogMC41KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5sb2FkZWRJbWFnZXMuY2xvdWQ4LCB0aGlzLmNsb3VkWFBvc2l0aW9uID49IHRoaXMud2lkdGggKiAwLjRcclxuICAgICAgICAgICAgICAgICAgICA/IHRoaXMud2lkdGggKiAwLjRcclxuICAgICAgICAgICAgICAgICAgICA6IHRoaXMuY2xvdWRYUG9zaXRpb24sIC10aGlzLmhlaWdodCAqIDAuMTUsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0ICogMC41KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5sb2FkZWRJbWFnZXMuY2xvdWQ4LCB0aGlzLmNsb3VkWFBvc2l0aW9uID49IHRoaXMud2lkdGggKiAwLjA1XHJcbiAgICAgICAgICAgICAgICAgICAgPyB0aGlzLndpZHRoICogMC4wNVxyXG4gICAgICAgICAgICAgICAgICAgIDogdGhpcy5jbG91ZFhQb3NpdGlvbiwgLXRoaXMuaGVpZ2h0ICogMC4yLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCAqIDAuNSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMubG9hZGVkSW1hZ2VzLmNsb3VkOCwgdGhpcy5jbG91ZFhQb3NpdGlvbiA+PSAtdGhpcy53aWR0aCAqIDAuNlxyXG4gICAgICAgICAgICAgICAgICAgID8gLXRoaXMud2lkdGggKiAwLjZcclxuICAgICAgICAgICAgICAgICAgICA6IHRoaXMuY2xvdWRYUG9zaXRpb24sIHRoaXMuaGVpZ2h0ICogMC4zLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCAqIDAuNSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMubG9hZGVkSW1hZ2VzLmNsb3VkNywgdGhpcy5jbG91ZFhQb3NpdGlvbiA+PSB0aGlzLndpZHRoICogMC41XHJcbiAgICAgICAgICAgICAgICAgICAgPyB0aGlzLndpZHRoICogMC41XHJcbiAgICAgICAgICAgICAgICAgICAgOiB0aGlzLmNsb3VkWFBvc2l0aW9uLCB0aGlzLmhlaWdodCAqIDAuNCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQgKiAwLjQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZSh0aGlzLmxvYWRlZEltYWdlcy5jbG91ZDcsIHRoaXMuY2xvdWRYUG9zaXRpb24gPj0gLXRoaXMud2lkdGggKiAwLjRcclxuICAgICAgICAgICAgICAgICAgICA/IC10aGlzLndpZHRoICogMC40XHJcbiAgICAgICAgICAgICAgICAgICAgOiB0aGlzLmNsb3VkWFBvc2l0aW9uLCB0aGlzLmhlaWdodCAqIDAuNywgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQgKiAwLjUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZSh0aGlzLmxvYWRlZEltYWdlcy5jbG91ZDgsIHRoaXMuY2xvdWRYUG9zaXRpb24gPj0gdGhpcy53aWR0aCAqIDAuNFxyXG4gICAgICAgICAgICAgICAgICAgID8gdGhpcy53aWR0aCAqIDAuNFxyXG4gICAgICAgICAgICAgICAgICAgIDogdGhpcy5jbG91ZFhQb3NpdGlvbiwgdGhpcy5oZWlnaHQgKiAwLjcsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0ICogMC41KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5sb2FkZWRJbWFnZXMuY2xvdWQ2LCB0aGlzLmNsb3VkWFBvc2l0aW9uID49IC10aGlzLndpZHRoICogMC4yXHJcbiAgICAgICAgICAgICAgICAgICAgPyAtdGhpcy53aWR0aCAqIDAuMlxyXG4gICAgICAgICAgICAgICAgICAgIDogdGhpcy5jbG91ZFhQb3NpdGlvbiwgdGhpcy5oZWlnaHQgKiAwLjIsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0ICogMC41KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5sb2FkZWRJbWFnZXMuY2xvdWQ2LCAwICsgdGhpcy5jbG91ZFhQb3NpdGlvbiwgdGhpcy5oZWlnaHQgKiAwLjYsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0ICogMC41KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5sb2FkZWRJbWFnZXMuY2xvdWQ2LCB0aGlzLndpZHRoICogMC40ICsgdGhpcy5jbG91ZFhQb3NpdGlvbiwgdGhpcy5oZWlnaHQgKiAwLjE1LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCAqIDAuNSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMubG9hZGVkSW1hZ2VzLmNsb3VkNywgMCArIHRoaXMuY2xvdWRYUG9zaXRpb24sIHRoaXMuaGVpZ2h0ICogMC4xNSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQgKiAwLjUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZSh0aGlzLmxvYWRlZEltYWdlcy5jbG91ZDgsIC10aGlzLndpZHRoICogMC40ICsgdGhpcy5jbG91ZFhQb3NpdGlvbiwgLXRoaXMuaGVpZ2h0ICogMC4xNSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQgKiAwLjUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZSh0aGlzLmxvYWRlZEltYWdlcy5jbG91ZDgsIHRoaXMud2lkdGggKiAwLjQgKyB0aGlzLmNsb3VkWFBvc2l0aW9uLCAtdGhpcy5oZWlnaHQgKiAwLjE1LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCAqIDAuNSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMubG9hZGVkSW1hZ2VzLmNsb3VkOCwgdGhpcy53aWR0aCAqIDAuMDUgKyB0aGlzLmNsb3VkWFBvc2l0aW9uLCAtdGhpcy5oZWlnaHQgKiAwLjIsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0ICogMC41KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5sb2FkZWRJbWFnZXMuY2xvdWQ4LCAtdGhpcy53aWR0aCAqIDAuNiArIHRoaXMuY2xvdWRYUG9zaXRpb24sIHRoaXMuaGVpZ2h0ICogMC4zLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCAqIDAuNSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMubG9hZGVkSW1hZ2VzLmNsb3VkNywgdGhpcy53aWR0aCAqIDAuNSArIHRoaXMuY2xvdWRYUG9zaXRpb24sIHRoaXMuaGVpZ2h0ICogMC40LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCAqIDAuNCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMubG9hZGVkSW1hZ2VzLmNsb3VkNywgLXRoaXMud2lkdGggKiAwLjQgKyB0aGlzLmNsb3VkWFBvc2l0aW9uLCB0aGlzLmhlaWdodCAqIDAuNywgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQgKiAwLjUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZSh0aGlzLmxvYWRlZEltYWdlcy5jbG91ZDgsIHRoaXMud2lkdGggKiAwLjQgKyB0aGlzLmNsb3VkWFBvc2l0aW9uLCB0aGlzLmhlaWdodCAqIDAuNywgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQgKiAwLjUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZSh0aGlzLmxvYWRlZEltYWdlcy5jbG91ZDYsIC10aGlzLndpZHRoICogMC4yICsgdGhpcy5jbG91ZFhQb3NpdGlvbiwgdGhpcy5oZWlnaHQgKiAwLjIsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0ICogMC41KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGluaXRDbG91ZCA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmNsb3VkWFBvc2l0aW9uID0gLTUwMDtcclxuICAgICAgICB0aGlzLnN0b3BDbG91ZE1vdmluZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY2xvdWRNb3ZpbmdUaW1lT3V0ID0gMDtcclxuICAgIH07XHJcbn1cclxuIiwiLy8gaW1wb3J0IHsgR2FtZSB9IGZyb20gXCIuLi8uLi8uLi9zY2VuZXMvZ2FtZVwiO1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOZXh0QnV0dG9uIHtcclxuICAgIHBvc1g7XHJcbiAgICBwb3NZO1xyXG4gICAgY29udGV4dDtcclxuICAgIHdpZHRoO1xyXG4gICAgaGVpZ2h0O1xyXG4gICAgaW1hZ2VzTG9hZGVkID0gZmFsc2U7XHJcbiAgICBuZXh0X2J1dHRvbl9pbWFnZTtcclxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQsIHdpZHRoLCBoZWlnaHQsIHBvc1gsIHBvc1kpIHtcclxuICAgICAgICB0aGlzLnBvc1ggPSBwb3NYO1xyXG4gICAgICAgIHRoaXMucG9zWSA9IHBvc1k7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcclxuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5uZXh0X2J1dHRvbl9pbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgIHRoaXMubmV4dF9idXR0b25faW1hZ2Uuc3JjID0gXCIuL2Fzc2V0cy9pbWFnZXMvbmV4dF9idG4ucG5nXCI7XHJcbiAgICAgICAgdGhpcy5uZXh0X2J1dHRvbl9pbWFnZS5vbmxvYWQgPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmltYWdlc0xvYWRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMubmV4dF9idXR0b25faW1hZ2UgPSB0aGlzLm5leHRfYnV0dG9uX2ltYWdlO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBkcmF3KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmltYWdlc0xvYWRlZCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMubmV4dF9idXR0b25faW1hZ2UsIHRoaXMucG9zWCwgdGhpcy5wb3NZLCB0aGlzLndpZHRoICogMC4xOSwgdGhpcy53aWR0aCAqIDAuMTkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIG9uQ2xpY2soeENsaWNrLCB5Q2xpY2spIHtcclxuICAgICAgICBjb25zdCBkaXN0YW5jZSA9IE1hdGguc3FydCgoeENsaWNrIC0gdGhpcy5wb3NYIC0gKHRoaXMud2lkdGggKiAwLjE5KSAvIDIpICpcclxuICAgICAgICAgICAgKHhDbGljayAtIHRoaXMucG9zWCAtICh0aGlzLndpZHRoICogMC4xOSkgLyAyKSArXHJcbiAgICAgICAgICAgICh5Q2xpY2sgLSB0aGlzLnBvc1kgLSAodGhpcy53aWR0aCAqIDAuMTkpIC8gMikgKlxyXG4gICAgICAgICAgICAgICAgKHlDbGljayAtIHRoaXMucG9zWSAtICh0aGlzLndpZHRoICogMC4xOSkgLyAyKSk7XHJcbiAgICAgICAgaWYgKGRpc3RhbmNlIDwgKHRoaXMud2lkdGggKiAwLjE5KSAvIDIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IGxvYWRJbWFnZXMgfSBmcm9tIFwiLi4vY29tbW9uL2NvbW1vblwiO1xyXG5pbXBvcnQgeyBDTElDSyB9IGZyb20gXCIuLi9jb21tb24vZXZlbnQtbmFtZXNcIjtcclxuaW1wb3J0IHsgQXVkaW9QbGF5ZXIgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9hdWRpby1wbGF5ZXJcIjtcclxuaW1wb3J0IHsgQmFja2dyb3VuZCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2JhY2tncm91bmRcIjtcclxuaW1wb3J0IENsb3NlQnV0dG9uIGZyb20gXCIuLi9jb21wb25lbnRzL2J1dHRvbnMvY2xvc2UtYnV0dG9uXCI7XHJcbmltcG9ydCBOZXh0QnV0dG9uIGZyb20gXCIuLi9jb21wb25lbnRzL2J1dHRvbnMvbmV4dC1idXR0b25cIjtcclxuaW1wb3J0IFJldHJ5QnV0dG9uIGZyb20gXCIuLi9jb21wb25lbnRzL2J1dHRvbnMvcmV0cnktYnV0dG9uXCI7XHJcbmltcG9ydCB7IE1vbnN0ZXIgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9tb25zdGVyXCI7XHJcbmV4cG9ydCBjbGFzcyBMZXZlbEVuZFNjZW5lIHtcclxuICAgIGNhbnZhcztcclxuICAgIGhlaWdodDtcclxuICAgIHdpZHRoO1xyXG4gICAgaW1hZ2VzO1xyXG4gICAgbG9hZGVkSW1hZ2VzO1xyXG4gICAgaW1hZ2VzTG9hZGVkO1xyXG4gICAgaWQ7XHJcbiAgICBjb250ZXh0O1xyXG4gICAgbW9uc3RlcjtcclxuICAgIGNsb3NlQnV0dG9uO1xyXG4gICAgcmV0cnlCdXR0b247XHJcbiAgICBuZXh0QnV0dG9uO1xyXG4gICAgc3RhckNvdW50O1xyXG4gICAgY3VycmVudExldmVsO1xyXG4gICAgc3dpdGNoVG9HYW1lcGxheUNCO1xyXG4gICAgc3dpdGNoVG9MZXZlbFNlbGVjdGlvbkNCO1xyXG4gICAgZGF0YTtcclxuICAgIGJhY2tncm91bmQ7XHJcbiAgICBhdWRpb1BsYXllcjtcclxuICAgIHRpbWVvdXRzO1xyXG4gICAgc3RhckRyYXduQ291bnQ7XHJcbiAgICBjb25zdHJ1Y3RvcihjYW52YXMsIGhlaWdodCwgd2lkdGgsIGNvbnRleHQsIHN0YXJDb3VudCwgY3VycmVudExldmVsLCBzd2l0Y2hUb0dhbWVwbGF5Q0IsIHN3aXRjaFRvTGV2ZWxTZWxlY3Rpb25DQiwgZGF0YSwgbW9uc3RlclBoYXNlTnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xyXG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XHJcbiAgICAgICAgdGhpcy5tb25zdGVyID0gbmV3IE1vbnN0ZXIodGhpcy5jYW52YXMsIG1vbnN0ZXJQaGFzZU51bWJlciwgdGhpcy5zd2l0Y2hUb1JlYWN0aW9uQW5pbWF0aW9uKTtcclxuICAgICAgICB0aGlzLmJhY2tncm91bmQgPSBuZXcgQmFja2dyb3VuZCh0aGlzLmNvbnRleHQsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCBjdXJyZW50TGV2ZWwpO1xyXG4gICAgICAgIHRoaXMuc3dpdGNoVG9HYW1lcGxheUNCID0gc3dpdGNoVG9HYW1lcGxheUNCO1xyXG4gICAgICAgIHRoaXMuc3dpdGNoVG9MZXZlbFNlbGVjdGlvbkNCID0gc3dpdGNoVG9MZXZlbFNlbGVjdGlvbkNCO1xyXG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XHJcbiAgICAgICAgdGhpcy5zdGFyRHJhd25Db3VudCA9IDA7XHJcbiAgICAgICAgdGhpcy5jbG9zZUJ1dHRvbiA9IG5ldyBDbG9zZUJ1dHRvbihjb250ZXh0LCBjYW52YXMsIHRoaXMud2lkdGggKiAwLjIgLSAodGhpcy53aWR0aCAqIDAuMTkpIC8gMiwgdGhpcy5oZWlnaHQgLyAxLjI1KTtcclxuICAgICAgICB0aGlzLnJldHJ5QnV0dG9uID0gbmV3IFJldHJ5QnV0dG9uKHRoaXMuY29udGV4dCwgdGhpcy5jYW52YXMsIHRoaXMud2lkdGggKiAwLjUgLSAodGhpcy53aWR0aCAqIDAuMTkpIC8gMiwgdGhpcy5oZWlnaHQgLyAxLjI1KTtcclxuICAgICAgICB0aGlzLm5leHRCdXR0b24gPSBuZXcgTmV4dEJ1dHRvbih0aGlzLmNvbnRleHQsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCB0aGlzLndpZHRoICogMC44IC0gKHRoaXMud2lkdGggKiAwLjE5KSAvIDIsIHRoaXMuaGVpZ2h0IC8gMS4yNSk7XHJcbiAgICAgICAgdGhpcy5hdWRpb1BsYXllciA9IG5ldyBBdWRpb1BsYXllcigpO1xyXG4gICAgICAgIHRoaXMuc3RhckNvdW50ID0gc3RhckNvdW50O1xyXG4gICAgICAgIHRoaXMuY3VycmVudExldmVsID0gY3VycmVudExldmVsO1xyXG4gICAgICAgIHRoaXMuaW1hZ2VzID0ge1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kSW1nOiBcIi4vYXNzZXRzL2ltYWdlcy9XSU5fc2NyZWVuX2JnLnBuZ1wiLFxyXG4gICAgICAgICAgICBzdGFyMUltZzogXCIuL2Fzc2V0cy9pbWFnZXMvcGluU3RhcjEucG5nXCIsXHJcbiAgICAgICAgICAgIHN0YXIySW1nOiBcIi4vYXNzZXRzL2ltYWdlcy9waW5TdGFyMi5wbmdcIixcclxuICAgICAgICAgICAgc3RhcjNJbWc6IFwiLi9hc3NldHMvaW1hZ2VzL3BpblN0YXIzLnBuZ1wiLFxyXG4gICAgICAgICAgICB3aW5CYWNrZ3JvdW5kSW1nOiBcIi4vYXNzZXRzL2ltYWdlcy9iZ192MDEuanBnXCIsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBsb2FkSW1hZ2VzKHRoaXMuaW1hZ2VzLCAoaW1hZ2VzKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZGVkSW1hZ2VzID0gT2JqZWN0LmFzc2lnbih7fSwgaW1hZ2VzKTtcclxuICAgICAgICAgICAgdGhpcy5pbWFnZXNMb2FkZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXJBbmltYXRpb24oKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoKTtcclxuICAgICAgICB0aGlzLmF1ZGlvUGxheWVyID0gbmV3IEF1ZGlvUGxheWVyKCk7XHJcbiAgICB9XHJcbiAgICBzd2l0Y2hUb1JlYWN0aW9uQW5pbWF0aW9uID0gKCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXJDb3VudCA8PSAxKSB7XHJcbiAgICAgICAgICAgIGlmIChkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09IFwidmlzaWJsZVwiKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmF1ZGlvUGxheWVyLnBsYXlBdWRpbyhcIi4vYXNzZXRzL2F1ZGlvcy9MZXZlbExvc2VGYW5mYXJlLm1wM1wiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLm1vbnN0ZXIuY2hhbmdlVG9TcGl0QW5pbWF0aW9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSBcInZpc2libGVcIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hdWRpb1BsYXllci5wbGF5QXVkaW8oXCIuL2Fzc2V0cy9hdWRpb3MvTGV2ZWxXaW5GYW5mYXJlLm1wM1wiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYXVkaW9QbGF5ZXIucGxheUF1ZGlvKFwiLi9hc3NldHMvYXVkaW9zL2ludHJvLm1wM1wiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLm1vbnN0ZXIuY2hhbmdlVG9FYXRBbmltYXRpb24oKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgZHJhdyhkZWx0YVRpbWUpIHtcclxuICAgICAgICB0aGlzLmJhY2tncm91bmQuZHJhdygpO1xyXG4gICAgICAgIGlmICh0aGlzLmltYWdlc0xvYWRlZCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMubG9hZGVkSW1hZ2VzLmJhY2tncm91bmRJbWcsIDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0ICsgdGhpcy5oZWlnaHQgKiAwLjEyKTtcclxuICAgICAgICAgICAgdGhpcy5kcmF3U3RhcnMoKTtcclxuICAgICAgICAgICAgdGhpcy5tb25zdGVyLnVwZGF0ZShkZWx0YVRpbWUpO1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlQnV0dG9uLmRyYXcoKTtcclxuICAgICAgICAgICAgdGhpcy5yZXRyeUJ1dHRvbi5kcmF3KCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXJDb3VudCA+PSAyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5leHRCdXR0b24uZHJhdygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc3RhckFuaW1hdGlvbigpIHtcclxuICAgICAgICBjb25zdCBhbmltYXRpb25zID0gW1xyXG4gICAgICAgICAgICB7IGRlbGF5OiA1MDAsIGNvdW50OiAxIH0sXHJcbiAgICAgICAgICAgIHsgZGVsYXk6IDEwMDAsIGNvdW50OiAyIH0sXHJcbiAgICAgICAgICAgIHsgZGVsYXk6IDE1MDAsIGNvdW50OiAzIH0sXHJcbiAgICAgICAgXTtcclxuICAgICAgICB0aGlzLnRpbWVvdXRzID0gYW5pbWF0aW9ucy5tYXAoKGFuaW1hdGlvbikgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJEcmF3bkNvdW50ID0gYW5pbWF0aW9uLmNvdW50O1xyXG4gICAgICAgICAgICB9LCBhbmltYXRpb24uZGVsYXkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZHJhd1N0YXJzKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXJDb3VudCA+PSAxICYmIHRoaXMuc3RhckRyYXduQ291bnQgPj0gMSkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMubG9hZGVkSW1hZ2VzLnN0YXIxSW1nLCB0aGlzLndpZHRoICogMC4yIC0gKHRoaXMud2lkdGggKiAwLjE5KSAvIDIsIHRoaXMuaGVpZ2h0ICogMC4yLCB0aGlzLndpZHRoICogMC4xOSwgdGhpcy53aWR0aCAqIDAuMTkpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zdGFyQ291bnQgPD0gMyAmJlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGFyQ291bnQgPiAxICYmXHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJEcmF3bkNvdW50IDw9IDMgJiZcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhckRyYXduQ291bnQgPiAxKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMubG9hZGVkSW1hZ2VzLnN0YXIySW1nLCB0aGlzLndpZHRoICogMC41IC0gKHRoaXMud2lkdGggKiAwLjE5KSAvIDIsIHRoaXMuaGVpZ2h0ICogMC4xNSwgdGhpcy53aWR0aCAqIDAuMTksIHRoaXMud2lkdGggKiAwLjE5KTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXJDb3VudCA+PSAzICYmIHRoaXMuc3RhckRyYXduQ291bnQgPj0gMykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5sb2FkZWRJbWFnZXMuc3RhcjNJbWcsIHRoaXMud2lkdGggKiAwLjgyIC0gKHRoaXMud2lkdGggKiAwLjE5KSAvIDIsIHRoaXMuaGVpZ2h0ICogMC4yLCB0aGlzLndpZHRoICogMC4xOSwgdGhpcy53aWR0aCAqIDAuMTkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgYWRkRXZlbnRMaXN0ZW5lcigpIHtcclxuICAgICAgICBkb2N1bWVudFxyXG4gICAgICAgICAgICAuZ2V0RWxlbWVudEJ5SWQoXCJjYW52YXNcIilcclxuICAgICAgICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoQ0xJQ0ssIHRoaXMuaGFuZGxlTW91c2VDbGljaywgZmFsc2UpO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsIHRoaXMucGF1c2VBdWRpb3MsIGZhbHNlKTtcclxuICAgIH1cclxuICAgIGhhbmRsZU1vdXNlQ2xpY2sgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIiBsZXZlbGVuZCBtb3VzZWNsaWNrIFwiKTtcclxuICAgICAgICBjb25zdCBzZWxmRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FudmFzXCIpO1xyXG4gICAgICAgIHZhciByZWN0ID0gc2VsZkVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgY29uc3QgeCA9IGV2ZW50LmNsaWVudFggLSByZWN0LmxlZnQ7XHJcbiAgICAgICAgY29uc3QgeSA9IGV2ZW50LmNsaWVudFkgLSByZWN0LnRvcDtcclxuICAgICAgICBpZiAodGhpcy5jbG9zZUJ1dHRvbi5vbkNsaWNrKHgsIHkpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYXVkaW9QbGF5ZXIucGxheUJ1dHRvbkNsaWNrU291bmQoXCIuL2Fzc2V0cy9hdWRpb3MvQnV0dG9uQ2xpY2subXAzXCIpO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIiBjbG9zZSBidXR0b24gY2xpY2tlZFwiKTtcclxuICAgICAgICAgICAgdGhpcy5zd2l0Y2hUb0xldmVsU2VsZWN0aW9uQ0IoXCJMZXZlbEVuZFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMucmV0cnlCdXR0b24ub25DbGljayh4LCB5KSkge1xyXG4gICAgICAgICAgICB0aGlzLmF1ZGlvUGxheWVyLnBsYXlCdXR0b25DbGlja1NvdW5kKFwiLi9hc3NldHMvYXVkaW9zL0J1dHRvbkNsaWNrLm1wM1wiKTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCIgcmV0cnkgYnV0dG9uIGNsaWNrZWRcIik7XHJcbiAgICAgICAgICAgIGxldCBnYW1lUGxheURhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50TGV2ZWxEYXRhOiB0aGlzLmRhdGEubGV2ZWxzW3RoaXMuY3VycmVudExldmVsXSxcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkTGV2ZWxOdW1iZXI6IHRoaXMuY3VycmVudExldmVsLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvLyBwYXNzIHNhbWUgZGF0YSBhcyBsZXZlbCBpcyBzYW1lXHJcbiAgICAgICAgICAgIHRoaXMuc3dpdGNoVG9HYW1lcGxheUNCKGdhbWVQbGF5RGF0YSwgXCJMZXZlbEVuZFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMubmV4dEJ1dHRvbi5vbkNsaWNrKHgsIHkpICYmIHRoaXMuc3RhckNvdW50ID49IDIpIHtcclxuICAgICAgICAgICAgdGhpcy5hdWRpb1BsYXllci5wbGF5QnV0dG9uQ2xpY2tTb3VuZChcIi4vYXNzZXRzL2F1ZGlvcy9CdXR0b25DbGljay5tcDNcIik7XHJcbiAgICAgICAgICAgIGxldCBuZXh0ID0gTnVtYmVyKHRoaXMuY3VycmVudExldmVsKSArIDE7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHR5cGVvZiBuZXh0LCBcIiBuZXh0IGJ1dHRvbiBjbGlja2VkXCIsIG5leHQpO1xyXG4gICAgICAgICAgICBsZXQgZ2FtZVBsYXlEYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgY3VycmVudExldmVsRGF0YTogdGhpcy5kYXRhLmxldmVsc1tuZXh0XSxcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkTGV2ZWxOdW1iZXI6IG5leHQsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMuc3dpdGNoVG9HYW1lcGxheUNCKGdhbWVQbGF5RGF0YSwgXCJMZXZlbEVuZFwiKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcGF1c2VBdWRpb3MgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gXCJ2aXNpYmxlXCIpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhckNvdW50ID49IDIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYXVkaW9QbGF5ZXIucGxheUF1ZGlvKFwiLi9hc3NldHMvYXVkaW9zL2ludHJvLm1wM1wiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5hdWRpb1BsYXllci5zdG9wQWxsQXVkaW9zKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGRpc3Bvc2UgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5hdWRpb1BsYXllci5zdG9wQWxsQXVkaW9zKCk7XHJcbiAgICAgICAgdGhpcy50aW1lb3V0cy5mb3JFYWNoKCh0aW1lb3V0KSA9PiBjbGVhclRpbWVvdXQodGltZW91dCkpO1xyXG4gICAgICAgIGRvY3VtZW50XHJcbiAgICAgICAgICAgIC5nZXRFbGVtZW50QnlJZChcImNhbnZhc1wiKVxyXG4gICAgICAgICAgICAucmVtb3ZlRXZlbnRMaXN0ZW5lcihDTElDSywgdGhpcy5oYW5kbGVNb3VzZUNsaWNrLCBmYWxzZSk7XHJcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgdGhpcy5wYXVzZUF1ZGlvcywgZmFsc2UpO1xyXG4gICAgfTtcclxufVxyXG4iLCJpbXBvcnQgeyBQV0FJbnN0YWxsU3RhdHVzLCBTdGFydFNjZW5lMSwgTGV2ZWxTZWxlY3Rpb24xLCBHYW1lU2NlbmUxLCBFbmRTY2VuZTEsIH0gZnJvbSBcIi4uL2NvbW1vbi9jb21tb25cIjtcclxuaW1wb3J0IHsgU3RhcnRTY2VuZSB9IGZyb20gXCIuLi9zY2VuZXMvc3RhcnQtc2NlbmVcIjtcclxuLy8gaW1wb3J0IHsgVGVzdEdhbWVwbGF5U2NlbmUgfSBmcm9tIFwiLi4vc2NlbmVzL3Rlc3QtZ2FtZXBsYXktc2NlbmVcIjtcclxuaW1wb3J0IHsgTGV2ZWxTZWxlY3Rpb25TY3JlZW4gfSBmcm9tIFwiLi4vc2NlbmVzL2xldmVsLXNlbGVjdGlvbi1zY2VuZVwiO1xyXG5pbXBvcnQgeyBEZWJ1Z2dlciB9IGZyb20gXCIuLi8uLi9nbG9iYWwtdmFyaWFibGVzXCI7XHJcbmltcG9ydCB7IEdhbWVwbGF5U2NlbmUgfSBmcm9tIFwiLi4vc2NlbmVzL2dhbWVwbGF5LXNjZW5lXCI7XHJcbmltcG9ydCB7IEdhbWVTY29yZSB9IGZyb20gXCIuLi9kYXRhL2dhbWUtc2NvcmVcIjtcclxuaW1wb3J0IHsgTG9hZGluZ1NjZW5lIH0gZnJvbSBcIi4uL3NjZW5lcy9sb2FkaW5nLXNjZW5lXCI7XHJcbmltcG9ydCB7IExldmVsRW5kU2NlbmUgfSBmcm9tIFwiLi4vc2NlbmVzL2xldmVsZW5kLXNjZW5lXCI7XHJcbmV4cG9ydCBjbGFzcyBTY2VuZUhhbmRsZXIge1xyXG4gICAgY2FudmFzO1xyXG4gICAgZGF0YTtcclxuICAgIHdpZHRoO1xyXG4gICAgaGVpZ2h0O1xyXG4gICAgc3RhcnRTY2VuZTtcclxuICAgIGxldmVsU2VsZWN0aW9uU2NlbmU7XHJcbiAgICBnYW1lcGxheVNjZW5lO1xyXG4gICAgbGV2ZWxFbmRTY2VuZTtcclxuICAgIC8vIHB1YmxpYyB0ZXN0R2FtZXBsYXlTY2VuZTogVGVzdEdhbWVwbGF5U2NlbmU7XHJcbiAgICBjYW5hdnNFbGVtZW50O1xyXG4gICAgY29udGV4dDtcclxuICAgIHN0YXRpYyBTY2VuZU5hbWU7XHJcbiAgICBsb2FkaW5nU2NyZWVuO1xyXG4gICAgbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgbGFzdFRpbWUgPSAwO1xyXG4gICAgcHdhX2luc3RhbGxfc3RhdHVzO1xyXG4gICAgdG9nZ2xlQnRuO1xyXG4gICAgY29uc3RydWN0b3IoY2FudmFzLCBkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XHJcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcclxuICAgICAgICB0aGlzLndpZHRoID0gY2FudmFzLndpZHRoO1xyXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gY2FudmFzLmhlaWdodDtcclxuICAgICAgICB0aGlzLmNhbmF2c0VsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbnZhc1wiKTtcclxuICAgICAgICB0aGlzLnRvZ2dsZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGhpcy50b2dnbGVCdG5cIik7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJiZWZvcmVpbnN0YWxscHJvbXB0XCIsIHRoaXMuaGFuZGxlSW5zdGFsbFByb21wdCk7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gdGhpcy5jYW5hdnNFbGVtZW50LmdldENvbnRleHQoXCIyZFwiKTtcclxuICAgICAgICB0aGlzLnN0YXJ0U2NlbmUgPSBuZXcgU3RhcnRTY2VuZShjYW52YXMsIGRhdGEsIHRoaXMuc3dpdGNoU2NlbmVUb0xldmVsU2VsZWN0aW9uKTtcclxuICAgICAgICBTY2VuZUhhbmRsZXIuU2NlbmVOYW1lID0gU3RhcnRTY2VuZTE7XHJcbiAgICAgICAgdGhpcy5sb2FkaW5nU2NyZWVuID0gbmV3IExvYWRpbmdTY2VuZSh0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgdGhpcy5yZW1vdmVMb2FkaW5nKTtcclxuICAgICAgICB0aGlzLnN0YXJ0QW5pbWF0aW9uTG9vcCgpO1xyXG4gICAgfVxyXG4gICAgc3RhcnRBbmltYXRpb25Mb29wKCkge1xyXG4gICAgICAgIGNvbnN0IGFuaW1hdGUgPSAodGltZVN0YW1wKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uKHRpbWVTdGFtcCk7XHJcbiAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTtcclxuICAgIH1cclxuICAgIGRldlRvZ2dsZSgpIHtcclxuICAgICAgICB0aGlzLnRvZ2dsZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZUJ0bi5jbGFzc0xpc3QudG9nZ2xlKFwib25cIik7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRvZ2dsZUJ0bi5jbGFzc0xpc3QuY29udGFpbnMoXCJvblwiKSkge1xyXG4gICAgICAgICAgICAgICAgRGVidWdnZXIuRGVidWdNb2RlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlQnRuLmlubmVyVGV4dCA9IFwiRGV2XCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBEZWJ1Z2dlci5EZWJ1Z01vZGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlQnRuLmlubmVyVGV4dCA9IFwiRGV2XCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGNoZWNrTW9uc3RlclBoYXNlVXBkYXRpb24oKSB7XHJcbiAgICAgICAgbGV0IHRvdGFsU3RhckNvdW50ID0gR2FtZVNjb3JlLmdldFRvdGFsU3RhckNvdW50KCk7XHJcbiAgICAgICAgbGV0IG1vbnN0ZXJQaGFzZU51bWJlciA9IE1hdGguZmxvb3IodG90YWxTdGFyQ291bnQgLyAxMikgKyAxIHx8IDE7XHJcbiAgICAgICAgcmV0dXJuIG1vbnN0ZXJQaGFzZU51bWJlciA8PSA0ID8gbW9uc3RlclBoYXNlTnVtYmVyIDogNDtcclxuICAgIH1cclxuICAgIGFuaW1hdGlvbiA9ICh0aW1lU3RhbXApID0+IHtcclxuICAgICAgICBsZXQgZGVsdGFUaW1lID0gdGltZVN0YW1wIC0gdGhpcy5sYXN0VGltZTtcclxuICAgICAgICB0aGlzLmxhc3RUaW1lID0gdGltZVN0YW1wO1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xyXG4gICAgICAgIGlmIChTY2VuZUhhbmRsZXIuU2NlbmVOYW1lID09IFN0YXJ0U2NlbmUxKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhcnRTY2VuZS5hbmltYXRpb24oZGVsdGFUaW1lKTtcclxuICAgICAgICAgICAgdGhpcy5sb2FkaW5nID8gdGhpcy5sb2FkaW5nU2NyZWVuLmRyYXcoZGVsdGFUaW1lKSA6IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKFNjZW5lSGFuZGxlci5TY2VuZU5hbWUgPT0gTGV2ZWxTZWxlY3Rpb24xKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZGluZyA/IHRoaXMubG9hZGluZ1NjcmVlbi5kcmF3KGRlbHRhVGltZSkgOiBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLmxldmVsU2VsZWN0aW9uU2NlbmUuZHJhd0xldmVsU2VsZWN0aW9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKFNjZW5lSGFuZGxlci5TY2VuZU5hbWUgPT0gR2FtZVNjZW5lMSkge1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRpbmcgPyB0aGlzLmxvYWRpbmdTY3JlZW4uZHJhdyhkZWx0YVRpbWUpIDogbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5nYW1lcGxheVNjZW5lLmRyYXcoZGVsdGFUaW1lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoU2NlbmVIYW5kbGVyLlNjZW5lTmFtZSA9PSBFbmRTY2VuZTEpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2FkaW5nID8gdGhpcy5sb2FkaW5nU2NyZWVuLmRyYXcoZGVsdGFUaW1lKSA6IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMubGV2ZWxFbmRTY2VuZS5kcmF3KGRlbHRhVGltZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHN3aXRjaFNjZW5lVG9HYW1lcGxheSA9IChnYW1lUGxheURhdGEsIGNoYW5nZVNjZW5lUmVxdWVzdEZyb20pID0+IHtcclxuICAgICAgICB0aGlzLnNob3dMb2FkaW5nKCk7XHJcbiAgICAgICAgdGhpcy5kaXNwb3NlKGNoYW5nZVNjZW5lUmVxdWVzdEZyb20sIFwiR2FtZVBsYXlcIik7XHJcbiAgICAgICAgbGV0IGpzb25WZXJzaW9uTnVtYmVyID0gISF0aGlzLmRhdGEubWFqVmVyc2lvbiAmJiAhIXRoaXMuZGF0YS5taW5WZXJzaW9uID8gdGhpcy5kYXRhLm1halZlcnNpb24udG9TdHJpbmcoKSArIFwiLlwiICsgdGhpcy5kYXRhLm1pblZlcnNpb24udG9TdHJpbmcoKSA6IFwiXCI7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZXBsYXlTY2VuZSA9IG5ldyBHYW1lcGxheVNjZW5lKHRoaXMuY2FudmFzLCBnYW1lUGxheURhdGEuY3VycmVudExldmVsRGF0YSwgdGhpcy5jaGVja01vbnN0ZXJQaGFzZVVwZGF0aW9uKCksIHRoaXMuZGF0YS5GZWVkYmFja1RleHRzLCB0aGlzLmRhdGEucmlnaHRUb0xlZnQsIHRoaXMuc3dpdGNoU2NlbmVUb0VuZExldmVsLCBnYW1lUGxheURhdGEuc2VsZWN0ZWRMZXZlbE51bWJlciwgdGhpcy5zd2l0Y2hTY2VuZVRvTGV2ZWxTZWxlY3Rpb24sIHRoaXMuc3dpdGNoU2NlbmVUb0dhbWVwbGF5LCBqc29uVmVyc2lvbk51bWJlciwgdGhpcy5kYXRhLkZlZWRiYWNrQXVkaW9zKTtcclxuICAgICAgICAgICAgU2NlbmVIYW5kbGVyLlNjZW5lTmFtZSA9IEdhbWVTY2VuZTE7XHJcbiAgICAgICAgfSwgODAwKTtcclxuICAgIH07XHJcbiAgICBzd2l0Y2hTY2VuZVRvRW5kTGV2ZWwgPSAoY3VycmVudGxldmVsUGxheWVkLCBzdGFyQ291bnQsIG1vbnN0ZXJQaGFzZU51bWJlciwgY3VycmVudExldmVsTnVtYmVyLCBpc1RpbWVyRW5kZWQpID0+IHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIiBjdXJyZW50bGV2ZWxQbGF5ZWQ6IFwiLCBjdXJyZW50bGV2ZWxQbGF5ZWQpO1xyXG4gICAgICAgIHRoaXMubG9hZGluZ1NjcmVlbi5pbml0Q2xvdWQoKTtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlRW5kTGV2ZWxTY2VuZSgpIHtcclxuICAgICAgICAgICAgc2VsZi5nYW1lcGxheVNjZW5lLmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmZWVkYmFjay10ZXh0XCIpLnN0eWxlLnpJbmRleCA9IFwiMFwiO1xyXG4gICAgICAgICAgICBzZWxmLmxldmVsRW5kU2NlbmUgPSBuZXcgTGV2ZWxFbmRTY2VuZShzZWxmLmNhbnZhcywgc2VsZi5oZWlnaHQsIHNlbGYud2lkdGgsIHNlbGYuY29udGV4dCwgc3RhckNvdW50LCBjdXJyZW50TGV2ZWxOdW1iZXIsIHNlbGYuc3dpdGNoU2NlbmVUb0dhbWVwbGF5LCBzZWxmLnN3aXRjaFNjZW5lVG9MZXZlbFNlbGVjdGlvbiwgc2VsZi5kYXRhLCBtb25zdGVyUGhhc2VOdW1iZXIpO1xyXG4gICAgICAgICAgICBTY2VuZUhhbmRsZXIuU2NlbmVOYW1lID0gRW5kU2NlbmUxO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNUaW1lckVuZGVkKSB7XHJcbiAgICAgICAgICAgIGNyZWF0ZUVuZExldmVsU2NlbmUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY3JlYXRlRW5kTGV2ZWxTY2VuZSgpO1xyXG4gICAgICAgICAgICB9LCA0MDAwKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgc3dpdGNoU2NlbmVUb0xldmVsU2VsZWN0aW9uID0gKGNoYW5nZVNjZW5lUmVxdWVzdEZyb20pID0+IHtcclxuICAgICAgICB0aGlzLnNob3dMb2FkaW5nKCk7XHJcbiAgICAgICAgdGhpcy5kaXNwb3NlKGNoYW5nZVNjZW5lUmVxdWVzdEZyb20sIFwiTGV2ZWxTZWxlY3Rpb25cIik7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMubGV2ZWxTZWxlY3Rpb25TY2VuZSA9IG5ldyBMZXZlbFNlbGVjdGlvblNjcmVlbih0aGlzLmNhbnZhcywgdGhpcy5kYXRhLCB0aGlzLnN3aXRjaFNjZW5lVG9HYW1lcGxheSk7XHJcbiAgICAgICAgICAgIFNjZW5lSGFuZGxlci5TY2VuZU5hbWUgPSBMZXZlbFNlbGVjdGlvbjE7XHJcbiAgICAgICAgfSwgODAwKTtcclxuICAgIH07XHJcbiAgICBkaXNwb3NlID0gKGxhc3RTY2VuZU5hbWUsIG5leHRTY2VuZU5hbWUpID0+IHtcclxuICAgICAgICBpZiAobGFzdFNjZW5lTmFtZSA9PSBcIkxldmVsU2VsZWN0aW9uXCIgJiYgbmV4dFNjZW5lTmFtZSA9PSBcIkdhbWVQbGF5XCIpIHtcclxuICAgICAgICAgICAgdGhpcy5sZXZlbFNlbGVjdGlvblNjZW5lLmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobGFzdFNjZW5lTmFtZSA9PSBcIkdhbWVQbGF5XCIgJiYgbmV4dFNjZW5lTmFtZSA9PSBcIkdhbWVQbGF5XCIpIHtcclxuICAgICAgICAgICAgdGhpcy5nYW1lcGxheVNjZW5lLmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobGFzdFNjZW5lTmFtZSA9PSBcIkdhbWVQbGF5XCIgJiYgbmV4dFNjZW5lTmFtZSA9PSBcIkxldmVsU2VsZWN0aW9uXCIpIHtcclxuICAgICAgICAgICAgdGhpcy5nYW1lcGxheVNjZW5lLmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobGFzdFNjZW5lTmFtZSA9PSBcIlN0YXJ0U2NlbmVcIiAmJiBuZXh0U2NlbmVOYW1lID09IFwiTGV2ZWxTZWxlY3Rpb25cIikge1xyXG4gICAgICAgICAgICB0aGlzLnN0YXJ0U2NlbmUuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChsYXN0U2NlbmVOYW1lID09IFwiTGV2ZWxFbmRcIiAmJiBuZXh0U2NlbmVOYW1lID09IFwiTGV2ZWxTZWxlY3Rpb25cIikge1xyXG4gICAgICAgICAgICB0aGlzLmxldmVsRW5kU2NlbmUuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChsYXN0U2NlbmVOYW1lID09IFwiTGV2ZWxFbmRcIiAmJiBuZXh0U2NlbmVOYW1lID09IFwiR2FtZVBsYXlcIikge1xyXG4gICAgICAgICAgICB0aGlzLmxldmVsRW5kU2NlbmUuZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHNob3dMb2FkaW5nID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMubG9hZGluZ1NjcmVlbi5pbml0Q2xvdWQoKTtcclxuICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibG9hZGluZ1wiKS5zdHlsZS56SW5kZXggPSBcIjNcIjtcclxuICAgIH07XHJcbiAgICByZW1vdmVMb2FkaW5nID0gKCkgPT4ge1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibG9hZGluZ1wiKS5zdHlsZS56SW5kZXggPSBcIi0xXCI7XHJcbiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XHJcbiAgICB9O1xyXG4gICAgaGFuZGxlSW5zdGFsbFByb21wdCA9IChldmVudCkgPT4ge1xyXG4gICAgICAgIC8vY3VycmVudGx5IG5vdCBpbiB1c2VcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHRoaXMucHdhX2luc3RhbGxfc3RhdHVzID0gZXZlbnQ7XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oUFdBSW5zdGFsbFN0YXR1cywgXCJmYWxzZVwiKTtcclxuICAgIH07XHJcbn1cclxuIiwidHJ5e3NlbGZbXCJ3b3JrYm94OndpbmRvdzo0LjMuMVwiXSYmXygpfWNhdGNoKG4pe312YXIgbj1mdW5jdGlvbihuLHQpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihpKXt2YXIgZT1uZXcgTWVzc2FnZUNoYW5uZWw7ZS5wb3J0MS5vbm1lc3NhZ2U9ZnVuY3Rpb24obil7cmV0dXJuIGkobi5kYXRhKX0sbi5wb3N0TWVzc2FnZSh0LFtlLnBvcnQyXSl9KX07ZnVuY3Rpb24gdChuLHQpe2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKXt2YXIgZT10W2ldO2UuZW51bWVyYWJsZT1lLmVudW1lcmFibGV8fCExLGUuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGUmJihlLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkobixlLmtleSxlKX19ZnVuY3Rpb24gaShuKXtpZih2b2lkIDA9PT1uKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gbn10cnl7c2VsZltcIndvcmtib3g6Y29yZTo0LjMuMVwiXSYmXygpfWNhdGNoKG4pe312YXIgZT1mdW5jdGlvbigpe3ZhciBuPXRoaXM7dGhpcy5wcm9taXNlPW5ldyBQcm9taXNlKGZ1bmN0aW9uKHQsaSl7bi5yZXNvbHZlPXQsbi5yZWplY3Q9aX0pfSxyPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIG5ldyBVUkwobixsb2NhdGlvbikuaHJlZj09PW5ldyBVUkwodCxsb2NhdGlvbikuaHJlZn0sbz1mdW5jdGlvbihuLHQpe09iamVjdC5hc3NpZ24odGhpcyx0LHt0eXBlOm59KX07ZnVuY3Rpb24gdShuKXtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10saT0wO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspdFtpXT1hcmd1bWVudHNbaV07dHJ5e3JldHVybiBQcm9taXNlLnJlc29sdmUobi5hcHBseSh0aGlzLHQpKX1jYXRjaChuKXtyZXR1cm4gUHJvbWlzZS5yZWplY3Qobil9fX1mdW5jdGlvbiBhKG4sdCxpKXtyZXR1cm4gaT90P3Qobik6bjoobiYmbi50aGVufHwobj1Qcm9taXNlLnJlc29sdmUobikpLHQ/bi50aGVuKHQpOm4pfWZ1bmN0aW9uIHMoKXt9dmFyIGM9ZnVuY3Rpb24oYyl7dmFyIGYsaDtmdW5jdGlvbiB2KG4sdCl7dmFyIHI7cmV0dXJuIHZvaWQgMD09PXQmJih0PXt9KSwocj1jLmNhbGwodGhpcyl8fHRoaXMpLnQ9bixyLmk9dCxyLm89MCxyLnU9bmV3IGUsci5zPW5ldyBlLHIuaD1uZXcgZSxyLnY9ci52LmJpbmQoaShpKHIpKSksci5sPXIubC5iaW5kKGkoaShyKSkpLHIuZz1yLmcuYmluZChpKGkocikpKSxyLm09ci5tLmJpbmQoaShpKHIpKSkscn1oPWMsKGY9dikucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoaC5wcm90b3R5cGUpLGYucHJvdG90eXBlLmNvbnN0cnVjdG9yPWYsZi5fX3Byb3RvX189aDt2YXIgbCx3LGcsZD12LnByb3RvdHlwZTtyZXR1cm4gZC5yZWdpc3Rlcj11KGZ1bmN0aW9uKG4pe3ZhciB0LGksZT10aGlzLHU9KHZvaWQgMD09PW4/e306bikuaW1tZWRpYXRlLGM9dm9pZCAwIT09dSYmdTtyZXR1cm4gdD1mdW5jdGlvbigpe3JldHVybiBlLnA9Qm9vbGVhbihuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5jb250cm9sbGVyKSxlLlA9ZS5SKCksYShlLmsoKSxmdW5jdGlvbihuKXtlLkI9bixlLlAmJihlLk89ZS5QLGUucy5yZXNvbHZlKGUuUCksZS5oLnJlc29sdmUoZS5QKSxlLmooZS5QKSxlLlAuYWRkRXZlbnRMaXN0ZW5lcihcInN0YXRlY2hhbmdlXCIsZS5sLHtvbmNlOiEwfSkpO3ZhciB0PWUuQi53YWl0aW5nO3JldHVybiB0JiZyKHQuc2NyaXB0VVJMLGUudCkmJihlLk89dCxQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uKCl7ZS5kaXNwYXRjaEV2ZW50KG5ldyBvKFwid2FpdGluZ1wiLHtzdzp0LHdhc1dhaXRpbmdCZWZvcmVSZWdpc3RlcjohMH0pKX0pKSxlLk8mJmUudS5yZXNvbHZlKGUuTyksZS5CLmFkZEV2ZW50TGlzdGVuZXIoXCJ1cGRhdGVmb3VuZFwiLGUuZyksbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNvbnRyb2xsZXJjaGFuZ2VcIixlLm0se29uY2U6ITB9KSxcIkJyb2FkY2FzdENoYW5uZWxcImluIHNlbGYmJihlLkM9bmV3IEJyb2FkY2FzdENoYW5uZWwoXCJ3b3JrYm94XCIpLGUuQy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLGUudikpLG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsZS52KSxlLkJ9KX0sKGk9ZnVuY3Rpb24oKXtpZighYyYmXCJjb21wbGV0ZVwiIT09ZG9jdW1lbnQucmVhZHlTdGF0ZSlyZXR1cm4gZnVuY3Rpb24obix0KXtpZighdClyZXR1cm4gbiYmbi50aGVuP24udGhlbihzKTpQcm9taXNlLnJlc29sdmUoKX0obmV3IFByb21pc2UoZnVuY3Rpb24obil7cmV0dXJuIGFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsbil9KSl9KCkpJiZpLnRoZW4/aS50aGVuKHQpOnQoaSl9KSxkLmdldFNXPXUoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5PfHx0aGlzLnUucHJvbWlzZX0pLGQubWVzc2FnZVNXPXUoZnVuY3Rpb24odCl7cmV0dXJuIGEodGhpcy5nZXRTVygpLGZ1bmN0aW9uKGkpe3JldHVybiBuKGksdCl9KX0pLGQuUj1mdW5jdGlvbigpe3ZhciBuPW5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLmNvbnRyb2xsZXI7aWYobiYmcihuLnNjcmlwdFVSTCx0aGlzLnQpKXJldHVybiBufSxkLms9dShmdW5jdGlvbigpe3ZhciBuPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKG4sdCl7dHJ5e3ZhciBpPW4oKX1jYXRjaChuKXtyZXR1cm4gdChuKX1yZXR1cm4gaSYmaS50aGVuP2kudGhlbih2b2lkIDAsdCk6aX0oZnVuY3Rpb24oKXtyZXR1cm4gYShuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWdpc3RlcihuLnQsbi5pKSxmdW5jdGlvbih0KXtyZXR1cm4gbi5MPXBlcmZvcm1hbmNlLm5vdygpLHR9KX0sZnVuY3Rpb24obil7dGhyb3cgbn0pfSksZC5qPWZ1bmN0aW9uKHQpe24odCx7dHlwZTpcIldJTkRPV19SRUFEWVwiLG1ldGE6XCJ3b3JrYm94LXdpbmRvd1wifSl9LGQuZz1mdW5jdGlvbigpe3ZhciBuPXRoaXMuQi5pbnN0YWxsaW5nO3RoaXMubz4wfHwhcihuLnNjcmlwdFVSTCx0aGlzLnQpfHxwZXJmb3JtYW5jZS5ub3coKT50aGlzLkwrNmU0Pyh0aGlzLlc9bix0aGlzLkIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInVwZGF0ZWZvdW5kXCIsdGhpcy5nKSk6KHRoaXMuTz1uLHRoaXMudS5yZXNvbHZlKG4pKSwrK3RoaXMubyxuLmFkZEV2ZW50TGlzdGVuZXIoXCJzdGF0ZWNoYW5nZVwiLHRoaXMubCl9LGQubD1mdW5jdGlvbihuKXt2YXIgdD10aGlzLGk9bi50YXJnZXQsZT1pLnN0YXRlLHI9aT09PXRoaXMuVyx1PXI/XCJleHRlcm5hbFwiOlwiXCIsYT17c3c6aSxvcmlnaW5hbEV2ZW50Om59OyFyJiZ0aGlzLnAmJihhLmlzVXBkYXRlPSEwKSx0aGlzLmRpc3BhdGNoRXZlbnQobmV3IG8odStlLGEpKSxcImluc3RhbGxlZFwiPT09ZT90aGlzLl89c2V0VGltZW91dChmdW5jdGlvbigpe1wiaW5zdGFsbGVkXCI9PT1lJiZ0LkIud2FpdGluZz09PWkmJnQuZGlzcGF0Y2hFdmVudChuZXcgbyh1K1wid2FpdGluZ1wiLGEpKX0sMjAwKTpcImFjdGl2YXRpbmdcIj09PWUmJihjbGVhclRpbWVvdXQodGhpcy5fKSxyfHx0aGlzLnMucmVzb2x2ZShpKSl9LGQubT1mdW5jdGlvbihuKXt2YXIgdD10aGlzLk87dD09PW5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLmNvbnRyb2xsZXImJih0aGlzLmRpc3BhdGNoRXZlbnQobmV3IG8oXCJjb250cm9sbGluZ1wiLHtzdzp0LG9yaWdpbmFsRXZlbnQ6bn0pKSx0aGlzLmgucmVzb2x2ZSh0KSl9LGQudj1mdW5jdGlvbihuKXt2YXIgdD1uLmRhdGE7dGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBvKFwibWVzc2FnZVwiLHtkYXRhOnQsb3JpZ2luYWxFdmVudDpufSkpfSxsPXYsKHc9W3trZXk6XCJhY3RpdmVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zLnByb21pc2V9fSx7a2V5OlwiY29udHJvbGxpbmdcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oLnByb21pc2V9fV0pJiZ0KGwucHJvdG90eXBlLHcpLGcmJnQobCxnKSx2fShmdW5jdGlvbigpe2Z1bmN0aW9uIG4oKXt0aGlzLkQ9e319dmFyIHQ9bi5wcm90b3R5cGU7cmV0dXJuIHQuYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihuLHQpe3RoaXMuVChuKS5hZGQodCl9LHQucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihuLHQpe3RoaXMuVChuKS5kZWxldGUodCl9LHQuZGlzcGF0Y2hFdmVudD1mdW5jdGlvbihuKXtuLnRhcmdldD10aGlzLHRoaXMuVChuLnR5cGUpLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIHQobil9KX0sdC5UPWZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLkRbbl09dGhpcy5EW25dfHxuZXcgU2V0fSxufSgpKTtleHBvcnR7YyBhcyBXb3JrYm94LG4gYXMgbWVzc2FnZVNXfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdvcmtib3gtd2luZG93LnByb2QuZXM1Lm1qcy5tYXBcbiIsImltcG9ydCB7IGdldERhdGEgfSBmcm9tIFwiLi9zcmMvZGF0YS9hcGktZGF0YVwiO1xyXG5pbXBvcnQgeyBEYXRhTW9kYWwgfSBmcm9tIFwiLi9zcmMvZGF0YS9kYXRhLW1vZGFsXCI7XHJcbmltcG9ydCB7IFNjZW5lSGFuZGxlciB9IGZyb20gXCIuL3NyYy9zY2VuZUhhbmRsZXIvc2NlbmUtaGFuZGxlclwiO1xyXG5pbXBvcnQgeyBJc0NhY2hlZCB9IGZyb20gXCIuL3NyYy9jb21tb24vY29tbW9uXCI7XHJcbmltcG9ydCB7IFdvcmtib3ggfSBmcm9tIFwid29ya2JveC13aW5kb3dcIjtcclxuaW1wb3J0IHsgRGVidWdnZXIsIGxhbmcsIHBzZXVkb0lkIH0gZnJvbSBcIi4vZ2xvYmFsLXZhcmlhYmxlc1wiO1xyXG5pbXBvcnQgeyBGaXJlYmFzZUludGVncmF0aW9uIH0gZnJvbSBcIi4vc3JjL0ZpcmViYXNlL2ZpcmViYXNlLWludGVncmF0aW9uXCI7XHJcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSBcIi4vc3JjL2NvbW1vbi91dGlsc1wiO1xyXG5pbXBvcnQgeyBBdWRpb1BsYXllciB9IGZyb20gXCIuL3NyYy9jb21wb25lbnRzL2F1ZGlvLXBsYXllclwiO1xyXG5pbXBvcnQgeyBWSVNJQklMSVRZX0NIQU5HRSB9IGZyb20gXCIuL3NyYy9jb21tb24vZXZlbnQtbmFtZXNcIjtcclxuY2xhc3MgQXBwIHtcclxuICAgIGNhbnZhcztcclxuICAgIHZlcnNpb25JbmZvRWxlbWVudDtcclxuICAgIGxhbmc7XHJcbiAgICBpc19jYWNoZWQ7XHJcbiAgICBwcm9ncmVzc0JhcjtcclxuICAgIHByb2dyZXNzQmFyQ29udGFpbmVyO1xyXG4gICAgY2hhbm5lbDtcclxuICAgIHNjZW5lSGFuZGxlcjtcclxuICAgIGxvYWRpbmdFbGVtZW50O1xyXG4gICAgbWFqVmVyc2lvbjtcclxuICAgIG1pblZlcnNpb247XHJcbiAgICBzdGFydFNlc3Npb25UaW1lO1xyXG4gICAgZmlyZWJhc2VJbnRlZ3JhdGlvbjtcclxuICAgIGNvbnN0cnVjdG9yKGxhbmcpIHtcclxuICAgICAgICB0aGlzLmxhbmcgPSBsYW5nO1xyXG4gICAgICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW52YXNcIik7XHJcbiAgICAgICAgdGhpcy5jaGFubmVsID0gbmV3IEJyb2FkY2FzdENoYW5uZWwoXCJteS1jaGFubmVsXCIpO1xyXG4gICAgICAgIHRoaXMucHJvZ3Jlc3NCYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2dyZXNzLWJhclwiKTtcclxuICAgICAgICB0aGlzLnByb2dyZXNzQmFyQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9ncmVzcy1iYXItY29udGFpbmVyXCIpO1xyXG4gICAgICAgIHRoaXMudmVyc2lvbkluZm9FbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2ZXJzaW9uLWluZm8taWRcIik7XHJcbiAgICAgICAgdGhpcy5sb2FkaW5nRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2FkaW5nLXNjcmVlbicpO1xyXG4gICAgICAgIHRoaXMuaXNfY2FjaGVkID0gdGhpcy5pbml0aWFsaXplQ2FjaGVkRGF0YSgpO1xyXG4gICAgICAgIHRoaXMuZmlyZWJhc2VJbnRlZ3JhdGlvbiA9IG5ldyBGaXJlYmFzZUludGVncmF0aW9uKCk7XHJcbiAgICAgICAgdGhpcy5zdGFydFNlc3Npb25UaW1lID0gMDtcclxuICAgICAgICB0aGlzLmluaXQoKTtcclxuICAgICAgICB0aGlzLmNoYW5uZWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgdGhpcy5oYW5kbGVTZXJ2aWNlV29ya2VyTWVzc2FnZSk7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJiZWZvcmV1bmxvYWRcIiwgdGhpcy5oYW5kbGVCZWZvcmVVbmxvYWQpO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoVklTSUJJTElUWV9DSEFOR0UsIHRoaXMuaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSk7XHJcbiAgICB9XHJcbiAgICBhc3luYyBpbml0KCkge1xyXG4gICAgICAgIGNvbnN0IGZvbnQgPSBVdGlscy5nZXRMYW5ndWFnZVNwZWNpZmljRm9udCh0aGlzLmxhbmcpO1xyXG4gICAgICAgIGF3YWl0IHRoaXMubG9hZEFuZENhY2hlRm9udChmb250LCBgLi9hc3NldHMvZm9udHMvJHtmb250fS50dGZgKTtcclxuICAgICAgICBhd2FpdCB0aGlzLnByZWxvYWRHYW1lQXVkaW9zKCk7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVMb2FkaW5nU2NyZWVuKCk7XHJcbiAgICAgICAgdGhpcy5yZWdpc3Rlcldvcmtib3goKTtcclxuICAgICAgICB0aGlzLnNldHVwQ2FudmFzKCk7XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IGdldERhdGEoKTtcclxuICAgICAgICB0aGlzLm1halZlcnNpb24gPSBkYXRhLm1hanZlcnNpb247XHJcbiAgICAgICAgdGhpcy5taW5WZXJzaW9uID0gZGF0YS5taW52ZXJzaW9uO1xyXG4gICAgICAgIGNvbnN0IGRhdGFNb2RhbCA9IHRoaXMuY3JlYXRlRGF0YU1vZGFsKGRhdGEpO1xyXG4gICAgICAgIHRoaXMuZ2xvYmFsSW5pdGlhbGl6YXRpb24oZGF0YSk7XHJcbiAgICAgICAgdGhpcy5sb2dTZXNzaW9uU3RhcnRGaXJlYmFzZUV2ZW50KCk7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmhhbmRsZVJlc2l6ZShkYXRhTW9kYWwpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmICh0aGlzLmlzX2NhY2hlZC5oYXModGhpcy5sYW5nKSkge1xyXG4gICAgICAgICAgICB0aGlzLmhhbmRsZUNhY2hlZFNjZW5hcmlvKGRhdGFNb2RhbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgbG9nU2Vzc2lvblN0YXJ0RmlyZWJhc2VFdmVudCgpIHtcclxuICAgICAgICBsZXQgbGFzdFNlc3Npb25FbmRUaW1lID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJsYXN0U2Vzc2lvbkVuZFRpbWVcIik7XHJcbiAgICAgICAgbGV0IGxhc3RUaW1lID0gMDtcclxuICAgICAgICB0aGlzLnN0YXJ0U2Vzc2lvblRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgICAgICBpZiAobGFzdFNlc3Npb25FbmRUaW1lKSB7XHJcbiAgICAgICAgICAgIGxldCBwYXJzZWRUaW1lc3RhbXAgPSBwYXJzZUludChsYXN0U2Vzc2lvbkVuZFRpbWUpO1xyXG4gICAgICAgICAgICBpZiAoIWlzTmFOKHBhcnNlZFRpbWVzdGFtcCkpIHtcclxuICAgICAgICAgICAgICAgIGxhc3RUaW1lID0gTWF0aC5hYnMobmV3IERhdGUoKS5nZXRUaW1lKCkgLSBwYXJzZWRUaW1lc3RhbXApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGRheXNTaW5jZUxhc3QgPSBsYXN0VGltZSA/IGxhc3RUaW1lIC8gKDEwMDAgKiA2MCAqIDYwICogMjQpIDogMDtcclxuICAgICAgICBjb25zdCByb3VuZGVkRGF5c1NpbmNlTGFzdCA9IHBhcnNlRmxvYXQoZGF5c1NpbmNlTGFzdC50b0ZpeGVkKDMpKTtcclxuICAgICAgICBjb25zdCBzZXNzaW9uU3RhcnREYXRhID0ge1xyXG4gICAgICAgICAgICBjcl91c2VyX2lkOiBwc2V1ZG9JZCxcclxuICAgICAgICAgICAgZnRtX2xhbmd1YWdlOiBsYW5nLFxyXG4gICAgICAgICAgICBwcm9maWxlX251bWJlcjogMCxcclxuICAgICAgICAgICAgdmVyc2lvbl9udW1iZXI6IHRoaXMudmVyc2lvbkluZm9FbGVtZW50LmlubmVySFRNTCxcclxuICAgICAgICAgICAganNvbl92ZXJzaW9uX251bWJlcjogISF0aGlzLm1halZlcnNpb24gJiYgISF0aGlzLm1pblZlcnNpb24gPyB0aGlzLm1halZlcnNpb24udG9TdHJpbmcoKSArIFwiLlwiICsgdGhpcy5taW5WZXJzaW9uLnRvU3RyaW5nKCkgOiBcIlwiLFxyXG4gICAgICAgICAgICBkYXlzX3NpbmNlX2xhc3Q6IHJvdW5kZWREYXlzU2luY2VMYXN0LFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5maXJlYmFzZUludGVncmF0aW9uLnNlbmRTZXNzaW9uU3RhcnRFdmVudChzZXNzaW9uU3RhcnREYXRhKTtcclxuICAgIH1cclxuICAgIGxvZ1Nlc3Npb25FbmRGaXJlYmFzZUV2ZW50KCkge1xyXG4gICAgICAgIGNvbnN0IHNlc3Npb25FbmREYXRhID0ge1xyXG4gICAgICAgICAgICBjcl91c2VyX2lkOiBwc2V1ZG9JZCxcclxuICAgICAgICAgICAgZnRtX2xhbmd1YWdlOiBsYW5nLFxyXG4gICAgICAgICAgICBwcm9maWxlX251bWJlcjogMCxcclxuICAgICAgICAgICAgdmVyc2lvbl9udW1iZXI6IHRoaXMudmVyc2lvbkluZm9FbGVtZW50LmlubmVySFRNTCxcclxuICAgICAgICAgICAganNvbl92ZXJzaW9uX251bWJlcjogISF0aGlzLm1halZlcnNpb24gJiYgISF0aGlzLm1pblZlcnNpb24gPyB0aGlzLm1halZlcnNpb24udG9TdHJpbmcoKSArIFwiLlwiICsgdGhpcy5taW5WZXJzaW9uLnRvU3RyaW5nKCkgOiBcIlwiLFxyXG4gICAgICAgICAgICBkdXJhdGlvbjogKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gdGhpcy5zdGFydFNlc3Npb25UaW1lKSAvIDEwMDAsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImxhc3RTZXNzaW9uRW5kVGltZVwiLCBuZXcgRGF0ZSgpLmdldFRpbWUoKS50b1N0cmluZygpKTtcclxuICAgICAgICB0aGlzLmZpcmViYXNlSW50ZWdyYXRpb24uc2VuZFNlc3Npb25FbmRFdmVudChzZXNzaW9uRW5kRGF0YSk7XHJcbiAgICB9XHJcbiAgICBpbml0aWFsaXplQ2FjaGVkRGF0YSgpIHtcclxuICAgICAgICBjb25zdCBzdG9yZWREYXRhID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oSXNDYWNoZWQpO1xyXG4gICAgICAgIHJldHVybiBzdG9yZWREYXRhID8gbmV3IE1hcChKU09OLnBhcnNlKHN0b3JlZERhdGEpKSA6IG5ldyBNYXAoKTtcclxuICAgIH1cclxuICAgIGFzeW5jIGxvYWRBbmRDYWNoZUZvbnQoZm9udE5hbWUsIGZvbnRQYXRoKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgY2FjaGUgPSBhd2FpdCBjYWNoZXMub3BlbignZm9udENhY2hlJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgY2FjaGUubWF0Y2goZm9udFBhdGgpO1xyXG4gICAgICAgICAgICBpZiAoIXJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmb250UmVzcG9uc2UgPSBhd2FpdCBmZXRjaChmb250UGF0aCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmb250QmxvYiA9IGF3YWl0IGZvbnRSZXNwb25zZS5ibG9iKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBjYWNoZS5wdXQoZm9udFBhdGgsIG5ldyBSZXNwb25zZShmb250QmxvYikpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IGZvbnQgPSBuZXcgRm9udEZhY2UoZm9udE5hbWUsIGB1cmwoJHtmb250UGF0aH0pIGZvcm1hdCgndHJ1ZXR5cGUnKWApO1xyXG4gICAgICAgICAgICBhd2FpdCBmb250LmxvYWQoKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQuZm9udHMuYWRkKGZvbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIGxvYWQgYW5kIGNhY2hlIGZvbnQ6ICR7ZXJyb3J9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaGFuZGxlTG9hZGluZ1NjcmVlbiA9ICgpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5pc19jYWNoZWQuZ2V0KGxhbmcpKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZGluZ0VsZW1lbnQuc3R5bGUuekluZGV4ID0gJy0xJztcclxuICAgICAgICAgICAgdGhpcy5sb2FkaW5nRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICB0aGlzLnByb2dyZXNzQmFyQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgICAgICAgdGhpcy5wcm9ncmVzc0Jhci5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnByb2dyZXNzQmFyQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcclxuICAgICAgICAgICAgdGhpcy5wcm9ncmVzc0Jhci5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XHJcbiAgICAgICAgICAgIHRoaXMucHJvZ3Jlc3NCYXIuc3R5bGUud2lkdGggPSBcIjMwJVwiO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBhc3luYyByZWdpc3Rlcldvcmtib3goKSB7XHJcbiAgICAgICAgaWYgKFwic2VydmljZVdvcmtlclwiIGluIG5hdmlnYXRvcikge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgd2IgPSBuZXcgV29ya2JveChcIi4vc3cuanNcIiwge30pO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgd2IucmVnaXN0ZXIoKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlYWR5O1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzX2NhY2hlZC5oYXModGhpcy5sYW5nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhbm5lbC5wb3N0TWVzc2FnZSh7IGNvbW1hbmQ6IFwiQ2FjaGVcIiwgZGF0YTogdGhpcy5sYW5nIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgdGhpcy5oYW5kbGVTZXJ2aWNlV29ya2VyTWVzc2FnZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gcmVnaXN0ZXIgc2VydmljZSB3b3JrZXI6ICR7ZXJyb3J9YCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzZXR1cENhbnZhcygpIHtcclxuICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5jYW52YXMud2lkdGggPSB3aW5kb3cuc2NyZWVuLndpZHRoID4gMTAyNCA/IDEwMjQgOiB3aW5kb3cuaW5uZXJXaWR0aDtcclxuICAgIH1cclxuICAgIGNyZWF0ZURhdGFNb2RhbChkYXRhKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRhTW9kYWwoZGF0YS50aXRsZSwgZGF0YS5PdGhlckF1ZGlvcywgZGF0YS5MZXZlbHMsIGRhdGEuRmVlZGJhY2tUZXh0cywgZGF0YS5SaWdodFRvTGVmdCwgZGF0YS5GZWVkYmFja0F1ZGlvcywgZGF0YS5tYWp2ZXJzaW9uLCBkYXRhLm1pbnZlcnNpb24sIGRhdGEudmVyc2lvbik7XHJcbiAgICB9XHJcbiAgICBnbG9iYWxJbml0aWFsaXphdGlvbihkYXRhKSB7XHJcbiAgICAgICAgZ2xvYmFsVGhpcy5hYm91dENvbXBhbnkgPSBkYXRhLmFib3V0Q29tcGFueTtcclxuICAgICAgICBnbG9iYWxUaGlzLmRlc2NyaXB0aW9uVGV4dCA9IGRhdGEuZGVzY3JpcHRpb25UZXh0O1xyXG4gICAgfVxyXG4gICAgaGFuZGxlUmVzaXplKGRhdGFNb2RhbCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzX2NhY2hlZC5oYXModGhpcy5sYW5nKSkge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVZlcnNpb25JbmZvRWxlbWVudChkYXRhTW9kYWwpO1xyXG4gICAgICAgICAgICB0aGlzLnNldHVwQ2FudmFzKCk7XHJcbiAgICAgICAgICAgIHRoaXMucmVpbml0aWFsaXplU2NlbmVIYW5kbGVyKGRhdGFNb2RhbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdXBkYXRlVmVyc2lvbkluZm9FbGVtZW50KGRhdGFNb2RhbCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzX2NhY2hlZC5oYXModGhpcy5sYW5nKSAmJiBEZWJ1Z2dlci5EZXZlbG9wbWVudExpbmspIHtcclxuICAgICAgICAgICAgaWYgKGRhdGFNb2RhbC5tYWpWZXJzaW9uICYmIGRhdGFNb2RhbC5taW5WZXJzaW9uKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZlcnNpb25JbmZvRWxlbWVudC5pbm5lckhUTUwgKz0gYC9qLnYke2RhdGFNb2RhbC5tYWpWZXJzaW9ufS4ke2RhdGFNb2RhbC5taW5WZXJzaW9ufWA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoZGF0YU1vZGFsLnZlcnNpb24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudmVyc2lvbkluZm9FbGVtZW50LmlubmVySFRNTCArPSBgL2oudiR7ZGF0YU1vZGFsLnZlcnNpb259YDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRvZ2dsZS1idG5cIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZWluaXRpYWxpemVTY2VuZUhhbmRsZXIoZGF0YU1vZGFsKSB7XHJcbiAgICAgICAgZGVsZXRlIHRoaXMuc2NlbmVIYW5kbGVyO1xyXG4gICAgICAgIHRoaXMuc2NlbmVIYW5kbGVyID0gbmV3IFNjZW5lSGFuZGxlcih0aGlzLmNhbnZhcywgZGF0YU1vZGFsKTtcclxuICAgICAgICB0aGlzLnBhc3NpbmdEYXRhVG9Db250YWluZXIoKTtcclxuICAgIH1cclxuICAgIGhhbmRsZUNhY2hlZFNjZW5hcmlvKGRhdGFNb2RhbCkge1xyXG4gICAgICAgIHRoaXMudXBkYXRlVmVyc2lvbkluZm9FbGVtZW50KGRhdGFNb2RhbCk7XHJcbiAgICAgICAgdGhpcy5zY2VuZUhhbmRsZXIgPSBuZXcgU2NlbmVIYW5kbGVyKHRoaXMuY2FudmFzLCBkYXRhTW9kYWwpO1xyXG4gICAgICAgIHRoaXMucGFzc2luZ0RhdGFUb0NvbnRhaW5lcigpO1xyXG4gICAgfVxyXG4gICAgcGFzc2luZ0RhdGFUb0NvbnRhaW5lciA9ICgpID0+IHtcclxuICAgICAgICBpZiAod2luZG93LkFuZHJvaWQpIHtcclxuICAgICAgICAgICAgd2luZG93LkFuZHJvaWQuY2FjaGVkU3RhdHVzKHRoaXMuaXNfY2FjaGVkLmdldCh0aGlzLmxhbmcpID09IHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBzZXRDb250YWluZXJBcHBPcmllbnRhdGlvbigpIHtcclxuICAgICAgICBpZiAod2luZG93LkFuZHJvaWQpIHtcclxuICAgICAgICAgICAgd2luZG93LkFuZHJvaWQuc2V0Q29udGFpbmVyQXBwT3JpZW50YXRpb24oXCJwb3J0cmFpdFwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBoYW5kbGVVcGRhdGVGb3VuZE1lc3NhZ2UoKSB7XHJcbiAgICAgICAgbGV0IHRleHQgPSBcIlVwZGF0ZSBGb3VuZFxcblByZXNzIG9rIHRvIHVwZGF0ZVwiO1xyXG4gICAgICAgIGNvbnN0IHVzZXJDb25maXJtZWQgPSBjb25maXJtKHRleHQpO1xyXG4gICAgICAgIGlmICh1c2VyQ29uZmlybWVkKSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBoYW5kbGVMb2FkaW5nTWVzc2FnZSA9IChkYXRhKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvZ3Jlc3NCYXJDb250YWluZXIgJiYgdGhpcy5wcm9ncmVzc0Jhcikge1xyXG4gICAgICAgICAgICB0aGlzLnByb2dyZXNzQmFyQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcclxuICAgICAgICAgICAgdGhpcy5wcm9ncmVzc0Jhci5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XHJcbiAgICAgICAgICAgIGlmIChwYXJzZUludCh0aGlzLnByb2dyZXNzQmFyLnN0eWxlLndpZHRoIHx8IFwiMFwiKSA+PSA0MCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9ncmVzc0Jhci5zdHlsZS53aWR0aCA9IGAke2RhdGEuZGF0YX0lYDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZGF0YS5kYXRhICUgMTAwID09PSAwICYmICF0aGlzLmlzX2NhY2hlZC5nZXQodGhpcy5sYW5nKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc19jYWNoZWQuc2V0KHRoaXMubGFuZywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShJc0NhY2hlZCwgSlNPTi5zdHJpbmdpZnkoQXJyYXkuZnJvbSh0aGlzLmlzX2NhY2hlZC5lbnRyaWVzKCkpKSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkb3dubG9hZF9jb21wbGV0ZWQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3JfdXNlcl9pZDogcHNldWRvSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgZnRtX2xhbmd1YWdlOiBsYW5nLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb2ZpbGVfbnVtYmVyOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHZlcnNpb25fbnVtYmVyOiB0aGlzLnZlcnNpb25JbmZvRWxlbWVudC5pbm5lckhUTUwsXHJcbiAgICAgICAgICAgICAgICAgICAganNvbl92ZXJzaW9uX251bWJlcjogISF0aGlzLm1halZlcnNpb24gJiYgISF0aGlzLm1pblZlcnNpb24gPyB0aGlzLm1halZlcnNpb24udG9TdHJpbmcoKSArIFwiLlwiICsgdGhpcy5taW5WZXJzaW9uLnRvU3RyaW5nKCkgOiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZmlyZWJhc2VJbnRlZ3JhdGlvbi5zZW5kRG93bmxvYWRDb21wbGV0ZWRFdmVudChkb3dubG9hZF9jb21wbGV0ZWQpO1xyXG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ2ZXJzaW9uXCIgKyB0aGlzLmxhbmcsIGRhdGEudmVyc2lvbik7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5wcm9ncmVzc0Jhci5zdHlsZS53aWR0aCA9IGAke2RhdGEuZGF0YX0lYDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgaGFuZGxlU2VydmljZVdvcmtlck1lc3NhZ2UgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICBpZiAoZXZlbnQuZGF0YS5tc2cgPT09IFwiTG9hZGluZ1wiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlTG9hZGluZ01lc3NhZ2UoZXZlbnQuZGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGV2ZW50LmRhdGEubXNnID09PSBcIlVwZGF0ZSBGb3VuZFwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlVXBkYXRlRm91bmRNZXNzYWdlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGhhbmRsZVZpc2liaWxpdHlDaGFuZ2UgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gXCJ2aXNpYmxlXCIpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dTZXNzaW9uU3RhcnRGaXJlYmFzZUV2ZW50KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ1Nlc3Npb25FbmRGaXJlYmFzZUV2ZW50KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGhhbmRsZUJlZm9yZVVubG9hZCA9IGFzeW5jIChldmVudCkgPT4ge1xyXG4gICAgICAgIHRoaXMubG9nU2Vzc2lvbkVuZEZpcmViYXNlRXZlbnQoKTtcclxuICAgIH07XHJcbiAgICBwcmVsb2FkR2FtZUF1ZGlvcyA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICBsZXQgYXVkaW9VcmxzID0gW1xyXG4gICAgICAgICAgICBcIi4vYXNzZXRzL2F1ZGlvcy9pbnRyby5tcDNcIixcclxuICAgICAgICAgICAgXCIuL2Fzc2V0cy9hdWRpb3MvQ2hlZXJpbmctMDIubXAzXCIsXHJcbiAgICAgICAgICAgIFwiLi9hc3NldHMvYXVkaW9zL0NoZWVyaW5nLTAzLm1wM1wiLFxyXG4gICAgICAgICAgICBcIi4vYXNzZXRzL2F1ZGlvcy9DaGVlcmluZy0wMS5tcDNcIixcclxuICAgICAgICAgICAgXCIuL2Fzc2V0cy9hdWRpb3Mvb25EcmFnLm1wM1wiLFxyXG4gICAgICAgICAgICBcIi4vYXNzZXRzL2F1ZGlvcy90aW1lb3V0Lm1wM1wiLFxyXG4gICAgICAgICAgICBcIi4vYXNzZXRzL2F1ZGlvcy9MZXZlbFdpbkZhbmZhcmUubXAzXCIsXHJcbiAgICAgICAgICAgIFwiLi9hc3NldHMvYXVkaW9zL0xldmVsTG9zZUZhbmZhcmUubXAzXCIsXHJcbiAgICAgICAgICAgIFwiLi9hc3NldHMvYXVkaW9zL0J1dHRvbkNsaWNrLm1wM1wiLFxyXG4gICAgICAgICAgICBcIi4vYXNzZXRzL2F1ZGlvcy9Nb25zdGVyIFNwaXRzIHdyb25nIHN0b25lcy0wMS5tcDNcIixcclxuICAgICAgICAgICAgXCIuL2Fzc2V0cy9hdWRpb3MvRGlzYXBvaW50ZWQtMDUubXAzXCIsXHJcbiAgICAgICAgICAgIFwiLi9hc3NldHMvYXVkaW9zL01vbnN0ZXJTcGl0Lm1wM1wiLFxyXG4gICAgICAgICAgICBcIi4vYXNzZXRzL2F1ZGlvcy9FYXQubXAzXCIsXHJcbiAgICAgICAgICAgIFwiLi9hc3NldHMvYXVkaW9zL1BvaW50c0FkZC53YXZcIixcclxuICAgICAgICAgICAgXCIuL2Fzc2V0cy9hdWRpb3MvYXJlLXlvdS1zdXJlLm1wM1wiXHJcbiAgICAgICAgXTtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBwcmVsb2FkUHJvbWlzZXMgPSBhdWRpb1VybHMubWFwKChhdWRpb1NyYykgPT4gbmV3IEF1ZGlvUGxheWVyKCkucHJlbG9hZEdhbWVBdWRpbyhhdWRpb1NyYykpO1xyXG4gICAgICAgICAgICBQcm9taXNlLmFsbChwcmVsb2FkUHJvbWlzZXMpXHJcbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiByZXNvbHZlKCkpXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgcHJlbG9hZGluZyBhdWRpbzpcIiwgZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG59XHJcbmNvbnN0IGFwcCA9IG5ldyBBcHAobGFuZyk7XHJcbiJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibG9hZEltYWdlcyIsInNvdXJjZXMiLCJjYWxsYmFjayIsImltYWdlcyIsImxvYWRlZEltYWdlcyIsIm51bUltYWdlcyIsInNyYyIsIkltYWdlIiwib25sb2FkIiwiZyIsImdsb2JhbFRoaXMiLCJ0aGlzIiwiRnVuY3Rpb24iLCJlIiwid2luZG93IiwiUFdBSW5zdGFsbFN0YXR1cyIsIlByZXZpb3VzUGxheWVkTGV2ZWwiLCJJc0NhY2hlZCIsIlN0YXJ0U2NlbmUxIiwiTGV2ZWxTZWxlY3Rpb24xIiwiR2FtZVNjZW5lMSIsIkVuZFNjZW5lMSIsImVuZ2xpc2giLCJzd2FoaWxpIiwid29sb2YiLCJ0YWppayIsIm1hcmF0aGkiLCJhbWhhcmljIiwicHVuamFiaSIsInRhbWlsIiwic2VwZWRpIiwiZ3VqYXJhdGkiLCJ0ZWx1Z3UiLCJ0c29uZ2EiLCJtYWxheSIsIm5kZWJlbGUiLCJ2ZW5kYSIsInNpc3dhdGkiLCJ0c3dhbmEiLCJ0aGFpIiwiZnVsYSIsImZhcnNpIiwiYnVybWVzZSIsImJlbmdhbGkiLCJBemVyYmFpamFuaSIsIlNlc290aG8iLCJHZW9yZ2lhbiIsIkJyYXppbGlhblBvcnR1Z3Vlc2UiLCJTb21hbGkiLCJIYXVzYSIsIklnYm8iLCJIYXRpYW5DcmVvbGUiLCJPcm9tbyIsIkx1Z2FuZGEiLCJZb3J1YmEiLCJLaG1lciIsIkphdmFuZXNlIiwiVXJkdSIsIktpbnlhcndhbmRhIiwiU2hvbmEiLCJLdXJkaXNoIiwiRnJlbmNoIiwiaXNpWGhvc2EiLCJBZnJpa2FhbnMiLCJOZXBhbGkiLCJVa3JhaW5pYW4iLCJIaW5kaSIsIlRhZ2Fsb2ciLCJWaWV0bmFtZXNlIiwiUGFzaHRvIiwiVHdpIiwiQXJhYmljIiwiVXRpbHMiLCJzdGF0aWMiLCJnZXRDb252ZXJ0ZWREZXZQcm9kVVJMIiwidXJsIiwiRGVidWdnZXIiLCJEZXZlbG9wbWVudExpbmsiLCJzbGljZSIsImluZGV4T2YiLCJVcmxTdWJzdHJpbmciLCJsZW5ndGgiLCJnZXRMYW5ndWFnZVNwZWNpZmljRm9udCIsImxhbmd1YWdlIiwibG93ZXJDYXNlTGFuZ3VhZ2UiLCJ0b0xvd2VyQ2FzZSIsImtleSIsImNvbnNvbGUiLCJsb2ciLCJnZXRSYW5kb21OdW1iZXIiLCJtaW4iLCJtYXgiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJnZXRFeGNsdWRlZENvb3JkaW5hdGVzIiwiY2FudmFzIiwiZXhjbHVzaW9uUGVyY2VudGFnZSIsImV4Y2x1ZGVYIiwid2lkdGgiLCJleGNsdWRlWSIsImhlaWdodCIsInVybFBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsImxvY2F0aW9uIiwic2VhcmNoIiwicHNldWRvSWQiLCJnZXQiLCJsYW5nIiwiZm9udCIsImhyZWYiLCJpbmNsdWRlcyIsIkRlYnVnTW9kZSIsImZlZWRiYWNrVGV4dFdvcmtlclBhdGgiLCJhc3luYyIsImdldERhdGEiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJ0aGVuIiwicmVzIiwianNvbiIsImRhdGEiLCJEYXRhTW9kYWwiLCJ0aXRsZSIsIm90aGVyQXVkaW9zIiwibGV2ZWxzIiwiRmVlZGJhY2tUZXh0cyIsIkZlZWRiYWNrQXVkaW9zIiwicmlnaHRUb0xlZnQiLCJtYWpWZXJzaW9uIiwibWluVmVyc2lvbiIsInZlcnNpb24iLCJjb25zdHJ1Y3RvciIsImZlZWRiYWNrVGV4dHMiLCJmZWVkYmFja0F1ZGlvcyIsIk90aGVyQXVkaW9zIiwiZ2V0TGV2ZWxzIiwibGV2ZWxBcnJheSIsImkiLCJwdXNoIiwiTGV2ZWxzIiwic2VsY3RZb3VyUGxheWVyIiwid2F0Y2hNZUdyb3ciLCJhcmVZb3VTdXJlIiwiZmFudGFzdGljIiwiZ3JlYXQiLCJhbWF6aW5nIiwicHV6emxlcyIsImxldmVsTWV0YSIsImxldmVsTnVtYmVyIiwiZ2V0UHV6emxlRGF0YSIsIkxldmVsTWV0YSIsIkxldmVsTnVtYmVyIiwicHV6emxlT2JqZWN0cyIsIlB1enpsZXMiLCJtYXAiLCJwdXp6bGVEYXRhIiwiaW5kZXgiLCJzZWdtZW50TnVtYmVyIiwicHJvbXB0IiwiZm9pbFN0b25lcyIsInRhcmdldFN0b25lcyIsInB1enpsZSIsIlNlZ21lbnROdW1iZXIiLCJQcm9tcHQiLCJnZXRGb2lsU3RvbmVzIiwiZ2V0VGFyZ2V0U3RvbmVzIiwiZm9pbFN0b25lQXJyYXkiLCJmb2lsc3RvbmVzIiwic3RvbmVzIiwiU3RvbmVUZXh0IiwidGFyZ2V0U3RvbmVBcnJheSIsInRhcmdldHN0b25lcyIsInByb21wdFRleHQiLCJwcm9tcHRBdWRpbyIsIlByb21wdFRleHQiLCJQcm9tcHRBdWRpbyIsInByb21wdEZhZGVPdXQiLCJsZXR0ZXJHcm91cCIsInByb3RvVHlwZSIsImxldmVsVHlwZSIsIlByb21wdEZhZGVvdXQiLCJMZXR0ZXJHcm91cCIsIlByb21wdFR5cGUiLCJMZXZlbFR5cGUiLCJMT0FEUFVaWkxFIiwiU1RPTkVEUk9QIiwiQ0xJQ0siLCJWSVNJQklMSVRZX0NIQU5HRSIsIkV2ZW50TWFuYWdlciIsImhhbmRsZXIiLCJzdG9uZURyb3BDYWxsYmFja0hhbmRsZXIiLCJsb2FkUHV6emxlQ2FsbGJhY2tIYW5kbGVyIiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiaGFuZGxlU3RvbmVEcm9wcGVkRXZlbnQiLCJoYW5kbGVMb2FkUHV6emxlRXZlbnQiLCJldmVudCIsInVucmVnaXN0ZXJFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIk1vbnN0ZXIiLCJ6aW5kZXgiLCJpbWFnZSIsImZyYW1lWCIsImZyYW1lWSIsIm1heEZyYW1lIiwieCIsInkiLCJmcHMiLCJjb3VudEZyYW1lIiwiZnJhbWVJbnRlcnZhbCIsImZyYW1lVGltZXIiLCJjYW52YXNTdGFjayIsImNhbmF2c0VsZW1lbnQiLCJjb250ZXh0IiwiZ2FtZSIsImltYWdlc0xvYWRlZCIsIm1vbnN0ZXJQaGFzZSIsImNhbGxCYWNrRnVuY3Rpb24iLCJzdXBlciIsImhhbmRsZVN0b25lRHJvcCIsImhhbmRsZUxvYWRQdXp6bGUiLCJnZXRFbGVtZW50QnlJZCIsImdldENvbnRleHQiLCJlYXRJbWciLCJpZGxlSW1nIiwic3BpdEltZyIsImRyYWdJbWciLCJPYmplY3QiLCJhc3NpZ24iLCJjaGFuZ2VUb0lkbGVBbmltYXRpb24iLCJ1cGRhdGUiLCJkZWx0YVRpbWUiLCJkcmF3IiwiZHJhd0ltYWdlIiwiY2hhbmdlSW1hZ2UiLCJjaGFuZ2VUb0RyYWdBbmltYXRpb24iLCJjaGFuZ2VUb0VhdEFuaW1hdGlvbiIsImNoYW5nZVRvU3BpdEFuaW1hdGlvbiIsImRldGFpbCIsImlzQ29ycmVjdCIsImRpc3Bvc2UiLCJvbkNsaWNrIiwieENsaWNrIiwieUNsaWNrIiwic3FydCIsImJnSW1nIiwiaGlsbEltZyIsInBpbGxlckltZyIsImZlbmNoSW1nIiwiYXV0dW1uQmdJbWciLCJhdXR1bW5IaWxsSW1nIiwiYXV0dW1uUGlsbGVySW1nIiwiYXV0dW1uU2lnbkltZyIsImF1dHVtbkZlbmNlSW1nIiwid2ludGVyQmdJbWciLCJ3aW50ZXJIaWxsSW1nIiwid2ludGVyU2lnbkltZyIsIndpbnRlckZlbmNlSW1nIiwid2ludGVyUGlsbGVySW1nIiwiQmFja2dyb3VuZCIsImF2YWlsYWJsZUJhY2tncm91bmRUeXBlcyIsImJhY2tncm91bmRUeXBlIiwiQXVkaW9QbGF5ZXIiLCJhdWRpb0NvbnRleHQiLCJzb3VyY2VOb2RlIiwiYXVkaW9RdWV1ZSIsInByb21wdEF1ZGlvQnVmZmVyIiwiTWFwIiwiYXVkaW9Tb3VyY3MiLCJBdWRpb0NvbnRleHRNYW5hZ2VyIiwiZ2V0QXVkaW9Db250ZXh0IiwicHJlbG9hZFByb21wdEF1ZGlvIiwiYXVkaW9TcmMiLCJhdWRpb0J1ZmZlciIsImxvYWRBbmREZWNvZGVBdWRpbyIsInByZWxvYWRHYW1lQXVkaW8iLCJhdWRpb0J1ZmZlcnMiLCJoYXMiLCJzZXQiLCJwbGF5QXVkaW8iLCJjcmVhdGVCdWZmZXJTb3VyY2UiLCJidWZmZXIiLCJjb25uZWN0IiwiZGVzdGluYXRpb24iLCJzdGFydCIsInBsYXlGZWVkYmFja0F1ZGlvcyIsImxvb3AiLCJmaWxlVXJsIiwicGxheUZldGNoIiwicGxheVByb21wdEF1ZGlvIiwicGxheUJ1dHRvbkNsaWNrU291bmQiLCJzdG9wRmVlZGJhY2tBdWRpbyIsInN0b3AiLCJzdG9wQWxsQXVkaW9zIiwiZm9yRWFjaCIsInJlc3BvbnNlIiwiYXJyYXlCdWZmZXIiLCJkZWNvZGVBdWRpb0RhdGEiLCJvbmVuZGVkIiwiaGFuZGxlQXVkaW9FbmRlZCIsImRpc2Nvbm5lY3QiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImVycm9yIiwiaW5zdGFuY2UiLCJBdWRpb0NvbnRleHQiLCJ3ZWJraXRBdWRpb0NvbnRleHQiLCJzdHJpbmdUb0J5dGVBcnJheSQxIiwic3RyIiwib3V0IiwicCIsImMiLCJjaGFyQ29kZUF0IiwiYmFzZTY0IiwiYnl0ZVRvQ2hhck1hcF8iLCJjaGFyVG9CeXRlTWFwXyIsImJ5dGVUb0NoYXJNYXBXZWJTYWZlXyIsImNoYXJUb0J5dGVNYXBXZWJTYWZlXyIsIkVOQ09ERURfVkFMU19CQVNFIiwiRU5DT0RFRF9WQUxTIiwiRU5DT0RFRF9WQUxTX1dFQlNBRkUiLCJIQVNfTkFUSVZFX1NVUFBPUlQiLCJhdG9iIiwiZW5jb2RlQnl0ZUFycmF5IiwiaW5wdXQiLCJ3ZWJTYWZlIiwiQXJyYXkiLCJpc0FycmF5IiwiRXJyb3IiLCJpbml0XyIsImJ5dGVUb0NoYXJNYXAiLCJvdXRwdXQiLCJieXRlMSIsImhhdmVCeXRlMiIsImJ5dGUyIiwiaGF2ZUJ5dGUzIiwiYnl0ZTMiLCJvdXRCeXRlMSIsIm91dEJ5dGUyIiwib3V0Qnl0ZTMiLCJvdXRCeXRlNCIsImpvaW4iLCJlbmNvZGVTdHJpbmciLCJidG9hIiwiZGVjb2RlU3RyaW5nIiwiYnl0ZXMiLCJwb3MiLCJjMSIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsImMyIiwidSIsImMzIiwiYnl0ZUFycmF5VG9TdHJpbmciLCJkZWNvZGVTdHJpbmdUb0J5dGVBcnJheSIsImNoYXJUb0J5dGVNYXAiLCJjaGFyQXQiLCJieXRlNCIsIkRlY29kZUJhc2U2NFN0cmluZ0Vycm9yIiwiYXJndW1lbnRzIiwibmFtZSIsImJhc2U2NHVybEVuY29kZVdpdGhvdXRQYWRkaW5nIiwidXRmOEJ5dGVzIiwiYmFzZTY0RW5jb2RlIiwicmVwbGFjZSIsImJhc2U2NERlY29kZSIsImdldERlZmF1bHRzRnJvbUdsb2JhbCIsInNlbGYiLCJnZXRHbG9iYWwiLCJfX0ZJUkVCQVNFX0RFRkFVTFRTX18iLCJnZXREZWZhdWx0cyIsInByb2Nlc3MiLCJlbnYiLCJkZWZhdWx0c0pzb25TdHJpbmciLCJKU09OIiwicGFyc2UiLCJnZXREZWZhdWx0c0Zyb21FbnZWYXJpYWJsZSIsIm1hdGNoIiwiY29va2llIiwiZGVjb2RlZCIsImdldERlZmF1bHRzRnJvbUNvb2tpZSIsImluZm8iLCJnZXREZWZhdWx0QXBwQ29uZmlnIiwiX2EiLCJjb25maWciLCJEZWZlcnJlZCIsInByb21pc2UiLCJ3cmFwQ2FsbGJhY2siLCJ2YWx1ZSIsImNhdGNoIiwiaW5kZXhlZERCIiwicHJlRXhpc3QiLCJEQl9DSEVDS19OQU1FIiwicmVxdWVzdCIsIm9wZW4iLCJvbnN1Y2Nlc3MiLCJyZXN1bHQiLCJjbG9zZSIsImRlbGV0ZURhdGFiYXNlIiwib251cGdyYWRlbmVlZGVkIiwib25lcnJvciIsIm1lc3NhZ2UiLCJGaXJlYmFzZUVycm9yIiwiY29kZSIsImN1c3RvbURhdGEiLCJzZXRQcm90b3R5cGVPZiIsInByb3RvdHlwZSIsImNhcHR1cmVTdGFja1RyYWNlIiwiRXJyb3JGYWN0b3J5IiwiY3JlYXRlIiwic2VydmljZSIsInNlcnZpY2VOYW1lIiwiZXJyb3JzIiwiZnVsbENvZGUiLCJ0ZW1wbGF0ZSIsIlBBVFRFUk4iLCJfIiwicmVwbGFjZVRlbXBsYXRlIiwiZnVsbE1lc3NhZ2UiLCJkZWVwRXF1YWwiLCJhIiwiYiIsImFLZXlzIiwia2V5cyIsImJLZXlzIiwiayIsImFQcm9wIiwiYlByb3AiLCJpc09iamVjdCIsInRoaW5nIiwiREVGQVVMVF9JTlRFUlZBTF9NSUxMSVMiLCJERUZBVUxUX0JBQ0tPRkZfRkFDVE9SIiwiTUFYX1ZBTFVFX01JTExJUyIsIlJBTkRPTV9GQUNUT1IiLCJjYWxjdWxhdGVCYWNrb2ZmTWlsbGlzIiwiYmFja29mZkNvdW50IiwiaW50ZXJ2YWxNaWxsaXMiLCJiYWNrb2ZmRmFjdG9yIiwiY3VyckJhc2VWYWx1ZSIsInBvdyIsInJhbmRvbVdhaXQiLCJyb3VuZCIsIl9kZWxlZ2F0ZSIsIkNvbXBvbmVudCIsImluc3RhbmNlRmFjdG9yeSIsInR5cGUiLCJtdWx0aXBsZUluc3RhbmNlcyIsInNlcnZpY2VQcm9wcyIsImluc3RhbnRpYXRpb25Nb2RlIiwib25JbnN0YW5jZUNyZWF0ZWQiLCJzZXRJbnN0YW50aWF0aW9uTW9kZSIsIm1vZGUiLCJzZXRNdWx0aXBsZUluc3RhbmNlcyIsInNldFNlcnZpY2VQcm9wcyIsInByb3BzIiwic2V0SW5zdGFuY2VDcmVhdGVkQ2FsbGJhY2siLCJERUZBVUxUX0VOVFJZX05BTUUiLCJQcm92aWRlciIsImNvbnRhaW5lciIsImNvbXBvbmVudCIsImluc3RhbmNlcyIsImluc3RhbmNlc0RlZmVycmVkIiwiaW5zdGFuY2VzT3B0aW9ucyIsIm9uSW5pdENhbGxiYWNrcyIsImlkZW50aWZpZXIiLCJub3JtYWxpemVkSWRlbnRpZmllciIsIm5vcm1hbGl6ZUluc3RhbmNlSWRlbnRpZmllciIsImRlZmVycmVkIiwiaXNJbml0aWFsaXplZCIsInNob3VsZEF1dG9Jbml0aWFsaXplIiwiZ2V0T3JJbml0aWFsaXplU2VydmljZSIsImluc3RhbmNlSWRlbnRpZmllciIsImdldEltbWVkaWF0ZSIsIm9wdGlvbnMiLCJvcHRpb25hbCIsImdldENvbXBvbmVudCIsInNldENvbXBvbmVudCIsImlzQ29tcG9uZW50RWFnZXIiLCJpbnN0YW5jZURlZmVycmVkIiwiZW50cmllcyIsImNsZWFySW5zdGFuY2UiLCJkZWxldGUiLCJzZXJ2aWNlcyIsImZyb20iLCJ2YWx1ZXMiLCJhbGwiLCJmaWx0ZXIiLCJJTlRFUk5BTCIsIl9kZWxldGUiLCJpc0NvbXBvbmVudFNldCIsImdldE9wdGlvbnMiLCJpbml0aWFsaXplIiwib3B0cyIsIm9uSW5pdCIsImV4aXN0aW5nQ2FsbGJhY2tzIiwiU2V0IiwiYWRkIiwiZXhpc3RpbmdJbnN0YW5jZSIsImludm9rZU9uSW5pdENhbGxiYWNrcyIsImNhbGxiYWNrcyIsInVuZGVmaW5lZCIsIkNvbXBvbmVudENvbnRhaW5lciIsInByb3ZpZGVycyIsImFkZENvbXBvbmVudCIsInByb3ZpZGVyIiwiZ2V0UHJvdmlkZXIiLCJhZGRPck92ZXJ3cml0ZUNvbXBvbmVudCIsImdldFByb3ZpZGVycyIsIkxvZ0xldmVsIiwibGV2ZWxTdHJpbmdUb0VudW0iLCJERUJVRyIsIlZFUkJPU0UiLCJJTkZPIiwiV0FSTiIsIkVSUk9SIiwiU0lMRU5UIiwiZGVmYXVsdExvZ0xldmVsIiwiQ29uc29sZU1ldGhvZCIsImRlZmF1bHRMb2dIYW5kbGVyIiwibG9nVHlwZSIsImFyZ3MiLCJsb2dMZXZlbCIsIm5vdyIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsIkxvZ2dlciIsIl9sb2dMZXZlbCIsIl9sb2dIYW5kbGVyIiwiX3VzZXJMb2dIYW5kbGVyIiwidmFsIiwiVHlwZUVycm9yIiwic2V0TG9nTGV2ZWwiLCJsb2dIYW5kbGVyIiwidXNlckxvZ0hhbmRsZXIiLCJkZWJ1ZyIsIndhcm4iLCJpbnN0YW5jZU9mQW55Iiwib2JqZWN0IiwiY29uc3RydWN0b3JzIiwic29tZSIsImlkYlByb3h5YWJsZVR5cGVzIiwiY3Vyc29yQWR2YW5jZU1ldGhvZHMiLCJjdXJzb3JSZXF1ZXN0TWFwIiwiV2Vha01hcCIsInRyYW5zYWN0aW9uRG9uZU1hcCIsInRyYW5zYWN0aW9uU3RvcmVOYW1lc01hcCIsInRyYW5zZm9ybUNhY2hlIiwicmV2ZXJzZVRyYW5zZm9ybUNhY2hlIiwiaWRiUHJveHlUcmFwcyIsInRhcmdldCIsInByb3AiLCJyZWNlaXZlciIsIklEQlRyYW5zYWN0aW9uIiwib2JqZWN0U3RvcmVOYW1lcyIsIm9iamVjdFN0b3JlIiwid3JhcEZ1bmN0aW9uIiwiZnVuYyIsIklEQkRhdGFiYXNlIiwidHJhbnNhY3Rpb24iLCJJREJDdXJzb3IiLCJhZHZhbmNlIiwiY29udGludWUiLCJjb250aW51ZVByaW1hcnlLZXkiLCJhcHBseSIsInVud3JhcCIsInN0b3JlTmFtZXMiLCJ0eCIsImNhbGwiLCJzb3J0IiwidHJhbnNmb3JtQ2FjaGFibGVWYWx1ZSIsImRvbmUiLCJ1bmxpc3RlbiIsImNvbXBsZXRlIiwiRE9NRXhjZXB0aW9uIiwiY2FjaGVEb25lUHJvbWlzZUZvclRyYW5zYWN0aW9uIiwiSURCT2JqZWN0U3RvcmUiLCJJREJJbmRleCIsIlByb3h5IiwiSURCUmVxdWVzdCIsInN1Y2Nlc3MiLCJwcm9taXNpZnlSZXF1ZXN0IiwibmV3VmFsdWUiLCJyZWFkTWV0aG9kcyIsIndyaXRlTWV0aG9kcyIsImNhY2hlZE1ldGhvZHMiLCJnZXRNZXRob2QiLCJ0YXJnZXRGdW5jTmFtZSIsInVzZUluZGV4IiwiaXNXcml0ZSIsInN0b3JlTmFtZSIsInN0b3JlIiwic2hpZnQiLCJvbGRUcmFwcyIsIlBsYXRmb3JtTG9nZ2VyU2VydmljZUltcGwiLCJnZXRQbGF0Zm9ybUluZm9TdHJpbmciLCJpc1ZlcnNpb25TZXJ2aWNlUHJvdmlkZXIiLCJsaWJyYXJ5IiwibG9nU3RyaW5nIiwibmFtZSRvIiwidmVyc2lvbiQxIiwibG9nZ2VyIiwibmFtZSRuIiwibmFtZSRtIiwibmFtZSRsIiwibmFtZSRrIiwibmFtZSRqIiwibmFtZSRpIiwibmFtZSRoIiwibmFtZSRnIiwibmFtZSRmIiwibmFtZSRlIiwibmFtZSRkIiwibmFtZSRjIiwibmFtZSRiIiwibmFtZSRhIiwibmFtZSQ5IiwibmFtZSQ4IiwibmFtZSQ3IiwibmFtZSQ2IiwibmFtZSQ1IiwibmFtZSQ0IiwibmFtZSQzIiwibmFtZSQyIiwibmFtZSQxIiwiUExBVEZPUk1fTE9HX1NUUklORyIsIl9hcHBzIiwiX2NvbXBvbmVudHMiLCJfYWRkQ29tcG9uZW50IiwiYXBwIiwiX3JlZ2lzdGVyQ29tcG9uZW50IiwiY29tcG9uZW50TmFtZSIsImhlYXJ0YmVhdENvbnRyb2xsZXIiLCJ0cmlnZ2VySGVhcnRiZWF0IiwiRVJST1JfRkFDVE9SWSIsIkZpcmViYXNlQXBwSW1wbCIsIl9pc0RlbGV0ZWQiLCJfb3B0aW9ucyIsIl9jb25maWciLCJfbmFtZSIsIl9hdXRvbWF0aWNEYXRhQ29sbGVjdGlvbkVuYWJsZWQiLCJhdXRvbWF0aWNEYXRhQ29sbGVjdGlvbkVuYWJsZWQiLCJfY29udGFpbmVyIiwiY2hlY2tEZXN0cm95ZWQiLCJpc0RlbGV0ZWQiLCJhcHBOYW1lIiwiaW5pdGlhbGl6ZUFwcCIsInJhd0NvbmZpZyIsImV4aXN0aW5nQXBwIiwibmV3QXBwIiwicmVnaXN0ZXJWZXJzaW9uIiwibGlicmFyeUtleU9yTmFtZSIsInZhcmlhbnQiLCJsaWJyYXJ5TWlzbWF0Y2giLCJ2ZXJzaW9uTWlzbWF0Y2giLCJ3YXJuaW5nIiwiREJfTkFNRSIsIkRCX1ZFUlNJT04iLCJTVE9SRV9OQU1FIiwiZGJQcm9taXNlIiwiZ2V0RGJQcm9taXNlIiwiYmxvY2tlZCIsInVwZ3JhZGUiLCJibG9ja2luZyIsInRlcm1pbmF0ZWQiLCJvcGVuUHJvbWlzZSIsIm9sZFZlcnNpb24iLCJuZXdWZXJzaW9uIiwiZGIiLCJvcGVuREIiLCJjcmVhdGVPYmplY3RTdG9yZSIsIm9yaWdpbmFsRXJyb3JNZXNzYWdlIiwid3JpdGVIZWFydGJlYXRzVG9JbmRleGVkREIiLCJoZWFydGJlYXRPYmplY3QiLCJwdXQiLCJjb21wdXRlS2V5IiwiaWRiR2V0RXJyb3IiLCJhcHBJZCIsIkhlYXJ0YmVhdFNlcnZpY2VJbXBsIiwiX2hlYXJ0YmVhdHNDYWNoZSIsIl9zdG9yYWdlIiwiSGVhcnRiZWF0U3RvcmFnZUltcGwiLCJfaGVhcnRiZWF0c0NhY2hlUHJvbWlzZSIsInJlYWQiLCJhZ2VudCIsImRhdGUiLCJnZXRVVENEYXRlU3RyaW5nIiwibGFzdFNlbnRIZWFydGJlYXREYXRlIiwiaGVhcnRiZWF0cyIsInNpbmdsZURhdGVIZWFydGJlYXQiLCJoYlRpbWVzdGFtcCIsInZhbHVlT2YiLCJvdmVyd3JpdGUiLCJnZXRIZWFydGJlYXRzSGVhZGVyIiwiaGVhcnRiZWF0c1RvU2VuZCIsInVuc2VudEVudHJpZXMiLCJoZWFydGJlYXRzQ2FjaGUiLCJtYXhTaXplIiwiaGVhcnRiZWF0RW50cnkiLCJmaW5kIiwiaGIiLCJkYXRlcyIsImNvdW50Qnl0ZXMiLCJwb3AiLCJleHRyYWN0SGVhcnRiZWF0c0ZvckhlYWRlciIsImhlYWRlclN0cmluZyIsInN0cmluZ2lmeSIsInN1YnN0cmluZyIsIl9jYW5Vc2VJbmRleGVkREJQcm9taXNlIiwicnVuSW5kZXhlZERCRW52aXJvbm1lbnRDaGVjayIsImlkYkhlYXJ0YmVhdE9iamVjdCIsInJlYWRIZWFydGJlYXRzRnJvbUluZGV4ZWREQiIsImhlYXJ0YmVhdHNPYmplY3QiLCJleGlzdGluZ0hlYXJ0YmVhdHNPYmplY3QiLCJQRU5ESU5HX1RJTUVPVVRfTVMiLCJQQUNLQUdFX1ZFUlNJT04iLCJJTlRFUk5BTF9BVVRIX1ZFUlNJT04iLCJJTlNUQUxMQVRJT05TX0FQSV9VUkwiLCJUT0tFTl9FWFBJUkFUSU9OX0JVRkZFUiIsImlzU2VydmVyRXJyb3IiLCJnZXRJbnN0YWxsYXRpb25zRW5kcG9pbnQiLCJwcm9qZWN0SWQiLCJleHRyYWN0QXV0aFRva2VuSW5mb0Zyb21SZXNwb25zZSIsInRva2VuIiwicmVxdWVzdFN0YXR1cyIsImV4cGlyZXNJbiIsInJlc3BvbnNlRXhwaXJlc0luIiwiTnVtYmVyIiwiY3JlYXRpb25UaW1lIiwiZ2V0RXJyb3JGcm9tUmVzcG9uc2UiLCJyZXF1ZXN0TmFtZSIsImVycm9yRGF0YSIsInNlcnZlckNvZGUiLCJzZXJ2ZXJNZXNzYWdlIiwic2VydmVyU3RhdHVzIiwic3RhdHVzIiwiZ2V0SGVhZGVycyIsImFwaUtleSIsIkhlYWRlcnMiLCJBY2NlcHQiLCJnZXRIZWFkZXJzV2l0aEF1dGgiLCJhcHBDb25maWciLCJyZWZyZXNoVG9rZW4iLCJhcHBlbmQiLCJnZXRBdXRob3JpemF0aW9uSGVhZGVyIiwicmV0cnlJZlNlcnZlckVycm9yIiwiZm4iLCJzbGVlcCIsIm1zIiwic2V0VGltZW91dCIsIlZBTElEX0ZJRF9QQVRURVJOIiwiSU5WQUxJRF9GSUQiLCJnZW5lcmF0ZUZpZCIsImZpZEJ5dGVBcnJheSIsIlVpbnQ4QXJyYXkiLCJjcnlwdG8iLCJtc0NyeXB0byIsImdldFJhbmRvbVZhbHVlcyIsImZpZCIsImI2NFN0cmluZyIsImFycmF5Iiwic3Vic3RyIiwiZW5jb2RlIiwidGVzdCIsImdldEtleSIsImZpZENoYW5nZUNhbGxiYWNrcyIsImZpZENoYW5nZWQiLCJjYWxsRmlkQ2hhbmdlQ2FsbGJhY2tzIiwiY2hhbm5lbCIsImdldEJyb2FkY2FzdENoYW5uZWwiLCJwb3N0TWVzc2FnZSIsImNsb3NlQnJvYWRjYXN0Q2hhbm5lbCIsImJyb2FkY2FzdEZpZENoYW5nZSIsImJyb2FkY2FzdENoYW5uZWwiLCJCcm9hZGNhc3RDaGFubmVsIiwib25tZXNzYWdlIiwic2l6ZSIsIkRBVEFCQVNFX05BTUUiLCJEQVRBQkFTRV9WRVJTSU9OIiwiT0JKRUNUX1NUT1JFX05BTUUiLCJvbGRWYWx1ZSIsInJlbW92ZSIsInVwZGF0ZUZuIiwiZ2V0SW5zdGFsbGF0aW9uRW50cnkiLCJpbnN0YWxsYXRpb25zIiwicmVnaXN0cmF0aW9uUHJvbWlzZSIsImluc3RhbGxhdGlvbkVudHJ5Iiwib2xkRW50cnkiLCJlbnRyeSIsInJlZ2lzdHJhdGlvblN0YXR1cyIsImNsZWFyVGltZWRPdXRSZXF1ZXN0IiwidXBkYXRlT3JDcmVhdGVJbnN0YWxsYXRpb25FbnRyeSIsImVudHJ5V2l0aFByb21pc2UiLCJuYXZpZ2F0b3IiLCJvbkxpbmUiLCJpblByb2dyZXNzRW50cnkiLCJyZWdpc3RyYXRpb25UaW1lIiwicmVnaXN0ZXJlZEluc3RhbGxhdGlvbkVudHJ5IiwiaGVhcnRiZWF0U2VydmljZVByb3ZpZGVyIiwiZW5kcG9pbnQiLCJoZWFydGJlYXRTZXJ2aWNlIiwiaGVhcnRiZWF0c0hlYWRlciIsImJvZHkiLCJhdXRoVmVyc2lvbiIsInNka1ZlcnNpb24iLCJvayIsInJlc3BvbnNlVmFsdWUiLCJhdXRoVG9rZW4iLCJjcmVhdGVJbnN0YWxsYXRpb25SZXF1ZXN0IiwicmVnaXN0ZXJJbnN0YWxsYXRpb24iLCJ3YWl0VW50aWxGaWRSZWdpc3RyYXRpb24iLCJ0cmlnZ2VyUmVnaXN0cmF0aW9uSWZOZWNlc3NhcnkiLCJ1cGRhdGVJbnN0YWxsYXRpb25SZXF1ZXN0IiwiZ2VuZXJhdGVBdXRoVG9rZW5SZXF1ZXN0IiwiZ2V0R2VuZXJhdGVBdXRoVG9rZW5FbmRwb2ludCIsImluc3RhbGxhdGlvbiIsInJlZnJlc2hBdXRoVG9rZW4iLCJmb3JjZVJlZnJlc2giLCJ0b2tlblByb21pc2UiLCJpc0VudHJ5UmVnaXN0ZXJlZCIsIm9sZEF1dGhUb2tlbiIsImlzQXV0aFRva2VuRXhwaXJlZCIsImlzQXV0aFRva2VuVmFsaWQiLCJ1cGRhdGVBdXRoVG9rZW5SZXF1ZXN0Iiwid2FpdFVudGlsQXV0aFRva2VuUmVxdWVzdCIsImluUHJvZ3Jlc3NBdXRoVG9rZW4iLCJyZXF1ZXN0VGltZSIsIm1ha2VBdXRoVG9rZW5SZXF1ZXN0SW5Qcm9ncmVzc0VudHJ5IiwidXBkYXRlZEluc3RhbGxhdGlvbkVudHJ5IiwiZmV0Y2hBdXRoVG9rZW5Gcm9tU2VydmVyIiwiZ2V0VG9rZW4iLCJpbnN0YWxsYXRpb25zSW1wbCIsImNvbXBsZXRlSW5zdGFsbGF0aW9uUmVnaXN0cmF0aW9uIiwiZ2V0TWlzc2luZ1ZhbHVlRXJyb3IiLCJ2YWx1ZU5hbWUiLCJJTlNUQUxMQVRJT05TX05BTUUiLCJwdWJsaWNGYWN0b3J5IiwiY29uZmlnS2V5cyIsImtleU5hbWUiLCJleHRyYWN0QXBwQ29uZmlnIiwiaW50ZXJuYWxGYWN0b3J5IiwiZ2V0SWQiLCJBTkFMWVRJQ1NfVFlQRSIsIkdBX0ZJRF9LRVkiLCJPUklHSU5fS0VZIiwiRkVUQ0hfVElNRU9VVF9NSUxMSVMiLCJEWU5BTUlDX0NPTkZJR19VUkwiLCJHVEFHX1VSTCIsImNyZWF0ZUd0YWdUcnVzdGVkVHlwZXNTY3JpcHRVUkwiLCJzdGFydHNXaXRoIiwiZXJyIiwiZ3RhZ1VSTCIsInByb21pc2VBbGxTZXR0bGVkIiwicHJvbWlzZXMiLCJpbnNlcnRTY3JpcHRUYWciLCJkYXRhTGF5ZXJOYW1lIiwibWVhc3VyZW1lbnRJZCIsInRydXN0ZWRUeXBlc1BvbGljeSIsInBvbGljeU5hbWUiLCJwb2xpY3lPcHRpb25zIiwidHJ1c3RlZFR5cGVzIiwiY3JlYXRlUG9saWN5IiwiY3JlYXRlVHJ1c3RlZFR5cGVzUG9saWN5IiwiY3JlYXRlU2NyaXB0VVJMIiwic2NyaXB0IiwiY3JlYXRlRWxlbWVudCIsImd0YWdTY3JpcHRVUkwiLCJoZWFkIiwiYXBwZW5kQ2hpbGQiLCJ3cmFwR3RhZyIsImd0YWdDb3JlIiwiaW5pdGlhbGl6YXRpb25Qcm9taXNlc01hcCIsImR5bmFtaWNDb25maWdQcm9taXNlc0xpc3QiLCJtZWFzdXJlbWVudElkVG9BcHBJZCIsImNvbW1hbmQiLCJndGFnUGFyYW1zIiwiaW5pdGlhbGl6YXRpb25Qcm9taXNlc1RvV2FpdEZvciIsImdhU2VuZFRvTGlzdCIsImR5bmFtaWNDb25maWdSZXN1bHRzIiwic2VuZFRvSWQiLCJmb3VuZENvbmZpZyIsImluaXRpYWxpemF0aW9uUHJvbWlzZSIsImd0YWdPbkV2ZW50IiwiY29ycmVzcG9uZGluZ0FwcElkIiwiZ3RhZ09uQ29uZmlnIiwiZmllbGROYW1lIiwiY3VzdG9tUGFyYW1zIiwiTE9OR19SRVRSWV9GQUNUT1IiLCJkZWZhdWx0UmV0cnlEYXRhIiwidGhyb3R0bGVNZXRhZGF0YSIsImdldFRocm90dGxlTWV0YWRhdGEiLCJzZXRUaHJvdHRsZU1ldGFkYXRhIiwibWV0YWRhdGEiLCJkZWxldGVUaHJvdHRsZU1ldGFkYXRhIiwiZmV0Y2hEeW5hbWljQ29uZmlnV2l0aFJldHJ5IiwicmV0cnlEYXRhIiwidGltZW91dE1pbGxpcyIsInRocm90dGxlRW5kVGltZU1pbGxpcyIsInNpZ25hbCIsIkFuYWx5dGljc0Fib3J0U2lnbmFsIiwiYWJvcnQiLCJhdHRlbXB0RmV0Y2hEeW5hbWljQ29uZmlnV2l0aFJldHJ5IiwiYXBwRmllbGRzIiwiYmFja29mZk1pbGxpcyIsInRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJzZXRBYm9ydGFibGVUaW1lb3V0IiwiYXBwVXJsIiwiZXJyb3JNZXNzYWdlIiwianNvblJlc3BvbnNlIiwiX2lnbm9yZWQiLCJodHRwU3RhdHVzIiwicmVzcG9uc2VNZXNzYWdlIiwiZmV0Y2hEeW5hbWljQ29uZmlnIiwiaXNSZXRyaWFibGVFcnJvciIsImxpc3RlbmVycyIsImxpc3RlbmVyIiwiZGVmYXVsdEV2ZW50UGFyYW1ldGVyc0ZvckluaXQiLCJkZWZhdWx0Q29uc2VudFNldHRpbmdzRm9ySW5pdCIsIl9zZXRDb25zZW50RGVmYXVsdEZvckluaXQiLCJjb25zZW50U2V0dGluZ3MiLCJfc2V0RGVmYXVsdEV2ZW50UGFyYW1ldGVyc0ZvckluaXQiLCJfaW5pdGlhbGl6ZUFuYWx5dGljcyIsImR5bmFtaWNDb25maWdQcm9taXNlIiwiZmlkUHJvbWlzZSIsImVycm9ySW5mbyIsInRvU3RyaW5nIiwidmFsaWRhdGVJbmRleGVkREIiLCJlbnZJc1ZhbGlkIiwiZHluYW1pY0NvbmZpZyIsInNjcmlwdFRhZ3MiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInRhZyIsImZpbmRHdGFnU2NyaXB0T25QYWdlIiwiY29uZmlnUHJvcGVydGllcyIsIkFuYWx5dGljc1NlcnZpY2UiLCJndGFnQ29yZUZ1bmN0aW9uIiwid3JhcHBlZEd0YWdGdW5jdGlvbiIsImd0YWdOYW1lIiwiZ2xvYmFsSW5pdERvbmUiLCJ3YXJuT25Ccm93c2VyQ29udGV4dE1pc21hdGNoIiwibWlzbWF0Y2hlZEVudk1lc3NhZ2VzIiwicnVudGltZSIsImNocm9tZSIsImJyb3dzZXIiLCJpZCIsImNvb2tpZUVuYWJsZWQiLCJkZXRhaWxzIiwiZmFjdG9yeSIsImRhdGFMYXllciIsImdldE9yQ3JlYXRlRGF0YUxheWVyIiwid3JhcHBlZEd0YWciLCJndGFnRnVuY3Rpb25OYW1lIiwiX2FyZ3MiLCJ3cmFwT3JDcmVhdGVHdGFnIiwiZ2V0QW5hbHl0aWNzIiwiYW5hbHl0aWNzUHJvdmlkZXIiLCJhbmFseXRpY3NJbnN0YW5jZSIsImluaXRpYWxpemVBbmFseXRpY3MiLCJsb2dFdmVudCIsImV2ZW50TmFtZSIsImV2ZW50UGFyYW1zIiwiZ3RhZ0Z1bmN0aW9uIiwiZ2xvYmFsIiwibG9nRXZlbnQkMSIsImFuYWx5dGljc09wdGlvbnMiLCJhbmFseXRpY3MiLCJyZWFzb24iLCJmaXJlYmFzZUNvbmZpZyIsImF1dGhEb21haW4iLCJkYXRhYmFzZVVSTCIsInN0b3JhZ2VCdWNrZXQiLCJtZXNzYWdpbmdTZW5kZXJJZCIsIkJhc2VGaXJlYmFzZUludGVncmF0aW9uIiwiZmlyZWJhc2VBcHAiLCJpbml0aWFsaXplRmlyZWJhc2UiLCJjdXN0b21FdmVudHMiLCJzZXNzaW9uRW5kIiwiRmlyZWJhc2VJbnRlZ3JhdGlvbiIsImdldEluc3RhbmNlIiwic2VuZFNlc3Npb25TdGFydEV2ZW50Iiwic2VuZFNlc3Npb25FbmRFdmVudCIsInNlbmRTZWxlY3RlZExldmVsRXZlbnQiLCJzZW5kVGFwcGVkU3RhcnRFdmVudCIsInNlbmRQdXp6bGVDb21wbGV0ZWRFdmVudCIsInNlbmRMZXZlbENvbXBsZXRlZEV2ZW50Iiwic2VuZFVzZXJDbGlja2VkT25QbGF5RXZlbnQiLCJjbGljayIsInNlbmREb3dubG9hZENvbXBsZXRlZEV2ZW50IiwiUGxheUJ1dHRvbiIsInBvc1giLCJwb3NZIiwiZmlyZWJhc2VJbnRlZ3JhdGlvbiIsImluaXQiLCJwYXVzZV9idXR0b25faW1hZ2UiLCJtYWp2ZXJzaW9uIiwibWludmVyc2lvbiIsImRpc3RhbmNlIiwibG9nVGFwcGVkU3RhcnRGaXJlYmFzZUV2ZW50IiwidGFwcGVkU3RhcnREYXRhIiwiY3JfdXNlcl9pZCIsImZ0bV9sYW5ndWFnZSIsInByb2ZpbGVfbnVtYmVyIiwidmVyc2lvbl9udW1iZXIiLCJpbm5lckhUTUwiLCJqc29uX3ZlcnNpb25fbnVtYmVyIiwiU3RhcnRTY2VuZSIsIm1vbnN0ZXIiLCJwaWNrZWRTdG9uZSIsInB3YV9zdGF0dXMiLCJmaXJlYmFzZV9hbmFseXRpY3MiLCJidXR0b25Db250ZXh0IiwicGxheUJ1dHRvbiIsInN3aXRjaFNjZW5lVG9MZXZlbFNlbGVjdGlvbiIsInRpdGxlRm9udCIsImJhY2tncm91bmQxIiwiYXVkaW9QbGF5ZXIiLCJ0b2dnbGVCdG4iLCJwd2FfaW5zdGFsbF9zdGF0dXMiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiZGV2VG9nZ2xlIiwiY3JlYXRlUGxheUJ1dHRvbiIsIlNjZW5lTmFtZSIsImhhbmRsZXJJbnN0YWxsUHJvbXB0IiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiY29udGFpbnMiLCJpbm5lclRleHQiLCJhbmltYXRpb24iLCJnZXRGb250V2lkdGhPZlRpdGxlIiwiY2xlYXJSZWN0IiwiZmlsbFN0eWxlIiwidGV4dEFsaWduIiwiZmlsbFRleHQiLCJwcmV2ZW50RGVmYXVsdCIsImhhbmRsZU1vdXNlQ2xpY2siLCJzZWxmRWxlbWVudCIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJjbGllbnRYIiwibGVmdCIsImNsaWVudFkiLCJ0b3AiLCJmYnEiLCJzdHlsZSIsImRpc3BsYXkiLCJzZXRJdGVtIiwiTGV2ZWxDb25maWciLCJkcmF3cmVhZHkiLCJpbWciLCJ4UG9zIiwieVBvcyIsIkdhbWVTY29yZSIsInNldEdhbWVMZXZlbFNjb3JlIiwiY3VycmVudExldmVsSW5mbyIsInNjb3JlIiwic3RhcnNHYWluZWQiLCJjYWxjdWxhdGVTdGFyQ291bnQiLCJsZXZlbFBsYXllZEluZm8iLCJsZXZlbE5hbWUiLCJzdGFyQ291bnQiLCJzZXRUb3RhbFN0YXJDb3VudCIsImFsbEdhbWVsZXZlbEluZm8iLCJnZXRBbGxHYW1lTGV2ZWxJbmZvIiwiY3VycmVudGxhbmd1YWdlIiwidG90YWxTdGFyQ291bnQiLCJnZXRUb3RhbFN0YXJDb3VudCIsInBhcnNlSW50IiwiZ2V0RGF0YWZyb21TdG9yYWdlIiwiTGV2ZWxTZWxlY3Rpb25TY3JlZW4iLCJsZXZlbEJ1dHRvblBvcyIsImNhbnZhc0VsZW1lbnQiLCJnYW1lTGV2ZWxEYXRhIiwiY2FsbEJhY2siLCJ4RG93biIsInlEb3duIiwicHJldmlvdXNQbGF5ZWRMZXZlbE51bWJlciIsImxldmVsU2VsZWN0aW9uUGFnZUluZGV4IiwibGV2ZWxzU2VjdGlvbkNvdW50IiwidW5sb2NrTGV2ZWxJbmRleCIsImluaXRpYWxpc2VCdXR0b25Qb3MiLCJjcmVhdGVMZXZlbEJ1dHRvbnMiLCJtYXBJY29uIiwibWFwSWNvblNwZWNpYWwiLCJtYXBMb2NrIiwic3RhciIsIm5leHRidG4iLCJiYWNrYnRuIiwidmlzaWJpbGl0eVN0YXRlIiwiYWRkTGlzdGVuZXJzIiwibGV2ZWxCdXR0b25wb3MiLCJwb3NzIiwicyIsIm5zIiwiaGFuZGxlTW91c2VEb3duIiwicGF1c2VQbGF5QXVkaW9zIiwiaGFuZGxlVG91Y2hTdGFydCIsImhhbmRsZVRvdWNoTW92ZSIsImdldFRvdWNoZXMiLCJldnQiLCJ0b3VjaGVzIiwib3JpZ2luYWxFdmVudCIsImZpcnN0VG91Y2giLCJ4VXAiLCJ5VXAiLCJ4RGlmZiIsInlEaWZmIiwiYWJzIiwiZG93bkJ1dHRvbiIsInN0YXJ0R2FtZSIsImRyYXdMZXZlbCIsImltYWdlU2l6ZSIsInRleHRGb250U2l6ZSIsInNwZWNpYWxMZXZlbHMiLCJpc1NwZWNpYWxMZXZlbCIsImxldmVsIiwiZHJhd1N0YXJzIiwiZHJhd1N0YXIiLCJsZXZlbF9udW1iZXIiLCJnYW1lUGxheURhdGEiLCJjdXJyZW50TGV2ZWxEYXRhIiwic2VsZWN0ZWRMZXZlbE51bWJlciIsImxvZ1NlbGVjdGVkTGV2ZWxFdmVudCIsInNlbGVjdGVkTGV2ZWx0RGF0YSIsImxldmVsX3NlbGVjdGVkIiwiZHJhd0xldmVsU2VsZWN0aW9uIiwiVGltZXJUaWNraW5nIiwidGltZXJXaWR0aCIsInRpbWVySGVpZ2h0Iiwid2lkdGhUb0NsZWFyIiwidGltZXIiLCJpc1RpbWVyU3RhcnRlZCIsImlzVGltZXJFbmRlZCIsImlzVGltZXJSdW5uaW5nT3V0IiwidGltZXJfZnVsbCIsInBhdXNlQnV0dG9uQ2xpY2tlZCIsInN0YXJ0TXlUaW1lciIsImlzTXlUaW1lck92ZXIiLCJpc1N0b25lRHJvcHBlZCIsInBsYXlMZXZlbEVuZEF1ZGlvT25jZSIsInRpbWVyX2VtcHR5Iiwicm90YXRpbmdfY2xvY2siLCJzdGFydFRpbWVyIiwicmVhZHlUaW1lciIsImxldmVsRGF0YSIsImN1cnJlbnRQcm9tcHRUZXh0IiwiY3VycmVudFB1enpsZURhdGEiLCJwcm9tcHRfaW1hZ2UiLCJkcm9wcGVkU3RvbmVzIiwidGltZSIsInByb21wdEltYWdlV2lkdGgiLCJpc0FwcEZvcmVncm91bmQiLCJzY2FsZSIsImlzU2NhbGluZ1VwIiwic2NhbGVGYWN0b3IiLCJwcm9tcHRJbWFnZUhlaWdodCIsInByb21wdFBsYXlCdXR0b24iLCJnZXRQcm9tcHRBdWRpb1VybCIsImhhbmRsZVZpc2liaWxpdHlDaGFuZ2UiLCJwbGF5U291bmQiLCJzZXRDdXJycmVudFB1enpsZURhdGEiLCJkcmF3UlRMTGFuZyIsImZvbnRTaXplIiwiY2FsY3VsYXRlRm9udCIsInNjYWxlZFdpZHRoIiwic2NhbGVkSGVpZ2h0IiwibGV0dGVySW5Xb3JkIiwiUmVnRXhwIiwibWVhc3VyZVRleHQiLCJvZmZzZXRYIiwib2Zmc2V0WSIsImRyYXdPdGhlcnMiLCJwcm9tcHRUZXh0TGV0dGVycyIsInNwbGl0Iiwic3RhcnRQcm9tcHR0ZXh0WCIsImN1cnJlbnRXb3JkV2lkdGgiLCJsZXR0ZXJIaWdobGlnaHQiLCJ1cGRhdGVTY2FsaW5nIiwiY291bnRlciIsImRyb3BwZWRTdG9uZUluZGV4IiwiaW1hZ2UxUHJvbWlzZSIsImxvYWRJbWFnZSIsImltYWdlMlByb21pc2UiLCJQYXVzZUJ1dHRvbiIsIkxldmVsSW5kaWNhdG9ycyIsImFjdGl2ZUluZGljYXRvcnMiLCJsZXZlbF9pbmRpY2F0b3IiLCJiYXJfZW1wdHkiLCJiYXJfZnVsbCIsInNldEluZGljYXRvcnMiLCJpbmRpY2F0b3JDb3VudCIsImFkZERyb3BTdG9uZUV2ZW50IiwiU3RvbmVDb25maWciLCJvcmlneCIsIm9yaWd5IiwidGV4dCIsImNhbnZhc1dpZHRoIiwiY2FudmFzSGVpZ2h0IiwiaW1hZ2VDZW50ZXJPZmZzZXRYIiwiaW1hZ2VDZW50ZXJPZmZzZXRZIiwidHV0b3JpYWxJbnN0YW5jZSIsInRpbWVyVGlja2luZ0luc3RhbmNlIiwiZnJhbWUiLCJzdG9uZUxldHRlciIsImNhbGN1bGF0ZUltYWdlQW5kRm9udFNpemUiLCJnZXRFYXNlIiwiY3VycmVudFByb2dyZXNzIiwic3RlcHMiLCJjb3MiLCJQSSIsImdldFgiLCJnZXRZIiwiVHV0b3JpYWwiLCJ0dXRvcmlhbEltZyIsInRhcmdldFN0b25lUG9zaXRpb25zIiwic3RhcnR4Iiwic3RhcnR5IiwiZW5keCIsImVuZHkiLCJlbmRUdXRvcmlhbCIsInB1enpsZU51bWJlciIsInBsYXlNbnN0ckNsa1R0cmxBbmltIiwidG90YWxUaW1lIiwibW9uc3RlclN0b25lRGlmZmVyZW5jZSIsImR4IiwiZHkiLCJhYnNkeCIsImFic2R5Iiwic3RhcnRSaXBwbGUiLCJkcmF3UmlwcGxlIiwiY3R4IiwiY2VudGVyWCIsImNlbnRlclkiLCJvdXRlclJhZGl1cyIsImlubmVyUmFkaXVzIiwicmVzdGFydCIsImJlZ2luUGF0aCIsImFyYyIsInN0cm9rZVN0eWxlIiwibGluZVdpZHRoIiwic3Ryb2tlIiwiY2xvc2VQYXRoIiwiY3JlYXRlUmlwcGxlRWZmZWN0IiwidXBkYXRlVGFyZ2V0U3RvbmVQb3NpdGlvbnMiLCJ0YXJnZXRTdG9uZVBvc2l0aW9uIiwiYW5pbWF0ZUltYWdlIiwiaXNNb2JpbGUiLCJ1c2VyQWdlbnQiLCJzZXRUdXRvcmlhbEVuZCIsInNob3VsZFBsYXlUdXRvcmlhbCIsImRpc3giLCJkaXN5IiwibW9uc3RlclN0b25lRGlmZmVyZW5jZUluUGVyY2VudGFnZSIsImNyZWF0ZUhhbmRTY2FsZUFuaW1hdGlvbiIsInByZXZpb3VzQWxwaGEiLCJnbG9iYWxBbHBoYSIsInNob3VsZENyZWF0ZVJpcHBsZSIsInNpbnVzb2lkYWxJbnRlcnBvbGF0aW9uIiwibWluU2NhbGUiLCJtYXhTY2FsZSIsImR1cmF0aW9uIiwiYW1wbGl0dWRlIiwiZnJlcXVlbmN5Iiwic2luIiwiY2xpY2tPbk1vbnN0ZXJUdXRvcmlhbCIsInNob3VsZFBsYXlNb25zdGVyQ2xpY2tUdXRvcmlhbEFuaW1hdGlvbiIsInRyYW5zaXRpb25EdXJhdGlvbiIsImJvdHRvbVBvc2l0aW9uIiwidG9wUG9zaXRpb24iLCJjdXJyZW50T2Zmc2V0WSIsInNldFB1enpsZU51bWJlciIsInB1enpsZU51bWVyIiwic2V0UGxheU1vbnN0ZXJDbGlja0FuaW1hdGlvbiIsIlN0b25lSGFuZGxlciIsInN0b25lUG9zIiwiYW5zd2VyIiwiY29ycmVjdEFuc3dlciIsInB1enpsZVN0YXJ0VGltZSIsInNob3dUdXRvcmlhbCIsImNvcnJlY3RTdG9uZUF1ZGlvIiwidHV0b3JpYWwiLCJjb3JyZWN0VGFyZ2V0U3RvbmUiLCJzdG9uZWJnIiwiaXNHYW1lUGF1c2VkIiwic2V0VGFyZ2V0U3RvbmUiLCJpbml0aWFsaXplU3RvbmVQb3MiLCJBdWRpbyIsImNvbnZlcnRGZWVkQmFja0F1ZGlvc1RvTGlzdCIsImNyZWF0ZVN0b25lcyIsIm9mZnNldENvb3JkaW5hdGVWYWx1ZSIsImlzRHJvcHBlZFN0b25lQ29ycmVjdCIsImRyb3BwZWRTdG9uZSIsImlzU3RvbmVEcm9wcGVkQ29ycmVjdEZvckxldHRlck9ubHkiLCJmZWVkQmFja0luZGV4IiwicGxheUNvcnJlY3RBbnN3ZXJGZWVkYmFja1NvdW5kIiwiaXNTdG9uZURyb3BwZWRDb3JyZWN0Rm9yTGV0dGVySW5Xb3JkIiwiaXNTdG9uRHJvcHBlZENvcnJlY3RGb3JXb3JkIiwiZ2V0Q29ycmVjdFRhcmdldFN0b25lIiwicGxheSIsInNwbGljZSIsInRvdGFsU3RvbmVzQ291bnQiLCJleHRyYVN0b25lc0NvdW50IiwicGF1c2UiLCJmZWVkQmFja0F1ZGlvQXJyYXkiLCJzZXRHYW1lUGF1c2UiLCJyYW5kb21OdW1iZXIiLCJDYW5jZWxCdXR0b24iLCJjYW5jZWxfYnV0dG9uX2ltYWdlIiwiQ2xvc2VCdXR0b24iLCJjbG9zZV9idXR0b25faW1hZ2UiLCJSZXRyeUJ1dHRvbiIsInJldHJ5X2J1dHRvbl9pbWFnZSIsIlllc0J1dHRvbiIsInllc19idXR0b25faW1hZ2UiLCJOb0J1dHRvbiIsIm5vX2J1dHRvbl9pbWFnZSIsIkFyZVlvdVN1cmVQb3BVcCIsInllc0J1dHRvbiIsIm5vQnV0dG9uIiwicG9wX3VwX2ltYWdlIiwieWVzQ2FsbGJhY2siLCJub0NhbGxiYWNrIiwiYWRkTGlzdG5lciIsInBsYXlDbGlja1NvdW5kIiwiZmlsbFJlY3QiLCJQYXVzZVBvcFVwIiwiY2FuY2VsQnV0dG9uIiwicmV0cnlCdXR0b24iLCJjbG9zZUJ1dHRvbiIsInN3aXRjaFRvTGV2ZWxTZWxlY3Rpb24iLCJyZWxvYWRTY2VuZSIsImdhbWVwbGF5RGF0YSIsInJldHJ5U3VyZVBvcHVwIiwiQ2xvc2VTdXJlUG9wdXAiLCJpc1JldHJ5QnV0dG9uQ2xpY2tlZCIsImlzQ2xvc2VCdXR0b25DbGlja2VkIiwic2VsZklkRWxlbWVudCIsInllc1JldHJ5Q2FsbGJhY2siLCJub1JldHJ5Q2FsbGJhY2siLCJub0Nsb3NlQ2FsbGJhY2siLCJwbGF5QXJlWW91U3VyZVNvdW5kIiwiVGV4dFBhcnRpY2xlIiwiZmVlZGJhY2tUZXh0RWZmZWN0cyIsImNvbG9yIiwib3JpZ2luWCIsIm9yaWdpblkiLCJlYXNlIiwiZ2FwIiwiRmVlZGJhY2tUZXh0RWZmZWN0cyIsInRleHRYIiwidGV4dFkiLCJsaW5lSGVpZ2h0IiwibWF4VGV4dFdpZHRoIiwicGFydGljbGVEdXJhdGlvbiIsInN0YXJ0VGltZSIsInBhcnRpY2xlcyIsIm1vdXNlIiwidGV4dFdvcmtlciIsInJhZGl1cyIsIldvcmtlciIsImhhbmRsZVRleHRXb3JrZXJNZXNzYWdlIiwiYmluZCIsIndyYXBUZXh0IiwiZ3JhZGllbnQiLCJjcmVhdGVMaW5lYXJHcmFkaWVudCIsImFkZENvbG9yU3RvcCIsInRleHRCYXNlbGluZSIsImxpbmVBcnJheSIsIndvcmRzIiwibGluZUNvdW50ZXIiLCJsaW5lIiwidGVzdExpbmUiLCJ0ZXh0SGVpZ2h0IiwidHJpbSIsImxhc3RTcGFjZUluZGV4IiwibGFzdEluZGV4T2YiLCJpbml0aWFsVGV4dCIsImxhc3RUZXh0IiwiY29udmVydFRvUGFydGljbGUiLCJwaXhlbHMiLCJnZXRJbWFnZURhdGEiLCJyZW5kZXIiLCJwYXJ0aWNsZSIsInVwZGF0ZVBhcnRpY2xlcyIsImNsZWFyUGFydGljbGUiLCJHYW1lcGxheVNjZW5lIiwianNvblZlcnNpb25OdW1iZXIiLCJ0aW1lclRpY2tpbmciLCJwYXVzZUJ1dHRvbiIsImxldmVsSW5kaWNhdG9ycyIsInN0b25lc0NvdW50IiwibW9uc3RlclBoYXNlTnVtYmVyIiwiZmVlZEJhY2tUZXh0cyIsImlzUHV6emxlQ29tcGxldGVkIiwic3dpdGNoU2NlbmVUb0VuZCIsInN0b25lSGFuZGxlciIsInBpY2tlZFN0b25lT2JqZWN0IiwicGF1c2VQb3B1cCIsImlzUGF1c2VCdXR0b25DbGlja2VkIiwiZmVlZEJhY2tUZXh0Q2FuYXZzRWxlbWVudCIsImlzR2FtZVN0YXJ0ZWQiLCJ0ZW1wV29yZGZvcldvcmRQdXp6bGUiLCJwdXp6bGVUaW1lIiwid2lsbFJlYWRGcmVxdWVudGx5Iiwic3RhcnRHYW1lVGltZSIsInN0YXJ0UHV6emxlVGltZSIsImxvYWRQdXp6bGUiLCJyZXN1bWVHYW1lIiwicHJvZmlsZU1vbnN0ZXIiLCJwcmV2aW91c1BsYXllZExldmVsIiwiYWRkRXZlbnRMaXN0ZW5lcnMiLCJnZXRSYW5kb21GZWVkQmFja1RleHQiLCJyYW5kb21JbmRleCIsInNlbGVjdGVkS2V5IiwiZ2V0UmFuZG9tSW50IiwiZGVmaW5lZFZhbHVlc01heENvdW50IiwiaGFuZGxlTW91c2VVcCIsImxldHRlck9ubHlQdXp6bGUiLCJsZXR0ZXJJbldvcmRQdXp6bGUiLCJ3b3JkUHV6emxlIiwieExpbWl0IiwiaGFsZldpZHRoIiwic2MiLCJoYW5kbGVNb3VzZU1vdmUiLCJwYXVzZUdhbWVQbGF5IiwidG91Y2giLCJoYW5kbGVUb3VjaEVuZCIsImNoYW5nZWRUb3VjaGVzIiwicmVtb3ZlRXZlbnRMaXN0ZW5lcnMiLCJ0aW1lckVuZGVkIiwibG9nUHV6emxlRW5kRmlyZWJhc2VFdmVudCIsImluY3JlbWVudFB1enpsZSIsImxvZ0xldmVsRW5kRmlyZWJhc2VFdmVudCIsImxvYWRQdXp6bGVEYXRhIiwibG9hZFB1enpsZUV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJpbml0TmV3UHV6emxlIiwiaGFuZGxlQ29ycmVjdFN0b25lRHJvcCIsImRpc3BhdGNoU3RvbmVEcm9wRXZlbnQiLCJkcm9wcGVkU3RvbmVJbnN0YW5jZSIsImZlZWRiYWNrSW5kZXgiLCJ6SW5kZXgiLCJkcm9wU3RvbmVFdmVudCIsImRpc3BhdGNoRXZlbnQiLCJwdXp6bGVUeXBlIiwiZW5kVGltZSIsInB1enpsZUNvbXBsZXRlZERhdGEiLCJzdWNjZXNzX29yX2ZhaWx1cmUiLCJwdXp6bGVfbnVtYmVyIiwiaXRlbV9zZWxlY3RlZCIsImZvaWxzIiwicmVzcG9uc2VfdGltZSIsImxldmVsQ29tcGxldGVkRGF0YSIsIm51bWJlcl9vZl9zdWNjZXNzZnVsX3B1enpsZXMiLCJMb2FkaW5nU2NlbmUiLCJjbG91ZFhQb3NpdGlvbiIsInN0b3BDbG91ZE1vdmluZyIsImNsb3VkTW92aW5nVGltZU91dCIsInJlbW92ZUxvYWRpbmciLCJjbG91ZDYiLCJjbG91ZDciLCJjbG91ZDgiLCJpbml0Q2xvdWQiLCJOZXh0QnV0dG9uIiwibmV4dF9idXR0b25faW1hZ2UiLCJMZXZlbEVuZFNjZW5lIiwibmV4dEJ1dHRvbiIsImN1cnJlbnRMZXZlbCIsInN3aXRjaFRvR2FtZXBsYXlDQiIsInN3aXRjaFRvTGV2ZWxTZWxlY3Rpb25DQiIsImJhY2tncm91bmQiLCJ0aW1lb3V0cyIsInN0YXJEcmF3bkNvdW50Iiwic3dpdGNoVG9SZWFjdGlvbkFuaW1hdGlvbiIsImJhY2tncm91bmRJbWciLCJzdGFyMUltZyIsInN0YXIySW1nIiwic3RhcjNJbWciLCJ3aW5CYWNrZ3JvdW5kSW1nIiwic3RhckFuaW1hdGlvbiIsImRlbGF5IiwiY291bnQiLCJwYXVzZUF1ZGlvcyIsIm5leHQiLCJTY2VuZUhhbmRsZXIiLCJzdGFydFNjZW5lIiwibGV2ZWxTZWxlY3Rpb25TY2VuZSIsImdhbWVwbGF5U2NlbmUiLCJsZXZlbEVuZFNjZW5lIiwibG9hZGluZ1NjcmVlbiIsImxvYWRpbmciLCJsYXN0VGltZSIsImhhbmRsZUluc3RhbGxQcm9tcHQiLCJzdGFydEFuaW1hdGlvbkxvb3AiLCJhbmltYXRlIiwidGltZVN0YW1wIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiY2hlY2tNb25zdGVyUGhhc2VVcGRhdGlvbiIsInN3aXRjaFNjZW5lVG9HYW1lcGxheSIsImNoYW5nZVNjZW5lUmVxdWVzdEZyb20iLCJzaG93TG9hZGluZyIsInN3aXRjaFNjZW5lVG9FbmRMZXZlbCIsImN1cnJlbnRsZXZlbFBsYXllZCIsImN1cnJlbnRMZXZlbE51bWJlciIsImNyZWF0ZUVuZExldmVsU2NlbmUiLCJsYXN0U2NlbmVOYW1lIiwibmV4dFNjZW5lTmFtZSIsIm4iLCJ0IiwiTWVzc2FnZUNoYW5uZWwiLCJwb3J0MSIsInBvcnQyIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiZGVmaW5lUHJvcGVydHkiLCJSZWZlcmVuY2VFcnJvciIsInIiLCJVUkwiLCJvIiwiZiIsImgiLCJ2IiwibCIsIm0iLCJfX3Byb3RvX18iLCJ3IiwiZCIsInJlZ2lzdGVyIiwiaW1tZWRpYXRlIiwiQm9vbGVhbiIsInNlcnZpY2VXb3JrZXIiLCJjb250cm9sbGVyIiwiUCIsIlIiLCJCIiwiTyIsImoiLCJvbmNlIiwid2FpdGluZyIsInNjcmlwdFVSTCIsInN3Iiwid2FzV2FpdGluZ0JlZm9yZVJlZ2lzdGVyIiwiQyIsInJlYWR5U3RhdGUiLCJnZXRTVyIsIm1lc3NhZ2VTVyIsIkwiLCJwZXJmb3JtYW5jZSIsIm1ldGEiLCJpbnN0YWxsaW5nIiwiVyIsInN0YXRlIiwiaXNVcGRhdGUiLCJEIiwiVCIsInZlcnNpb25JbmZvRWxlbWVudCIsImlzX2NhY2hlZCIsInByb2dyZXNzQmFyIiwicHJvZ3Jlc3NCYXJDb250YWluZXIiLCJzY2VuZUhhbmRsZXIiLCJsb2FkaW5nRWxlbWVudCIsInN0YXJ0U2Vzc2lvblRpbWUiLCJpbml0aWFsaXplQ2FjaGVkRGF0YSIsImhhbmRsZVNlcnZpY2VXb3JrZXJNZXNzYWdlIiwiaGFuZGxlQmVmb3JlVW5sb2FkIiwibG9hZEFuZENhY2hlRm9udCIsInByZWxvYWRHYW1lQXVkaW9zIiwiaGFuZGxlTG9hZGluZ1NjcmVlbiIsInJlZ2lzdGVyV29ya2JveCIsInNldHVwQ2FudmFzIiwiZGF0YU1vZGFsIiwiY3JlYXRlRGF0YU1vZGFsIiwiZ2xvYmFsSW5pdGlhbGl6YXRpb24iLCJsb2dTZXNzaW9uU3RhcnRGaXJlYmFzZUV2ZW50IiwiaGFuZGxlUmVzaXplIiwiaGFuZGxlQ2FjaGVkU2NlbmFyaW8iLCJsYXN0U2Vzc2lvbkVuZFRpbWUiLCJnZXRUaW1lIiwicGFyc2VkVGltZXN0YW1wIiwiaXNOYU4iLCJyb3VuZGVkRGF5c1NpbmNlTGFzdCIsInBhcnNlRmxvYXQiLCJ0b0ZpeGVkIiwic2Vzc2lvblN0YXJ0RGF0YSIsImRheXNfc2luY2VfbGFzdCIsImxvZ1Nlc3Npb25FbmRGaXJlYmFzZUV2ZW50Iiwic2Vzc2lvbkVuZERhdGEiLCJzdG9yZWREYXRhIiwiZm9udE5hbWUiLCJmb250UGF0aCIsImNhY2hlIiwiY2FjaGVzIiwiZm9udFJlc3BvbnNlIiwiZm9udEJsb2IiLCJibG9iIiwiUmVzcG9uc2UiLCJGb250RmFjZSIsImxvYWQiLCJmb250cyIsIndiIiwicmVhZHkiLCJpbm5lckhlaWdodCIsInNjcmVlbiIsImlubmVyV2lkdGgiLCJSaWdodFRvTGVmdCIsImFib3V0Q29tcGFueSIsImRlc2NyaXB0aW9uVGV4dCIsInVwZGF0ZVZlcnNpb25JbmZvRWxlbWVudCIsInJlaW5pdGlhbGl6ZVNjZW5lSGFuZGxlciIsInBhc3NpbmdEYXRhVG9Db250YWluZXIiLCJBbmRyb2lkIiwiY2FjaGVkU3RhdHVzIiwic2V0Q29udGFpbmVyQXBwT3JpZW50YXRpb24iLCJoYW5kbGVVcGRhdGVGb3VuZE1lc3NhZ2UiLCJjb25maXJtIiwicmVsb2FkIiwiaGFuZGxlTG9hZGluZ01lc3NhZ2UiLCJkb3dubG9hZF9jb21wbGV0ZWQiLCJtc2ciLCJhdWRpb1VybHMiLCJwcmVsb2FkUHJvbWlzZXMiXSwic291cmNlUm9vdCI6IiJ9